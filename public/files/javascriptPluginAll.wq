String.prototype.wq_trim=(function(){var _1=new RegExp("^\\s\\s*");var _2=new RegExp("\\s\\s*$");return function(){return this.replace(_1,"").replace(_2,"");};})();if(typeof String.prototype.trim=="undefined"){String.prototype.trim=String.prototype.wq_trim;}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substr(1);};String.prototype.wq_replaceAll=function(_3,_4){["String.wq_replaceAll"];_3=_3.replace(/(\W)/g,"\\$1");return this.replace(new RegExp(_3,"gi"),_4);};if(typeof String.prototype.replaceAll=="undefined"){String.prototype.replaceAll=String.prototype.wq_replaceAll;}String.prototype.startsWith=function(s){return this.substring(0,s.length)==s;};String.prototype.endsWith=function(s){return this.substring(this.length-s.length,this.length)==s;};String.prototype.capitalizeStyle=(function(){var _7={};return function(){var _8=_7[this];if(_8){return _8;}if(this.indexOf("-")<0){return this;}var _9=this.split("-");while(_9[0]==""){_9.shift();}var _a=_9[0].toLowerCase();for(var i=1,len=_9.length;i<len;i++){_a+=_9[i].toLowerCase().capitalize();}_7[this]=_a;return _a;};})();Function.prototype.inherit=function(_c){try{this.prototype.constructor=this;var _d=function(){};_d.prototype=_c.prototype;this.prototype=new _d;}catch(e){_.exception.printStackTrace(e);}};Function.prototype.instanceOf=function(_e){try{for(var _f=this.constructor;_f!=null;_f=_f.superClass){if(_f==_e){return true;}}return false;}catch(e){_.exception.printStackTrace(e);}};Function.prototype.closure=function(obj,_11){try{if(!window._objs){window._objs=[];window._funs=[];}var fun=this;var _13=obj._objId;if(typeof _13=="undefined"){_objs[_13=obj._objId=_objs.length]=obj;}var _14=fun._funId;if(typeof _14=="undefined"){window._funs[_14=fun._funId=_funs.length]=fun;}if(!obj._closures){obj._closures=[];}var _15=obj._closures[_14];if(_15){return _15;}obj=null;fun=null;_objs[_13]._closures[_14]=function(){return _funs[_14].apply(_objs[_13],arguments);};if(typeof _11!="undefined"){_objs[_13]._closures[_14].name=_11;}return _objs[_13]._closures[_14];}catch(e){_.exception.printStackTrace(e);}};WebSquare.BootLoader.printLog("WebSquare Engine Type : 6 - Short Remapping engine without debugging information.");_._h={supportActiveX:(typeof ActiveXObject!="undefined"&&_.BootLoader.browserCheck.ieAllVersion&&!_.msActiveXFilteringEnabled),supportDOM:(!!_.document.implementation&&!!_.document.implementation.createDocument),websquareSerializer:(new RegExp(_.userAgentPattern.serializer)).test(navigator.userAgent),supportXMLHttp:(typeof XMLHttpRequest!="undefined"),uriEncoder:(new RegExp(_.userAgentPattern.URIEncoder)).test(navigator.userAgent)};_._h._XMLHTTP_PROGIDS=_.BootLoader._XMLHTTP_PROGIDS;_._h._XML_NAMESPACE={SCHEMA:"http://www.w3.org/1999/XMLSchema",XFORMS:"http://www.w3.org/2002/xforms",XHTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XSL:"http://www.w3.org/1999/XSL/Transform",EVENTS:"http://www.w3.org/2001/xml-events",W2:"http://www.inswave.com/websquare"};_._h.EXT_PLUGIN={};_._h.version="2.0_1.4007B.20140417.170837_1.5";if(_.version!=_._h.version){_.BootLoader.printLog("Use different WebSquare Runtime Engine : "+_._h.version);}_._h.EMPTY_TAG;_._h.maxZindex=10;_._h.FLzIndex=10;_._h.forcedValueSetting=null;_._h.userClearMemoryStack=[];_._h.getXMLHTTPObject=function(){var _1=null;try{if(_.BootLoader.useActiveXObject){_1=new ActiveXObject(_._h._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_1=new XMLHttpRequest();}}}catch(e){_.exception.printStackTrace(e);}if(typeof _1=="undefined"||_1==null){_.logger.printLog(_._z.getMessage("E_core_AjaxUnsupportedBrowser"));return null;}return _1;};_._h.load=function(_2){var _3=_2;var _4=_._h.getXMLHTTPObject();var _5=null;try{_.BootLoader.openResourceUri(_2,_4);_4.send(null);if(_4.status>="400"){if(_3.indexOf("uiplugin")>-1){_.logger.printLog(_._z.getMessage("E_core_NoPluginError",_3));}else{_.logger.printLog(_._z.getMessage("E_core_NoModuleError",_3));}_4=null;return null;}_5=_4.responseText;}catch(e){if(_3.indexOf("uiplugin")>-1){_.logger.printLog(_._z.getMessage("E_core_NoPluginError",_3));}else{_.logger.printLog(_._z.getMessage("E_core_NoModuleError",_3));}}_4=null;return _5;};_._h.download=function(_6,_7,_8){if(typeof _8=="undefined"||_8==null||_8==""){_8="post";}var _9=false;if(document.getElementById("__iframe__")!=null){_9=true;}var _a=null;var _b="";if(!_9){_a=_.document.createElement("div");_a.id="___iframe__div";_a.style.width="0px";_a.style.height="0px";_a.style.visibility="hidden";_.document.body.appendChild(_a);_b=_._l.getSSLBlankPage();if(_.domain){var _c=_._h.getConfiguration("domainFrameURL");if(!_c){_c=_.baseURI+"/message/domainFrame.html";}_c+="?domain="+_._B.URLEncoder(_.domain);_b="src='"+_c+"'";}_a.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+_b+"></iframe>";}else{_a=document.getElementById("___iframe__div");}try{var _d=document.getElementById("__iframe__");var _e=function(){if(_d.contentWindow.document.readyState=="interactive"){_.layer.hideProcessMessage();}};if(_._h.browserCheck.ie){try{var _f=_d.contentWindow.document;}catch(e){_._h.clearTimer("__iframe__");_._h.setTimer(_._h.download,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_d.contentWindow.document.onreadystatechange=_e;}else{_.layer.hideProcessMessage();}}catch(e){_.exception.printStackTrace(e);}try{var _10=_.document.createElement("form");_10.target="__iframe__";_10.action=_6;_10.method=_8;_10.style.display="inline";if(typeof _7!="undefined"){var _11=_.document.createElement("input");_11.type="hidden";_11.name="xmlValue";if(_._t.isDocument(_7)){_11.value=_._t.serialize(_7);}else{_11.value=_7;}_10.appendChild(_11);}_a.appendChild(_10);_10.submit();}catch(e){}finally{_a.removeChild(_10);}};_._h.excelDownload=function(_12,_13,_14){if(typeof _14=="undefined"||_14==null||_14==""){_14="post";}if(_._G.isMobile()){window.open("blank.html","__ipad_excel__");}var _15=false;if(document.getElementById("__iframe__")!=null){_15=true;}var _16=null;if(!_15){_16=_.document.createElement("div");_16.id="___iframe__div";_16.style.width="0px";_16.style.height="0px";_16.style.visibility="hidden";_.document.body.appendChild(_16);var src=_._l.getSSLBlankPage();if(_.domain){var _18=_.baseURI+"/message/domainFrame.html";_18+="?domain="+_._B.URLEncoder(_.domain);src="src='"+_18+"'";}_16.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+src+"></iframe>";}else{_16=document.getElementById("___iframe__div");}try{var _19=document.getElementById("__iframe__");var _1a=function(){if(_19.contentWindow.document.readyState=="interactive"){_.layer.hideProcessMessage();}};if(_._h.browserCheck.ie){try{var _1b=_19.contentWindow.document;}catch(e){_._h.clearTimer("__iframe__");_._h.setTimer(_._h.excelDownload,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_19.contentWindow.document.onreadystatechange=_1a;}else{_.layer.hideProcessMessage();}}catch(e){_.exception.printStackTrace(e);}try{var _1c=_.document.createElement("form");if(_._G.isMobile()){_1c.target="__ipad_excel__";}else{_1c.target="__iframe__";_1c.encoding="text/plain";}_1c.action=_12;_1c.method=_14;_1c.style.display="inline";_1c.acceptCharset="UTF-8";if(typeof _13!="undefined"){var _1d=_.document.createElement("input");_1d.type="hidden";_1d.name="xmlValue";if(_._t.isDocument(_13)){_13=_._t.serialize(_13);}if(_._h.uriEncoder){_1d.value=_13;}else{_1d.value=encodeURIComponent(_13);}_1c.appendChild(_1d);}_16.appendChild(_1c);_1c.submit();}catch(e){}finally{_16.removeChild(_1c);}};_._h.loadJavaScript=function(url){var _1f=_.document.createElement("SCRIPT");_1f.src=url;_.document.body.appendChild(_1f);};_._h.callParentFunction=function(){_.setParentObj();if(arguments.length==0||typeof _.parentObj=="undefined"||_.parentObj==null){return null;}var _20=null;var _21="";var _22=0;var _23=null;try{for(var i=0;i<arguments.length;i++){if(i==0){_20=arguments[i];}else{if(typeof arguments[i]=="string"||typeof arguments[i]=="number"||typeof arguments[i]=="boolean"||typeof arguments[i]=="object"||typeof arguments[i]=="undefined"){if(_22!=0){_21+=",";}_21+="arguments["+i+"]";_22++;}}}if(_20!=null){_23=eval("WebSquare.parentObj."+_20+"("+_21+")");}}catch(e){_.exception.printStackTrace(e);}return _23;};_._h.closePopupWindow=function(){var id=_._l.getParameter("popupID");_._h.callParentFunction("WebSquare.uiplugin.popup.callClose",id);};_._h.recursiveCall=function(){var _26=undefined;try{var _27=null;var _28="";var _29=[];for(var i=0;i<arguments.length;i++){if(i==0){_27=arguments[i];_29.push("'"+arguments[i]+"'");}else{if(i!=1){_28+=",";}_28+="arguments["+i+"]";_29.push("arguments["+i+"]");}}if(_27!=null){if(_._h.isOpenerMethod(_27)){try{_26=eval("opener."+_27+"("+_28+")");}catch(ee){if(_._h.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");}else{_26=eval(_27+"("+_28+")");}}if(_26===null||typeof _26=="undefined"){_26=eval("opener.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{if(_._h.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");if(_26===null||typeof _26=="undefined"){_26=eval("parent.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{_26=eval(_27+"("+_28+")");}}}return _26;}catch(e){_.exception.printStackTrace(e);}};_._h.getNamespaces=function(_2b){var _2c={};try{var _2d=null;if(_2b.nodeType==1){_2d=_2b.attributes;}else{if(_2b.nodeType==9){_2d=_2b.documentElement.attributes;}}if(_2d!=null){for(var i=0;i<_2d.length;i++){var _2f=_2d.item(i);if(_2f.nodeName=="xmlns"){_2c[""]=_2f.nodeValue;}else{if(_2f.nodeName.indexOf("xmlns")==0){_2c[_2f.nodeName.substring(6)]=_2f.nodeValue;}}}}}catch(e){_.exception.printStackTrace(e);}return _2c;};_._h.isParentFrameMethod=function(_30){try{if(parent!=window&&eval("parent."+_30)){return true;}return false;}catch(e){}return false;};_._h.isOpenerMethod=function(_31){try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{if(eval("typeof window.opener."+_31)=="function"||eval("typeof window.opener."+_31)=="object"){return true;}else{return false;}}}}catch(e){}return false;};_._h.getURL=function(url){var _33=url;if(1==2){var _34="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof url=="string"){if(url.indexOf("://")>-1){return url;}if(!url.startsWith("/")&&!url.startsWith("\\")){url=_.w2xHome+url;}if(_.w2xDocumentRoot!=""&&!url.startsWith("..")){url=_.w2xDocumentRoot+url;}}return url;};_._h.getImageURL=function(url,_36){if(typeof _36=="undefined"){_36=false;}var _37=_._h.getConfiguration("/WebSquare/imageURLPrefix/@value");if(typeof url=="string"){if(url.startsWith("data:")){return url;}if(_.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _38=url.substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){url=_38.substring(1,_38.length-1);url=_._h.getURL(url.wq_trim());url=_.baseURI+_.BootLoader.imageServlet+url;url=_.BootLoader.getImagePostfix(url);if(_.isLocal==false&&_._h.browserCheck.ie&&_._h.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}url="url("+url+")";}}else{if(_37!==""){url=_37+url.wq_trim();}else{url=_._h.getURL(url.wq_trim());url=_.baseURI+_.BootLoader.imageServlet+url;url=_.BootLoader.getImagePostfix(url);}if(_.isLocal==false&&_._h.browserCheck.ie&&_._h.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_36){url="url("+url+")";}}if(_.BootLoader.imageHostUrl!=null){url+="&hostUrl="+_.BootLoader.imageHostUrl;}}else{if(_37!==""){url=_37+url.wq_trim();}else{url=_._h.getURL(url.wq_trim());}if(_.isLocal==false&&_._h.browserCheck.ie&&_._h.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_36){url="url("+url+")";}}}return url;};_._h.getEngineImageURL=function(url,_3a){if(typeof _3a=="undefined"){_3a=false;}if(typeof url=="string"){if(_.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _3b=url.substring(3).wq_trim();if(_3b.charAt(0)=="("&&_3b.charAt(_3b.length-1)==")"){url=_3b.substring(1,_3b.length-1);url=_.baseURI+_.BootLoader.imageServlet+_.baseURI+url.wq_trim();url=_.BootLoader.getImagePostfix(url);url="url("+url+")";}}else{url=_.baseURI+_.BootLoader.imageServlet+_.baseURI+url.wq_trim();url=_.BootLoader.getImagePostfix(url);if(_3a){url="url("+url+")";}}}else{url=_.baseURI+url.wq_trim();if(_3a){url="url("+url+")";}}}return url;};_._h.browserCheck=function(){return navigator.appName;};_._h.browserCheck.ie=_.BootLoader.browserCheck.ie;_._h.browserCheck.moz=_.BootLoader.browserCheck.moz;_._h.browserCheck.opera=_.BootLoader.browserCheck.opera;_._h.browserCheck.chrome=_.BootLoader.browserCheck.chrome;_._h.browserCheck.android=_.BootLoader.browserCheck.android;_._h.browserCheck.iphone=_.BootLoader.browserCheck.iphone;_._h.browserCheck.ipad=_.BootLoader.browserCheck.ipad;_._h.browserCheck.ipod=_.BootLoader.browserCheck.ipod;_._h.browserCheck.blackberry=_.BootLoader.browserCheck.blackberry;_._h.browserCheck.safari=_.BootLoader.browserCheck.safari;_._h.browserCheck.ieAllVersion=_.BootLoader.browserCheck.ieAllVersion;_._h.browserCheck.ieVersion={};_._h.browserCheck.mozVersion={};_._h.browserCheck.chromeVersion={};_._h.browserCheck.safariVersion={};_._h.browserCheck.operaVersion={};_._h.browserCheck.isMobile;if(!_._h.browserCheck.ie){HTMLElement.prototype.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(evt);};}_._h.browserVersion=function(){if(_._h.browserCheck.moz){if(navigator.appVersion.charAt(0)==2){return "2";}else{if(navigator.appVersion.charAt(0)==3){return "3";}else{if(navigator.appVersion.charAt(0)==4){return "4";}else{if(navigator.appVersion.charAt(0)==5){return "6";}}}}}else{if(_._h.browserCheck.ieAllVersion){if(document.documentMode){return document.documentMode+"";}if(navigator.appVersion.charAt(0)=="2"){return "2";}else{if(navigator.appVersion.charAt(0)=="3"){return "3";}else{if(navigator.appVersion.charAt(0)=="4"){if(navigator.appVersion.indexOf("MSIE 9")!=-1){return "9";}else{if(navigator.appVersion.indexOf("MSIE 8")!=-1){return "8";}else{if(navigator.appVersion.indexOf("MSIE 7")!=-1){return "7";}else{if(navigator.appVersion.indexOf("MSIE 6")!=-1){return "6";}else{if(navigator.appVersion.indexOf("MSIE 5.5")!=-1){return "5.5";}else{if(navigator.appVersion.indexOf("MSIE 5.0")!=-1){return "5.0";}else{return "4";}}}}}}}else{if(navigator.appVersion.charAt(0)=="5"){return "5";}}}}}}return " ";};_._h.setTimeout=function(_3d,_3e,_3f){var _3d=_3d;var _3e=_3e;var _3f=_3f;var _40=[];if(arguments.length>3){for(var i=3;i<arguments.length;i++){_40.push(arguments[i]);}}window.setTimeout(function(){_3e.apply(_3d,_40);},_3f);};_._h.cloneObject=function(obj){if(typeof obj!="object"){return obj;}if(obj==null){return obj;}var _43=new Object();for(var i in obj){_43[i]=_._h.cloneObject(obj[i]);}return _43;};_.makeCnt=0;_._h.makeStyle=function(_45,_46,_47){_.makeCnt++;if((typeof _45=="undefined"||_45==null)&&(typeof _46=="undefined"||_46==null)){return null;}var b={};if(typeof _46!="undefined"&&_46!=null&&_46!=""){b=_._x.makeClassStyle(_46);b=_._h.cloneObject(b);}try{if(typeof _45!="undefined"&&_45!=null&&_45!=""){var a=_45.split(";");for(var i=0;i<a.length;i++){var idx=a[i].indexOf(":");if(idx<0){continue;}else{var _4c=a[i].substring(0,idx);var _4d=a[i].substring(idx+1);if(_4d.indexOf("url")>=0){_4d=_4d.wq_trim();if(_4d.startsWith("url")){var _4e=_4d.substring(3).wq_trim();if(_4e.charAt(0)=="("&&_4e.charAt(_4e.length-1)==")"){_4d="url("+_._h.getImageURL(_4e.substring(1,_4e.length-1))+")";}}}b[(_4c.wq_trim()).capitalizeStyle()]=_4d.wq_trim();}}if(typeof _47!="undefined"){var tmp={};for(var i=0;i<_47.length;i++){try{var key=(_47[i].wq_trim()).capitalizeStyle();var _51=b[key];if(typeof _51!="undefined"){tmp[key]=_51;}}catch(e){_.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}b=tmp;}}}catch(e){_.exception.printStackTrace(e);}return b;};_.appCnt=0;_._h.applyStyle=function(o,_53,_54){try{_.appCnt++;if(typeof _53=="undefined"||_53==null){return;}if(_._G.isExist("style",o)){if(typeof _54=="undefined"){for(var i in _53){try{o.style[i]=_53[i];}catch(e){_.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}else{for(var i=0;i<_54.length;i++){try{var _56=_53[_54[i]];if(typeof _56!="undefined"){o.style[_54[i]]=_56;}}catch(e){_.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}}}catch(e){_.exception.printStackTrace(e);}};_._h.getConfiguration=function(key,_58){if(_58){return _._h.getConfigurationJSON(key);}else{return _._h.getConfigurationDocument(key);}};_._h.setConfiguration=function(key,_5a){_._t.setValue(_.BootLoader.configurationInfo,key,"value",_5a);_.BootLoader.configurationJSON.pop();_.BootLoader.configurationJSON.push(_.BootLoader.XML2JSON(_.BootLoader.configurationInfo));_.configManager=new _.configManager(_.BootLoader.configurationDOM);};_._h.applyConfiguration=function(_5b){var _5c=_._t.load(_5b);_.BootLoader.configurationInfo=_5c;_.BootLoader.configurationDOM.pop();_.BootLoader.configurationDOM.push(_5c);_.BootLoader.configurationJSON.pop();_.BootLoader.configurationJSON.push(_.BootLoader.XML2JSON(_5c));_.configManager.setConfig(_5c);};_._h.getChildConfiguration=function(key){return _._h.getChildConfigurationDocument(key);};_._h.getChildConfigurationDocument=function(key){var _5f=[];for(var i=0;i<_.BootLoader.configurationDOM.length;i++){_5f=_._t.getChildren(_.BootLoader.configurationDOM[i],key);if(_5f.length>0){return _5f;}}return _5f;};_.configCache=[];_._h.getConfigurationDocument=function(key){var _62=_.configCache[key];if(_62!=null){return _62;}_62="";for(var i=0;i<_.BootLoader.configurationDOM.length;i++){if(key.indexOf("/")>-1){_62=_._t.getValue(_.BootLoader.configurationDOM[i],key);_62=_62.wq_trim();}else{var _64=_._t.findNode(_.BootLoader.configurationDOM[i].documentElement,"/WebSquare/"+key.wq_trim()+"/@value");if(_64!=null){_62=_64.nodeValue;_62=_62.wq_trim();}}if(_62.length>0){break;}}_.configCache[key]=_62;return _62;};_._h.getConfigurationJSON=function(key){var _66=_.configCache[key];if(_66!=null){return _66;}_66="";for(var i=0;i<_.BootLoader.configurationJSON.length;i++){if(key.indexOf("/")>-1){var st=key.split("/");var obj=_.BootLoader.configurationJSON[i];var _6a=false;var _6b=null;for(var j=0;j<st.length;j++){if(st[j]==""){continue;}_6a=false;var _6d=st[j];var str=_6d.indexOf("[");var _6f=null;var _70=null;if(str==-1){_6b=_6d;}else{_6b=_6d.substring(0,str);var _71=_6d.match(/[a-zA-Z0-9_]*[\[][\s]*(@[a-zA-Z0-9_]*)[\\]*=[\s]*["']?([^'"]*)["']?[\]]/);if(_71!=null){_6f=_71[1];_70=_71[2];}}obj=obj[_6b];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){for(var k=0;k<obj.length;k++){if(_6f==null&&_70==null){_6a=true;obj=obj[k];break;}else{if(_70==obj[k][_6f]){_6a=true;obj=obj[k];break;}}}}else{if(_6f==null&&_70==null){_6a=true;}else{if(_70==obj[_6f]){_6a=true;}}}}if(!_6a){obj=null;break;}}if(obj){if(_6b&&_6b.startsWith("@")){if(typeof obj=="string"){_66=obj;}else{_66=obj+"";}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){_66=obj[0]["#text"]||"";_66+=obj[0]["#cdata"]||"";}else{_66=obj["#text"]||"";_66+=obj["#cdata"]||"";}if(typeof _66!="string"){_66=_66+"";}}}_66=_66.wq_trim();}else{var obj=_.BootLoader.configurationJSON[i]["WebSquare"][key.wq_trim()];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){_66=obj[0]["@value"];}else{_66=obj["@value"];}}if(_66){_66=_66.wq_trim();}else{_66="";}}if(_66.length>0){break;}}_.configCache[key]=_66;return _66;};_._h.loadConfiguration=function(){};_._h.loadConfigurationDocument=function(){};_._h.errorMessageData=new Object();_._h.userMessageData=new Object();_._h.applyErrorMessage=function(){try{var _73=_._t.load(_.baseURI+"message/"+_._h.getConfiguration("language")+".xml");for(var _74=_73.documentElement.firstChild;_74!=null;_74=_74.nextSibling){if(_74.nodeType==1){_._h.errorMessageData[_74.nodeName]=_74.firstChild.nodeValue;}}}catch(e){_.exception.printStackTrace(e);}};_._h.applyUserMessage=function(){try{var _75=_._t.load(_.baseURI+"message/userMessage.xml");for(var _76=_75.documentElement.firstChild;_76!=null;_76=_76.nextSibling){if(_76.nodeType==1){_._h.userMessageData[_76.nodeName]=_76.firstChild.nodeValue;}}}catch(e){_.exception.printStackTrace(e);}};_.whereami=function(){alert(location.href);};_._h.extNamespace=function(){var _77=_._h.getChildConfiguration("/WebSquare/uiplugin");for(var i=0;i<_77.length;i++){try{_._h.EXT_PLUGIN[_77[i].namespace]={};_._h.EXT_PLUGIN[_77[i].namespace][_77[i].id]={};_._h.EXT_PLUGIN[_77[i].namespace][_77[i].id]["id"]=_77[i].id;_._h.EXT_PLUGIN[_77[i].namespace][_77[i].id]["namespace"]=_77[i].namespace;_._h.EXT_PLUGIN[_77[i].namespace][_77[i].id]["src"]=_77[i].src;_._h.EXT_PLUGIN[_77[i].namespace][_77[i].id]["className"]=_77[i].className;}catch(e){_.exception.printStackTrace(e);}}};_._h.matchExtNamespace=function(uri){if(typeof _._h.EXT_PLUGIN[uri]=="undefined"){return false;}else{return true;}};_._h.setMaxZIndex=function(_7a){var _7b=0;var _7c=_7a.style.zIndex;var _7d=_.document.body.childNodes;for(var i=0;i<_7d.length;i++){if(_7d[i].nodeType==1){var _7f=_7d[i].style.zIndex;if(_7f>=_7b){_7b=_7f;}}}_7a.style.zIndex=_7b+1;};_.extend=function(_80,_81){for(var _82 in _81){_80[_82]=_81[_82];}return _80;};_.extendKeepingType=function(_83,_84){for(var _85 in _84){var _86=_84[_85];switch(typeof _83[_85]){case "string":if(_86==""){continue;}if(_86=="$blank"){_86="";}break;case "number":if(_86.toString().indexOf(".")>-1){_86=parseFloat(_86);}else{_86=parseInt(_86,10);}break;case "boolean":_86=_._G.getBoolean(_86);break;}_83[_85]=_86;}return _83;};_.setBody=function(_87){if(!_.bodyControlList){_.bodyControlList=[];}_.bodyControlList.push(_87);};_.getBody=function(){if(_.bodyControlList&&_.bodyControlList[0]){return _.bodyControlList[0];}else{return null;}};_._discardElement=function(_88){var _89=document.getElementById("IELeakGarbageBin");if(!_89){_89=document.createElement("DIV");_89.id="IELeakGarbageBin";_89.style.display="none";document.documentElement.appendChild(_89);}_89.appendChild(_88);_89.innerHTML="";};_.removeChildren=function(_8a){if(_8a===undefined||_8a===null||!_8a.childNodes){return -1;}var _8b=_8a.childNodes.length;while(_8a.hasChildNodes()){_.removeNode(_8a.firstChild);}return _8b;};_.removeNode=function(_8c){if(_._G.isIE()&&parseInt(_._h.browserVersion(),10)<8){_._discardElement(_8c);return _8c;}else{if(_8c&&_8c.parentNode){return _8c.parentNode.removeChild(_8c);}}};var WebSquare_clearMemory=_.clearMemory=function(){try{try{for(var i=_._h.userClearMemoryStack.length;i>0;i--){var _8e=_._h.userClearMemoryStack[i-1];if(_8e){_8e();}}}catch(e){}try{var _8f=_._h.getConfiguration("/WebSquare/clearMemory/@userFunction");if(_8f){eval(_8f+"()");}}catch(e){}if(_&&_.timerHash){for(var key in _.timerHash){var _91=_.timerHash[key];if(_91){_._h.clearTimer(key);}}}}catch(e){}try{if(_&&_.bodyControlList&&_.bodyControlList[0]){_.getBody().remove();}for(var i in _){_[i]=null;delete _[i];}_=null;window["_"]=window["_"]=window["WebSquare"]={"logger":{"printLog":function(){}},"exception":{"printStackTrace":function(){}},"timerHash":{},"remove":true};}catch(e){}};_.timerHash={};_._h.setTimer=function(_92,_93){try{var _94=new Date().getTime();var key=_93.key||_92.toString().slice(0,30);var _96=_93.delay||1;var max=_93.max||0;var _98=_93.caller||window;var _99=_93.args||[];var _9a=_.timerHash[key];if(!_9a){_9a=_.timerHash[key]={thread:null,timeoutKey:null,startTime:_94};}_9a.thread=function(){if(window["WebSquare"]&&_.timerHash){delete _.timerHash[key];}(_93.before_call)&&(_93.before_call.call(_98,_9a));var ret=_92.apply(_98,_99);(_93.callback)&&(_93.callback.call(_98,ret));};clearTimeout(_9a.timeoutKey);if(max<=0||_94-_9a.startTime<max){(_93.before_set)&&(_93.before_set.call(_98,_9a));_9a.timeoutKey=setTimeout(_9a.thread,_96);(_93.after_set)&&(_93.after_set.call(_98,_9a));}else{_9a.thread();}return key;}catch(e){_.exception.printStackTrace(e,null,this);}};_._h.clearTimer=function(key,_9d){try{if(typeof key=="function"){key=func.toString().slice(0,30);}var _9e=_.timerHash[key];if(_9e){clearTimeout(_9e.timeoutKey);if(_9d){_9e.thread();}else{delete _.timerHash[key];}}}catch(e){_.exception.printStackTrace(e,null,this);}};_.measureHash={};_._h.measureTime=function(_9f,_a0){try{var key=_a0.key||_9f.toString().slice(0,30);var _a2=_a0.caller||window;_._h.clearTimer(key,true);_._h.setTimer(function(){},{key:key,before_call:function(_a3){var t=new Date().getTime()-_a3.startTime;if(!_.measureHash[key]){_.measureHash[key]=[];_.measureHash[key].sum=0;}var _a5=_.measureHash[key];_a5.push(t);_a5.sum+=t;if(_a5.length>100){_a5.sum-=_a5.shift();}_9f.call(_a2,{time:t,aver:_a5.sum/_a5.length});}});}catch(e){_.exception.printStackTrace(e,null,this);}};_._h.modifyMaxConnection=function(_a6,_a7){try{if(_._h.browserCheck.ie){_a6=_a6||"10";_a7=_a7||"";var _a8=_._h.getConfiguration("/WebSquare/maxConnectionActiveX/@codebase");if(_a8==null||_a8==""){_a8="engine/cab/WebSquareConfig.cab";}var _a9=_.document.createElement("div");_a9.style.width="0px";_a9.style.height="0px";_a9.style.visibility="hidden";_.document.body.appendChild(_a9);_a9.innerHTML="<object classid='clsid:BD66056F-D87B-4543-8638-A4CED765B9AA' codebase='"+_a8+"' style='display: none' width='0' height='0' align='center' hspace='0' vspace='0'><param name='MaxConnectionsPerServer' value='"+_a6+"' /><param name='SyncMode5' value='"+_a7+"' /></object>";}}catch(e){_.exception.printStackTrace(e,null);}};_._h.setSystemLanguage=function(_aa){_.useUserSystemLang=true;var _ab=_.BootLoader.getBrowserLanguage();var _aa=_._y.getCookie("system_language")||_aa||_ab||"ko";_.systemLanguage=_aa;var _ac=_._h.getConfiguration("/WebSquare/languagePack/url[@lang='"+_aa+"']/@value");imports(_ac);};_._h.getEmptyTag=function(){try{if(_._h.EMPTY_TAGS){return _._h.EMPTY_TAGS;}_._h.EMPTY_TAGS={};var _ad=_._h.getConfiguration("/WebSquare/emptyTag/@value");if(_ad){var _ae=_ad.split(",");for(var i=0;i<_ae.length;i++){var tag=_ae[i].wq_trim();_._h.EMPTY_TAGS[tag]=true;}}return _._h.EMPTY_TAGS;}catch(e){_.exception.printStackTrace(e,null);}};;WebSquare.core=_._h;_.exception={};_.exception.printError=function(_1){_.logger.printLog("WebSquare Error\n\n"+_1);if(_.logger.debug){alert("WebSquare Error\n\n"+_1);}};_.exception.printStackTrace=function(e,_3,_4){var _5="";if(_4&&_4.getID){_5+="Exception Occured at element id ["+_4.getID()+"]";}if(e.message){_5+="\nmessage        :"+e.message+"\n";}var _6=false;for(var _7 in e){var _8=_7;if(_7.length<15){_8=_8+"               ";_8=_8.substring(0,15);}try{if(_7=="number"){_5+=_8+":"+(e[_7]&65535)+"\n";}else{_5+=_8+":"+e[_7]+"\n";}}catch(eeee){}if(_7=="caller"){_6=true;}}if(_3){_3+="";if(_3.length>100){_5+="source         :"+_3.substring(0,100)+"\n";}else{_5+="source         :"+_3+"\n";}}if(typeof e.aleradyThrow=="undefined"){if(!_6){_5+="caller         :"+_.exception.getSignature(_.exception.printStackTrace.caller);}var _9=_._z.getMessage("E_exception_ErrorOccursSeeLog",_5);if(_9==""){_9=_5;}_.logger.printLog(_9);e.aleradyThrow="djshin";}};_.exception.ieErrorHandler=function(_a,_b,_c){_.logger.printLog(_._z.getMessage("E_exception_IERuntimeError",_c,window.event.errorCharacter,window.event.errorCode,_b,_a,_.exception.getSignature(_.exception.ieErrorHandler.caller)));return true;};_.exception.ffErrorHandler=function(_d,_e,_f){if(_d=="Error loading script"){_.BootLoader.printError("Module ["+_e+"] Does not exist.");return false;}if(_._h.browserCheck.moz){_f++;}_.logger.printLog(_._z.getMessage("E_exception_FFRuntimeError",_f,_e,_d,_.exception.getSignature(_.exception.ffErrorHandler.caller)));return true;};_.exception.getSignature=function(obj,_11){if(typeof _11=="undefined"){_11=0;}if(_11>5){return "...(omission)";}if(obj==null||obj=="null"){return "";}else{try{var _12="";if(obj.caller!=null&&obj.toString()!=obj.caller.toString()){_12=_.exception.getSignature(obj.caller,++_11);}var str=obj.toString();var idx=str.indexOf("[\"");if(idx==-1){var _15=str.indexOf(")");if(_15==-1){return "    at "+str+"\n"+_12;}else{return "    at "+str.substring(0,_15+1)+"\n"+_12;}}else{var _15=str.indexOf("\"",idx+2);if(_15==-1){return "    at "+str+"\n"+_12;}else{return "    at "+str.substring(idx+2,_15)+"\n"+_12;}}}catch(e){return obj;}}};_.logger={};_.logger.printLog=function(_1){try{if(_.isPrintLog){if(_.logMsgArray.length>500){delete _.logMsgArray;_.logMsgArray=[];_.logMsgArray.push(_.logger.getLogTime()+" "+_.logger.getFileName()+"] Delete logs for reducing memory usage.");}var _2=_.BootLoader.getLogTime();var _3=" "+_.logger.getFileName()+"] "+_1;_.logMsgArray.push(_2+_3);if(_.printConsole){console.log(_2+_3);}if(_.remoteConsole){_.remoteLogMsgArray.push(_2+_.logFileName+_3);}}}catch(e){}};_.logger.changeClientName=function(){if(!_.logger.clientName){_.logger.clientName=_.BootLoader.getCookie("remote_client_name");if(!_.logger.clientName){_.logger.clientName="Client_"+parseInt(Math.random()*1000);_.BootLoader.setCookie("remote_client_name",_.logger.clientName);}}var _4=prompt(_._z.getMessage("E_logger_changeClientName"),_.logger.clientName);if(_4){_.logger.clientName=_4;_.BootLoader.setCookie("remote_client_name",_.logger.clientName);}};if(_.remoteConsole){_.logger.sendRemoteLog=function(_5){if(!_.logger.clientName){_.logger.clientName=_.BootLoader.getCookie("remote_client_name");if(!_.logger.clientName){_.logger.clientName="Client_"+parseInt(Math.random()*1000);_.BootLoader.setCookie("remote_client_name",_.logger.clientName);}}if(_.remoteConsole){try{if(_.remoteLogMsgArray.length>0){var _5=JSON.stringify({"clientName":_.logger.clientName,"logs":_.remoteLogMsgArray});_.remoteLogMsgArray=[];var _6=null;if(_.BootLoader.useActiveXObject){_6=new ActiveXObject(_._h._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_6=new XMLHttpRequest();}}_6.open("POST",_.baseURI+"fiddle/logAggregator.jsp",false);_6.send(_5);_6=null;}}catch(e){_.exception.printStackTrace(e);}window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}};window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}$l=function(_7,_8){try{if(_8){if(_.logger.debug==true){if(_.logger.debugKey.indexOf(_8)>-1){_.logger.printLog(_7);}}}else{_.logger.printLog(_7);}}catch(e){_.exception.printStackTrace(e);}};_.logger.printLog1=function(_9){try{_.logMsgArray.push("             "+_.logger.getFileName()+"] "+_9);}catch(e){}};_.logger.getFileName=function(){var _a=location.pathname;try{var _b=_a.lastIndexOf("/");if(_b>-1&&_b<(_a.length-1)){_a=_a.substring(_b+1);}_b=_a.lastIndexOf(".");if(_b>-1){_a=_a.substring(0,_b);}}catch(e){}return _a;};_.logger.getLogTime=function(_c){var d=null;if(_c=="undefined"||_c==null){d=new Date();}else{d=new Date(_c);}var _e=d.getTime();var _f=_e-_.logTime;var _10=_._B.fillZero(d.getHours(),2);var _11=_._B.fillZero(d.getMinutes(),2);var _12=_._B.fillZero(d.getSeconds(),2);var _13=_._B.fillZero(d.getMilliseconds(),3);var _14=_10+":"+_11+":"+_12+"."+_13;if(_f<100000){_.logTotalTime+=_f;_14+=" "+_._B.fillZero(_f,5)+" "+_._B.fillZero(_.logTotalTime,6);}else{_14+=" 00000 000000";}_.logTime=_e;return _14;};_.logger.getLog=function(){var _15="";try{if(_._h.isParentFrameMethod("WebSquare.logger.getLog")){_15=parent.WebSquare.logger.getLog();if(_15!=""){_15="Parent Log["+window.parent.name+"] \n"+_15;}}}catch(e){_.exception.printStackTrace(e);}try{if(_15==""){return _.logMsgArray.join("\n");}else{return _.logMsgArray.join("\n")+"\n\n\n"+_15;}}catch(e){_.exception.printStackTrace(e);}};_.logger.getErrorLog=function(){_.errorLogMsgArray=[];for(var i=0;i<_.logMsgArray.length;++i){if(_.logMsgArray[i].indexOf("\uc624\ub958")>-1||_.logMsgArray[i].indexOf("\uc5d0\ub7ec")>-1||_.logMsgArray[i].indexOf("Runtime Error")>-1||_.logMsgArray[i].indexOf("Error occurs")>-1){_.errorLogMsgArray.push(_.logMsgArray[i]);}}var _17="";try{if(_._h.isParentFrameMethod("WebSquare.logger.getLog")){_17=parent.WebSquare.logger.getErrorLog();if(_17!=""){_17="\n----------------------------------------Parent Log["+window.parent.name+"]----------------------------------------\n"+_17;}}}catch(e){_.exception.printStackTrace(e);}try{if(_17==""){return _.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n");}else{return _.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n")+"\n\n\n"+_17;}}catch(e){_.exception.printStackTrace(e);}};_.logger.clearLog=function(){var _18=_.logger.getLog();try{if(_._h.isParentFrameMethod("WebSquare.logger.clearLog")){parent.WebSquare.logger.clearLog();}}catch(e){}try{_.logMsgArray=[];}catch(e){_.exception.printStackTrace(e);}return _18;};_.logger.showLog=function(){var _19="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _1a="";if(_.domain){_1a="?domain="+_._B.URLEncoder(_.domain);}if(_.BootLoader.browserCheck.android||_.BootLoader.browserCheck.iphone||_.BootLoader.browserCheck.ipad||_.BootLoader.browserCheck.ipod||_.BootLoader.browserCheck.blackberry){var url=_._h.getConfiguration("logMsgMobileURL");if(!url){url=_.baseURI+"message/logMsgMobile.html";}url+=_1a;window.open(url);}else{var url=_._h.getConfiguration("logMsgURL");if(!url){url=_.baseURI+"message/logMsg.html";}url+=_1a;var _1c=window.open(url,"_blank",_19);}};_.logger.saveLog=function(){var _1d=_.logger.getLog();var _1e=_._h.getXMLHTTPObject();_1e.open("POST",_.baseURI+"/engine/servlet/saveLog.jsp",false);_1e.send(_1d);_1e=null;};_.logger.showDebugMsg=function(obj,_20,_21){var _22="dialogHeight: 700pt; dialogWidth: 580pt; edge: Raised; center: Yes; help: No; edge: raised; resizable: Yes; status: No;";var _23;if(typeof _20!="undefined"){obj["_config"]=_20;}if(typeof _21!="undefined"){obj["title"]=_21;}if(typeof obj=="object"){_23=obj;}else{_23=new Object();try{if(obj!=null){_23["debug info"]=obj.toString();}else{_23["debug info"]="";}}catch(e){}}var _24="";if(_.domain){_24="?domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("debugMsgURL");if(!url){url=_.baseURI+"message/debugMsg.html";}_._l.showWindow(url+_24,_23,_22);};_.logger.showErrorMsg=function(obj){var _27="dialogHeight: 300pt; dialogWidth: 280pt; edge: Raised; center: Yes; help: No; resizable: Yes; status: No;";var _28="";if(_.domain){_28="?domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("errorMsgURL");if(!url){url=_.baseURI+"message/errorMsg.html";}_._l.showWindow(url+_28,obj,_27);};_.logger.alertObject=function(obj,log){var o=new Object();var str="";try{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,30);try{str+=tmp+":  "+obj[idx]+"\n";}catch(e){}}}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}}}}}catch(e){_.exception.printStackTrace(e);}if(log==true){$l(str);}else{alert(str);}};$lobj=_.logger.alertObject;_.logger.getObjectStr=function(_30,obj,_32){try{var _33="";for(var i=0;i<_30;i++){_33+="\t";}if(_30>_32.maxDepth){return _33+"[...]";}var o=new Object();var str="";if(typeof obj=="string"||typeof obj=="number"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,25);try{if(isNaN(idx)){if(_32.exclude&&_32.exclude.indexOf(idx)>-1){continue;}if(_32.include&&_32.include.indexOf(idx)==-1){continue;}}if(!_32.includeFunction&&typeof obj[idx]=="function"){continue;}if(typeof obj[idx]=="object"&&obj[idx]!=null){if(!_32.includeFunction&&(idx+"").indexOf("on")==0){continue;}if(!_32.includeFunction&&typeof obj[idx].innerHTML!="undefined"){str+=_33+tmp+": "+"[DOM Obejct]"+"\n";continue;}if((obj[idx].documentElement||obj[idx].ownerDocument)){str+=_33+tmp+": "+"[XML Obejct]"+"\n"+_33+_._t.serialize(obj[idx])+"\n";continue;}str+=_33+tmp+":\n"+_.logger.getObjectStr(_30+1,obj[idx],_32)+"\n";}else{str+=_33+tmp+": "+obj[idx]+"\n";}}catch(e){}}}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}}}}return str;}catch(e){_.exception.printStackTrace(e);}};$lobj2=function(obj,_3a){_3a=_.extend({log:false,includeFunction:false,maxDepth:2,include:null,exclude:"event parentComponent defaultOptions"},_3a||{});var _3b=_.logger.getObjectStr(0,obj,_3a);if(_3a.log==true){_3b=("\n\n--------------object log----------------\n\n")+_3b;$l(_3b);}else{alert(_3b);}};wl=$lobj2;wa=function(msg){if(_.logger.debug==true){alert(msg);}};$larg=function(_3d,log,_3f){var arr=[];for(var i=0;i<_3d.length;i++){arr.push(_3d[i]);}$lobj(arr,log,_3f);};_.logger.showObject=function(obj,_43){var o=new Object();var str="";try{if(_._t.isDocument(obj)){try{str+=_._t.indent(obj);}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if(_._t.isDocument(obj[idx])){str+=tmp+":  \n"+_._t.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=tmp+":  "+_.logger._showObject(obj[idx],1);}catch(e){str+=tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=tmp+":  "+_.exception.getSignature(obj[idx])+"\n";}else{str+=tmp+":  "+obj[idx]+"\n";}}catch(e){str+=tmp+":  "+"\n";}}}}}}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}}}}}}catch(e){_.exception.printStackTrace(e);}if(_43==null||_43==""){o["Object"]=str;}else{o[_43]=str;}_.logger.showDebugMsg(o,"text",_._z.getMessage("E_logger_ObjectInfo"));};_.logger._showObject=function(obj,_49){var str="\n";var _4b="";for(var i=0;i<_49;i++){_4b+="\t";}try{if(_._t.isDocument(obj)){try{str+=_4b+tmp+":  \n"+_._t.indent(obj);}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if(_._t.isDocument(obj[idx])){str+=_4b+tmp+":  \n"+_._t.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=_4b+tmp+":  \n"+_.logger._showObject(obj[idx],_49++);}catch(e){str+=_4b+tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=_4b+tmp+":  "+_.exception.getSignature(obj[idx])+"\n";}else{str+=_4b+tmp+":  "+obj[idx]+"\n";}}catch(e){str+=_4b+tmp+":  "+"\n";}}}}}}}}}catch(e){str+=_._z.getMessage("E_logger_InnerBlindObject");}str+="\n";return str;};_.logger.getFunctionName=function(obj){if(obj==null||obj=="null"){return "";}else{try{var str=obj.toString();if(str.indexOf("anonymous")==-1){var _51=str.indexOf("function");var _52=str.indexOf("(");return str.substring(_51+8,_52).wq_trim();}}catch(e){return obj;}}return "";};if(_.BootLoader.browserCheck.android||_.BootLoader.browserCheck.iphone||_.BootLoader.browserCheck.ipad||_.BootLoader.browserCheck.ipod||_.BootLoader.browserCheck.blackberry){_.logger.getGlobalDebug=function(){return false;};}else{if(_._h.browserCheck.moz||_._h.browserCheck.chrome||_._h.browserCheck.ieAllVersion||_._h.browserCheck.opera||_._h.browserCheck.safari){_.logger.showContextMenu=function(e){e=e||event;if(_._h.browserCheck.moz||_._h.browserCheck.chrome){if(e.ctrlKey&&e.which==3&&_._h.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if(_._h.browserCheck.ieAllVersion){if((e.ctrlKey||e.crtlLeft)&&_._h.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if(_._h.browserCheck.opera){if((e.ctrlKey&&e.shiftKey&&_._h.getConfiguration("debugMenu")!="block")||(e.ctrlKey&&e.button==2&&_._h.getConfiguration("debugMenu")!="block")){}else{return true;}}else{if(_._h.browserCheck.safari){if(e.ctrlKey&&e.button==2&&_._h.getConfiguration("debugMenu")!="block"){}else{return true;}}}}}var _54=window.innerWidth-e.clientX;var _55=window.innerHeight-e.clientY;var _56=_.document.getElementById("_contextMenuLayer");if(typeof _56=="undefined"||_56==null){_56=_.document.createElement("div");_.document.body.insertBefore(_56,null);_56.id="_contextMenuLayer";_56.style.position="absolute";}if(_54<182){_56.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX-182)+"px";}else{_56.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX)+"px";}if(_55<176){_56.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY-176)+"px";}else{_56.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY)+"px";}_56.style.zIndex="20000";_56.style.visibility="visible";var str="";str+="<div onselectstart='return false' style='position:relative; overflow-x:hidden; overflow-y: auto; width:175px;height:173px; border:4px solid #e7e7e7; '>";str+="<table width='175' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";str+=_.logger.contextMenuAddRow("WebSquare.logger.showLog()",_._z.getMessage("E_logger_ContextmenuSeeLog"));str+=_.logger.contextMenuAddRow1("prompt( parent.location, parent.location )",_._z.getMessage("E_logger_ContextmenuSeeAddress"));str+=_.logger.contextMenuAddRow("WebSquare.util.viewSource()",_._z.getMessage("E_logger_ContextmenuSeeSource"));str+=_.logger.contextMenuAddRow("WebSquare.util.viewInstance()",_._z.getMessage("E_logger_ContextmenuSeeInstance"));str+=_.logger.contextMenuAddRow("WebSquare.util.viewFiddle()",_._z.getMessage("E_logger_ContextmenuSeeFiddle"));str+=_.logger.contextMenuAddRow("WebSquare.logger.changeClientName()",_._z.getMessage("E_logger_ContextmenuChangeClientName"));if(_.logger.globalDebug1){str+=_.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",_._z.getMessage("E_logger_ContextmenuStopDebugOnScreen"));}else{str+=_.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",_._z.getMessage("E_logger_ContextmenuStartDebugOnScreen"));}if(_.logger.getGlobalDebug()){str+=_.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",_._z.getMessage("E_logger_ContextmenuStopDebugOnSystem"));}else{str+=_.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",_._z.getMessage("E_logger_ContextmenuStartDebugOnSystem"));}str+=_.logger.contextMenuAddRow1("parent.print()",_._z.getMessage("E_logger_ContextmenuPrint"));str+=_.logger.contextMenuAddRow("parent.location.reload( true )",_._z.getMessage("E_logger_ContextmenuRefresh"));str+=_.logger.contextMenuAddRow1("parent.WebSquare.core.getFileVersion()",_._z.getMessage("E_logger_ContectmenuFileInfo"));str+=_.logger.contextMenuAddRow("WebSquare.core.getVersion()",_._z.getMessage("E_logger_ContextmenuVersion"));str+="</table></div>";_56.innerHTML=str;return false;};_.logger.setGlobalDebug1=function(){_.logger.globalDebug1=!_.logger.globalDebug1;_.logger.hideContextMenu();};_.logger.setGlobalDebug2=function(){if(_.logger.getGlobalDebug()){_._y.setCookie("globalDebug","false");}else{var pwd=prompt(_._z.getMessage("E_logger_EnterPassword"),"");if(pwd=="debug"){_._y.setCookie("globalDebug","true");}else{_._y.setCookie("globalDebug","false");alert(_._z.getMessage("E_logger_IncorrectPassword"));}}_.logger.hideContextMenu();};_.logger.getGlobalDebug=function(){try{var _59=parseInt(_._y.getCookie("lastAccess"),10);if(isNaN(_59)){_59=(new Date()).getTime();}var _5a=(new Date()).getTime();if((_5a-_59)<20*60*1000){_._y.setCookieAsync("lastAccess",_5a+"");if(_._y.getCookie("globalDebug")=="true"){return true;}else{return false;}}else{_._y.setCookie("globalDebug","false");return false;}}catch(e){}return false;};_._h.getVersion=function(){alert("WebSquare Runtime Engine\n          Version : "+_.version+"\n\n  Copyright \u24d2 2006  INSWAVE Systems, Inc.\n  All Rights Reserved.\n");};_._h.getVersionString=function(){return _.version;};_._h.getFileVersion=function(){alert("FileName : "+_.w2xPath+"\nBuildDate : "+_.buildDate);};_._h.getFileVersionString=function(){return _.buildDate;};_.logger.contextMenuAddRow=function(_5b,_5c){if(_._h.browserCheck.moz||_._h.browserCheck.chrome||_._h.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5b+"'>"+_5c+"</td></tr>";}else{if(_._h.browserCheck.opera||_._h.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5b+"'; WebSquare.logger.hideContextMenu()>"+_5c+"</td></tr>";}}};_.logger.contextMenuAddRow1=function(_5d,_5e){if(_._h.browserCheck.moz||_._h.browserCheck.chrome||_._h.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5d+"'>"+_5e+"</td></tr>";}else{if(_._h.browserCheck.opera||_._h.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5d+"'; WebSquare.logger.hideContextMenu()>"+_5e+"</td></tr>";}}};_.logger.hideContextMenu=function(e){if(_._h.browserCheck.moz||_._h.browserCheck.chrome||_._h.browserCheck.ieAllVersion){var _60=_.document.getElementById("_contextMenuLayer");if(typeof _60!="undefined"&&_60!=null){_60.style.visibility="hidden";}}else{if(_._h.browserCheck.opera||_._h.browserCheck.safari){if(!e.ctrlKey){var _60=_.document.getElementById("_contextMenuLayer");if(typeof _60!="undefined"&&_60!=null){_60.style.visibility="hidden";}}}}};if(_._h.browserCheck.safari){document.oncontextmenu=function(e){if(e.ctrlKey&&e.button==2){_._F.stopEvent(e);return false;}};document.onmousedown=_.logger.showContextMenu;}else{document.oncontextmenu=_.logger.showContextMenu;}document.onclick=_.logger.hideContextMenu;}}_.logger.dumpCSS=function(){if(_._h.browserCheck.ie){var _62=_.document.styleSheets;for(var i=0;i<_62.length;i++){var _64=_62[i];alert(_64.href+"/n"+_64.cssText);}}};_.logger.debug=false;_.logger.debugKey="";_._t={};_._t._MSMXL_PROGIDS=_.BootLoader._MSMXL_PROGIDS;_._t.loadDocumentCache={};if(_._h.supportDOM){if(!_._h.browserCheck.opera){if(_.document.implementation.hasFeature("XPath","3.0")){XMLDocument.prototype.selectNodes=function(_1,_2){if(typeof _2=="undefined"){_2=this;}var _3=this.createNSResolver(this.documentElement);var _4=this.evaluate(_1,_2,_3,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _5=[];for(var i=0;i<_4.snapshotLength;i++){_5[i]=_4.snapshotItem(i);}return _5;};XMLDocument.prototype.selectSingleNode=function(_7,_8){if(typeof _8=="undefined"){_8=this;}var _9=this.selectNodes(_7,_8);if(_9.length>0){return _9[0];}else{return null;}};Document.prototype.selectNodes=XMLDocument.prototype.selectNodes;Document.prototype.selectSingleNode=XMLDocument.prototype.selectSingleNode;Element.prototype.selectNodes=function(_a){var _b=this.ownerDocument;var _c=_b.createNSResolver(_b.documentElement);var _d=_b.evaluate(_a,this,_c,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _e=[];for(var i=0;i<_d.snapshotLength;i++){_e[i]=_d.snapshotItem(i);}return _e;};Element.prototype.selectSingleNode=function(_10){var _11=this.selectNodes(_10);if(_11.length>0){return _11[0];}else{return null;}};}}}_._t.load=function(uri,_13,_14,_15){var dom=null;var _17=uri;try{if(typeof _13!="undefined"&&_13){dom=_._t.loadDocumentCache[_17];if(typeof dom!="undefined"&&dom!=null){return dom;}}if(1==2){var _18="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof uri=="string"){var _19,lastIdx,temp;if(_.hybridApp==true&&uri.indexOf("://")<0&&uri.startsWith("/")){uri=_._G.appendingPathComponent(_.w2xDocumentRoot,uri);}else{if(location.protocol=="app:"){_19=location.href;lastIdx=_19.lastIndexOf("/");temp=_19.substr(0,lastIdx);uri=temp+uri;}}var _1a=false;var _1b=_._h.getXMLHTTPObject();var ret=null;try{_.BootLoader.openResourceUri(uri,_1b);_1b.send(null);if(_1b.status>="400"){if(_17.indexOf("uiplugin")>-1){_.logger.printLog(_._z.getMessage("E_core_NoPluginError",_17));}else{_.logger.printLog(_._z.getMessage("E_core_NoModuleError",_17));}_1b=null;}if(_._h.browserCheck.ieAllVersion&&_1b.responseXML){ret=_1b.responseXML.xml;if(typeof ret==="undefined"||ret===null||ret===""){ret=_1b.responseText;}}else{ret=_1b.responseText;}}catch(e){if(_17.indexOf("uiplugin")>-1){_.logger.printLog(_._z.getMessage("E_core_NoPluginError",_17));}else{_.logger.printLog(_._z.getMessage("E_core_NoModuleError",_17));}}_1b=null;if(!ret){return null;}if(typeof _15!="undefined"&&_15){dom=_._t._parse(ret);}else{dom=_._t.parse(ret);}_1a=typeof dom=="object";if((_15||!_.BootLoader.useWebSquareXMLParser)&&_.BootLoader.useActiveXObject&&dom.parseError.errorCode!=0){if(_.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}var e=new Object();e.ParserException=_._z.getMessage("E_xml_ErrorOccurLoadingXML");e.ParserException+="\nerrorCode: "+dom.parseError.errorCode;e.ParserException+="\nfilepos\t: "+dom.parseError.filepos;e.ParserException+="\nline\t: "+dom.parseError.line;e.ParserException+="\nlinepos\t: "+dom.parseError.linepos;e.ParserException+="\nreason\t: "+dom.parseError.reason;e.ParserException+="srcText\t: "+dom.parseError.srcText;e.ParserException+="\nurl\t: "+dom.parseError.url;dom=null;throw e;}else{if(!_1a){if(_.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}_.logger.printLog("ERROR : "+_._z.getMessage("E_xml_ErrorOccurLoadingXMLWithURL",_17));return null;}}}if(typeof _13!="undefined"&&_13){_._t.loadDocumentCache[_17]=dom;}}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.load");}return dom;};_._t.loadSafari=function(uri){var _21=_.BootLoader.getXMLHTTPObject();_21.open("GET",uri,false);_21.send(null);var ret=_21.responseText;_21=null;return (this.parse(ret));};_._t.parse=function(obj,_24){var dom=null;try{if(_.BootLoader.useWebSquareXMLParser){if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){_.logger.printLog("ERROR : WebSquare.xml.load Error. String is empty.");return null;}else{if(obj.charAt(0)!="<"){obj="<"+obj+"/>";}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){obj=_._t.serialize(obj);}}var _26=new DOMImplementation();_26.namespaceAware=true;_26.errorChecking=false;_26.preserveWhiteSpace=true;dom=_26.loadXML(obj);}else{dom=_._t._parse(obj,_24);}}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};_._t._parse=function(obj,_28){var dom=null;try{if(typeof obj=="string"&&obj.startsWith("<!DOCTYPE")){var _2a=obj.indexOf("<",9);if(_2a>0){obj=obj.substring(_2a);}}if(_.BootLoader.useActiveXObject){dom=new ActiveXObject(_._t._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){_.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom.loadXML(str);}else{dom.loadXML(obj);}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom.loadXML(obj.xml);}}if(typeof _28!="undefined"){if(_28==true||_28=="true"){var _2c=_._h.getNamespaces(dom);var _2d="";for(var i in _2c){if(i!=""){_2d+="xmlns:"+i+"=\""+_2c[i]+"\" ";}}dom.setProperty("SelectionLanguage","XPath");dom.setProperty("SelectionNamespaces",_2d);}}}else{if(_._h.supportDOM){try{var _2f=new DOMParser();if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){_.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom=_2f.parseFromString(str,"text/xml");}else{dom=_2f.parseFromString(obj,"text/xml");}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom=_2f.parseFromString(_._t.serialize(obj),"text/xml");}}dom.async=false;if(_._h.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){_.logger.printLog("[Firefox]"+_._z.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}else{if((_._h.browserCheck.chrome||_._h.browserCheck.safari)&&dom.getElementsByTagName("parsererror").length>0){_.logger.printLog("[Safari/Chrome]"+_._z.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}}}catch(ee){_.logger.printLog("[DOMParser] "+_._z.getMessage("E_xml_ErrorOccurParsingXML"));_.exception.printStackTrace(ee,"WebSquare.xml.parse");return null;}}}if(typeof dom=="undefined"||dom==null){_.logger.printLog("ERROR : "+_._z.getMessage("E_xml_XMLUnsupportedBrowser"));return null;}if(_.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){var e=new Object();e.ParserException=_._z.getMessage("E_xml_ErrorOccurParsingXML");e.ParserException+="\nerrorCode      : "+dom.parseError.errorCode;e.ParserException+="\nfilepos        : "+dom.parseError.filepos;e.ParserException+="\nline           : "+dom.parseError.line;e.ParserException+="\nlinepos        : "+dom.parseError.linepos;e.ParserException+="\nreason         : "+dom.parseError.reason;e.ParserException+="\nsrcText        : "+dom.parseError.srcText;e.ParserException+="\nurl            : "+dom.parseError.url;if(typeof obj=="string"){e.ParserException+="\n\n: "+obj;}else{e.ParserException+="\n\n: "+obj.xml;}throw e;}}}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};_._t.remove_xmlns_regexp=/xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml['"]|xmlns:w2=['"]http:\/\/www.inswave.com\/websquare['"]/;_._t.serialize=function(dom){if(!dom){return "";}var _32="";try{if(_.BootLoader.useWebSquareXMLParser){try{var _33=[];_._t._serialize(dom,_33);_32=_33.join("");}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if(_.BootLoader.useActiveXObject){_32=dom.xml;if(typeof _32!=="undefined"&&_32!==null){_32=_32.wq_trim();}else{_32="";}}else{if(_._h.websquareSerializer){try{var _33=[];_._t._serialize(dom,_33);_32=_33.join("");}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if(_._h.supportDOM){var _34=new XMLSerializer();_32=_34.serializeToString(dom);}}}}}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.serialize");}return _32;};_._t.noNameSpaceSerialize=function(dom){var _36=_._t.serialize(dom);if(_._h.getConfiguration("/WebSquare/removeXmlNameSpace/@value")=="true"){_36=_36.replace(_._t.remove_xmlns_regexp,"");}return _36;};$lxml=function(dom,log){if(log){$l(_._t.serialize(dom));}else{alert(_._t.serialize(dom));}};_._t.nodeSerialize=function(_39,_3a){try{if(typeof (_3a)=="undefined"){_3a={};}if(typeof (_3a.standalone)=="undefined"){_3a.standalone=null;}if(typeof (_3a.encoding)=="undefined"){_3a.encoding="UTF-8";}if(typeof (_3a.omitXmlDeclaration)=="undefined"){_3a.omitXmlDeclaration=false;}if(typeof (_3a.includeNamespacePrefixes)=="undefined"){_3a.includeNamespacePrefixes=null;}if(typeof (_3a.cdataSectionElements)=="undefined"){_3a.cdataSectionElements=[];}switch(_39.nodeType){case 1:var xml="<"+_39.tagName;for(var i=0;i<_39.attributes.length;++i){var _3d=_39.attributes[i];if(_3d==null){continue;}if(_3d.specified){xml+=_._t.nodeSerialize(_3d,_3a);}}if(_39.hasChildNodes()){xml+=">";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=_._t.nodeSerialize(_3e,_3a);}xml+="</"+_39.tagName+">";}else{xml+="></"+_39.tagName+">";}return xml;case 2:if(_39.name.match(/^xmlns(:|$)/)&&!_._t.isVisiblyUtilized(_39)){return "";}var _3f=_39.name;var _40=_39.value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return " "+_3f+"=\""+_40+"\"";case 3:if(_._t.isCDataSectionElement(_39.parentNode)){}else{return _39.data.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}case 4:return "<![CDATA["+_39.data.replace(/]]>/g,"]]]]><![CDATA[>")+"]]>";case 7:return "<?"+_39.target+" "+_39.data+"?>";case 8:return "<!--"+_39.data+"-->";case 9:var xml="";if(!_3a.omitXmlDeclaration){var _41=(_3a.encoding=="UTF-16")?"UTF-16":"UTF-8";var _42=(_3a.standalone!=null)?" standalone=\""+(_3a.standalone?"yes":"no")+"\"":"";xml+="<?xml version=\"1.0\" encoding=\""+_41+"\""+_42+"?>\n\n";}for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=_._t.nodeSerialize(_3e,_3a)+"\n";}return xml;case 10:var xml="<!DOCTYPE "+_39.name+" PUBLIC \""+_39.publicId+"\" \""+_39.systemId+"\" [\n";xml+="]>";return xml;case 11:var xml="";for(var _3e=_39.firstChild;_3e!=null;_3e=_3e.nextSibling){xml+=_._t.nodeSerialize(_3e,_3a);}return xml;default:assert(false,"Unsupported node: "+_39.nodeName+" ("+_39.nodeType+")");}}catch(e){_.exception.printStackTrace(e);}};_._t.isVisiblyUtilized=function(_43){if(!options.includeNamespacePrefixes){return true;}var _44=_43.name.substring(6);var _45=new XPath("..").selectNode(_43);for(var i in options.includeNamespacePrefixes){var _47=options.includeNamespacePrefixes[i];if(_47==_44||_47=="#default"&&_44==""){return true;}}if(_43.name=="xmlns"){return _45.prefix==null;}else{return new XPath("parent::"+_44+":* or ..//@"+_44+":*").evaluate(_43);}};_._t.isCDataSectionElement=function(_48){for(var i in options.cdataSectionElements){if(options.cdataSectionElements[i].matches(_48)){return true;}}return false;};_._t.indent=function(obj,_4b){if(typeof _4b=="undefined"){try{var str=_._t.serialize(obj);var re=/>[\s]*</g;return str.replace(re,">\n<");}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.indent");}return null;}else{try{var _4e=[];_._t._treeWalk(obj,_4e,0);return _4e.join("");}catch(e){_.exception.printStackTrace(e,"WebSquare.xml.indent");}return "";}};_._t._serialize=function(_4f,_50){if(_4f.nodeType==1){_50.push("<");_50.push(_4f.nodeName);if(_4f.attributes.length>0){for(var j=0;j<_4f.attributes.length;j++){var _52=_4f.attributes.item(j);_50.push(" ");_50.push(_52.name);_50.push("=\"");_50.push(_._t._encode(_52.nodeValue));_50.push("\"");}}if(_4f.hasChildNodes()){_50.push(">");var _53=_4f.childNodes;for(var i=0;i<_53.length;i++){var _55=_53.item(i);_._t._serialize(_55,_50);}_50.push("</");_50.push(_4f.nodeName);_50.push(">");}else{_50.push("/>");}}else{if(_4f.nodeType==3){_50.push(_._t._encode(_4f.nodeValue));}else{if(_4f.nodeType==4){_50.push("<![CDATA["+_4f.nodeValue+"]]>");}else{if(_4f.nodeType==7){_50.push("<?"+_4f.nodeName+" "+_4f.nodeValue+"?>\n");}else{if(_4f.nodeType==8){_50.push("<!--"+_4f.nodeValue+"-->");}else{if(_4f.nodeType==9){var _53=_4f.childNodes;for(var i=0;i<_53.length;i++){var _55=_53.item(i);_._t._serialize(_55,_50);}}}}}}}};_._t._treeWalk=function(_56,_57,_58){var _59=false;var _5a=_56.childNodes;for(var i=0;i<_5a.length;i++){var _5c=_5a.item(i);if(_5c.nodeType==1){_59=true;_57.push("<br />");for(var j=0;j<_58;j++){_57.push("&nbsp;");}_57.push("<font color='blue'><b>&lt;"+_5c.nodeName+"</b></font>");if(_5c.attributes.length>0){for(var j=0;j<_5c.attributes.length;j++){var _5e=_5c.attributes.item(j);if(_5e.nodeValue.indexOf("\"")>-1){_57.push(" <font color='red'>"+_5e.name+"</font>='<i><font color='#888888'>"+_._t.encode2(_5e.nodeValue)+"</font></i>'");}else{_57.push(" <font color='red'>"+_5e.name+"</font>=\"<i><font color='#888888'>"+_._t.encode2(_5e.nodeValue)+"</font></i>\"");}}}if(_5c.hasChildNodes()){_57.push("<font color='blue'><b>&gt;</b></font>");if(_._t._treeWalk(_5c,_57,_58+4)){_57.push("<br />");for(var j=0;j<_58;j++){_57.push("&nbsp;");}}_57.push("<font color='blue'><b>&lt;/"+_5c.nodeName+"&gt;</b></font>");}else{_57.push("<font color='blue'><b>/&gt;</b></font>");}}else{if(_5c.nodeType==3){_57.push(_._t.encode2(_5c.nodeValue));}else{if(_5c.nodeType==4){_57.push("&lt;![CDATA["+_._t.encode1(_5c.nodeValue)+"]]&gt;");}else{if(_5c.nodeType==7){_57.push("<b>&lt;?"+_5c.nodeName+" "+_._t.encode1(_5c.nodeValue)+"?&gt;</b>");}else{if(_5c.nodeType==8){}else{_57.push("<br />"+_5c.nodeType+"  "+_5c.nodeName+"   "+_._t.encode2(_5c.nodeValue));}}}}}}return _59;};_._t.encode1=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _67=/\t/g;return function(s){var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(_._t.isDocument(s)){str=_._t.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;").replace(re9,"&nbsp;").replace(_67,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();_._t.encode2=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _72=/\t/g;return function(s){var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(_._t.isDocument(s)){str=_._t.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;amp;").replace(re2,"&amp;lt;").replace(re3,"&amp;gt;").replace(re9,"&nbsp;").replace(_72,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};})();_._t._encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;return function(str){return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;");};})();_._t._decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;return function(s){return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&");};})();_._t.encode=(function(){var re1=/&/g;var re2=/</g;var re3=/>/g;var re4=/'/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;return function(s){var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(_._t.isDocument(s)){str=_._t.serialize(s);}else{return s;}}}return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re4,"&apos;").replace(re5,"&quot;").replace(re6,"&#xA;").replace(re7,"&#xA;").replace(re8,"&#xA;");};})();_._t.decode=(function(){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;var re6=/&#xA;/g;return function(s){return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&").replace(re6,"\n");};})();_._t.isDocument=function(obj){try{if(typeof obj=="object"&&typeof obj.documentElement!="undefined"&&obj.nodeType==9){return true;}else{return false;}}catch(e){}return false;};_._t.isDocumentString=function(str){var dom;try{if(_.BootLoader.useActiveXObject){dom=new ActiveXObject(_._t._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;dom.loadXML(str);}else{if(str.wq_trim().charAt(0)=="<"){var _94=new DOMParser();dom=_94.parseFromString(str,"text/xml");dom.async=false;}}if(typeof dom=="undefined"||dom==null){return false;}if(_._h.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){return false;}if(_.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){return false;}}}catch(e){return false;}return true;};_._t.getElementsByTagName=function(dom,_96,uri){if(_._h.browserCheck.ieAllVersion||_.BootLoader.browserCheck.chrome||_.BootLoader.browserCheck.safari||_.BootLoader.browserCheck.opera){try{if(typeof uri=="undefined"){if(_96.indexOf(":")>=0){return dom.selectNodes("./"+"/"+"*['"+_96+"'=name()]");}else{return dom.selectNodes("./"+"/"+"*['"+_96+"'=local-name()]");}}else{return dom.selectNodes("./"+"/"+"*['"+_96+"'=local-name()]['"+uri+"'=namespace-uri()]");}}catch(e){if(typeof uri=="undefined"){return dom.getElementsByTagName(_96);}else{var _98=_96;if(uri==_._h._XML_NAMESPACE.SCHEMA){_98=_96;}else{if(uri==_._h._XML_NAMESPACE.XFORMS){_98="xf:"+_96;}else{if(uri==_._h._XML_NAMESPACE.XHTML){_98=_96;}else{if(uri==_._h._XML_NAMESPACE.XML){_98=_96;}else{if(uri==_._h._XML_NAMESPACE.XSL){_98=_96;}else{if(uri==_._h._XML_NAMESPACE.EVENTS){_98="ev:"+_96;}else{if(uri==_._h._XML_NAMESPACE.W2){_98="w2:"+_96;}}}}}}}return dom.getElementsByTagName(_98);}}}else{if(_._h.browserCheck.moz){if(typeof uri=="undefined"){return dom.getElementsByTagName(_96);}else{return dom.getElementsByTagNameNS(uri,_96);}}else{return dom.getElementsByTagName(_96);}}};_._t.matchNode=function(_99,_9a,uri){if(typeof uri=="undefined"){if(_99.nodeName==_9a){return true;}else{return false;}}else{var _9c=_99.nodeName.split(":");var _9d=_9c.length==2?_9c[1]:_9c[0];if(uri==_99.namespaceURI&&_9d==_9a){return true;}else{return false;}}};_._t.nodeInfoObj=(function(){var _9e={};return function(_9f){var _a0=_9f.nodeName;if(!_9e[_a0]){var _a1=_9f.namespaceURI;if(_a1!==undefined&&_a1!==""){var _a2=_a0.split(":");_9e[_a0]={nodeName:_a2[_a2.length-1],uri:_a1};}else{_9e[_a0]={nodeName:_a0};}}return _9e[_a0];};})();_._t.getLocalName=function(_a3){var _a4=_a3.nodeName.split(":");return _a4.length==2?_a4[1]:_a4[0];};_._t.findNode=function(doc,_a6){try{return doc.selectSingleNode(_a6);}catch(e){_.exception.printStackTrace(e);}return null;};_._t.findNodes=function(doc,_a8){try{return doc.selectNodes(_a8);}catch(e){_.exception.printStackTrace(e);}return null;};_._t.createElement=function(doc,_aa){var _ab,tmpDoc;if(_._h.browserCheck.opera){_ab=doc.createElementNS("",_aa);}else{if(_._h.browserCheck.ieAllVersion&&!_.BootLoader.useActiveXObject){var idx=_aa.indexOf(":");if(idx==-1){tmpDoc=_._t.parse("<"+_aa+"/>");}else{var _ad=_aa.substring(0,idx);var _ae=_._h.getNamespaces(doc);if(_ae[_ad]){tmpDoc=_._t.parse("<"+_aa+" xmlns:"+_ad+"=\""+_ae[_ad]+"\"/>");}else{tmpDoc=_._t.parse("<"+_aa+"/>");}}if(tmpDoc!=null){_ab=doc.importNode(tmpDoc.documentElement.cloneNode(false),false);}}else{_ab=doc.createElement(_aa);}}return _ab;};_._t.createNode=function(doc,_b0,_b1){try{if(_b1){if(_._h.browserCheck.ieAllVersion&&_.BootLoader.useActiveXObject){var _b2=_._h.getNamespaces(doc);var _b3="";for(var i in _b2){if(i!=""){_b3+="xmlns:"+i+"=\""+_b2[i]+"\" ";}}if(doc.nodeType==9){doc.setProperty("SelectionLanguage","XPath");doc.setProperty("SelectionNamespaces",_b3);}else{if(doc.nodeType==1){doc.ownerDocument.setProperty("SelectionLanguage","XPath");doc.ownerDocument.setProperty("SelectionNamespaces",_b3);}}}}var _b5=doc.selectSingleNode(_b0);if(_b5==null){var idx=_b0.lastIndexOf("/");if(idx>0){var _b7=_b0.substring(0,idx);var _b8=_b0.substring(idx+1);var _b9=_b8.match(/[@'"()=]/i)==null;if(_b9){var _ba=_._t.createNode(doc,_b7);if(_ba!=null){if(doc.nodeType==9){_b5=_._t.createElement(doc,_b8);}else{if(doc.nodeType==1){_b5=_._t.createElement(doc.ownerDocument,_b8);}}_b5=_._t.appendChild(_ba,_b5);}}}else{if(doc.nodeType==1&&_b0.charAt(0)!="/"){_b5=_._t.createElement(doc.ownerDocument,_b0);_b5=_._t.appendChild(doc,_b5);}}}return _b5;}catch(e){_.exception.printStackTrace(e);}return null;};_.appendChildType=null;_._t.appendChild=function(_bb,_bc){var _bd;try{if(_bb.ownerDocument==_bc.ownerDocument){_bd=_bb.appendChild(_bc);return _bd;}else{if(typeof _bb.ownerDocument.importNode=="function"){_bd=_bb.ownerDocument.importNode(_bc,true);_bd=_bb.appendChild(_bd);return _bd;}else{_bd=_bb.appendChild(_bc);return _bd;}}}catch(e){_.exception.printStackTrace(e);}};_._t.getValue=function(doc,key,_c0){var _c1="";try{var _c2=doc.selectSingleNode(key);if(_c2!=null){if(typeof _c0!="undefined"){_c1=_c2.getAttribute(_c0);}else{if(_c2.nodeType==2||_c2.nodeType==3||_c2.nodeType==4){_c1=_c2.nodeValue;}else{var _c3=_c2.childNodes;for(var i=0;i<_c3.length;i++){var _c5=_c3[i];if(_c5.nodeType==3){_c1+=_c5.nodeValue;}else{if(_c5.nodeType==4){_c1+=_c5.nodeValue;}}}}}}if(_c1==null){_c1="";}}catch(e){_.exception.printStackTrace(e);}return _c1;};_._t.getAttribute=function(doc,key,_c8){var _c9="";try{if(typeof doc=="string"){doc=_._t.parse(doc);}if(typeof _c8=="undefined"){if(doc.nodeType==1){_c9=doc.getAttribute(key);}else{_c9=doc.documentElement.getAttribute(key);}}else{var _ca=null;if(doc.nodeType==1){_ca=doc.selectSingleNode(key);}else{_ca=doc.selectSingleNode("/"+"*"+"/"+key);}if(_ca!=null){_c9=_ca.getAttribute(_c8);}if(_c9==null){_c9="";}}if(_c9==null){_c9="";}}catch(e){_.exception.printStackTrace(e);}return _c9;};_._t.getString=function(doc,key){return _._t.getAttribute(doc,key,"value");};_._t.getChildren=function(doc,key){var _cf=[];try{var _d0=doc.selectSingleNode(key);if(_d0!=null){var _d1=_d0.childNodes;for(var i=0;i<_d1.length;i++){var _d3=_d1.item(i);if(_d3.nodeType==1){var obj={};obj["@tagName"]=_d3.nodeName;var _d5=_d3.attributes;if(_d5!=null){for(var j=0;j<_d5.length;j++){obj[_d5[j].nodeName]=_d5[j].nodeValue;}}_cf.push(obj);}}}}catch(e){_.exception.printStackTrace(e);}return _cf;};_._t.setValue=function(doc,key,_d9,_da){try{var _db=_._t.createNode(doc,key);if(_db!=null){if(typeof _da!="undefined"){_db.setAttribute(_d9,_da);}else{var _dc=_db.childNodes;for(var i=0;i<_dc.length;i++){var _de=_dc.item(i);if(_de.nodeType==3){_db.removeChild(_de);}else{if(_de.nodeType==4){_db.removeChild(_de);}}}var _df=null;if(doc.nodeType==1){_df=doc.ownerDocument.createTextNode(_d9);}else{_df=doc.createTextNode(_d9);}_._t.appendChild(_db,_df);}}}catch(e){_.exception.printStackTrace(e);}};_._t.setAttribute=function(doc,key,_e2,_e3){try{if(typeof doc=="string"){doc=_._t.parse(doc);}if(typeof _e3=="undefined"){if(doc.nodeType==1){doc.setAttribute(key,_e2);}else{doc.documentElement.setAttribute(key,_e2);}}else{if(doc.nodeType==1){key=key;}else{key="/"+"*"+"/"+key;}var _e4=_._t.createNode(doc,key);if(_e4!=null){_e4.setAttribute(_e2,_e3);}}}catch(e){_.exception.printStackTrace(e);}};_._t.setString=function(doc,key,_e7){_._t.setAttribute(doc,key,"value",_e7);};_._t.transform=function(_e8,_e9,_ea){try{var _eb="false";if(_.logger.globalDebug1||_.logger.getGlobalDebug()){_eb="true";}var _ec=null;if(typeof _e8=="string"){_ec=_._t._parse(_e8);}else{if(_._t.isDocument(_e8)){if(_.BootLoader.useWebSquareXMLParser){_ec=_._t._parse(_._t.serialize(_e8));}else{_ec=_e8;}}else{if(typeof _e8=="object"&&typeof _e8.type!="undefined"&&(_e8.type=="vector"||_e8.type=="hashtable")){if(_.BootLoader.useWebSquareXMLParser){_ec=_._t._parse(_._t.serialize(_e8.toDocument()));}else{_ec=_e8.toDocument();}}else{return "";}}}var _ed=_._t.load(_e9,true,undefined,true);var _ee="";if(_._h.supportActiveX){_ee=_ec.transformNode(_ed);}else{if(typeof XSLTProcessor!="undefined"){var _ef=new XSLTProcessor();_ef.importStylesheet(_ed);var _f0=_ef.transformToDocument(_ec);_ee=_._t.serialize(_f0);if(_ee.indexOf("<transformiix:result")>-1){_ee=_ee.substring(_ee.indexOf(">")+1,_ee.lastIndexOf("<"));}}else{_.logger.printLog("ERROR : transform\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return "";}}if(typeof _ea!="undefined"&&_ea!=null&&_ea!=""){var _f1=_.document.getElementById(_ea);_f1.innerHTML=_ee+"<XSLINFO value='"+_e9+"'/>";if(_eb=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_ee.replace(re,">\n<");obj["xml"]=_._t.indent(_ec);obj["xsl"]=_._t.indent(_ed);obj["target"]=_ea;_.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}else{if(_eb=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_ee.replace(re,">\n<");obj["xml"]=_._t.indent(_ec);obj["xsl"]=_._t.indent(_ed);_.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}if(typeof _ee!="undefined"&&_ee!="undefined"){return _ee;}else{return "";}}catch(e){_.exception.printStackTrace(e);}};_._t.hasChildElement=function(_f4){for(var _f5=_f4.firstChild;_f5!=null;_f5=_f5.nextSibling){if(_f5.nodeType==1){return true;}}return false;};_._t.getChildrenByTagName=function(_f6,_f7,uri){var _f9=new Array();if(typeof uri=="undefined"){for(var _fa=_f6.firstChild;_fa!=null;_fa=_fa.nextSibling){if(_fa.nodeType==1){var _fb=_fa.nodeName.split(":");var _fc=_fb.length==2?_fb[1]:_fb[0];if(_fc==_f7){_f9.push(_fa);}}}}else{for(var _fa=_f6.firstChild;_fa!=null;_fa=_fa.nextSibling){if(_fa.nodeType==1){var _fb=_fa.nodeName.split(":");var _fc=_fb.length==2?_fb[1]:_fb[0];if(uri==_fa.namespaceURI&&_fc==_f7){_f9.push(_fa);}}}}return _f9;};_._t.getFirstChildElement=function(_fd){for(var _fe=_fd.firstChild;_fe!=null;_fe=_fe.nextSibling){if((_fe.nodeType==1)){return _fe;}}return null;};_._t.getFirstChildElements=function(_ff){var _100=new Array();for(var _101=_ff.firstChild;_101!=null;_101=_101.nextSibling){if((_101.nodeType==1)){_100.push(_101);}}return _100;};_._t.getTextNodeValue=function(_102){var _103=null;var _104="";for(var _105=_102.firstChild;_105!=null;_105=_105.nextSibling){if(_105.nodeType==3){_104+=_105.nodeValue;}}if(_104!=""){_103=_104;}return _103;};_._t.getCDataNodeValue=function(_106){var _107=null;for(var _108=_106.firstChild;_108!=null;_108=_108.nextSibling){if(_108.nodeType==4){_107=_108.nodeValue;}}return _107;};_._t.getCData=function(doc,key){try{var _10b="";var node=doc.selectSingleNode("/*/"+key);if(node!=null){var _10d=node.getAttribute("encode");for(var i=0;i<node.childNodes.length;i++){var _10f=node.childNodes[i];if(_10f.nodeType==4){_10b=_10f.nodeValue;if(_10d=="base64"){_10b=_._B.BASE64Decoder(_10b);}break;}}}if(_10b==null){_10b="";}return _10b;}catch(e){_.exception.printStackTrace(e);}};_._t.setCData=function(doc,key,_112){try{var _113=null;if(_112.indexOf("]]>")>=0){_113="base64";_112=_._B.BASE64Encoder(_112);}else{_113="text";}var node=doc.selectSingleNode("/*/"+key);if(node==null){var _115=doc.createElement(key);_115.setAttribute("type","CDATA");_115.setAttribute("encode",_113);_115.appendChild(doc.createCDATASection(_112));_._t.appendChild(doc.documentElement,_115);}else{for(var i=node.childNodes.length-1;i>=0;i--){if(node.childNodes[i].nodeType==4){node.removeChild(node.childNodes[i]);}}node.setAttribute("type","CDATA");node.setAttribute("encode",_113);node.appendChild(doc.createCDATASection(_112));}}catch(e){_.exception.printStackTrace(e);}};;WebSquare.xml=_._t;_._s={};_._s.Vector=function(){this.type="vector";this.length=0;this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};_._s.Vector.prototype.setDocument=function(_1){try{if(_1.documentElement.nodeName=="vector"){this.length=0;this.data=[];this.dataType=[];var _2=_1.documentElement.attributes;for(var i=0;i<_2.length;i++){var _4=_2.item(i);this.attributeName.push(_4.nodeName);this.attributeValue.push(_4.nodeValue);}var _5=_1.documentElement.childNodes;for(var i=0;i<_5.length;i++){var _6=_5.item(i);if(_6.nodeType==1&&_6.nodeName=="data"){var _7=_6.getAttribute("value");if(_7!=null){this.data.push(_7);this.dataType.push("String");}else{var _8=_6.childNodes;for(var j=0;j<_8.length;j++){var _a=_8.item(j);if(_a.nodeType==1){this.data.push(_._t.serialize(_a));this.dataType.push("Document");break;}}}this.length++;}}}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.addAll=function(_b){try{if(_b.type=="vector"){this.data=this.data.concat(_b.data);this.dataType=this.dataType.concat(_b.dataType);this.length=this.data.length;}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.getAttribute=function(_c){var _d="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_c){_d=this.attributeValue[i];break;}}}catch(e){_.exception.printStackTrace(e);}return _d;};_._s.Vector.prototype.setAttribute=function(_f,_10){try{var _11=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_f){_11=true;this.attributeValue[i]=_10;break;}}if(!_11){this.attributeName.push(_f);this.attributeValue.push(_10);}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.setDebug=function(_13){this.setAttribute("debug",_13);};_._s.Vector.prototype.setAction=function(_14){this.setAttribute("action",_14);};_._s.Vector.prototype.setTask=function(_15){this.setAttribute("task",_15);};_._s.Vector.prototype.setProcessName=function(_16){if(typeof _16=="undefined"||_16==null||_16==""){this.setAttribute("processName",_._d.getControllerServer());}else{this.setAttribute("processName",_._d.getControllerServer()+"."+_16);}};_._s.Vector.prototype.getAction=function(){return this.getAttribute("action");};_._s.Vector.prototype.getTask=function(){return this.getAttribute("task");};_._s.Vector.prototype.getProcessName=function(){return this.getAttribute("processName");};_._s.Vector.prototype.addElement=function(_17){try{if(_._t.isDocument(_17)){this.data.push(_._t.serialize(_17));this.dataType.push("Document");}else{if(typeof _17=="object"&&typeof _17.type!="undefined"&&(_17.type=="vector"||_17.type=="hashtable")){this.data.push(_17.toString());this.dataType.push("Document");}else{if(typeof _17=="string"&&_._t.isDocumentString(_17)){this.data.push(_17);this.dataType.push("Document");}else{this.data.push(_17+"");this.dataType.push("String");}}}this.length++;}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.elementAt=function(i){var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=_._t.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=_._s.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=_._s.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Vector.prototype.insertElementAt=function(_1b,i){try{i=parseInt(i,10);if(i==this.length){this.addElement(_1b);return;}if(i>=0&&i<this.length){for(var j=this.length;j>i;j--){this.data[j]=this.data[j-1];this.dataType[j]=this.dataType[j-1];}if(_._t.isDocument(_1b)){this.data[i]=_._t.serialize(_1b);this.dataType[i]="Document";}else{if(typeof _1b=="object"&&typeof _1b.type!="undefined"&&(_1b.type=="vector"||_1b.type=="hashtable")){this.data[i]=_1b.toString();this.dataType[i]="Document";}else{if(typeof _1b=="string"&&_._t.isDocumentString(_1b)){this.data[i]=_1b;this.dataType[i]="Document";}else{this.data[i]=_1b+"";this.dataType[i]="String";}}}this.length++;}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.remove=function(i){var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=_._t.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=_._s.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=_._s.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Vector.prototype.fastRemove=function(i){try{i=parseInt(i,10);if(i>=0&&i<this.length){if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.set=function(i,_25){try{i=parseInt(i,10);if(i>=0&&i<this.length){if(_._t.isDocument(_25)){this.data[i]=_._t.serialize(_25);this.dataType[i]="Document";}else{if(typeof _25=="object"&&typeof _25.type!="undefined"&&(_25.type=="vector"||_25.type=="hashtable")){this.data[i]=_25.toString();this.dataType[i]="Document";}else{if(typeof _25=="string"&&_._t.isDocumentString(_25)){this.data[i]=_25;this.dataType[i]="Document";}else{this.data[i]=_25+"";this.dataType[i]="String";}}}}}catch(e){_.exception.printStackTrace(e);}};_._s.Vector.prototype.size=function(){return this.length;};_._s.Vector.prototype.toDocument=function(){return _._t.parse(this.toString());};_._s.Vector.prototype.toString=function(){var _26=[];try{_26.push("<vector");_26.push(" result='"+this.length+"'");for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]!="result"){_26.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}}_26.push(">");for(var i=0;i<this.length;i++){if(this.dataType[i]=="Document"){_26.push("<data vectorkey='"+i+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_26.push(this.data[i]);}else{var _29=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_29){_26.push(this.data[i].substring(idx+2));}else{_26.push(this.data[i]);}}_26.push("</data>");}else{_26.push("<data vectorkey='"+i+"' value='"+_._t.encode(this.data[i])+"'/>");}}_26.push("</vector>");}catch(e){_.exception.printStackTrace(e);}return _26.join("");};_._s.Hashtable=function(){this.type="hashtable";this.key=[];this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};_._s.Hashtable.prototype.containsKey=function(_2a){var _2b=false;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_2a){_2b=true;break;}}}catch(e){_.exception.printStackTrace(e);}return _2b;};_._s.Hashtable.prototype.setDocument=function(doc){try{if(doc.documentElement.nodeName=="hashtable"){this.key=[];this.data=[];this.dataType=[];var _2e=doc.documentElement.attributes;for(var i=0;i<_2e.length;i++){var att=_2e.item(i);this.attributeName.push(att.nodeName);this.attributeValue.push(att.nodeValue);}var _31=doc.documentElement.childNodes;for(var i=0;i<_31.length;i++){var _32=_31.item(i);if(_32.nodeType==1&&_32.nodeName=="data"){this.key.push(_32.getAttribute("hashkey"));var _33=_32.getAttribute("value");if(_33!=null){this.data.push(_33);this.dataType.push("String");}else{var _34=_32.childNodes;for(var j=0;j<_34.length;j++){var _36=_34.item(j);if(_36.nodeType==1){this.data.push(_._t.serialize(_36));this.dataType.push("Document");break;}}}}}}}catch(e){_.exception.printStackTrace(e);}};_._s.Hashtable.prototype.getAttribute=function(_37){var ret="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_37){ret=this.attributeValue[i];break;}}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Hashtable.prototype.setAttribute=function(_3a,_3b){try{var _3c=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_3a){_3c=true;this.attributeValue[i]=_3b;break;}}if(!_3c){this.attributeName.push(_3a);this.attributeValue.push(_3b);}}catch(e){_.exception.printStackTrace(e);}};_._s.Hashtable.prototype.setDebug=function(_3e){this.setAttribute("debug",_3e);};_._s.Hashtable.prototype.setAction=function(_3f){this.setAttribute("action",_3f);};_._s.Hashtable.prototype.setTask=function(_40){this.setAttribute("task",_40);};_._s.Hashtable.prototype.setProcessName=function(_41){if(typeof _41=="undefined"||_41==null||_41==""){this.setAttribute("processName",_._d.getControllerServer());}else{this.setAttribute("processName",_._d.getControllerServer()+"."+_41);}};_._s.Hashtable.prototype.getAction=function(){return this.getAttribute("action");};_._s.Hashtable.prototype.getTask=function(){return this.getAttribute("task");};_._s.Hashtable.prototype.getProcessName=function(){return this.getAttribute("processName");};_._s.Hashtable.prototype.get=function(_42){var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_42){if(this.dataType[i]=="Document"){var tmp=_._t.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=_._s.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=_._s.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}break;}}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Hashtable.prototype.put=function(_46,_47){var ret=null;try{var _49=false;for(var i=0;i<this.key.length;i++){if(this.key[i]==_46){_49=true;if(this.dataType[i]=="Document"){var tmp=_._t.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=_._s.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=_._s.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(_._t.isDocument(_47)){this.data[i]=_._t.serialize(_47);this.dataType[i]="Document";}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data[i]=_47.toString();this.dataType[i]="Document";}else{if(typeof _47=="string"&&_._t.isDocumentString(_47)){this.data[i]=_47;this.dataType[i]="Document";}else{this.data[i]=_47+"";this.dataType[i]="String";}}}break;}}if(!_49){this.key.push(_46);if(_._t.isDocument(_47)){this.data.push(_._t.serialize(_47));this.dataType.push("Document");}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data.push(_47.toString());this.dataType.push("Document");}else{if(typeof _47=="string"&&_._t.isDocumentString(_47)){this.data.push(_47);this.dataType.push("Document");}else{this.data.push(_47+"");this.dataType.push("String");}}}}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Hashtable.prototype.remove=function(_4c){var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_4c){if(this.dataType[i]=="Document"){var tmp=_._t.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=_._s.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=_._s.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}this.key[i]=this.key[this.key.length-1];this.data[i]=this.data[this.data.length-1];this.dataType[i]=this.dataType[this.dataType.length-1];this.key.pop();this.data.pop();this.dataType.pop();break;}}}catch(e){_.exception.printStackTrace(e);}return ret;};_._s.Hashtable.prototype.keys=function(){return _._B.arraySort(this.key);};_._s.Hashtable.prototype.elements=function(){var _50=[];try{var k=_._B.arraySort(this.key);for(var i=0;i<k.length;i++){_50.push(this.get(k[i]));}}catch(e){_.exception.printStackTrace(e);}return _50;};_._s.Hashtable.prototype.toDocument=function(){return _._t.parse(this.toString());};_._s.Hashtable.prototype.toString=function(){var _53=[];_53.push("<hashtable");try{for(var i=0;i<this.attributeName.length;i++){_53.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}_53.push(">");for(var i=0;i<this.key.length;i++){if(this.dataType[i]=="Document"){_53.push("<data hashkey='"+_._t.encode(this.key[i])+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_53.push(this.data[i]);}else{var _56=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_56){_53.push(this.data[i].substring(idx+2));}else{_53.push(this.data[i]);}}_53.push("</data>");}else{_53.push("<data hashkey='"+_._t.encode(this.key[i])+"' value='"+_._t.encode(this.data[i])+"'/>");}}}catch(e){_.exception.printStackTrace(e);}_53.push("</hashtable>");return _53.join("");};_._s.toVector=function(doc){var _58=new _._s.Vector();try{var dom=null;if(typeof doc=="string"){dom=_._t.parse(doc);}else{if(_._t.isDocument(doc)){dom=doc;}}_58.setDocument(dom);}catch(e){_.exception.printStackTrace(e);}return _58;};_._s.toHashtable=function(doc){var _5b=new _._s.Hashtable();try{var dom=null;if(typeof doc=="string"){dom=_._t.parse(doc);}else{if(_._t.isDocument(doc)){dom=doc;}}_5b.setDocument(dom);}catch(e){_.exception.printStackTrace(e);}return _5b;};;WebSquare.collection=_._s;_.WebSquareDocument=function(_1){try{this.xmlDocument=_1;this.models=[];this.controls=[];this.actions=[];this.events=[];this.boundElement=[];this.refElement=[];this.itemsetElement=[];this.boundElementCache={};this.W2Object=1;this.HTMLObject=2;this.TmpObjIdx=1;this.configElement;}catch(e){_.exception.printStackTrace(e);}};_.WebSquareDocument.componentsCache={};_.WebSquareDocument.componentIdCache={};_.WebSquareDocument.getElementsByTagName=function(_2){if(typeof _.WebSquareDocument.componentsCache[_2]=="object"){return _.WebSquareDocument.componentsCache[_2];}else{return new Array();}};_.WebSquareDocument.prototype.parsing=function(){if(_.WebSquareParser==null){_.WebSquareparser=new _._J.WebSquareParser();}if(!_.WebSquareparser.parse(_.WebSquaredoc.xmlDocument)){return false;}var _3=_._t.getElementsByTagName(this.xmlDocument,"head")[0];var _4=_._t.getElementsByTagName(_3,"require",_._h._XML_NAMESPACE.W2);for(var i=0;i<_4.length;i++){var _6=_._h.getURL(_4[i].getAttribute("src"));var id=_4[i].getAttribute("id");var _8=_4[i].getAttribute("pluginName");_._G.loadUserComponent(_6,id,_8);}_.BootLoader.performanceCheck.mid2=new Date();_.BootLoader.printLog("[STEP3] Resource(XML, Skin, CSS, JS) Load Complete. Time:"+(_.BootLoader.performanceCheck.mid2.getTime()-_.BootLoader.performanceCheck.mid1.getTime())+"ms");var _9=this.renderBody();if(!_9){return false;}return true;};_.WebSquareDocument.prototype.evalImportsQueue=function(){try{for(var i in _._D){imports(_._D[i]);}}catch(e){_.exception.printStackTrace(e);}};_.WebSquareDocument.prototype.renderBody=function(){var _b=_._t.getElementsByTagName(this.xmlDocument,"body",_._h._XML_NAMESPACE.XHTML);if(_b.length==1){var _c=_b[0].getAttribute("style");if(_c!=null){_.WebSquaredoc.bodyStyle=_c;}_.WebSquaredoc.body=_b[0];}else{alert(_._z.getMessage("E_WebSquareDocument_MoreThanOneBodyError",_b.length));return false;}var _d=new _.controlManager();_d.run(_b[0]);};_.addListenerCnt=0;_.elementObjArr=[];_.selectboxCss=false;_.triggerCss=false;_.idCache={};_.RefElement=function(_e,id){try{this.nodeset=_e;this.id=id;this.instance=_._C.getInstanceByXPath(this.nodeset);this.filteredNodeset=_._C.filterInstanceFunction(this.nodeset);}catch(e){_.exception.printStackTrace(e);}};_.ItemsetElement=function(_10,_11,_12,id){try{this.nodeset=_10;this.instance=_._C.getInstanceByXPath(this.nodeset);this.filteredNodeset=_._C.filterInstanceFunction(this.nodeset);this.id=id;this.label=_11;this.value=_12;if(this.nodeset.indexOf("/")==_10.length-1){this.nodeset=this.nodeset.substring(0,length-1);}if(this.label.indexOf("/")==0){this.labelXPath=this.nodeset+this.label;}else{this.labelXPath=this.nodeset+"/"+this.label;}if(this.value.indexOf("/")==0){this.valueXPath=this.nodeset+this.value;}else{this.valueXPath=this.nodeset+"/"+this.value;}}catch(e){_.exception.printStackTrace(e);}};_.BoundElement=function(_14,id){this.nodeset=_14;this.id=id;this.instance=_._C.getInstanceByXPath(this.nodeset);this.filteredNodeset=_._C.filterInstanceFunction(this.nodeset);};_.WebSquareDocument.prototype.unrender=function(_16,id,_18){try{for(var i=0;i<this.boundElement.length;i++){var _1a=this.boundElement[i];if(!_1a||typeof _1a.filteredNodeset=="undefined"||typeof _1a.instance=="undefined"){continue;}if(_1a.filteredNodeset.indexOf(_16)==0&&_1a.instance.id==_18){if(!(typeof id!="undefined"&&id!=null&&id==_1a.id)){eval(_1a.id+".hasbeenrendered = false;");}}}for(var j in _.WebSquaredoc.refElement){var _1c=_.WebSquaredoc.refElement[j];if(!_1c||typeof _1c.filteredNodeset=="undefined"||typeof _1c.instance=="undefined"){continue;}if(_1c.filteredNodeset.indexOf(_16)==0&&_1c.instance.id==_18){if(!(typeof id!="undefined"&&id!=null&&id==_1a.id)){eval(_1c.id+".hasbeenrendered = false;");}}}for(var k in _.WebSquaredoc.itemsetElement){var _1e=_.WebSquaredoc.itemsetElement[k];if(typeof _1e.filteredNodeset!="undefined"){if((_16.indexOf(_1e.filteredNodeset)==0||_1e.filteredNodeset.indexOf(_16)==0)&&_1e.filteredNodeset.substr(_16.length).search(/^\w/)==-1&&_1e.instance.id==_18){var id2=_1e.id;if(id2!=id){try{eval(_1e.id+".itemsetrendered = false;");}catch(e){}}}}}}catch(e){_.exception.printStackTrace(e);}};_.WebSquareDocument.prototype.detectChange=function(_20,id,_22){try{var _23=_._C.getModelByID(_22);var _24=_23.instances[0].id;if(_24!=null){_20=_._C.concatInstanceFunction(_20,_24);}if(typeof this.boundElementCache[_20]!="undefined"&&this.boundElementCache[_20]!=null){for(var i in this.boundElementCache[_20]){var id1=i;if(id1!=id){_.BootLoader.globalEval(id1+".refresh()");}}}for(var k in _.WebSquaredoc.itemsetElement){var _28=_.WebSquaredoc.itemsetElement[k];if(typeof _28.filteredNodeset!="undefined"){if((_20.indexOf(_28.filteredNodeset)==0||_28.filteredNodeset.indexOf(_20)==0)){var id2=_28.id;if(id2!=id){_.BootLoader.globalEval(id2+".refreshItemset()");}}}}}catch(e){_.exception.printStackTrace(e);}};_.WebSquareDocument.prototype.mergeConfig=function(_2a){try{this.configElement=_2a;var _2b=_.BootLoader.XML2JSON(this.configElement);_.BootLoader.mergeJSON(_.BootLoader.configurationJSON[0],_2b);var _2c=_.BootLoader.JSON2XML(_.BootLoader.configurationJSON[0]);_.BootLoader.configurationInfo=_2c;_.BootLoader.configurationDOM[0]=_2c;_.BootLoader.initJSONConfig();}catch(e){_.exception.printStackTrace(e);}};_.WebSquareObject=function(_2d){this.xmlNode=_2d;};_.WebSquarebodyControl=function(_2e,_2f){try{this.style=_2f;this.xmlEvents=_.WebSquareparser.parseEvent(_2e);}catch(e){_.exception.printStackTrace(e);}};_.WebSquarebodyControl.prototype.makeEvents=function(){try{_._F.addEvents(document.body,this.xmlEvents);}catch(e){_.exception.printStackTrace(e);}};_.WebSquareLabelControl=function(_30,_31,_32){if(_31!=null){this.value=_._C.getInstanceValue(_31.xpath);}else{this.value=_32;}};_._J={};_._J.WebSquareParser=function(){};_._D={};_._c={};_.lazyImportsArr=[];_._J.WebSquareParser.prototype.parse=function(_1){try{if(_._h.browserCheck.ieAllVersion&&_.BootLoader.useActiveXObject){var _2=_._h.getNamespaces(_1);var _3="";for(var i in _2){if(i!=""){_3+="xmlns:"+i+"=\""+_2[i]+"\" ";}}_1.setProperty("SelectionLanguage","XPath");_1.setProperty("SelectionNamespaces",_3);}this.parseConfig(_1.documentElement);var _5=_._h.getConfiguration("/WebSquare/stylesheet/@value");var _6=_._h.getConfiguration("/WebSquare/stylesheet/@enable");if(_5==null||_5==""){if(_._h.getConfiguration("/WebSquare/stylesheet/@import")=="link"){_5="stylesheet_ext.css";}else{_5="stylesheet.css";}}if(_6!="false"){_._x.addImport(_.baseThemeURI+"skin/"+_5);}_._x.importCSS(_1);if(_._h.getConfiguration("/WebSquare/stylesheet/@import")=="link"){_.cssManager.executeImport();}this.parseBuildDate(_1.documentElement);this.parseTitle(_1.documentElement);this.parseModels(_1.documentElement);return this.parseScript(_1.documentElement);}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseConfig=function(_7){try{var _8=_._t.getElementsByTagName(_7,"config",_._h._XML_NAMESPACE.W2);if(_8.length==1){for(var _9=_8[0].firstChild;_9!=null;_9=_9.nextSibling){if((_9.nodeType==1)&&_._t.matchNode(_9,"WebSquare",_._h._XML_NAMESPACE.XHTML)){_.WebSquaredoc.mergeConfig(_9);}}}}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseBuildDate=function(_a){try{var _b=_._t.getElementsByTagName(_a,"buildDate",_._h._XML_NAMESPACE.W2);if(_b.length==1&&_b[0].firstChild){_.buildDate=(_b[0].firstChild.nodeValue);}else{_.buildDate="N/A";}}catch(e){_.buildDate="N/A";_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseTitle=function(_c){try{var _d=_._t.getElementsByTagName(_c,"title",_._h._XML_NAMESPACE.XHTML);if(_d.length==1){_.docTitle=_.document.title=(_d[0].firstChild.nodeValue);}}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseModels=function(_e){try{var _f=_._t.getElementsByTagName(_e,"model",_._h._XML_NAMESPACE.XFORMS);for(var i=0;i<_f.length;++i){_.WebSquaredoc.models.push(this.parseModel(_f[i]));}}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseModel=function(_11){try{var _12=this.parseInstances(_11);var _13=this.parseBinds(_11);var _14=this.parseSubmissions(_11);return new _.Model(_11,_12,_13,_14);}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseInstances=function(_15){try{var _16=_._t.getElementsByTagName(_15,"instance",_._h._XML_NAMESPACE.XFORMS);var _17=[];for(var i=0;i<_16.length;i++){_17.push(this.parseInstance(_16[i]));}return _17;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseInstance=function(_19){try{var src=_19.attributes.getNamedItem("src");var _1b=null;if(src!=null){_1b=new _.Model.Instance(_19,_._t.load(srcAttribute.value),src.value);}else{var _1c=null;for(var _1d=_19.firstChild;_1d!=null;_1d=_1d.nextSibling){if(_1d.nodeType==1){_1c=_1d;}}if(_1c==null){_1b=new _.Model.Instance(_19,null,null);}else{var _1e=[];for(var _1d=_1c.firstChild;_1d!=null;_1d=_1d.nextSibling){if(_1d.namespaceURI!=null&&_1d.namespaceURI!=""){_1e.push("xmlns:"+_1d.prefix);_1e.push(_1d.namespaceURI);break;}}if(_1e[0]!=null&&_1e[0]!="xmlns:xml"){if(!_1c.attributes.getNamedItem(_1e[0])){_1c.setAttribute(_1e[0],_1e[1]);}}_1b=new _.Model.Instance(_19,_1c,null);}}return _1b;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseBinds=function(_1f){try{var _20=_._t.getElementsByTagName(_1f,"bind",_._h._XML_NAMESPACE.XFORMS);var _21=[];for(var i=0;i<_20.length;++i){_21.push(this.parseBind(_20[i]));}return _21;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseBind=function(_23){try{var id=_23.attributes.getNamedItem("id");var _25=_23.attributes.getNamedItem("nodeset");var _26=new _.Model.Bind(_23,"nodeset",_25.value,null,id.value);return _26;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseSubmissions=function(_27){try{var _28=_._t.getElementsByTagName(_27,"submission",_._h._XML_NAMESPACE.XFORMS);var _29=[];for(var i=0;i<_28.length;i++){_29.push(this.parseSubmission(_28[i],_27));}return _29;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseSubmission=function(_2b,_2c){try{var id=_.WebSquareparser.getAttribute(_2b,"id");var _2e=_.WebSquareparser.getAttribute(_2b,"method","")||_._h.getConfiguration("/WebSquare/submission/method/@value")||"POST";var _2f=_.WebSquareparser.getAttribute(_2b,"action","")||_._h.getConfiguration("/WebSquare/submission/action/@value");var _30=_.WebSquareparser.getAttribute(_2b,"mode","")||_._h.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";var _31=_.WebSquareparser.getAttribute(_2b,"mediatype","")||_._h.getConfiguration("/WebSquare/submission/mediatype/@value");var _32=_.WebSquareparser.getAttribute(_2b,"encoding","")||_._h.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";var ref=_.WebSquareparser.getAttribute(_2b,"ref");var _34=_.WebSquareparser.getAttribute(_2b,"target");var _35=_.WebSquareparser.getAttribute(_2b,"replace");var _36=_.WebSquareparser.getAttribute(_2b,"instance");var _37=_.WebSquareparser.getAttribute(_2b,"customHandler");var _38=_.WebSquareparser.getAttribute(_2b,"errorHandler");if(_38==""){_38=_._h.getConfiguration("/WebSquare/submission/errorHandler/@value");}var _39=_.WebSquareparser.getAttribute(_2b,"processMsg","");if(_39==""){_39=_._h.getConfiguration("/WebSquare/submission/processMsg/@value");}var _3a=_.WebSquareparser.getAttribute(_2b,"soapaction","");if(_31==""){if(_2e=="post"||_2e=="POST"){_31="application/xml";}}var _3b=this.parseEvent(_2b);var _3c=this.getAttribute(_2b,"timeout","")||_._h.getConfiguration("/WebSquare/submission/timeout/@value");return new _.Model.Submission(_2c,_2b,id,_2e,_2f,_30,null,_31,_32,ref,_34,_35,_36,_37,_38,_3a,_39,_3b,_3c);}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseScript=function(_3d){try{_.scriptSection="";_.externalScriptArr=[];var _3e=_._h.getConfiguration("/WebSquare/initScript/@value");if(_3e=="true"){_.scriptSection+=_._h.getConfiguration("/WebSquare/initScript");}var _3f=_._t.getElementsByTagName(_3d,"head",_._h._XML_NAMESPACE.XHTML);if(_3f.length==1){for(var _40=_3f[0].firstChild;_40!=null;_40=_40.nextSibling){if((_40.nodeType==1)&&_._t.matchNode(_40,"script",_._h._XML_NAMESPACE.XHTML)){var uri=_40.getAttribute("src");if(uri!=null&&uri!=""){var _42=_40.getAttribute("defer");if(_42=="defer"){_.lazyImportsArr.push(_._h.getURL(uri));}else{_.externalScriptArr.push(_._h.getURL(uri));}}else{for(var _43=_40.firstChild;_43!=null;_43=_43.nextSibling){if(_43.nodeType==4||_43.nodeType==3){_.scriptSection+=_43.nodeValue;}}}}}}else{alert(_._z.getMessage("E_Parser_MoreThanOneHeadError",_3f.length));return false;}}catch(e){_.exception.printStackTrace(e);}return true;};_._J.WebSquareParser.prototype.parseControls=function(_44){try{var _45=[];for(var _46=_44.firstChild;_46!=null;_46=_46.nextSibling){var tag=_._t.getLocalName(_46);if(tag!="label"){if(_46.namespaceURI==_._h._XML_NAMESPACE["XFORMS"]||_46.namespaceURI==_._h._XML_NAMESPACE["W2"]){if(tag=="switch"){_._D["{"+_46.namespaceURI+"}"+tag]="uiplugin.Switch";_._c["{"+_46.namespaceURI+"}"+tag]="WebSquare.uiplugin.Switch";_45.push(_46);}else{_._D["{"+_46.namespaceURI+"}"+tag]="uiplugin."+tag;_._c["{"+_46.namespaceURI+"}"+tag]="WebSquare.uiplugin."+tag;_45.push(_46);}}else{if(_._h.matchExtNamespace(_46.namespaceURI)){var _48=_._h.EXT_PLUGIN[_46.namespaceURI][tag];_._D["{"+_46.namespaceURI+"}"+tag]=_48.src;_._c["{"+_46.namespaceURI+"}"+tag]=_48.className;_45.push(_46);}else{if(_46.namespaceURI==_._h._XML_NAMESPACE["XHTML"]){_.WebSquaredoc.htmlElements.push(_46);}}}}}return _45;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseBody=function(_49){try{var _4a=_._t.getElementsByTagName(_49,"body",_._h._XML_NAMESPACE.XHTML);if(_4a.length==1){var _4b=_4a[0].getAttribute("style");if(_4b!=null){_.WebSquaredoc.bodyStyle=_4b.value;}_.WebSquaredoc.body=_4a[0];}else{alert(_._z.getMessage("E_Parser_MoreThanOneBodyError",_4a.length));}}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseActions=function(_4c){};_._J.WebSquareParser.prototype.findBindElement=function(_4d){try{if(_4d.attributes==null){return null;}if(_4d.attributes.getNamedItem("bind")!=null){var _4e=_._C.getBind(_4d.attributes.getNamedItem("bind").value);return _4e;}return null;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseLabel=function(_4f){var _50=_._t.getElementsByTagName(_4f,"label",_._h._XML_NAMESPACE.XFORMS);if(_50[0]==null){return null;}var _51=_50[0];var _52=this.findBindElement(_51);var _53="";var _54=(_51.firstChild);if(_51.childNodes.length>1){for(var i=0;i<_51.childNodes.length;i++){if(_51.childNodes[i].nodeValue.wq_trim()!=""){_54=_51.childNodes[i];break;}}}if(typeof _54!="undefined"&&_54!=null){_53=_54.nodeValue;}else{_53="";}return new _.WebSquareLabelControl(_51,_52,_53);};_._J.WebSquareParser.prototype.parseChoices=function(_56,_57){var _58=[];_57=_57||"xf";if(_56){try{var _59=_56.nodeName;if(_59.indexOf(":")>=0){_57=_59.split(":")[0];}}catch(e){}var _5a=_._t.findNode(_56,".//"+_57+":choices");if(_5a){var _5b=_._t.findNodes(_5a,".//"+_57+":item");if(_5b){for(var i=0;i<_5b.length;++i){var _5d=_5b[i];var _5e="";var _5f=_._t.findNode(_5d,"./"+_57+":label/text()");if(_5f){_5e=_5f.nodeValue;}var _60="";var _61=_._t.findNode(_5d,"./"+_57+":value/text()");if(_61){_60=_61.nodeValue;}_58.push({label:_5e,value:_60});}}}}return _58;};_._J.WebSquareParser.prototype.parseItemset=function(_62,_63){var _64={nodeset:"",label:"",value:""};try{if(_62){_63=_63||"xf";try{var _65=_62.nodeName;if(_65.indexOf(":")>=0){_63=_65.split(":")[0];}}catch(e){}var _66=_._t.findNode(_62,""+_63+":choices");if(_66){var _67=_._t.findNode(_66,""+_63+":itemset");if(_67){var _68=_._t.getValue(_67,"@nodeset");var _69=_._t.getValue(_67,_63+":label/@ref");var _6a=_._t.getValue(_67,_63+":value/@ref");_64.nodeset=_68;_64.label=_69;_64.value=_6a;}}else{var _67=_._t.findNode(_62,_63+":itemset");if(_67){var _68=_._t.getValue(_67,"@nodeset");var _69=_._t.getValue(_67,_63+":label/@ref");var _6a=_._t.getValue(_67,_63+":value/@ref");_64.nodeset=_68;_64.label=_69;_64.value=_6a;}}}}catch(e){_.exception.printStackTrace(e);}return _64;};_._J.WebSquareParser.prototype.parseAttribute=function(_6b){try{var _6c={};var _6d=_6b.attributes||_6b.documentElement.attributes;for(var i=0,len=_6d.length;i<len;i++){var _6f=_6d[i];var _70=_6f.name;var _71=_6f.value;if(_70=="class"){_6c["className"]=_71;}else{if(_71.wq_trim()!==""){_6c[_70]=_71;}}}return _6c;}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseEvent=function(_72){try{var _73=[];var id=_72.getAttribute("id");var _75=null;if(id==null||id==""){_75="";id="";}else{_75=id;id=id+".";}for(var _76=_72.firstChild;_76!=null;_76=_76.nextSibling){var _77="";var _78=_._t.nodeInfoObj(_76);var _79=_78.nodeName;var uri=_78.uri;if((_76.nodeType==1)&&_79=="script"){var _7b={};var _7c=_76.attributes;for(var j=0;j<_7c.length;j++){var att=_7c[j];if(_._t.matchNode(att,"event",_._h._XML_NAMESPACE.EVENTS)){_77=att.nodeValue;break;}}var _7f=0;for(var _80=_76.firstChild;_80!=null;_80=_80.nextSibling){if(_80.nodeType==4){var _81="( e )";var idx=_77.indexOf("(");if(idx>-1){_81=_77.substring(idx);_77=_77.substring(0,idx);}var _83=_80.nodeValue;if(this.wframeComponent&&this.wframeComponent.options.scope){_83="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith("+this.wframeComponent.id+".scope){\n"+_83+"\n};\nWebSquare.scope_obj=null;\n";}_7b.handler="function"+_81+"{[\""+id+_77.toLowerCase()+"\"]; function "+_75+"_"+_7f++ +"() {}; "+_83+"}";_73.push(new _._b.XmlEvent(_77.toLowerCase(),"script",_7b));break;}}}}if(_73.length==0){return null;}else{return _73;}}catch(e){_.exception.printStackTrace(e);}};_._J.WebSquareParser.prototype.parseEventAttributes=function(_84){var _85={};var _86=_84.attributes;for(var j=0;j<_86.length;j++){if(_._t.matchNode(_86[j],"event",_._h._XML_NAMESPACE.EVENTS)){var _88=_86[j].nodeValue;var idx=_88.indexOf("(");if(idx>-1){parameter=_88.substring(idx);_88=_88.substring(0,idx);}_85.eventName=_88.toLowerCase();}else{var idx=_86[j].nodeName.indexOf(":");if(idx>-1){_85[_86[j].nodeName.substring(idx+1)]=_86[j].nodeValue;}else{_85[_86[j].nodeName]=_86[j].nodeValue;}}}for(var _8a=_84.firstChild;_8a!=null;_8a=_8a.nextSibling){if(_8a.nodeType==4||_8a.nodeType==3){_85._text=_8a.nodeValue;break;}}return _85;};_._J.WebSquareParser.prototype.getAttribute=function(_8b,key,_8d){var _8e=_8b.getAttribute(key);if(_8e==null||_8e==""){if(typeof _8d!="undefined"){return _8d;}else{return "";}}return _8e;};_._J.WebSquareParser.prototype.parseAttributesNode=function(_8f){var _90=null;var _91=[];for(var i=0;i<_8f.childNodes.length;i++){if(_8f.childNodes[i].nodeName=="w2:attributes"){_90=_8f.childNodes[i];break;}}if(_90){var _93=_90.childNodes;for(var i=0;i<_93.length;i++){if(_93[i].nodeType==1){var _94=_._t.getLocalName(_93[i]);var obj={name:_94,ref:_93[i].getAttribute("ref"),value:_._t.getTextNodeValue(_93[i])};_91.push(obj);_91[_94]=obj;}}}return _91;};_._J.WebSquareParser.prototype.attributesItem=function(obj){this.name=obj.name;this.ref=obj.ref;this.value=obj.value;};_._J.WebSquareParser.prototype.attributesItem.prototype.setValue=function(_97){this.value=_97;};_._J.WebSquareParser.prototype.attributesItem.prototype.getValue=function(){return this.value;};;WebSquare.controlMatchmarks=_._c;;WebSquare.importsQueue=_._D;;WebSquare.Parser=_._J;_.Model=function(_1,_2,_3,_4){try{_.WebSquareObject.call(this,_1,true);this.instances=_2;this.binds=_3;this.submissions=_4;this.id=_1.getAttribute("id");this.element=_1;}catch(e){_.exception.printStackTrace(e);}};_.Model.inherit(_.WebSquareObject);_.Model.prototype.rebuild=function(_5,_6){try{var _7=_._C.getInstanceByXPath(_6);if(_._t.hasChildElement(_7.xmlNode)){if(typeof _5=="string"){var _8=_._t.getFirstChildElement(_7.xmlNode);_6=_._C.filterInstanceFunction(_6);if(_6==""){_6=".";}var _9=_._t.createNode(_8,_6);var _a=_9.ownerDocument.createTextNode(_5);_._t.appendChild(_9,_a);_.WebSquaredoc.unrender(_6,null,_7.id);}else{var _b=_5.documentElement.nodeName;var _8=_._t.getFirstChildElement(_7.xmlNode);_6=_._C.filterInstanceFunction(_6);if(_6==""){_6=".";}else{_b=_6+"/"+_b;}var _9=_._t.createNode(_8,_6);for(var _c=_9.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeName==_5.documentElement.nodeName){_9.removeChild(_c);break;}}_._t.appendChild(_9,_5.documentElement);_.WebSquaredoc.unrender(_b,null,_7.id);}}else{alert(_._z.getMessage("E_Model_NoChildNodeOfInstance"));}}catch(e){_.exception.printStackTrace(e);}};_.Model.prototype.refresh=function(_d){try{for(var i=0;i<_.WebSquaredoc.boundElement.length;i++){var _f=_.WebSquaredoc.boundElement[i];var _10=_f.id;var _11=eval(_10);if(typeof _11=="undefined"){continue;}if(typeof _11.hasbeenrendered!="undefined"&&_11.hasbeenrendered!=null&&_11.hasbeenrendered==false){_11.hasbeenrendered=true;_11.refresh();}}for(var k in _.WebSquaredoc.itemsetElement){var _13=_.WebSquaredoc.itemsetElement[k];var _14=_13.id;var _15=eval(_14);if(typeof _15=="undefined"){continue;}if(typeof _15.itemsetrendered!="undefined"&&_15.itemsetrendered!=null&&_15.itemsetrendered==false){_15.itemsetrendered=true;_15.refreshItemset(_d);}}for(var j in _.WebSquaredoc.refElement){var _17=_.WebSquaredoc.refElement[j];var _18=_17.id;var ref=eval(_18);if(typeof ref=="undefined"){continue;}if(typeof ref.hasbeenrendered!="undefined"&&ref.hasbeenrendered!=null&&ref.hasbeenrendered==false){ref.hasbeenrendered=true;ref.refresh();}}}catch(e){_.exception.printStackTrace(e);}};_.Model.Instance=function(_1a,_1b,_1c){try{_.WebSquareObject.call(this,_1a,true);this.document=_1b;this.source=_1c;this.id=_1a.getAttribute("id");}catch(e){_.exception.printStackTrace(e);}};_.Model.Instance.inherit(_.WebSquareObject);_.Model.Bind=function(_1d,_1e,_1f,_20,id){try{_.WebSquareObject.call(this,_1d,_20!=null);this.type=_1e;this.xpath=_1f;this.properties=(_20!=null)?_20:{};this.id=id;}catch(e){_.exception.printStackTrace(e);}};_.Model.Bind.inherit(_.WebSquareObject);_.Model.Submission=function(_22,_23,id,_25,_26,_27,_28,_29,_2a,ref,_2c,_2d,_2e,_2f,_30,_31,_32,_33,_34){try{_.WebSquareObject.call(this,_23,true);this.parentElement=_22;this.id=id;this.bind=_28;this.action=_26;this.mode=_27;this.method=_25;this.mediatype=_29;this.encoding=_2a;this.ref=ref;this.target=_2c;this.replace=_2d;this.instance=_2e;this.customHandler=_2f;this.errorHandler=_30;this.processMsg=_32;this.soapaction=_31;this.startTime=null;this.endTime=null;this.processStatus=0;this.linkedObj=[];_._F.addUserEvents(this,_33);this.timeout=_34;this.setRequestData=function(_35){this.requestData=_35;};}catch(e){_.exception.printStackTrace(e);}};_.Model.Submission.inherit(_.WebSquareObject);_._H={};_._H.WebSquareAction=function(_1){try{if(arguments.length==0){return;}_.WebSquareObject.call(this,_1,true);}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareAction.inherit(_.WebSquareObject);_._H.WebSquareAction.prototype.execute=function(){};_._H.WebSquareAction.prototype.activate=function(){};_._H.WebSquareSendAction=function(_2,_3){try{_._H.WebSquareAction.call(this,_2);this.submission=_3;}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareSendAction.inherit(_._H.WebSquareAction);_._H.WebSquareSendAction.prototype.activate=function(){_._C.executeSubmission(this.submission);};_._H.WebSquareSendAction.prototype.toString=function(){return "send";};_._H.WebSquarePopupAction=function(_4){try{this.popupName=_._G.getObjectValue(_4,"popupName","WebSquarePopup");this.useIFrame=_._G.getObjectValue(_4,"useIFrame","false");this.style=_._G.getObjectValue(_4,"style","");this.modal=_._G.getObjectValue(_4,"modal","true");this.src=_._G.getObjectValue(_4,"src","");this.srcModelID=_._G.getObjectValue(_4,"srcModelID","");this.destModelID=_._G.getObjectValue(_4,"destModelID","");this.srcData=_._G.getObjectValue(_4,"srcData","");this.destData=_._G.getObjectValue(_4,"destData","");this.url=_._G.getObjectValue(_4,"url","");this.id=_._G.getObjectValue(_4,"id","WebSquarePopup");this.type=_._G.getObjectValue(_4,"type","window");if(this.style==""){if(this.useIFrame=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquarePopupAction.inherit(_._H.WebSquareAction);_._H.WebSquarePopupAction.prototype.activate=function(){try{requires("uiplugin.popup");var _5=new _._a._u(this.id,this.type,this);_5.show();}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareUploadAction=function(_6){try{this.bind=_._G.getObjectValue(_6,"bind",null);if(typeof this.bind=="undefined"||this.bind==null||this.bind==""){this.xpath=_._G.getObjectValue(_6,"xpath",undefined);}else{var _7=_._C.getBind(this.bind);if(typeof _7!="undefined"&&_7!=null){this.xpath=_._G.getObjectValue(_7,"xpath",undefined);}}this.modelID=_._G.getObjectValue(_6,"modelID",null);this.fileNumber=_._G.getObjectValue(_6,"fileNumber",1);this.mode=_._G.getObjectValue(_6,"mode",1);this.title=_._G.getObjectValue(_6,"title","");this.message=_._G.getObjectValue(_6,"message","");this.url=_._G.getObjectValue(_6,"url",undefined);this.popupType=_._G.getObjectValue(_6,"popupType","true");this.popupName=_._G.getObjectValue(_6,"popupName","Upload");this.modal=_._G.getObjectValue(_6,"modal","true");this.style=_._G.getObjectValue(_6,"style","");if(this.style==""){if(this.popupType=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareUploadAction.inherit(_._H.WebSquareAction);_._H.WebSquareUploadAction.prototype.activate=function(){requires("uiplugin.popup");var _8={};if(typeof this.url!="undefined"&&this.url!=null&&this.url.wq_trim()!=""){_8.src=this.url;}else{_8.src=_.baseURI+"uiplugin/upload/upload.xml";}_8.useIFrame=this.popupType;_8.style=this.style;_8.popupName=this.popupName;_8.modal=this.modal;this.files=_._C.getInstanceValue(this.xpath+"/fileList");this.fileKey=_._C.getInstanceValue(this.xpath+"/key");var _9=_._G.objToXML(this);var _a=new _._a._u("uploadPopup","window",_8,_9);_a.show();};_._H.WebSquareSetValueAction=function(_b,_c,_d,_e,id,_10){try{_._H.WebSquareAction.call(this,_b);this.bind=_c;if(_c==null){this.xpath=_d;}else{this.xpath=_c.xpath;}this.value=_e;this.id=id;this.modelID=_10;}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareSetValueAction.inherit(_._H.WebSquareAction);_._H.WebSquareSetValueAction.prototype.activate=function(){try{var v=_._C.findInstanceNode(this.xpath,this.modelID);if(v==null){return false;}var obfuscator_targetNode=null;if(v.nodeType==1){for(var _12=v.firstChild;_12!=null;_12=_12.nextSibling){if(_12.nodeType==3){obfuscator_targetNode=_12;break;}}}else{obfuscator_targetNode=v;}if(obfuscator_targetNode==null){obfuscator_targetNode=v.ownerDocument.createTextNode(this.value);_._t.appendChild(v,obfuscator_targetNode);}var _13=eval("obfuscator_targetNode");_13.nodeValue=this.value;_.WebSquaredoc.detectChange(this.xpath,this.id,this.modelID);}catch(e){_.exception.printStackTrace(e);}};_._H.WebSquareSetValueAction.prototype.toString=function(){try{return "setValue";}catch(e){_.exception.printStackTrace(e);}};;WebSquare.Actions=_._H;(function(){_._C={};_._C.setBindElement=function(_1,id,_3){var _4=_._C.getModelByID(_3);var _5=_4.instances[0].id;if(!_1.startsWith("instance(")&&_5!=null){_1=_._C.concatInstanceFunction(_1,_5);}else{if(_1.indexOf("\"")>-1){_1=_1.replace("\"","'");}}if(typeof _.WebSquaredoc.boundElementCache[_1]=="undefined"||_.WebSquaredoc.boundElementCache[_1]==null){_.WebSquaredoc.boundElementCache[_1]={};}_.WebSquaredoc.boundElementCache[_1][id]=id;};_._C.setItemsetElement=function(_6,id,_8){var _9=_._C.getModelByID(_8);var _a=_9.instances[0].id;if(!_6.startsWith("instance(")&&_a!=null){_6=_._C.concatInstanceFunction(_6,_a);}else{if(_6.indexOf("\"")>-1){_6=_6.replace("\"","'");}}if(typeof _.WebSquaredoc.boundElementCache[_6]=="undefined"||_.WebSquaredoc.boundElementCache[_6]==null){_.WebSquaredoc.boundElementCache[_6]={};}_.WebSquaredoc.boundElementCache[_6][id]=id;};_._C.getBind=function(_b,_c){try{var _d=_._C.getModelByID(_c);for(var i in _d.binds){var _f=_.WebSquaredoc.models[0].binds[i];if(_f.id==_b){return _f;}}return null;}catch(e){_.exception.printStackTrace(e);}};_._C.filterInstanceFunction=function(_10){if(_10.startsWith("instance(")){_10=_10.substring(_10.indexOf(")")+2,_10.length);}return _10;};_._C.concatInstanceFunction=function(_11,_12){var str=_11;if(!_11.startsWith("instance(")){str="instance('"+_12+"')"+"/"+_11;}return str;};_._C.findInstanceNode=function(_14,_15){try{var _16=_._C.getInstanceByXPath(_14,_15);_14=_._C.filterInstanceFunction(_14);var v=_._t.findNode(_16.document,_14);return v;}catch(e){_.exception.printStackTrace(e);}};_._C.findSerializedNode=function(_18,_19){try{return _._t.serialize(_._C.findInstanceNode(_18,_19));}catch(e){_.exception.printStackTrace(e);}};_._C.findInstanceNodes=function(_1a,_1b){try{var _1c=_._C.getInstanceByXPath(_1a,_1b);_1a=_._C.filterInstanceFunction(_1a);var v=_._t.findNodes(_1c.document,_1a);return v;}catch(e){_.exception.printStackTrace(e);}};_._C.getInstanceValue=function(_1e,_1f){try{var str="";var v=_._C.findInstanceNode(_1e,_1f);if(v==null){return "";}if(v.nodeType==1){for(var _22=v.firstChild;_22!=null;_22=_22.nextSibling){if(_22.nodeType==3||_22.nodeType==4){str+=_22.nodeValue;}}}else{return v.nodeValue;}return str;}catch(e){_.exception.printStackTrace(e);}};_._C.setInstanceValue=function(_23,_24,_25){try{var _26=_._C.getInstanceByXPath(_23,_25);_24=(typeof _24=="undefined"||_24==null)?"":_24+"";if(_23.lastIndexOf("/@")!=-1&&_23.lastIndexOf("/")==_23.lastIndexOf("/@")){var _27=_23.lastIndexOf("/@");var _28=_23.substring(_27+2);var _29=_23.substring(0,_27);var obfuscator_v=_._C.findInstanceNode(_29,_25);if(obfuscator_v==null){var _2a=_._t.createNode(_26.document,_29);if(_2a==null){return false;}_2a.setAttribute(_28,_24);}else{obfuscator_v.setAttribute(_28,_24);}_.WebSquaredoc.detectChange(_23,undefined,_25);}else{var _2a=_._C.findInstanceNode(_23,_25);if(_2a==null){var _2a=_._t.createNode(_26.document,_23);if(_2a==null){return false;}}if(_2a.firstChild==null){var _2b=_2a.ownerDocument.createTextNode(_24);_._t.appendChild(_2a,_2b);}else{_2a.firstChild.nodeValue=_24;}_.WebSquaredoc.detectChange(_23,undefined,_25);}}catch(e){$l("ERROR["+_23+"] ["+_24+"] at WebSquare.ModelUtil.setInstanceValue ");_.exception.printStackTrace(e);return false;}return true;};_._C.getModelByID=function(_2c){if(typeof _2c!="undefined"&&_2c!=null&&_2c!=""){for(var k=0;k<_.WebSquaredoc.models.length;k++){if(_.WebSquaredoc.models[k].id==_2c){return _.WebSquaredoc.models[k];}}}else{return _.WebSquaredoc.models[0];}return null;};_._C.getInstanceByXPath=function(_2e,_2f){var _30=_._C.getModelByID(_2f);var _2e=_2e.wq_trim();if(_2e.startsWith("instance(")){var a=_2e.indexOf("(");var b=_2e.indexOf(")");var _33=eval(_2e.substring(a+1,b));for(var i in _30.instances){var _35=_30.instances[i];if(_35.id==_33){return _35;}}return _30.instances[0];}else{return _30.instances[0];}};_._C.getInstanceByID=function(id,_37){var _38=_._C.getModelByID(_37);try{for(var i in _38.instances){var _3a=_38.instances[i];if(_3a.id==id){return _3a;}}}catch(e){_.exception.printStackTrace(e);}return _38.instances[0];};_._C.getSubmission=function(id,_3c){try{var _3d=_._C.getModelByID(_3c);for(var i in _3d.submissions){var _3f=_3d.submissions[i];if(_3f.id==id){if(_.scope_obj&&_.scope_obj!=_3f.scope_obj){continue;}return _3f;}}return null;}catch(e){_.exception.printStackTrace(e);}};_._C.executeSubmission=function(_40,_41,obj){_.logger.printLog("WebSquare.ModelUtil.executeSubmission : "+_40);if(_40==null||_40==""){return;}try{var obfuscator_submissionObj=null;if(typeof _40=="string"){obfuscator_submissionObj=_._C.getSubmission(_40);if(obfuscator_submissionObj==null){alert(_._z.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_40));return null;}}else{obfuscator_submissionObj=_40;if(obfuscator_submissionObj==null){alert(_._z.getMessage("E_ModelUtil_NoSubmissionObject",_40));return null;}}_._C.setSubmissionStart(obfuscator_submissionObj,obj);if(typeof _41!="undefined"){obfuscator_submissionObj.setRequestData(_41);}var _43=_._h.getConfiguration("/WebSquare/submission/customHandler/@value")||"";if(typeof obfuscator_submissionObj.customHandler!="undefined"){_43=obfuscator_submissionObj.customHandler;}if(_43==""||_43=="default"){_._C.defaultSubmissionHandler(obfuscator_submissionObj);}else{if(_43.toLowerCase()=="proworks_soap"){_._C.proworksSOAPHandler(obfuscator_submissionObj);}else{if(_43){if(typeof _43=="function"){_43(obfuscator_submissionObj);}else{eval(_43+"( obfuscator_submissionObj )");}}else{_._C.defaultSubmissionHandler(obfuscator_submissionObj);}}}}catch(e){_.exception.printStackTrace(e);}};_._C.proworksSOAPHandler=function(_44){try{var _45=_44.id;var _46={"id":_45};if(_44.processMsg!=""){_.layer.addSubmissionMessage(_45,_44.processMsg);}var ret=_._F.fireEvent(_44,"xforms-submit",_46);if(typeof ret!="undefined"&&ret==false){_.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_45);_._C.setSubmissionEnd(_44,"submission complete",null);_.layer.deleteSubmissionMessage(_45);return;}_._C.doSubmitPreFunc(_44);var obfuscator_http=_._h.getXMLHTTPObject();var url=_._G.getSubmissionURL(_44.action);var _49=(_44.mode=="synchronous")?false:true;var ref=_44.ref;var _4b=_44.bind;var _4c=_44.target;var _4d=_44.replace;var _4e=_44.instance;var _4f=_44.encoding;var _50=_44.mediatype;var _51=_44.method;var _52=_44.action;var _53=_44.errorHandler;var _54=_44.requestData;var _55=_44.soapaction;var _56=_44.timeout;var _57=null;if(_4e!=""){var _58=_44.parentElement.getAttribute("id");if(_58==null||_58==""){_57=_._C.getInstanceByID(_4e).document;}else{_57=_._C.getInstanceByID(_4e,_58).document;}}else{_57=_._t.getElementsByTagName(_44.parentElement,"data")[0];}var e=null;if(typeof _54!="undefined"&&_54!=null){e=_54;}else{if(ref==""){e=_57;}else{e=_._t.createNode(_57,ref);}}var _5a=_._t.serialize(e);var xml="<soapenv:Envelope soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns=\"\" xmlns:apachsoap=\"http://xml.apache.org/xml-soap\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><soapenv:Header/><soapenv:Body><perform><in0>"+_._t.encode(_5a)+"</in0></perform></soapenv:Body></soapenv:Envelope>";if(_51=="get"||_51=="urlencoded-post"){url+="?"+xml;xml="";}obfuscator_http.open(_51,url,_49);obfuscator_http.setRequestHeader("soapaction","\""+_55+"\"");obfuscator_http.setRequestHeader("Content-Type",_50+"; charset=\""+_4f+"\"");obfuscator_http.setRequestHeader("Accept",_50);obfuscator_http.setRequestHeader("submissionid",_45);var _5c;if(_49){if(_56){_5c=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _5d={"id":_45,"errorType":"timeout-error","resourceUri":url,"time":_56};_._C.setSubmissionEnd(_44,"submission error",_5d);_.layer.deleteSubmissionMessage(_45);_._F.fireEvent(_44,"xforms-submit-timeout",_5d);window.clearTimeout(_5c);return;},_56);}obfuscator_http.onreadystatechange=function(){_._C.soapcallback(obfuscator_http,_44,_5c);};}obfuscator_http.send(_.requestID+xml);if(!_49){if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _5e={"id":_45,"errorType":"resource-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(_5a),"responseBody":obfuscator_http.responseText};_._C.setSubmissionEnd(_44,"submission error",_5e);_.layer.deleteSubmissionMessage(_45);_._F.fireEvent(_44,"xforms-submit-error",_5e);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=_._C.getSoapReturn(_._t.parse(obfuscator_http.responseText));if(_53!=""&&eval(_53+"( obfuscator_xmlDocument )")){var _5e={"id":_45,"errorType":"target-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(_5a),"responseBody":obfuscator_xmlDocument};_._C.setSubmissionEnd(_44,"submission error",_5e);_.layer.deleteSubmissionMessage(_45);_._F.fireEvent(_44,"xforms-submit-error",_5e);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}else{if(_4d=="instance"){_.WebSquaredoc.models[0].rebuild(_._t.parse(_._t.serialize(obfuscator_xmlDocument)),_4c);_.WebSquaredoc.models[0].refresh();}else{if(_4d=="text"){_.WebSquaredoc.models[0].rebuild(_._t.serialize(obfuscator_xmlDocument),_4c);_.WebSquaredoc.models[0].refresh();}else{if(_4d=="none"){}else{while(document.body.hasChildNodes()){_.discardElement(document.body.firstChild);}_.WebSquaredoc=null;_.WebSquaredoc=new _.WebSquareDocument(obfuscator_xmlDocument);_.WebSquaredoc.parsing();}}}var _61={"id":_45,"resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(_5a),"responseBody":obfuscator_xmlDocument};_._C.setSubmissionEnd(_44,"submission done",_61);_.layer.deleteSubmissionMessage(_45);_._F.fireEvent(_44,"xforms-submit-done",_61);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){_.layer.hideProcessMessage();}};_._C.defaultcallback=function(obfuscator_http,_62,_63,_64){try{if(obfuscator_http.readyState==4){if(_63){window.clearTimeout(_63);window.clearInterval(_63);_63=null;}commonResponseHandler(_62,obfuscator_http,"async mode",_64);setTimeout(function(){_._C.deleteMessage(_62.id);},50);}}catch(e){_.exception.printStackTrace(e);_.layer.hideProcessMessage();}};_._C.soapcallback=function(obfuscator_http,_65,_66){try{var _67=_65.id;var _68={"id":_67};var url=_._G.getSubmissionURL(_65.action);var _6a=(_65.mode=="synchronous")?false:true;var ref=_65.ref;var _6c=_65.bind;var _6d=_65.target;var _6e=_65.replace;var _6f=_65.instance;var _70=_65.encoding;var _71=_65.mediatype;var _72=_65.method;var _73=_65.action;var _74=_65.errorHandler;var _75=_65.requestData;var _76=_65.soapaction;var _77=_65.timeout;var _78=null;if(_6f!=""){var _79=_65.parentElement.getAttribute("id");if(_79==null||_79==""){_78=_._C.getInstanceByID(_6f).document;}else{_78=_._C.getInstanceByID(_6f,_79).document;}}else{_78=_._t.getElementsByTagName(_65.parentElement,"data")[0];}var e=null;if(typeof _75!="undefined"&&_75!=null){e=_75;}else{if(ref==""){e=_78;}else{e=_._t.createNode(_78,ref);}}var xml=_._t.serialize(e);if(obfuscator_http.readyState==4){if(_66){window.clearTimeout(_66);_66=null;}if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _7c={"id":_67,"errorType":"resource-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(tmpxml),"responseBody":obfuscator_http.responseText};_._C.setSubmissionEnd(_65,"submission error",_7c);_.layer.deleteSubmissionMessage(_67);_._F.fireEvent(_65,"xforms-submit-error",_7c);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=_._C.getSoapReturn(_._t.parse(obfuscator_http.responseText));if(_74!=""&&eval(_74+"( obfuscator_xmlDocument )")){var _7c={"id":_67,"errorType":"target-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(tmpxml),"responseBody":obfuscator_xmlDocument};_._C.setSubmissionEnd(_65,"submission error",_7c);_.layer.deleteSubmissionMessage(_67);_._F.fireEvent(_65,"xforms-submit-error",_7c);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}else{if(_6e=="instance"){_.WebSquaredoc.models[0].rebuild(_._t.parse(_._t.serialize(obfuscator_xmlDocument)),_6d);_.WebSquaredoc.models[0].refresh();}else{if(_6e=="text"){_.WebSquaredoc.models[0].rebuild(_._t.serialize(obfuscator_xmlDocument),_6d);_.WebSquaredoc.models[0].refresh();}else{if(_6e=="none"){}else{while(document.body.hasChildNodes()){_.discardElement(document.body.firstChild);}_.WebSquaredoc=null;_.WebSquaredoc=new _.WebSquareDocument(obfuscator_xmlDocument);_.WebSquaredoc.parsing();}}}var _7f={"id":_67,"resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_._t.parse(tmpxml),"responseBody":obfuscator_xmlDocument};_._C.setSubmissionEnd(_65,"submission error",_7f);_.layer.deleteSubmissionMessage(_67);_._F.fireEvent(_65,"xforms-submit-done",_7f);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){_.exception.printStackTrace(e);_.layer.hideProcessMessage();}};_._C.getSoapReturn=function(_80){var _81=_80.documentElement;var _82=_81.childNodes;for(var i=0;i<_82.length;i++){var _84=_82.item(i);if(_._t.getLocalName(_84)=="Body"){var _85=_84.childNodes;for(var j=0;j<_85.length;j++){var _87=_85.item(j);if(_._t.getLocalName(_87)=="performResponse"){var _88=_87.childNodes;for(var k=0;k<_88.length;k++){var _8a=_88.item(k);if(_._t.getLocalName(_8a)=="performReturn"){var _8b=_8a.childNodes;for(var l=0;l<_8b.length;l++){var _8d=_8b.item(l);if(_8d.nodeType==3){return _._t.parse(_8d.nodeValue);}}}}}}}}return null;};_._C.setSubmissionEnd=function(_8e,_8f,_90){_8e.endTime=new Date();_8e.processStatus=0;for(var i=0;i<_8e.linkedObj.length;i++){if(_8e.linkedObj[i].setDisabled){_8e.linkedObj[i].setDisabled(false);}}_8e.linkedObj=[];var _92=_._h.getConfiguration("/WebSquare/submission/showSubmissionTime/@value");if(_92=="true"){var _93=_8e.startTime.getHours()+":"+_8e.startTime.getMinutes()+":"+_8e.startTime.getSeconds()+":"+_8e.startTime.getMilliseconds();var _94=_8e.endTime.getHours()+":"+_8e.endTime.getMinutes()+":"+_8e.endTime.getSeconds()+":"+_8e.endTime.getMilliseconds();var _95="submission id["+_8e.id+"] start["+_93+"] end["+_94+"] duration["+(_8e.endTime-_8e.startTime)+"ms]";_.logger.printLog(_95);_.ax_logger(_95);}if(_90!=null){var _96=_._h.getConfiguration("/WebSquare/submission/callbackSubmitFunction/@value");try{var obfuscator_eventObj=_90;var _97=eval(_96);if(typeof _97=="function"){try{_97.call(this,_90,_8e);}catch(e){_.exception.printStackTrace(e);}}}catch(e){}}};_._C.setSubmissionStart=function(_98,obj){_98.startTime=new Date();_98.processStatus=1;if(obj!=null&&obj.setDisabled){_98.linkedObj.push(obj);obj.setDisabled(true);}};_._C.doSubmitPreFunc=function(_9a){var _9b=_._h.getConfiguration("/WebSquare/submission/preSubmitFunction/@value");if(_9b!=null&&_9b!=""){try{var obfuscator_eventObj=_9a;eval(_9b+"( obfuscator_eventObj );");}catch(e){}}};_._C.defaultSubmissionHandler=function(_9c){try{var _9d=_9c.id;var _9e={"id":_9d};if(_9c.processMsg!=""){_.layer.addSubmissionMessage(_9d,_9c.processMsg);}var ret=_._F.fireEvent(_9c,"xforms-submit",_9e);if(typeof ret!="undefined"&&ret==false){_.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_9d);_._C.setSubmissionEnd(_9c,"submission done",null);_.layer.deleteSubmissionMessage(_9d);return;}_._C.doSubmitPreFunc(_9c);var url=_._G.getSubmissionURL(_9c.action);var _a1=(_9c.mode=="synchronous")?false:true;var _a2=_9c.bind;var _a3=_9c.target;var _a4=_9c.replace;var _a5=_9c.encoding||"utf-8";var _a6=_9c.mediatype||"application/xml";var _a7=_9c.method;var _a8=_9c.action;var _a9=_9c.errorHandler;var _aa=_9c.requestData;var _ab=_9c.soapaction;var _ac=_9c.timeout;var _ad=getReqData(_9c);var _ae=false;if(typeof _ad!="undefined"){if(_ad.indexOf("http://schemas.xmlsoap.org/soap/envelope")>-1){_ae=true;}}if(_a4=="all"){if(_.requestID==""){_.requestID="instanceValue";}try{var _af=_.document.createElement("form");if(!_._G.isMobile()){_af.encoding="text/plain";}_af.action=url;_af.method=_a7;_af.style.display="inline";_af.acceptCharset="UTF-8";var _b0=_.document.createElement("input");_b0.type="hidden";_b0.name="targetInstance";if(_._h.uriEncoder){_b0.value=_a3;}else{_b0.value=encodeURIComponent(_a3);}_af.appendChild(_b0);var _b1=_.document.createElement("input");_b1.type="hidden";_b1.name="instanceValue";if(_._h.uriEncoder){_b1.value=_ad;}else{_b1.value=encodeURIComponent(_ad);}_af.appendChild(_b1);_.document.body.appendChild(_af);_af.submit();return;}catch(e){_.exception.printStackTrace(e);}}_.logger.printLog(url);var obfuscator_http=_._h.getXMLHTTPObject();obfuscator_http.open(_a7,url,_a1);if(_ae){obfuscator_http.setRequestHeader("soapaction","\""+_ab+"\"");}if(_.requestID!=""){var _b2=_._h.getConfiguration("/WebSquare/submission/requestID/@mediatype");if(_b2!=""){obfuscator_http.setRequestHeader("Content-Type",_b2+"; charset=\"UTF-8\"");obfuscator_http.setRequestHeader("Accept",_b2);}}else{obfuscator_http.setRequestHeader("Content-Type",_a6+"; charset=\""+_a5+"\"");obfuscator_http.setRequestHeader("Accept",_a6);}obfuscator_http.setRequestHeader("submissionid",_9d);var _b3;if(_a1){if(_ac){_b3=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _b4={"id":_9d,"errorType":"timeout-error","resourceUri":url,"time":_ac};_._C.setSubmissionEnd(_9c,"submission error",_b4);_.layer.deleteSubmissionMessage(_9d);_._F.fireEvent(_9c,"xforms-submit-timeout",_b4);window.clearTimeout(_b3);return;},_ac);}obfuscator_http.onreadystatechange=function(){_._C.defaultcallback(obfuscator_http,_9c,_b3,_ad);};}if(_.requestID!=""){if(_._h.getConfiguration("/WebSquare/submission/requestID/@encodeURI")=="true"){obfuscator_http.send(_.requestID+encodeURIComponent(_ad));}else{obfuscator_http.send(_.requestID+_ad);}}else{obfuscator_http.send(_ad);}if(!_a1){commonResponseHandler(_9c,obfuscator_http,"sync mode",_ad);}}catch(e){_.exception.printStackTrace(e);_.layer.hideProcessMessage();}};function getReqData(_b5){var _b6,ref=_b5.ref,instance=_b5.instance;var _b7=_b5.mediatype;var _b8=_b5.requestData;var _b9=null;if(instance!=""){var _ba=_b5.parentElement.getAttribute("id");if(_ba==null||_ba==""){_b9=_._C.getInstanceByID(instance).document;}else{_b9=_._C.getInstanceByID(instance,_ba).document;}}else{_b9=_._t.getElementsByTagName(_b5.parentElement,"data")[0];}var e=null,instanceValue="",_b6="",doc;if(typeof _b8!="undefined"&&_b8!=null){if(_b7=="application/json"){if(typeof _b8=="string"){_b6=_b8;}else{_b6=JSON.stringify(_b8);}}else{_b6=_._t.serialize(_b8);}}else{if(ref==""&&_b7!="application/json"){e=_b9;_b6=_._t.serialize(e);}else{if(_b7=="application/json"){if(ref==""){_b6="";}else{if(_._C.getInstanceValue(ref).wq_trim().length>0){_b6=_._C.getInstanceValue(ref);}else{e=_._t.createNode(_b9,ref);doc=_._t.parse(_._t.serialize(e));_b6=_._n.XML2JSONString(doc);}}}else{e=_._t.createNode(_b9,ref);_b6=_._t.serialize(e);}}}return _b6;}function setResponseObj(obj,_bd,_be,obfuscator_responseObj,_bf,_c0){if(_bd.indexOf("json")>-1){if(_be=="instance"){obj.responseBody=obfuscator_responseObj;}obj.responseJSON=_bf;}else{if(_bd.indexOf("xml")>-1){obj.responseBody=obfuscator_responseObj;}else{if(_c0){obj.responseBody=obfuscator_responseObj;}}}}function commonResponseHandler(_c1,obfuscator_http,_c2,_c3){var _c4=_c1.id;var url=_._G.getSubmissionURL(_c1.action);var _c6=(_c1.mode=="synchronous")?false:true;var ref=_c1.ref;var _c8=_c1.bind;var _c9=_c1.target;var _ca=_c1.replace;var _cb=_c1.instance;var _cc=_c1.encoding;var _cd=_c1.mediatype;var _ce=_c1.method;var _cf=_c1.action;var _d0=_c1.errorHandler;var _d1=_c1.requestData;var _d2=_c1.soapaction;if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _d3={"id":_c4,"errorType":"resource-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseBody":obfuscator_http.responseText};_.logger.printLog("submission error(E03). Status["+obfuscator_http.status+"] "+_c4);_._C.setSubmissionEnd(_c1,"submission error",_d3);_.layer.deleteSubmissionMessage(_c4);var _d4=_._h.getConfiguration("/WebSquare/submission/submitErrorHandler/@value");var _d5=_._h.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(_d4){var obfuscator_evt=_d3;if(_d5=="only"){eval(_d4+"(obfuscator_evt)");}else{if(_d5=="after"){_._F.fireEvent(_c1,"xforms-submit-error",_d3);eval(_d4+"(obfuscator_evt)");}else{if(_d5=="before"){eval(_d4+"(obfuscator_evt)");_._F.fireEvent(_c1,"xforms-submit-error",_d3);}}}}else{_._F.fireEvent(_c1,"xforms-submit-error",_d3);}if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _d8=obfuscator_http.getResponseHeader("Content-Type")||"";var obfuscator_responseObj,jsonObj,doc,isXML=false,instanceXML;if(_d8.indexOf("json")>-1){jsonObj=JSON.parse(obfuscator_http.responseText);if(_ca=="instance"){var _d9=_._n.JSON2XMLString(jsonObj);obfuscator_responseObj=_._t.parse(_d9);instanceXML=_._t.parse(_d9);}else{if(_ca=="text"){obfuscator_responseObj=obfuscator_http.responseText;}else{obfuscator_responseObj=jsonObj;}}}else{if(_d8.indexOf("xml")>-1){if(_.BootLoader.useWebSquareXMLParser){obfuscator_responseObj=_._t.parse(obfuscator_http.responseText);}else{if(_.BootLoader.useResponseXML){obfuscator_responseObj=obfuscator_http.responseXML;}else{obfuscator_responseObj=_._t.parse(obfuscator_http.responseText);}}if(_ca=="instance"){instanceXML=_._t.parse(obfuscator_http.responseText);}}else{try{if(obfuscator_http.responseText&&obfuscator_http.responseText.wq_trim().startsWith("<")){obfuscator_responseObj=_._t.parse(obfuscator_http.responseText);if(!obfuscator_responseObj){obfuscator_responseObj=obfuscator_http.responseText;}else{if(_ca=="instance"){instanceXML=_._t.parse(obfuscator_http.responseText);}isXML=true;}}}catch(e){}}}try{if(_d0!=""&&eval(_d0+"( obfuscator_responseObj )")){var _d3={"id":_c4,"errorType":"target-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseText":obfuscator_http.responseText};setResponseObj(_d3,_d8,_ca,obfuscator_responseObj,jsonObj,isXML);_.logger.printLog("submission error(E04). Status["+obfuscator_http.status+"] "+_c4);_._C.setSubmissionEnd(_c1,"submission error",_d3);_.layer.deleteSubmissionMessage(_c4);_._F.fireEvent(_c1,"xforms-submit-error",_d3);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}}else{if(_ca=="instance"){_.WebSquaredoc.models[0].rebuild(instanceXML,_c9);_.WebSquaredoc.models[0].refresh();}else{if(_ca=="text"){_.WebSquaredoc.models[0].rebuild(obfuscator_http.responseText,_c9);_.WebSquaredoc.models[0].refresh();}else{if(_ca=="none"){}}}var _da={"id":_c4,"resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseText":obfuscator_http.responseText};setResponseObj(_da,_d8,_ca,obfuscator_responseObj,jsonObj,isXML);_.logger.printLog("submission complete. Status["+obfuscator_http.status+"] "+_c4);_._C.setSubmissionEnd(_c1,"submission complete",_da);_._F.fireEvent(_c1,"xforms-submit-done",_da);setTimeout(function(){_._C.deleteMessage(_c4);},50);if(_.logger.globalDebug1||(typeof _.logger.getGlobalDebug=="function"&&_.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+_._C.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");_.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}catch(e){obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}_._C.deleteMessage=function(_db){setTimeout(function(){if(_.layer){_.layer.deleteSubmissionMessage(_db);}},50);};_._C.parseResponseHeader=function(_dc){var ret="<header>",doc;try{var _de=_dc.getAllResponseHeaders().wq_trim().split("\n");for(var i=0;i<_de.length;i++){var _e0=_de[i].split(":");ret+="<name>"+_e0[0].wq_trim()+"</name><value>"+_e0[1].wq_trim()+"</value>";}}catch(e){}ret+="</header>";return ret;};_._C.copyNode=function(_e1,_e2,_e3,_e4){try{var _e5=_._C.findInstanceNode(_e1,_e3);}catch(e){throw e;}if(_e5==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _e7=_._C.getInstanceByXPath(_e2,_e4);var _e8=_._C.filterInstanceFunction(_e2);var _e9=_._t.createNode(_e7.document,_e8);}catch(e){throw e;}if(_e9==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _ea=_e9.childNodes;for(var j=_ea.length-1;j>=0;j--){_e9.removeChild(_ea.item(j));}var _ec=_._t.parse(_._t.serialize(_e5));var _ed=_ec.documentElement;if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._h.browserCheck.android||_._h.browserCheck.blackberry){var _ee=_e9.ownerDocument.importNode(_ed,true);_e9.appendChild(_ee);}else{_e9.appendChild(_ed);}_.WebSquaredoc.detectChange(_e2,undefined,_e4);};_._C.copyChildrenNodes=function(_ef,_f0,_f1,_f2,_f3){try{var _f4=_._C.findInstanceNode(_ef,_f2);}catch(e){throw e;}if(_f4==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _f6=_._C.getInstanceByXPath(_f0,_f3);var _f7=_._C.filterInstanceFunction(_f0);var _f8=_._t.createNode(_f6.document,_f7);}catch(e){throw e;}if(_f8==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}switch(_f1){case "replaceAll":var _f9=_f8.cloneNode(false);var _fa=_f8.ownerDocument;var _fb=_f4.childNodes;for(var j=0;j<=_fb.length-1;j++){if(_fb[j].nodeType==1){_._t.appendChild(_f9,_fb[j].cloneNode(true));}}_f8.parentNode.insertBefore(_f9,_f8);_f8.parentNode.removeChild(_f8);_f8=null;break;case "overwrite":var _fb=_f4.childNodes;var _fd={};var _fe={};for(var j=0;j<=_fb.length-1;j++){var _ff=_fb[j];if(_ff.nodeType==1){var _100=_ff.nodeName;var _101=_f8.selectNodes(_100);if(_101.length>0){if(typeof _fe[_100]=="undefined"){_fe[_100]=0;}else{_fe[_100]=_fe[_100]+1;}if(typeof _101[_fe[_100]]!="undefined"){_fd[j]=_101[_fe[_100]];}else{_fd[j]=null;}}else{_fd[j]=null;}}}for(var j=0;j<=_fb.length-1;j++){var _ff=_fb[j];if(_ff.nodeType==1){var _102=_._t.parse(_._t.serialize(_ff));var _103;if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._h.browserCheck.android||_._h.browserCheck.blackberry){_103=_102.documentElement.cloneNode(true);}else{_103=_102.documentElement;}if(_fd[j]!=null){_f8.replaceChild(_103,_fd[j]);}else{_._t.appendChild(_f8,_103);}}}break;case "replaceOnly":var _104=_f8.childNodes;for(var j=0;j<_104.length;j++){var _105=_104.item(j);if(_105.nodeType==1){var _106=_105.nodeName;var _ff=_f4.selectSingleNode(_106);if(_ff!=null){var _102=_._t.parse(_._t.serialize(_ff));var _107=_102.documentElement;var _108=_f8.ownerDocument.importNode(_107,true);_f8.replaceChild(_108,_105);}}}break;case "append":var _fb=_f4.childNodes;for(var j=0;j<=_fb.length-1;j++){var _ff=_fb.item(j);if(_ff.nodeType==1){var _102=_._t.parse(_._t.serialize(_ff));var _107=_102.documentElement;_._t.appendChild(_f8,_107);}}break;}var _109=_._h.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh");if(_109=="true"){_._C.refreshModel(_f0,_f3);}};_._C.setInstanceNode=function(doc,_10b,_10c,mode){var _10e=null;try{if(doc.nodeType==9){doc=doc.documentElement;}try{var _10f=_._C.getInstanceByXPath(_10b,_10c);var _110=_._C.filterInstanceFunction(_10b);_10e=_._t.createNode(_10f.document,_110);}catch(e){throw e;}if(_10e==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.setInstanceNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _112=_._t.parse(_._t.serialize(doc));var node=_112.documentElement;switch(mode){case "append":_._t.appendChild(_10e,node);break;case "insertBeforeSibling":_10e.parentNode.insertBefore(node,_10e);break;case "appendSibling":_._t.appendChild(_10e.parentNode,node);break;case "replace":default:var _114=_10e.childNodes;for(var j=_114.length-1;j>=0;j--){_10e.removeChild(_114.item(j));}_._t.appendChild(_10e,node);break;}var _116=_._C.getModelByID();_.WebSquaredoc.unrender(_10b);_116.refresh(mode);}catch(e){$l("ERROR [xpath:"+_10b+"] at WebSquare.ModelUtil.setInstanceNode ");_.exception.printStackTrace(e);}};_._C.refreshModel=function(_117,_118){try{if(!_117){_117="";}var _119=_._C.getModelByID(_118);_.WebSquaredoc.unrender(_117);_119.refresh();}catch(e){_.exception.printStackTrace(e);}};_._C.removeInstanceNode=function(_11a){try{var node=_._C.findInstanceNode(_11a);if(node){node.parentNode.removeChild(node);var _11c=_._h.getConfiguration("/WebSquare/ModelUtil/removeInstanceNode/@refresh");if(_11c=="true"){_._C.refreshModel(_11a);}}}catch(e){_.exception.printStackTrace(e);}};_._C.removeInstanceNodes=function(_11d){try{var _11e=_._C.findInstanceNodes(_11d);for(var i=0;i<_11e.length;i++){_11e[i].parentNode.removeChild(_11e[i]);}var _120=_._h.getConfiguration("/WebSquare/ModelUtil/removeInstanceNodes/@refresh");if(_120=="true"){_._C.refreshModel(_11d);}}catch(e){_.exception.printStackTrace(e);}};_._C.removeChildNodes=function(_121){try{var node=_._C.findInstanceNode(_121);if(node){var _123=node.childNodes;for(var i=_123.length-1;i>=0;i--){node.removeChild(_123[i]);}}}catch(e){_.exception.printStackTrace(e);}};})();;WebSquare.ModelUtil=_._C;_._b={};_._b.XmlEvent=function(_1,_2,_3){try{this.name=_1;this.action=_2;this.param=_3;}catch(e){_.exception.printStackTrace(e);}};_._b.XmlEvent.parseEvents=function(_4){try{return new _.XmlEventParser().parseEvents(_4);}catch(e){_.exception.printStackTrace(e);}};;WebSquare.Events=_._b;_._I={};_._I.tabOrderData={};_._I.setTabOrder=function(_1){};_._I.getNextObj=function(_2){};_._I.getPrevObj=function(_3){};_._I.setXMLOption=function(){var _4,xml,display="",formName="",xsl="",strSelected=null,blankText="",strTextSelected=null,allOption="false",chooseOption="false",allOptionText="\uc804\uccb4",chooseOptionText="-\uc120\ud0dd-",append="false",sorted="false",textSorted="false",debug="false";try{_4=arguments[0];xml=arguments[1];if(_4.indexOf(":")>-1){var _5=_4.split(";");for(var i=0;i<_5.length;i++){var _7=_5[i].split(":");if(_7.length==2){if(_7[0].toLowerCase().wq_trim()=="display"){display=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="form"){formName=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="xsl"){xsl=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="selected"){strSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textselected"){strTextSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloption"){allOption=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloptiontext"){allOptionText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoption"){chooseOption=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoptiontext"){chooseOptionText=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="blanktext"){blankText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="append"){append=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="sorted"){sorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textsorted"){textSorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="debug"){debug=_7[1].toLowerCase().wq_trim();}}}}}}}}}}}}}}}}}else{display=arguments[0];switch(arguments.length){case 8:formName=arguments[7];case 7:debug=arguments[6];case 6:sorted=arguments[5];case 5:allOption=arguments[4];case 4:strSelected=arguments[3];case 3:xsl=arguments[2];}}}catch(e){_.exception.printStackTrace(e);}var _8=null;var _9=null;var _a=null;var _b=null;if(typeof formName=="undefined"||formName==null||formName==""){formName="";}else{formName="document."+formName+".";}_b=_._I.getSelectObject(formName+display);if(_b!=null&&_b instanceof _._a._J){var _c=_b;if(_c!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=_._t.parse(xml);_a=_._t.transform(_8,xsl);}else{_a=_._t.parse(xml);}if(_a==null){return;}var _d=_._d.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=_._d.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=_._d.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();if(append!="true"){_c.resetItemArr();}if(chooseOption=="true"){_c.setHeaderOption("",chooseOptionText);}if(allOption=="true"){_c.setHeaderOption("all",allOptionText);}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){_c.setHeaderOption("",blankText);}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(_._I.numericKeySort);}else{_11=_11.sort(_._I.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(_._I.numericValueSort);}else{_11=_11.sort(_._I.normalValueSort);}}}var _18=0;var _19=[];var _1a=_c.itemArr.length;for(var i=0;i<_11.length;i++){var _1b={};_1b.value=_11[i]["key"];_1b.label=_11[i]["value"];_19.push(_1b);if(strSelected!=null&&strSelected!=""){if(_11[i]["key"].wq_trim()==strSelected){_18=i+_1a;}}else{if(strTextSelected!=null&&strTextSelected!=""){if(_11[i]["value"].wq_trim()==strTextSelected){_18=i+_1a;}}}}_c.pushItemArr(_19);_c.selectedIndex=_18;_c.initSelect();}catch(e){_.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=_._t.indent(_a);if(xsl!=""){obj["xml"]=_._t.indent(_8);obj["xsl"]=_._t.indent(_9);}_.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}else{if(_b!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=_._t.parse(xml);_a=_._t.transform(_8,xsl);}else{_a=_._t.parse(xml);}if(_a==null){return;}var _d=_._d.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=_._d.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=_._d.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();var _1c="";if(_._h.browserCheck.ie){_1c=_b.outerHTML;if(append=="true"){var _1d=_1c.lastIndexOf("<");if(_1d<1){if(_1c.lastIndexOf("<SELECT")==-1){_1c="<SELECT>";}}else{var _1e=_1c.indexOf("/>",_1d);if(_1e==-1){_1c=_1c.substring(0,_1d);}else{_1c=_1c.substring(0,_1e)+">";}}}else{var _1d=_1c.indexOf(">");if(_1d<1){_1c="<SELECT>";}else{if(_1c.charAt(_1d-1)=="/"){_1c=_1c.substring(0,(_1d-1))+">";}else{_1c=_1c.substring(0,(_1d+1));}}if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}else{if(append=="true"){_1c=_b.innerHTML;}else{if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){var obj=new Object();obj["key"]="";obj["value"]=blankText;_11.push(obj);_10=new Array();}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(_._I.numericKeySort);}else{_11=_11.sort(_._I.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(_._I.numericValueSort);}else{_11=_11.sort(_._I.normalValueSort);}}}if(strSelected!=null&&strSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["key"].wq_trim()==strSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{if(strTextSelected!=null&&strTextSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["value"].wq_trim()==strTextSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{for(var i=0;i<_11.length;i++){_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}if(_._h.browserCheck.ie){_b.outerHTML=_1c+_10.join("")+"</SELECT>";}else{_b.innerHTML=_1c+_10.join("");}}catch(e){_.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=_._t.indent(_a);if(xsl!=""){obj["xml"]=_._t.indent(_8);obj["xsl"]=_._t.indent(_9);}_.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}};_._I.normalKeySort=function(a,b){if(a["key"]>b["key"]){return 1;}else{if(a["key"]==b["key"]){return 0;}else{return -1;}}};_._I.numericKeySort=function(a,b){return parseInt(a["key"],10)-parseInt(b["key"],10);};_._I.normalValueSort=function(a,b){if(a["value"]>b["value"]){return 1;}else{if(a["value"]==b["value"]){return 0;}else{return -1;}}};_._I.numericValueSort=function(a,b){return parseInt(a["value"],10)-parseInt(b["value"],10);};_._I.checkAll=function(_27,_28){var _29=_27.form;for(var i=0;i<_29.elements.length;i++){var e=_29.elements[i];if((e.name==_28)&&(e.type=="checkbox")){e.checked=_27.checked;}}};_._I.printForm=function(_2c,_2d){var _2e="<table style='width:510pt'><tr><td>Name</td><td>Type</td><td>Value</td></tr>\n";for(var i=0;i<_2c.elements.length;i++){var e=_2c.elements[i];if(_2d=="compact"){if(e.name!=null&&e.name!=""){if(e.type!="button"&&e.type!="image"&&e.type!="reset"&&e.type!="submit"){_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}}else{_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}_2e=_2e+"</table>\n";var obj=new Object();obj["Form Value"]=_2e;_.logger.showDebugMsg(obj,"html","Form \uc815\ubcf4");};_._I.getCheckValue=function(_32){var obj=new Array();try{var _34=_.document.getElementsByTagName("input");if(_34!=null){var j=0;for(var i=0;i<_34.length;i++){var e=_34[i];if((e.name==_32)&&(e.type=="checkbox")&&(e.checked==true)){obj[j]=e.value;j++;}}}}catch(e){_.exception.printStackTrace(e);}return obj;};_._I.addElement=function(_38,_39,_3a){var _3b=_.document.getElementsByTagName("SELECT");if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b(i).name==_38){var _3d=_.document.createElement("OPTION");_3d.value=_39;_3d.text=_3a;_3b(i).add(_3d);}}}};_._I.deleteElement=function(_3e){var _3f=_.document.getElementsByTagName("SELECT");if(_3f.length>0){for(var i=0;i<_3f.length;i++){if(_3f(i).name==_3e){for(var j=_3f(i).options.length-1;j>=0;j--){if(_3f(i).options(j).selected){_3f(i).options(j).removeNode();}}}}}};_._I.copyElement=function(_42,_43){var _44=_.document.getElementsByTagName("SELECT");var _45,objTag2;if(_44.length>0){for(var i=0;i<_44.length;i++){if(_44(i).name==_42){_45=_44(i);}if(_44(i).name==_43){objTag2=_44(i);}}var _47=_45.options.length;for(var i=0;i<_47;i++){if(_45.options(i).selected){var _48=_.document.createElement("OPTION");_48.value=_45.options(i).value;_48.text=_45.options(i).text;objTag2.add(_48);}}}};_._I.moveElement=function(_49,_4a){var _4b=_.document.getElementsByTagName("SELECT");var _4c,objTag2;if(_4b.length>0){for(var i=0;i<_4b.length;i++){if(_4b(i).name==_49){_4c=_4b(i);}if(_4b(i).name==_4a){objTag2=_4b(i);}}var _4e=_4c.options.length;for(var i=0;i<_4e;i++){if(_4c.options(i).selected){objTag2.insertBefore(_4c.options(i),null);i--;_4e--;}}}};_._I.movePosition=function(_4f,_50){var _51=_.document.getElementsByTagName("SELECT");if(_51.length>0){for(var i=0;i<_51.length;i++){if(_51(i).name==_4f){if(_50.toLowerCase()=="up"){for(var j=1;j<_51(i).options.length;j++){if(_51(i).options(j).selected){if(j==1&&_51(i).options(0).selected){return;}var obj=_51(i).options(j);_51(i).options(j-1).insertAdjacentElement("beforeBegin",obj);}}}else{if(_50.toLowerCase()=="down"){for(var j=_51(i).options.length-2;j>=0;j--){if(_51(i).options(j).selected){if(j==(_51(i).options.length-2)&&_51(i).options(_51(i).options.length-1).selected){return;}var obj=_51(i).options(j);_51(i).options(j+1).insertAdjacentElement("afterEnd",obj);}}}}}}}};_._I.Form2XML=function(_55,_56){var _57="";try{var _58="FORMMSG";if(typeof _56!="undefined"&&_56!=null&&_56!=""){_58=_56;}_57+="<"+_58+">";for(var i=0;i<_55.elements.length;i++){var e=_55.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var re=/[,]/g;_57+="<"+e.name+" value='"+_._t.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Date")==0){var re=/[\u002F]/g;_57+="<"+e.name+" value='"+_._t.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Time")==0){var re=/[:]/g;_57+="<"+e.name+" value='"+_._t.encode(e.value.replace(re,""))+"'/>\n";}else{_57+="<"+e.name+" value='"+_._t.encode(e.value)+"'/>\n";}}}}else{if(e.type=="checkbox"&&e.checked){_57+="<"+e.name+" value='"+_._t.encode(e.value)+"'/>\n";}else{if(e.type=="radio"&&e.checked){_57+="<"+e.name+" value='"+_._t.encode(e.value)+"'/>\n";}else{if(e.type=="select-one"){_57+="<"+e.name+" value='"+_._t.encode(e.value)+"'/>\n";}else{if(e.type=="select-multiple"){for(var j=0;j<e.options.length;j++){var opt=e.options[j];if(opt.selected){_57+="<"+e.name+" value='"+_._t.encode(opt.value)+"'/>\n";}}}}}}}}}_57+="</"+_58+">\n";}catch(e){_.exception.printStackTrace(e);}return _._t.parse(_57);};_._I.XML2Form=function(doc,_5f){try{var dom=null;if(typeof doc=="string"){dom=_._t.parse(doc);}else{if(_._t.isDocument(doc)){dom=doc;}else{if(typeof doc=="undefined"){return;}}}for(var i=0;i<_5f.elements.length;i++){var e=_5f.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var _63="",commaStr="",cent="";var _64=_._d.getString(dom,e.name);var re=/[,]/g;_64=_64.replace(re,"");if(_64.substring(0,1)=="+"||_64.substring(0,1)=="-"){_63=_64.substring(0,1);_64=_64.substring(1);}if(_64.indexOf(".")>-1){cent=_64.substring(_64.indexOf("."));_64=_64.substring(0,_64.indexOf("."));}var j=_64.length-3;for(;j>=1;j=j-3){commaStr=","+_64.substring(j,j+3)+commaStr;}commaStr=_64.substring(0,j+3)+commaStr;e.value=_63+commaStr+cent;}else{if(e.className.indexOf("Date")==0){var _67=_._d.getString(dom,e.name);if(_67.length==8){e.value=_67.substring(0,4)+"/"+_67.substring(4,6)+"/"+_67.substring(6,8);}else{e.value=_67;}}else{if(e.className.indexOf("Time")==0){var _68=_._d.getString(dom,e.name);if(_68.length==4){e.value=_68.substring(0,2)+":"+_68.substring(2,4);}else{e.value=_68;}}else{e.value=_._d.getString(dom,e.name);}}}}else{if(e.type=="checkbox"){var _69=_._t.getElementsByTagName(dom,e.name);for(var j=0;j<_69.length;j++){if(_69.item(j).getAttribute("value")==e.value){e.checked=true;break;}}}else{if(e.type=="radio"&&_._d.getString(dom,e.name)==e.value){e.checked=true;}else{if(e.type=="select-one"){e.value=_._d.getString(dom,e.name);}else{if(e.type=="select-multiple"){var _69=_._t.getElementsByTagName(dom,e.name);for(var j=0;j<e.options.length;j++){var opt=e.options[j];for(var k=0;k<_69.length;k++){if(_69.item(k).getAttribute("value")==opt.value){opt.selected=true;break;}}}}}}}}}}}catch(e){_.exception.printStackTrace(e);}};_._I.checkForm=function(){try{var _6c=new Array();var _6d=new Array();var str="";var _6f=arguments[0];for(var i=1;i<arguments.length;i++){_6c.push(arguments[i]);i++;_6d.push(arguments[i]);}for(var i=0;i<_6f.elements.length;i++){var e=_6f.elements[i];for(var j=0;j<_6c.length;j++){if(e.name==_6c[j]&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file")&&(e.value==null||e.value=="")){if(_._B.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc740 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}else{str+="'"+_6d[j]+"'\ub294 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}alert(str);e.focus();return false;}else{if(e.name==_6c[j]&&e.type=="select-one"&&e.selectedIndex==0){if(_._B.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc744 \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}else{str+="'"+_6d[j]+"'\ub97c \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}alert(str);e.focus();return false;}}}}}catch(e){_.exception.printStackTrace(e);}return true;};_._I.nextTab=function(_73,_74,len){if((event.keyCode<65||event.keyCode>90)&&(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}if(typeof _74=="undefined"&&typeof len=="undefined"&&typeof _73!="undefined"&&typeof _73!="object"){if(event.srcElement.value.length>=_73){for(var i=event.srcElement.sourceIndex+1;i<_.document.all.length;i++){if(typeof _.document.all(i).tagName!="undefined"&&_.document.all(i).tagName.toLowerCase()=="input"){_.document.all(i).focus();break;}}}}else{if(_73.value.length>=len){_74.focus();}}};_._I.timeKeyPress=function(tag){["WebSquare.form.timeKeyPress "];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};_._I.timeKeyUp=function(tag){if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[:]/g;var ret=tag.value.replace(re,"");if(ret.length==4){tag.value=ret;var _7b=parseInt(tag.value.substring(0,2),10);if(_7b>24||_7b<1){alert(_._z.getMessage("E_form_TimeKeyUpWrongHourFormat"));tag.value="";return;}var _7c=parseInt(tag.value.substring(2,4),10);if(_7c>59||_7c<0){alert(_._z.getMessage("E_form_TimeKeyUpWrongMinuteFormat"));tag.value=tag.value.substring(0,2);return;}tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}else{if(ret.length>4){tag.value=ret;tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}}};_._I.dateKeyPress=function(tag){if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};_._I.dateKeyUp=function(tag){if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[\u002F]/g;var ret=tag.value.replace(re,"");if(ret.length==8){tag.value=ret;var _81=parseInt(tag.value.substring(4,6),10);if(_81>12||_81<1){alert("\uc6d4 \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,4);return;}switch(_81){case 1:if(!_._I.checkDay(tag,1,31)){return;}break;case 2:if(!_._I.checkFebDay(tag)){return;}break;case 3:if(!_._I.checkDay(tag,1,31)){return;}break;case 4:if(!_._I.checkDay(tag,1,30)){return;}break;case 5:if(!_._I.checkDay(tag,1,31)){return;}break;case 6:if(!_._I.checkDay(tag,1,30)){return;}break;case 7:if(!_._I.checkDay(tag,1,31)){return;}break;case 8:if(!_._I.checkDay(tag,1,31)){return;}break;case 9:if(!_._I.checkDay(tag,1,30)){return;}break;case 10:if(!_._I.checkDay(tag,1,31)){return;}break;case 11:if(!_._I.checkDay(tag,1,30)){return;}break;case 12:if(!_._I.checkDay(tag,1,31)){return;}break;}tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}else{if(ret.length>8){tag.value=ret;tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}}};_._I.checkFebDay=function(tag){var _83=parseInt(tag.value.substring(0,4),10);if((_83%4)==0){if((_83%100)==0){if((_83%400)==0){return _._I.checkDay(tag,1,29);}else{return _._I.checkDay(tag,1,28);}}else{return _._I.checkDay(tag,1,29);}}else{return _._I.checkDay(tag,1,28);}};_._I.checkDay=function(tag,min,max){var day=parseInt(tag.value.substring(6,8),10);if(day>max||day<min){alert("\uc77c \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,6);return false;}return true;};_._I.getAbsoluteTop_old=function(_88){var _89=_88;var _8a=0;try{while(_89.tagName!="BODY"){var _8b=_._G.parseFloat(_._G.getStyleProperty(_89,"border-top-width"),0);if(_._G.isOpera()){_8b=0;}_8a+=_89.offsetTop-_89.scrollTop+_8b;_89=_89.offsetParent;}}catch(e){}if(!_._G.isFF()&&!_._G.isIE(8)&&!_._G.isOpera()){}if(_._G.isIE("6 7")){}return _8a;};_._I.getAbsoluteTop=function(_8c){return _._v.getAbsoluteTop(_8c);};_._I.getAbsoluteLeft_old=function(_8d){var _8e=_8d;var _8f=0;try{while(_8e.tagName!="BODY"){var _90=_._G.parseFloat(_._G.getStyleProperty(_8e,"border-left-width"),0);if(_._G.isOpera()){_90=0;}_8f+=_8e.offsetLeft+_90-_8e.scrollLeft;_8e=_8e.offsetParent;}}catch(e){}if(_._G.isIE("6 7")){}if(!_._G.isFF()&&!_._G.isIE(8)){}return _8f;};_._I.getAbsoluteLeft=function(_91){return _._v.getAbsoluteLeft(_91);};_._I.disableForm=function(){try{var _92=new Array();var _93=arguments[0];for(var i=1;i<arguments.length;i++){_92.push(arguments[i]);}for(var i=0;i<_93.elements.length;i++){var e=_93.elements[i];for(var j=0;j<_92.length;j++){if((_92[j]=="all"||e.name==_92[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=true;}}}}catch(e1){_.exception.printStackTrace(e1);}};_._I.enableForm=function(){try{var _97=new Array();var _98=arguments[0];for(var i=1;i<arguments.length;i++){_97.push(arguments[i]);}for(var i=0;i<_98.elements.length;i++){var e=_98.elements[i];for(var j=0;j<_97.length;j++){if((_97[j]=="all"||e.name==_97[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=false;}}}}catch(e1){_.exception.printStackTrace(e1);}};_._I.getRadioValue=function(_9c){var obj="";try{var _9e=_.document.getElementsByTagName("input");if(_9e!=null){for(var i=0;i<_9e.length;i++){var e=_9e[i];if((e.name==_9c)&&(e.type=="radio")&&(e.checked==true)){obj=e.value;}}}}catch(e1){_.exception.printStackTrace(e1);}return obj;};_._I.lockObject=null;_._I.lock=function(){try{if(_._I.lockObject==null){_._I.lockObject=new Array();var _a1=_.document.forms;var _a2=_a1.length;for(var i=0;i<_a2;i++){var _a4=_a1[i];var _a5=_a4.elements.length;for(var j=0;j<_a5;j++){var e=_a4.elements[j];if(e.disabled==false&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){_._I.lockObject.push(e);e.disabled=true;}}}}}catch(e1){_.exception.printStackTrace(e1);}};_._I.release=function(){try{if(_._I.lockObject!=null){for(var i=0;i<_._I.lockObject.length;i++){_._I.lockObject[i].disabled=false;}_._I.lockObject=null;}}catch(e){_.exception.printStackTrace(e);}};_._I.resetForm=function(){try{var _a9=_.document.forms;var _aa=_a9.length;for(var i=0;i<_aa;i++){var _ac=_a9[i];var _ad=_ac.elements.length;for(var j=0;j<_ad;j++){var e=_ac.elements[j];if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"){e.value=e.defaultValue;}else{if(e.type=="checkbox"||e.type=="radio"){e.checked=e.defaultChecked;}else{if(e.type=="select-one"||e.type=="select-multiple"){e.selectedIndex=0;}}}}}}catch(e1){_.exception.printStackTrace(e1);}};_._I.getFormObject=function(_b0){try{if(_b0.indexOf(".")>-1){var obj=eval(_b0);if(typeof obj=="undefined"){return null;}return obj;}else{var _b2=_b0.indexOf("[");var _b3=_b0.indexOf("(");var _b4=_b0;var _b5=0;if(_b2>-1){var _b6=_b0.indexOf("]");if(_b6>-1){_b4=_b0.substring(0,_b2);_b5=parseInt(_b0.substring(_b2+1,_b6));}}else{if(_b3>-1){var _b6=_b0.indexOf(")");if(_b6>-1){_b4=_b0.substring(0,_b3);_b5=parseInt(_b0.substring(_b3+1,_b6));}}}var _b7=_.document.getElementsByTagName("input");var _b8=0;if(_b7!=null){for(var i=0;i<_b7.length;i++){var obj=_b7[i];if(obj.name==_b4){if(_b8==_b5){return obj;}_b8++;}}}}}catch(e){_.exception.printStackTrace(e);}return null;};_._I.getSelectObject=function(_ba){var _bb=null;try{_bb=eval(_ba);}catch(e){_bb=null;}imports("uiplugin.selectbox");if(_bb&&_bb instanceof _._a._J){return eval(_ba);}try{if(_ba.indexOf(".")>-1){var obj=eval(_ba);if(typeof obj=="undefined"){return null;}if(obj.type=="select-one"||obj.type=="select-multiple"){return obj;}else{return null;}}else{var _bd=_ba.indexOf("[");var _be=_ba.indexOf("(");var _bf=_ba;var _c0=0;if(_bd>-1){var _c1=_ba.indexOf("]");if(_c1>-1){_bf=_ba.substring(0,_bd);_c0=parseInt(_ba.substring(_bd+1,_c1));}}else{if(_be>-1){var _c1=_ba.indexOf(")");if(_c1>-1){_bf=_ba.substring(0,_be);_c0=parseInt(_ba.substring(_be+1,_c1));}}}var _c2=_.document.getElementsByTagName("SELECT");var _c3=0;if(_c2!=null){for(var i=0;i<_c2.length;i++){var obj=_c2[i];if(obj.name==_bf||obj.id==_bf){if(_c3==_c0){return obj;}_c3++;}}}}}catch(e){_.exception.printStackTrace(e);}return null;};_._I.setCheckValue=function(_c5,obj){try{if(obj==null){return;}var _c7=_.document.getElementsByTagName("input");if(_c7!=null){for(var i=0;i<_c7.length;i++){var e=_c7[i];if((e.name==_c5)&&(e.type=="checkbox")){for(var j=0;j<obj.length;j++){if(obj[j]==e.value){e.checked=true;break;}}}}}}catch(e){_.exception.printStackTrace(e);}};_._I.getRelativeTop=function(_cb,_cc){var _cd=_cb;var _ce=0;try{while(_cd!=_cc&&_cd.tagName!="BODY"){_ce+=_cd.offsetTop;_cd=_cd.offsetParent;}}catch(e){}return _ce;};_._I.getRelativeLeft=function(_cf,_d0){var _d1=_cf;var _d2=0;try{while(_d1!=_d0&&_d1.tagName!="BODY"){_d2+=_d1.offsetLeft;_d1=_d1.offsetParent;}}catch(e){}return _d2;};_._I.getOffsetLeft=function(_d3){var _d4=_d3;var _d5=0;try{if(_._G.isIE("6 7")){while(_d4&&_d4.tagName.toLowerCase()!="body"){var _d6=_._G.getStyleProperty(_d4,"position");if(_d6=="absolute"){break;}_d5+=_d4.offsetLeft;_d4=_d4.offsetParent;}}else{_d5=_d4.offsetLeft;}}catch(e){}return _d5;};_._I.getOffsetTop=function(_d7){var _d8=_d7;var Top=0;try{if(_._G.isIE("6 7")){while(_d8&&_d8.tagName.toLowerCase()!="body"){var _da=_._G.getStyleProperty(_d8,"position");if(_da=="absolute"){break;}Top+=_d8.offsetTop;_d8=_d8.offsetParent;}}else{Top=_d8.offsetTop;}}catch(e){}return Top;};;WebSquare.form=_._I;_._l={};_._l.paramObj=null;_._l.getParameter=function(_1){var _2="";try{if(_._l.paramObj==null){_._l.paramObj=new Object();var _3=location.search.substring(1);var _4=_3.split("&");for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){_._l.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}_2=_._l.paramObj[_1];}catch(e){e.detail="WebSquare.net.getParameter \uc5d0\ub7ec";_.exception.printStackTrace(e);}if(_2==null||typeof _2=="undefined"){_2="";}return _._B.URLDecoder(_2);};_._l.getAllParameter=function(){var _7={};try{for(obj in _._l.paramObj){_7[obj]=_._B.URLDecoder(_._l.paramObj[obj]);}}catch(e){_.exception.printStackTrace(e);}return _7;};_._l.getBASE64Parameter=function(_8){var _9="";try{if(_._l.paramObj==null){_._l.paramObj=new Object();var _a=location.search.substring(1);var _b=_a.split("&");for(var i=0;i<_b.length;i++){var _d=_b[i].split("=");if(_d.length==2){_._l.paramObj[(_d[0]).wq_trim()]=(_d[1]).wq_trim();}}}_9=_._l.paramObj[_8];}catch(e){e.detail="WebSquare.net.getBASE64Parameter \uc5d0\ub7ec";_.exception.printStackTrace(e);}if(_9==null||typeof _9=="undefined"){_9="";}return _._B.BASE64URLDecoder(_9);};_._l.getAllBASE64Parameter=function(){var _e={};try{for(obj in _._l.paramObj){_e[obj]=_._B.BASE64URLDecoder(_._l.paramObj[obj]);}}catch(e){_.exception.printStackTrace(e);}return _e;};_._l.showWindow=function(_f,obj,_11,_12,_13){if(typeof _11=="undefined"||_11==null){_11="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no'";}else{var _14=0,dialogWidth=0,center="false";var _15=_11.split(";");if(_15.length>1){_11="";for(var i=0;i<_15.length;i++){var _17=_15[i].split(":");if(_17.length==2){if(_17[0].wq_trim()=="dialogHeight"){_14=parseInt(_17[1].wq_trim(),10);_11+="height="+_17[1]+",";}else{if(_17[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_17[1].wq_trim(),10);_11+="width="+_17[1]+",";}else{if(_17[0].wq_trim()=="center"){center=_17[1].toLowerCase().wq_trim();}else{_11+=_17[0]+"="+_17[1]+",";}}}}}}if(center=="true"||center=="yes"){if(_14!=0){var top=(740-_14)/2;_11="top="+top+"px,"+_11;}if(dialogWidth!=0){var _19=(1000-dialogWidth)/2;_11="left="+_19+"px,"+_11;}}}var idx="idx10_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){_._l.showWindowParam[idx]=null;}else{_._l.showWindowParam[idx]=obj;}if(_f.indexOf("?")>-1){_f=_f+"&modalParamIdx="+idx;}else{_f=_f+"?modalParamIdx="+idx;}var _1b=null;if(typeof _12=="undefined"){_1b=window.open(_f,"_blank",_11);}else{_1b=window.open(_f,_12,_11);}if(_1b==null){alert(_._z.getMessage("E_net_PopupBlocked"));}return _1b;};_._l.showWindowParam=new Object();_._l.showIFrameName=new Object();_._l.getPopupParam=function(){try{var str=_._l.getParameter("modalParamIdx");return opener.WebSquare.net._getParam(str);}catch(e){return "";}};_._l._getParam=function(_1d){var ret=_._l.showWindowParam[_1d];return ret;};_._l.isPopup=function(){try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};_._l.Obj2XML=function(_1f){var _20="<obj>";for(var _21 in _1f){_20=_20+"<"+_21+" value='"+_._t.encode(_1f[_21])+"'/>";}_20=_20+"</obj>";return _20;};_._l.XML2Obj=function(doc){var obj=new Object();try{var dom=null;if(typeof doc=="string"){dom=_._t.parse(doc);}else{if(_._t.isDocument(doc)){dom=doc;}else{return "";}}var _25=dom.documentElement;if(_25.nodeName=="vector"||_25.nodeName=="hashtable"){return "";}else{var _26=_25.childNodes;for(var i=0;i<_26.length;i++){var _28=_26.item(i);if(_28.nodeType==1){var _29=_28.nodeName;var _2a=_28.getAttribute("value");if(_2a==null){_2a="";}obj[_29]=_2a;}}}}catch(e){_.exception.printStackTrace(e);}return obj;};_._l.showIFrame=function(url,obj,_2d,_2e){var _2f=0,dialogWidth=0,center="false";if(typeof _2d=="undefined"||_2d==null){_2d="height=370,width=320";}else{var _30=url;var _31=_2d.split(";");if(_31.length>1){_2d="";for(var i=0;i<_31.length;i++){var _33=_31[i].split(":");if(_33.length==2){if(_33[0].wq_trim()=="dialogHeight"){_2f=parseInt(_33[1].wq_trim(),10);_2d+="height="+_33[1]+",";}else{if(_33[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_33[1].wq_trim(),10);_2d+="width="+_33[1]+",";}else{if(_33[0].wq_trim()=="center"){center=_33[1].toLowerCase().wq_trim();}else{_2d+=_33[0]+"="+_33[1]+",";}}}}}}}var idx="idx11_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){_._l.showWindowParam[idx]=null;}else{_._l.showWindowParam[idx]=obj;}if(_30.indexOf("?")>-1){_30=_30+"&modalParamIdx="+idx;}else{_30=_30+"?modalParamIdx="+idx;}if(typeof _2e=="undefined"){_2e="___iframeLayer";}_._l.showIFrameName[idx]=_2e;if(isNaN(_2f)||_2f==0){_2f=370;}if(isNaN(dialogWidth)||dialogWidth==0){dialogWidth=320;}try{if(typeof document.all[_2e]=="undefined"||document.all[_2e]==null){var _35=_.document.createElement("div");_35.id=_2e;_35.style.position="absolute";_35.style.overflow="hidden";_35.style.zIndex=10000;_35.style.visibility="visible";_35.style.height=_2f+"px";_35.style.width=dialogWidth+"px";_35.style.setExpression("top","document.body.scrollTop+document.body.clientHeight/2-"+_2f+"/2");_35.style.setExpression("left","document.body.scrollLeft+document.body.clientWidth/2-"+dialogWidth+"/2");document.body.appendChild(_35);_35.innerHTML="<iframe frameborder='0' name='iframe"+_2e+"' scrolling='no' style='width:100%; height:100%'></iframe>";document.frames["iframe"+_2e].location.replace(_30);}else{var _36=document.body.scrollTop+document.body.clientHeight/2-parseInt(document.all[_2e].style.height)/2;var _37=document.body.scrollLeft+document.body.clientWidth/2-parseInt(document.all[_2e].style.width)/2;document.all[_2e].style.top=_36;document.all[_2e].style.left=_37;document.all[_2e].visibility="visible";document.all[_2e].style.zIndex=10000;document.all[_2e].innerHTML="<iframe frameborder='0' scrolling='no' src='"+_30+"' style='width:100%; height:100%;'></iframe>";}}catch(eee){_2d="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";_._l.showWindow(url,obj,_2d,_2e);_.exception.printStackTrace(eee);}};_._l.hideIFrame=function(){try{if(_._h.isParentFrameMethod("WebSquare.net._hideIFrame")){var str=_._l.getParameter("modalParamIdx");parent.WebSquare.net._hideIFrame(str);}}catch(e){_.exception.printStackTrace(e);}};_._l._hideIFrame=function(idx){var _3a=_._l.showIFrameName[idx];if(typeof document.all[_3a]!="undefined"&&document.all[_3a]!=null){document.all[_3a].innerHTML="";document.all[_3a].style.zIndex=1;document.all[_3a].visibility="hidden";document.body.removeChild(document.all[_3a]);}};_._l.getIFrameParam=function(){try{if(_._h.isParentFrameMethod("WebSquare.net._getParam")){var str=_._l.getParameter("modalParamIdx");return parent.WebSquare.net._getParam(str);}else{return "";}}catch(e){_.exception.printStackTrace(e);return "";}};_._l.hasParentFrame=function(){try{if(_._h.browserCheck.ieAllVersion){var _3c=_._h.browserVersion();if(_3c.charAt(0)=="5"&&window.parent!=window){return true;}else{if((_3c=="6"||_3c=="7")&&window.parent!=window&&window.parent==window.frameElement.ownerDocument.parentWindow){return true;}else{if(window.parent!=window){return true;}else{return false;}}}}else{if(_._h.browserCheck.moz){if(window.parent!=window){return true;}else{return false;}}else{if(_._h.browserCheck.opera){if(window.parent!=window){return true;}else{return false;}}}}}catch(e){_.exception.printStackTrace(e);}return false;};_._l.openWebsquareUrl=function(url,_3e,_3f){if(!_3f){_3f=window;}if(_3f&&_3f.location){var _3e=_.extend(_._l.getAllParameter(),_3e);_3e["w2xPath"]=_._h.getURL(url);if(url.startsWith("/")){_3e["w2xHome"]="";}var _40=[];var _41="";for(obj in _3e){_40.push(obj+"="+_3e[obj]);}_41="?"+_40.join("&");url=_3f.location.href.replace(/\?.*/,_41);_3f.location.assign(url);}};_._l.openUrl=function(url,_43){if(!_43){_43=window;}if(_43&&_43.location){if(!url.match(/^http:\/\//)){url="http://"+url;}_43.location.assign(url);}};_._l.getSSLBlankPage=function(_44){var src="";if(_._h.browserCheck.ie&&location.protocol=="https:"){if(_44==true){src=_.baseURI+"blank.html";}else{src="src='"+_.baseURI+"blank.html'";}}return src;};_._l.isSSLBlankPage=function(url){var _47=false;if(url==_.baseURI+"blank.html"){_47=true;}return _47;};_._l.ajax=function(_48){try{var _49,result,errorEventObj,doneEventObj;if(_48.beforeAjax){_49=_48.beforeAjax(_48);if(typeof _49!="undefined"&&_49==false){$l("ajax beforeAjax\uc5d0\uc11c result\uac00 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8");return;}}if(_48.processMsg!=""){_.layer.showProcessMessage(_48.processMsg);}var obfuscator_http=_._h.getXMLHTTPObject();var url=_._G.getSubmissionURL(_48.action);var _4b=(_48.mode=="synchronous")?false:true;var _4c=_48.mediatype||"application/xml";var _4d=_48.method||"post";var _4e=_48.requestData;var _4f=_48.timeout;$l(url);obfuscator_http.open(_4d,url,_4b);try{if(_48.withCredentials){if(_48.mode=="asynchronous"){obfuscator_http.withCredentials=_48.withCredentials;}}}catch(ee){_.exception.printStackTrace(ee);}obfuscator_http.setRequestHeader("Accept",_4c);obfuscator_http.setRequestHeader("Content-Type",_4c);try{if(_48.requestHeader){for(var _50 in _48.requestHeader){obfuscator_http.setRequestHeader(_50,_48.requestHeader[_50]);}}}catch(ee){_.exception.printStackTrace(ee);}var _51;if(_4b){if(_4f){_51=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();errorEventObj={"errorType":"timeout-error","resourceUri":url,"time":_4f};_.layer.hideProcessMessage();$l("ajax timeout");window.clearTimeout(_51);if(_48.error){_48.error(errorEventObj);}return;},_4f);}obfuscator_http.onreadystatechange=function(){_._l.defaultcallback(obfuscator_http,_48,_51);};}obfuscator_http.send(_48.requestData);if(!_4b){_._l.commonHandler(obfuscator_http,_48);}}catch(e){_.exception.printStackTrace(e);_.layer.hideProcessMessage();}};_._l.commonHandler=function(obfuscator_http,_52){var _53;var url=_._h.getURL(_52.action);var _55=obfuscator_http.getResponseHeader("Content-Type")||"";if(_55.indexOf("xml")>-1){if(_.BootLoader.useWebSquareXMLParser){_53=_._t.parse(obfuscator_http.responseText);}else{_53=obfuscator_http.responseXML;}}else{if(_55.indexOf("json")>-1){_53=JSON.parse(obfuscator_http.responseText);}else{_53=obfuscator_http.responseText;}}var _56=function(obj){if(_55.indexOf("json")>-1){obj.responseJSON=_53;}else{if(_55.indexOf("xml")>-1){obj.responseBody=_53;}}};if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _58={"errorType":"resource-error","resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_52.requestData,"responseBody":"text/"+obfuscator_http.responseText};$l("ajax error(E01). Status["+obfuscator_http.status+"] ");_.layer.hideProcessMessage();if(_52.error){_52.error(_58);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _59={"resourceUri":url,"responseHeaders":_._C.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_52.requestData,"responseText":obfuscator_http.responseText};_56(_59);$l("ajax complete. Status["+obfuscator_http.status+"] ");_.layer.hideProcessMessage();if(_52.success){_52.success(_59);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;};_._l.defaultcallback=function(obfuscator_http,_5a,_5b){try{var _5c;var url=_._h.getURL(_5a.action);var _5e=_5a.requestData;if(obfuscator_http.readyState==4){if(_5b){window.clearTimeout(_5b);_5b=null;}_._l.commonHandler(obfuscator_http,_5a);}}catch(e){_.exception.printStackTrace(e);_.layer.hideProcessMessage();}};_._l.download=function(_5f,_60,_61){_._h.download(_5f,_60,_61);};;WebSquare.net=_._l;_._K={};_._K.sessionData={};_._K.sessionType=new Object();_._K.getAttribute=function(_1){var obfuscator_retStr=_._h.recursiveCall("WebSquare.session._getAttributeData",_1);var _2=_._h.recursiveCall("WebSquare.session._getAttributeType",_1);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_2.toLowerCase()=="string"||_2.toLowerCase()=="number"||_2.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_2=="xml"){return _._t.parse(obfuscator_retStr);}else{if(_2=="object"){return obfuscator_retStr;}else{return eval("new "+_2+"( obfuscator_retStr )");}}}};_._K.removeAttribute=function(_3){var obfuscator_retStr=_._h.recursiveCall("WebSquare.session._removeAttributeData",_3);var _4=_._h.recursiveCall("WebSquare.session._removeAttributeType",_3);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_4.toLowerCase()=="string"||_4.toLowerCase()=="number"||_4.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_4=="xml"){return _._t.parse(obfuscator_retStr);}else{if(_4=="object"){return obfuscator_retStr;}else{return eval("new "+_4+"( obfuscator_retStr )");}}}};_._K.removeSession=function(){var _5=_._h.recursiveCall("WebSquare.session._removeSession");var _6=_._h.recursiveCall("WebSquare.session._removeSession");};_._K.setAttribute=function(_7,_8){var _9="object";if(typeof _8=="string"){_9="string";}else{if(_._t.isDocument(_8)){_8=_._t.serialize(_8);_9="xml";}else{if(typeof _8=="object"){if(typeof _8.serialize=="function"&&typeof _8.classType!="undefined"){_9=_8.classType;_8=_8.serialize();}else{_8=_8;_9="object";}}}}_._h.recursiveCall("WebSquare.session._setAttribute",_7,_8,_9);};_._K._getAttributeData=function(_a){var _b=_._K.sessionData[_a];if(typeof _b=="undefined"||_b==null){return null;}return _b;};_._K._getAttributeType=function(_c){var _d=_._K.sessionType[_c];if(typeof _d=="undefined"||_d==null){return null;}return _d;};_._K._removeAttributeData=function(_e){var _f=_._K.sessionData[_e];_._K.sessionData[_e]=null;delete _._K.sessionData[_e];if(typeof _f=="undefined"||_f==null){return null;}return _f;};_._K._removeAttributeType=function(key){var _11=_._K.sessionType[key];_._K.sessionType[key]=null;delete _._K.sessionType[key];if(typeof _11=="undefined"||_11==null){return null;}return _11;};_._K._removeSession=function(key){_._K.sessionData={};_._K.sessionType={};};_._K._setAttribute=function(key,_14,_15){_._K.sessionData[key]=_14;_._K.sessionType[key]=_15;};;WebSquare.session=_._K;(function(_1){_._G={};_._G.loadedUserComponent={};_._G.loadedUserComponentPluginName={};var _2=_1.document;_._G.documentWrite=function(_3,_4){if(typeof _4!="undefined"&&_4!=null&&_4!=""){var _5=_2.getElementById(_4);_5.innerHTML=_3;}else{_2.write(_3);}};_._G.numericSort=function(a,b){return (parseInt(a,10)-parseInt(b,10));};_._G.getNumber=function(_8){var _9=_8+"";var re=/,/g;var _b=/[^0-9.-]/g;var _c=_9.replace(re,"");if(_c.match(_b)!=null){alert("Not a Number :"+_9);return NaN;}if(_c==null||_c==""){_c="0";}if(_c.indexOf(".")==-1){return parseInt(_c,10);}else{return parseFloat(_c);}};_._G.setNumber=function(_d){var _e=_d+"";if(_e.length==0){return;}var _f="";var _10="";var _11="";if(_e.substring(0,1)=="+"||_e.substring(0,1)=="-"){_f=_e.substring(0,1);_e=_e.substring(1);}if(_e.indexOf(".")>-1){_11=_e.substring(_e.indexOf("."));_e=_e.substring(0,_e.indexOf("."));}for(var i=_e.length-3;i>=1;i=i-3){_10=","+_e.substring(i,i+3)+_10;}_10=_e.substring(0,i+3)+_10;return _f+_10+_11;};_._G.parseInt=function(str,_14){var ret=parseInt(str,10);if(typeof _14!="undefined"&&!isNaN(_14)&&isNaN(ret)){return _14;}else{return ret;}};_._G.parseFloat=function(str,_17){var ret=parseFloat(str);if(typeof _17!="undefined"&&!isNaN(_17)&&isNaN(ret)){return _17;}else{return ret;}};_._G.getDate=function(str){var _1a=str+"";if(_1a.length==10){var re=/[^0-9]/g;return _1a.replace(re,"");}else{return _1a;}};_._G.setDate=function(str){var _1d=str+"";if(_1d.length!=8){return;}return _1d.substring(0,4)+"/"+_1d.substring(4,6)+"/"+_1d.substring(6,8);};_._G.getTime=function(str){var _1f=str+"";if(_1f.length==5){var re=/[^0-9]/g;return _1f.replace(re,"");}else{if(_1f.length==8){var re=/[^0-9]/g;return _1f.replace(re,"");}else{return _1f;}}};_._G.setTime=function(str){var _22=str+"";if(_22.length!=4){return;}return _22.substring(0,2)+":"+_22.substring(2,4);};_._G.viewSource=function(){var _23="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _24="";if(_.domain){_24="?domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("viewSourceURL");if(!url){url=_.baseURI+"message/viewSource.html";}var _26=_1.open(url+_24,"_blank",_23);};_._G.viewInstance=function(){var _27="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _28="";if(_.domain){_28="?domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("viewInstanceURL");if(!url){url=_.baseURI+"message/viewInstance.html";}var _2a=_1.open(url+_28,"_blank",_27);};_._G.viewFiddle=function(){var _2b="top=30,height=710,left=50,width=1100,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _2c="";if(_.domain){_2c="?domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("fiddleURL");if(!url){url=_.baseURI+"fiddle/fiddle.html";}var _2e=_1.open(url+_2c,"_blank",_2b);};_._G.getSource=function(_2f){if(typeof _2f!="undefined"&&_2f=="raw"){return _._t.serialize(_.WebSquaredoc.xmlDocument);}else{return _._t.indent(_.WebSquaredoc.xmlDocument,"html");}};_._G.getInstance=function(_30){if(typeof _30!="undefined"&&_30=="raw"){return _._t.serialize(_._C.getInstanceByXPath("/").xmlNode.parentNode);}else{return _._t.indent(_._C.getInstanceByXPath("/").xmlNode.parentNode,"html");}};_._G.printRange=function(obj){var _32="top=0,height=670,left=0,width=1000,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _33="?id="+obj;if(_.domain){_33+="&domain="+_._B.URLEncoder(_.domain);}var url=_._h.getConfiguration("printRangeURL");if(!url){url=_.baseURI+"\"message/printRange.html";}var _35=_1.open(url+_33,"_blank",_32);};_._G.evalProp=function(_36,_37){return (_37&&_._G.isDef(_36,_37)?_37[_36]:_37[_36]={});};_._G.setCursor=function(_38){_2.body.style.cursor=_38;var _39=_2.getElementsByTagName("div");if(_39!=null){for(var i=0;i<_39.length;i++){if(_39[i].id!="undefined"&&_39[i].currentStyle.display!="none"&&_39[i].currentStyle.visibility!="hidden"){_39[i].style.cursor=_38;}}}};_._G.setCursorAsync=function(_3b){var cmd="WebSquare.util.setCursor('"+_3b+"');";_1.setTimeout(cmd,1);};_._G.toPixel=function(s,_3e){if(String(s).indexOf("%")!=-1){var n=parseInt(s);return parseInt(n/100*(_3e=="x"?screen.availWidth:screen.availHeight));}return s;};_._G.dbltoHexacode=function(dbl){dbl=Math.floor(dbl);var _41="0123456789ABCDEF";var _42=_41.substr(dbl&15,1);while(dbl>15){dbl>>=4;_42=_41.substr(dbl&15,1)+_42;}return _42;};_._G.hexacodetoDbl=function(_43){return parseInt(_43,16);};_._G.isOdd=function(num){var _45=parseInt(num);if((_45%2)==0){return false;}else{return true;}};_._G.isInteger=function(num){var y=parseInt(num,10);if(isNaN(y)){return false;}if(num==y&&num.toString()==y.toString()){return true;}else{return false;}};_._G.isExist=function(_48,_49){return (_49[_48]!=null);};_._G.isDef=function(_4a,_4b){if(_4b==null){_4b=_1;}if(_4b[_4a]==null){return false;}else{return (typeof _4b[_4a]!="undefined");}};_._G.getTDIndex=function(_4c){try{while(_4c.tagName!="TABLE"){if(_4c.tagName=="TD"){var _4d=_4c.parentNode.childNodes;for(var i=0;i<_4d.length;i++){if(_4d.item(i)==_4c){return i;}}break;}_4c=_4c.parentNode;}}catch(e){}return -1;};_._G.getTRIndex=function(_4f){try{while(_4f.tagName!="TABLE"){if(_4f.tagName=="TR"){var _50=_4f.parentNode.childNodes;for(var i=0;i<_50.length;i++){if(_50.item(i)==_4f){return i;}}break;}_4f=_4f.parentNode;}}catch(e){}return -1;};_._G.getSiblingIndex=function(obj){try{if(!obj){return -1;}var idx=0;while(obj.previousSibling){obj=obj.previousSibling;idx++;}return idx;}catch(e){}return -1;};_._G.getObjectValue=function(obj,_55,_56){if(typeof obj!="undefined"&&obj!=null&&typeof obj[_55]!="undefined"&&obj[_55]!=""){return obj[_55];}else{if(typeof _56=="undefined"){return null;}else{return _56;}}};_._G.objToXML=function(obj){var _58=_._t.parse("<object/>");for(var i in obj){if(typeof i=="string"&&typeof obj[i]=="string"){_._t.setValue(_58.documentElement,i,"value",obj[i]);}}return _58;};_._G.getBoolean=function(_5a){if(typeof _5a=="boolean"){return _5a;}else{if(typeof _5a=="string"&&_5a.toLowerCase()=="true"){return true;}else{return false;}}};_._G.checkUpdate=function(){if(_._G.checkMode=="client"){try{var _5b=_._h.getXMLHTTPIndex();var _5c=_._h.XMLHTTPObject[_5b];var uri=_.BootLoader.getRandomPostfix(_.w2xPath);_5c.open("GET",uri,true);_5c.send(null);_5c.onreadystatechange=function(){try{if(_5c.readyState!=4){return;}if((_5c["status"])&&((200>_5c.status)||(400<=_5c.status))){_._h.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",_._G.checkInterval);}else{var _5e=null;if(_.BootLoader.useWebSquareXMLParser){_5e=_._t.parse(_5c.responseText);}else{_5e=_5c.responseXML;}var ret="N/A";if(_._h.browserCheck.ieAllVersion&&_.BootLoader.useActiveXObject){var _60=_._h.getNamespaces(_5e);var _61="";for(var i in _60){if(i!=""){_61+="xmlns:"+i+"=\""+_60[i]+"\" ";}}_5e.setProperty("SelectionLanguage","XPath");_5e.setProperty("SelectionNamespaces",_61);}var _63=_._t.getElementsByTagName(_5e,"buildDate",_._h._XML_NAMESPACE.W2);if(_63.length==1){ret=(_63[0].firstChild.nodeValue);}if(ret!=_.buildDate){var _64=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+_.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+_.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");_._h.releaseXMLHTTPObject(_5b);if(_64){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+_.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{_.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+_.buildDate+"]");_._h.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",_._G.checkInterval);}}}catch(e){_.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");_._h.removeXMLHTTPObject(_5b);}};}catch(e){_.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");}}else{if(_._G.checkMode=="server"){try{var _5b=_._h.getXMLHTTPIndex();var _5c=_._h.XMLHTTPObject[_5b];var uri=_._G.checkURL;_5c.open("POST",uri,true);_5c.send(_.w2xPath);_5c.onreadystatechange=function(){try{if(_5c.readyState!=4){return;}if((_5c["status"])&&((200>_5c.status)||(400<=_5c.status))){_._h.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",_._G.checkInterval);}else{var ret=_5c.responseText;if(ret!=_.buildDate){var _66=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+_.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+_.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");_._h.releaseXMLHTTPObject(_5b);if(_66){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+_.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{_.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+_.buildDate+"]");_._h.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",_._G.checkInterval);}}}catch(e){_.exception.printStackTrace(e);_._h.removeXMLHTTPObject(_5b);}};}catch(e){_.exception.printStackTrace(e);}}}};_._G.registContextMenu=function(id,vec){var obj=id;var _6a=_._G.makeContextMenuString(vec);var str=_6a.menuStr;var _6c=_6a.width+10;if(typeof id=="string"){obj=eval(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}if(_._h.browserCheck.opera){obj.onmousedown=function(e){if(e.ctrlKey){_._G.contextObject=_._F.getTarget(e);var _6e=_1.innerWidth-_._F.getClientX(e);var _6f=_1.innerHeight-_._F.getClientY(e);var _70=_2.getElementById("_contextMenuLayer");if(typeof _70=="undefined"||_70==null){_70=_2.createElement("div");_2.body.insertBefore(_70,null);_70.id="_contextMenuLayer";_70.style.position="absolute";}if(_6e<182){_70.style.left=_1.pageXOffset+_._F.getClientX(e)-182;}else{_70.style.left=_1.pageXOffset+_._F.getClientX(e);}if(_6f<176){_70.style.top=_1.pageYOffset+_._F.getClientY(e)-176;}else{_70.style.top=_1.pageYOffset+_._F.getClientY(e);}var _71=vec.size()*19+9;if(vec.size()>15){_71=295+"px";}_70.style.height=_71;_70.style.overflow="hidden";_70.style.zIndex="20000";_70.style.visibility="visible";_70.innerHTML=str;return false;}else{return true;}};}else{obj.oncontextmenu=function(e){_._G.contextObject=_._F.getTarget(e);var _73=_2.getElementById("_contextMenuLayer");var _74=document.documentElement.scrollLeft||document.body.scrollLeft;var _75=document.documentElement.scrollTop||document.body.scrollTop;var _76=_._F.getClientX(e)+_74;var _77=_._F.getClientY(e)+_75;if(typeof _73=="undefined"||_73==null){_73=_2.createElement("div");_73.id="_contextMenuLayer";_73.style.position="absolute";document.body.appendChild(_73);}_73.style.zIndex="20000";_73.style.visibility="visible";_73.innerHTML=str;var _78=_73.offsetWidth+10;var _79=_73.offsetHeight+10;if(_76+_78>_74+document.documentElement.clientWidth){_76=_74+document.documentElement.clientWidth-_78-10;}if(_77+_79>_75+document.documentElement.clientHeight){_77=_75+document.documentElement.clientHeight-_79-10;}_73.style.left=_76+"px";_73.style.top=_77+"px";return false;};}}};_._G.removeContextMenu=function(id){var obj=id;if(typeof id=="string"){obj=eval(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}obj.oncontextmenu=null;}};_._G.makeContextMenuString=function(vec){var str="";var _7e=175;for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);var _81=_._t.getAttribute(dom,"name","value");var _82=_._G.getWidth(_81)+30;if(_7e<_82){_7e=_82;}}if(_._h.browserCheck.ieAllVersion){var _83=vec.size()*19+10;if(vec.size()>15){_83=295;}str+="<div id='contextLayer' onselectstart='return false' style='overflow-x:hidden; overflow-y: auto; width:"+(_7e+5)+"px; height:"+_83+"px; '>";str+="<table width='"+_7e+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}else{var _83=vec.size()*19+10;if(vec.size()>15){_83=286;}str+="<div onselectstart='return false' style='position:relative; overflow:auto; width:"+_7e+"px;height:"+_83+"px; border:4px solid #e7e7e7; '>";str+="<table width='"+_7e+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);if(_._t.getAttribute(dom,"separator","value")=="true"){str+=_.logger.contextMenuAddRow1(_._t.getAttribute(dom,"method","value"),_._t.getAttribute(dom,"name","value"));}else{str+=_.logger.contextMenuAddRow(_._t.getAttribute(dom,"method","value"),_._t.getAttribute(dom,"name","value"));}}var _84={};_84.menuStr=str;_84.width=_7e;return _84;};_._G.getElement=function(_85){if(!_1._elements){_1._elements=[];}var _86=_2.createElement(_85);_1._elements.push(_86);return _86;};_._G.getURLString=function(str){try{if(str.toLowerCase().indexOf("url")!=-1){var _88=str.indexOf("(");var end=str.indexOf(")");var _8a=str.substring(_88+1,end);_8a=_8a.replace(/\"/g,"");return _8a;}}catch(e){_.exception.printStackTrace(e);}};_._G.toHexColor=function(_8b){try{if(_8b.indexOf("rgb")!=-1){var _8c=_8b.indexOf("(");var end=_8b.indexOf(")");var _8e=_8b.substring(_8c+1,end);var RGB=_8e.split(",");var r=parseInt(RGB[0]).toString(16);var g=parseInt(RGB[1]).toString(16);var b=parseInt(RGB[2]).toString(16);if(r.length==1){r="0"+r;}if(g.length==1){g="0"+g;}if(b.length==1){b="0"+b;}return "#"+r+g+b;}else{return _8b;}}catch(e){_.exception.printStackTrace(e);}};if(!_1.getComputedStyle){_1.getComputedStyle=function(el,_94){this.el=el;this.getPropertyValue=function(_95){if(_95=="float"){_95="styleFloat";}_95=_95.capitalizeStyle();return (el&&el.currentStyle&&el.currentStyle[_95])?el.currentStyle[_95]:null;};return this;};}if(document.documentElement.currentStyle){_._G.getStyleProperty=function(_96,_97){_97=_97.wq_trim().capitalizeStyle();var _98=_96.currentStyle[_97];if(_97.toLowerCase().indexOf("color")>-1){return this.toHexColor(_98);}else{return _98;}};}else{if(_1.getComputedStyle){_._G.getStyleProperty=function(_99,_9a){var _9b=document.defaultView.getComputedStyle(_99,null).getPropertyValue(_9a);if(_9a.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9b);}else{return _9b;}};}else{_._G.getStyleProperty=function(_9c,_9d){var _9e=_9c.style[_9d];if(_9d.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9e);}else{return _9e;}};}}_._G.setSize=function(_9f){if(_._h.browserCheck.ie){return;}var _a0=_._G.getStyleProperty(_9f,"width");var _a1=_._G.getStyleProperty(_9f,"height");var _a2=parseInt(_._G.getStyleProperty(_9f,"border-left-width"))||0;var _a3=parseInt(_._G.getStyleProperty(_9f,"border-right-width"))||0;var _a4=parseInt(_._G.getStyleProperty(_9f,"border-top-width"))||0;var _a5=parseInt(_._G.getStyleProperty(_9f,"border-bottom-width"))||0;var _a6=parseInt(_._G.getStyleProperty(_9f,"padding-left"))||0;var _a7=parseInt(_._G.getStyleProperty(_9f,"padding-right"))||0;var _a8=parseInt(_._G.getStyleProperty(_9f,"padding-top"))||0;var _a9=parseInt(_._G.getStyleProperty(_9f,"padding-bottom"))||0;var _aa=_._G.getStyleProperty(_9f,"border-width");if(_a0!=""&&_a0.indexOf("px")>=0){_9f.style.width=parseInt(_a0)-_a2-_a3-_a6-_a7;}if(_a1!=""&&_a1.indexOf("px")>=0){_9f.style.height=parseInt(_a1)-_a4-_a5-_a8-_a9;}};_._G.getWidth=function(str,_ac,_ad){_ac=(_ac==null)?"":_ac;_ad=(_ad==null)?"":_ad;var _ae=_._G.getRulerSpan();_ae.style.cssText=_ac;_ae.style.visibility="hidden";_ae.style.position="absolute";_ae.style.width="";_ae.className=_ad;_ae.innerHTML=str;_ae.style.top="-10000px";_ae.style.left="-10000px";return _ae.offsetWidth;};_._G.getRulerSpan=function(_af,_b0){var _b1=_2.getElementById("__rulerSpan__");if(_b1==null){_b1=_2.createElement("span");_b1.id="__rulerSpan__";_b1.style.visibility="hidden";_b1.style.position="absolute";_2.body.appendChild(_b1);}_b1.style.cssText=_af;_b1.style.visibility="hidden";_b1.style.position="absolute";_b1.className=_b0;return _b1;};_._G.getImageUrl=function(_b2,_b3){var _b4=_._G.getRulerSpan();_b4.style.cssText=_b2;_b4.style.visibility="hidden";_b4.style.position="absolute";_b4.className=_b3;_b4.style.top="-10000px";_b4.style.left="-10000px";var _b5=_._G.getStyleProperty(_b4,"background-image");return _b5;};_._G.getHeight=function(str,_b7,obj){var _b9=_._G.getRulerSpan();_b9.style.width=_b7;if(obj!=null){_b9.style.fontSize=obj.style.fontSize;_b9.style.fontFamily=obj.style.fontFamily;_b9.style.fontWeight=obj.style.fontWeight;}else{_b9.style.fontSize="";_b9.style.fontFamily="";_b9.style.fontWeight="";}_b9.innerHTML=str;_b9.style.top="-10000px";_b9.style.left="-10000px";return _b9.offsetHeight;};_._G.getHeight2=function(str,_bb,_bc,_bd){var _be=_._G.getRulerSpan();_be.style.cssText=_bc;_be.className=_bd;_be.style.visibility="hidden";_be.style.height="";_be.style.position="";_be.style.padding="0 0 0 0 ";_be.style.width=_._G.getStyleProperty(_be,"width");_be.style.fontSize=_._G.getStyleProperty(_be,"font-size")||"12px";_be.style.fontFamily=_._G.getStyleProperty(_be,"font-family")||"";_be.style.fontWeight=_._G.getStyleProperty(_be,"font-weight")||"";_be.innerHTML=str;_be.style.top="-10000px";_be.style.left="-10000px";var _bf=_be.offsetHeight;if(_bf==0){_bf=parseInt(_be.style.fontSize);}return _bf;};_._G.setVerticalAlignMiddle=function(_c0,_c1){var _c2=_._G.getStyleProperty(_c0,"height");var _c3=_._G.getStyleProperty(_c0,"vertical-align");_c3=(_c3=="")?"middle":_c3;var _c4=_._G.getStyleProperty(_c0,"padding-top");if((_c4==""||_c4=="0px")&&_c3=="middle"&&_c2!=""&&_c2.indexOf("px")>=0){var div=document.createElement("div");_c0.appendChild(div);div.innerHTML=_c1;var _c6=_._G.getRulerSpan(_c0.style.cssText,_c0.className);_c6.style.height="";_c6.style.top="-10000px";_c6.style.left="-10000px";_c6.innerHTML=_c1;var _c7=_c6.offsetHeight;div.style.marginTop=(parseInt(_c2)-_c7)/2;}else{if((_c4==""||_c4=="0px")&&_c3=="bottom"&&_c2!=""&&_c2.indexOf("px")>=0){var div=document.createElement("div");_c0.appendChild(div);div.innerHTML=_c1;var _c6=_._G.getRulerSpan(_c0.style.cssText,_c0.className);_c6.style.height="";_c6.style.top="-10000px";_c6.style.left="-10000px";_c6.innerHTML=_c1;var _c7=_c6.offsetHeight;var _c8=parseInt(_c2)-_c7-3;div.style.marginTop=_c8;}else{_c0.innerHTML=_c1;}}};_._G.getChildNodeAt=function(obj,idx){try{var _cb=_._G.first(obj);var _cc=0;while(_cb!=null&&_cc<idx){_cb=_._G.next(_cb);_cc++;}return _cb;}catch(e){_.exception.printStackTrace(e);}};_._G.prev=function(_cd){do{_cd=_cd.previousSibling;}while(_cd&&_cd.nodeType!=1);return _cd;};_._G.next=function(_ce){do{_ce=_ce.nextSibling;}while(_ce&&_ce.nodeType!=1);return _ce;};_._G.first=function(_cf){_cf=_cf.firstChild;if(_cf==null){return _cf;}return _cf&&_cf.nodeType!=1?_._G.next(_cf):_cf;};_._G.last=function(_d0){_d0=_d0.lastChild;return _d0&&_d0.nodeType!=1?_._G.prev(_d0):_d0;};_._G.parent=function(_d1,num){num=num||1;for(var i=0;i<num;i++){if(_d1!=null){_d1=_d1.parentNode;}}return _d1;};_._G.getEvent=function(e){try{e=e||event;}catch(e){_.exception.printStackTrace(e);}return e;};_._G.getStringByteSize=function(str){if(!str){return 0;}var _d6=_._h.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_d6){_d6="UTF-8";}_d6=_d6.toUpperCase();switch(_d6){case "UTF-8":return _._G.getByteLengthUtf8(str);break;default:return _._G.getByteLength(str);break;}};_._G.getByteLength=function(str){var _d8=0;for(var i=0;i<str.length;i++){var _da=escape(str.charAt(i));if(_da.length==1){_d8++;}else{if(_da.indexOf("%u")!=-1){_d8+=2;}else{if(_da.indexOf("%")!=-1){_d8+=_da.length/3;}}}}return _d8;};_._G.getByteLengthUtf8=function(str){var _dc=0;for(var i=0;i<str.length;i++){_dc+=_._G.getCharByteSize(str.charAt(i));}return _dc;};_._G.getStringByByteSize=function(str,_df){if(!str){return "";}var _e0=_._h.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_e0){_e0="UTF-8";}_e0=_e0.toUpperCase();switch(_e0){case "UTF-8":return _._G.getByteStringByLengthUtf8(str,_df);break;default:return _._G.getByteStringByLength(str,_df);break;}};_._G.getByteStringByLength=function(str,_e2){var _e3=0;for(var i=0;i<str.length;i++){var _e5=escape(str.charAt(i));if(_e5.length==1){_e3++;}else{if(_e5.indexOf("%u")!=-1){_e3+=2;}else{if(_e5.indexOf("%")!=-1){_e3+=_e5.length/3;}}}if(_e3>_e2){return str.substring(0,i);}}return str;};_._G.getByteStringByLengthUtf8=function(str,_e7){var _e8=0;for(var i=0;i<str.length;i++){var _ea=_._G.getCharByteSize(str.charAt(i));_e8+=_ea;if(_e8>_e7){return str.substring(0,i);}}return str;};_._G.getCharByteSize=function(ch){if(!ch||ch.length==0){return 0;}var _ec=0;var _ed=ch.charCodeAt(0);if(_ed<=127){_ec=1;}else{if(_ed<=2047){_ec=2;}else{if(_ed<=65535){_ec=3;}else{_ec=4;}}}return _ec;};_._G.getImageStyle=function(_ee,_ef){var _f0="";var _f1=_ee.toLowerCase();if(_f1.indexOf("background-image")>=0){_f1=_f1.substring(_f1.indexOf("background-image"));var a=_f1.split(";");var _f3=a[0].split(":");_f3.shift();_f0=_f3.join("").wq_trim();if(_f0.startsWith("url")){_f0=_f0.substring(3).wq_trim();if(_f0.charAt(0)=="("&&_f0.charAt(_f0.length-1)==")"){_f0=_._h.getImageURL(_f0.substring(1,_f0.length-1));}}}else{_f0=_._x.makeBackgroundImageUrl(_ef);}if(_f0!=""&&_f0!="none"){_f0="background-image:url("+_f0+")";}return _f0;};_._G.getInnerText=function(obj){var a="";try{a=obj.innerText;if(typeof a=="undefined"){a=obj.textContent;}}catch(e){_.exception.printStackTrace(e);}return a;};_._G.getTextNodeValue=function(_f6){try{var _f7=null;if(_f6){for(var _f8=_f6.firstChild;_f8!=null;_f8=_f8.nextSibling){if(_f8.nodeType==3){_f7=_f8.nodeValue;break;}}}return _f7;}catch(e){$l("dataController.getTextNodeValue :"+e.message);_.exception.printStackTrace(e);}};_._G.browserVersion=function(){try{return _._h.browserVersion();}catch(e){_.exception.printStackTrace(e);}};_._G.isIE=function(_f9){try{var _fa=_._h.browserCheck.ieVersion[_f9];if(_fa!=undefined){return _fa;}else{_fa=_._h.browserCheck.ie;if(_f9){_f9+="";_fa=_fa&&(_f9.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.ieVersion[_f9]=_fa;}return _fa;}}catch(e){_.exception.printStackTrace(e);}};_._G.isIEAllVersion=function(_fb){try{var _fc=_._h.browserCheck.ieVersion[_fb];if(_fc!=undefined){return _fc;}else{_fc=_._h.browserCheck.ieAllVersion;if(_fb){_fb+="";_fc=_fc&&(_fb.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.ieVersion[_fb]=_fc;}return _fc;}}catch(e){_.exception.printStackTrace(e);}};_._G.isFF=function(_fd){try{var _fe=_._h.browserCheck.mozVersion[_fd];if(_fe!=undefined){return _fe;}else{_fe=_._h.browserCheck.moz;if(_fd){_fd+="";_fe=_fe&&(_fd.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.mozVersion[_fd]=_fe;}return _fe;}}catch(e){_.exception.printStackTrace(e);}};_._G.isChrome=function(_ff){try{var _100=_._h.browserCheck.chromeVersion[_ff];if(_100!=undefined){return _100;}else{_100=_._h.browserCheck.chrome;if(_ff){_ff+="";_100=_100&&(_ff.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.chromeVersion[_ff]=_100;}return _100;}}catch(e){_.exception.printStackTrace(e);}};_._G.isSafari=function(_101){try{var _102=_._h.browserCheck.safariVersion[_101];if(_102!=undefined){return _102;}else{_102=_._h.browserCheck.safari;if(_101){_101+="";_102=_102&&(_101.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.safariVersion[_101]=_102;}return _102;}}catch(e){_.exception.printStackTrace(e);}};_._G.isOpera=function(_103){try{var _104=_._h.browserCheck.operaVersion[_103];if(_104!=undefined){return _104;}else{_104=_._h.browserCheck.opera;if(_103&&_._h.browserVersion()){_103+="";_104=_104&&(_103.indexOf(_._h.browserVersion())>-1);_._h.browserCheck.operaVersion[_103]=_104;}return _104;}}catch(e){_.exception.printStackTrace(e);}};_._G.isMobile=function(){try{var _105=_._h.browserCheck.isMobile;if(_105!=undefined){return _105;}else{if(_._h.browserCheck.android||_._h.browserCheck.iphone||_._h.browserCheck.ipad||_._h.browserCheck.ipod||_._h.browserCheck.blackberry){_105=true;}else{_105=false;}_._h.browserCheck.isMobile=_105;return _._h.browserCheck.isMobile;}}catch(e){_.exception.printStackTrace(e);}};_._G.isNull=function(_106){if(typeof _106=="undefined"||_106==null){return true;}else{return false;}};_._G.isNumber=function(_107){if(_._G.isNull(_107)){return false;}if(_107.constructor==Number){return true;}else{return false;}};_._G.isString=function(_108){if(_._G.isNull(_108)){return false;}if(_108.constructor==String){return true;}else{return false;}};_._G.isArray=function(_109){return _109&&typeof _109==="object"&&typeof _109.length==="number"&&typeof _109.splice==="function"&&!(_109.propertyIsEnumerable("length"));};_._G.isRegExp=function(_10a){if(_._G.isNull(_10a)){return false;}if(_10a instanceof RegExp){return true;}else{return false;}};_._G.XMLToHTML=function(node){if(typeof node.tagName=="undefined"&&node.nodeType==3){return document.createTextNode(node.nodeValue);}var _10c=document.createElement(node.tagName);var _10d=_.WebSquareparser.parseAttribute(node);try{for(var idx in _10d){if(idx=="style"){_10c.style.cssText=_10d[idx];continue;}else{if(idx=="className"){_10c.className=_10d[idx];continue;}}_10c[idx]=_10d[idx];}}catch(e){_.exception.printStackTrace(e,null,this);}for(var _10f=node.firstChild;_10f!=null;_10f=_10f.nextSibling){if(_10f.nodeType==1){_10c.appendChild(this.XMLToHTML(_10f));}else{if(_10f.nodeType==2||_10f.nodeType==3||_10f.nodeType==4){value=childNode.nodeValue;_10c.appendChild(document.createTextNode(_10f.nodeValue));}}}return _10c;};_._G.setPrecision=function(_110){try{if(typeof _110=="number"){_110=parseFloat(_110.toFixed(10));_110=parseFloat(_110.toPrecision(15));}return _110;}catch(e){_.exception.printStackTrace(e);}};_._G.dynamicCreate=function(id,_112,_113,_114,_115){try{var _116="uiplugin."+_112;if(_112=="secret"){_116="uiplugin.input";}requires(_116);var _117=_116.split(".");var comp;var xml;if(_113.nodeType&&(_113.nodeType===1||_113.nodeType===9)){xml=_113.nodeType==9?_113.documentElement:_113;_113={};}else{if(typeof _113=="string"){xml=_._t.parse(_113);xml=xml.documentElement;_113={};}}var _11a=_._G.loadedUserComponentPluginName[_117[1]];if(_11a){var xml=_._G.loadedUserComponent[_11a];var _11b=xml.getAttribute("class");_113.className+=" "+_11b;comp=_.controlFactory.create(id,_113,xml,"self");comp.scope_obj=comp;comp.makeScope(comp);}else{if(_117[1]=="selectbox"){if(_113.renderType=="native"){_117[1]="selectbox_native";}}comp=new _[_117[0]][_117[1]](id,_113,xml);}_1[id]=comp;if(typeof _.WebSquareDocument.componentsCache[_112]=="undefined"){_.WebSquareDocument.componentsCache[_112]=new Array();}if(typeof _.WebSquareDocument.componentsCache[_112].push=="function"){_.WebSquareDocument.componentsCache[_112].push(comp);}if(_115){comp.modelControl.setItemset(_115.nodeset,_115.label,_115.value);}comp.appendTo(_114);comp.activate();if(_115){comp.refreshItemset();}return comp;}catch(e){_.exception.printStackTrace(e);}};_._G.setSortable=function(id,_11d,_11e,_11f,_120){try{for(var i=0;i<_11e.length;i++){var _122=_.extend({handle:_11d[i]?_11d[i].render:_11e[i].render,delay:10,direction:"y"},_120||{});_._A.sDragManager.registerItem(_11e[i],_122);}for(var i=0;i<_11f.length;i++){_._A.sDragManager.registerGroup(id,_11f[i]);}}catch(e){_.exception.printStackTrace(e);}};_._G.getComponentById=function(id){try{return _1[id];}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getGlobalFunction=function(str){try{var path=str.wq_trim().split(".");var idx=0;var obj=path[0]?_1[path[idx++]]||null:null;while(obj&&(typeof obj=="object"||typeof obj=="function")&&idx<path.length){obj=obj[path[idx++]];}return typeof obj=="function"?obj:null;}catch(e){_.exception.printStackTrace(e,null,this);}};var _128=true,queue=[],handlers={},scripts={},root_page=/^[^?#]*\//.exec(location.href)[0],root_domain=/^\w+\:\/\/\/?[^\/]+/.exec(root_page)[0],test_script_elem=document.createElement("script"),explicit_preloading=typeof test_script_elem.preload=="boolean",real_preloading=explicit_preloading||(test_script_elem.readyState&&test_script_elem.readyState=="uninitialized"),script_ordered_async=!real_preloading&&test_script_elem.async===true,script_cache=real_preloading&&!script_ordered_async;var api=_._G;var _12a=0,PRELOADED=1,LOADING=2,LOADED=3;if(script_ordered_async){api.js=function(){$l("[WebSquare.util.js]script loading[script_ordered_async]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){load(el,fn&&i==lastScriptIndex?function(){one(fn);}:null);})(els[el],i);i++;}return api;};}else{if(script_cache){api.js=function(){$l("[WebSquare.util.js]script loading[script_cache]");var args=arguments,newArr=[],els={};for(var i=0;i<args.length;i++){(function(el){if(!isFunc(el)){if(!els[el]){newArr.push(el);}els[el]=el;}else{newArr.push(el);}})(args[i]);}args=newArr;var rest=[].slice.call(args,1),next=rest[0];if(next){each(rest,function(el){if(!isFunc(el)){preload(getScript(el));}});load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest);});}else{load(getScript(args[0]));}return api;};}else{api.js=function(){$l("[WebSquare.util.js]script loading[XHR]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){var uri=canonical_uri(el.url,"");if(uri.indexOf(root_domain)==0){_.BootLoader.globalEval(_.BootLoader.loadUri(uri));}else{load(el,null);}if(fn&&i==lastScriptIndex){one(fn);}})(els[el],i);i++;}return api;};}}function canonical_uri(src,_140){var _141=/^\w+\:\/\//;if(/^\/\/\/?/.test(src)){src=location.protocol+src;}else{if(!_141.test(src)&&src.charAt(0)!="/"){src=(_140||"")+src;}}return _141.test(src)?src:((src.charAt(0)=="/"?root_domain:root_page)+src);}api.ready=function(key,fn,_144){if(isFunc(_144)){fn=_144;key="ALL";}var _145=scripts[key];if(_145&&_145.state==LOADED||key=="ALL"&&allLoaded()){one(fn);return api;}var arr=handlers[key];if(!arr){arr=handlers[key]=[fn];}else{arr.push(fn);}return api;};function one(fn){if(!isFunc(fn)||fn._done){return;}fn();fn._done=1;}function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return i!=-1?name.substring(0,i):name;}function getScript(url){var _14b;if(typeof url=="object"){for(var key in url){if(url[key]){_14b={name:key,url:url[key]};}}}else{_14b={name:toLabel(url),url:url};}var _14d=scripts[_14b.url];if(_14d){return _14d;}for(var url in scripts){if(scripts[url]==_14b.url){return scripts[url];}}scripts[_14b.url]=_14b;return _14b;}function each(arr,fn){if(!arr){return;}if(typeof arr=="object"){arr=[].slice.call(arr);}for(var i=0;i<arr.length;i++){fn.call(arr,arr[i],i);}}function isFunc(el){return Object.prototype.toString.call(el)=="[object Function]";}function allLoaded(els){els=els||scripts;for(var url in els){if(els[url].state!=LOADED){return false;}}return true;}function onPreload(_154){_154.state=PRELOADED;each(_154.onpreload,function(el){el.call();});}function preload(_156,_157){if(!_156.state){_156.state=_12a;_156.onpreload=[];scriptTag({src:_156.url,type:"cache"},function(){onPreload(_156);});}}function load(_158,_159){if(_158.state==LOADED&&_159){return _159();}if(_158.state==LOADING){return api.ready(_158.url,_159,_158.name);}if(_158.state==_12a){return _158.onpreload.push(function(){load(_158,_159);});}_158.state=LOADING;scriptTag(_158.url,function(){_158.state=LOADED;if(_159){_159();}each(handlers[_158.url],function(fn){one(fn);});if(allLoaded()){each(handlers.ALL,function(fn){one(fn);});}});}function scriptTag(src,_15d){try{var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var s=_2.createElement("script");s.type="text/"+(src.type||"javascript");var _160=_._h.getConfiguration("/WebSquare/script/@encoding");if(_160){s.charset=_160;}else{s.charset="utf-8";}s.src=_.BootLoader.getEngineUri(src.src||src);s.async=false;s.onreadystatechange=s.onload=function(){var _161=s.readyState;if(!_15d.done&&(!_161||/loaded|complete/.test(_161))){s.onload=s.onreadystatechange=null;s=undefined;_15d();_15d.done=true;}};if(!_._G.isIE()){s.onerror=function(){_15d();_15d.done=true;};}head.appendChild(s);head=null;}catch(e){_.exception.printStackTrace(e,null,this);}}_._G.createPopup=function(id,type,_164,_165,_166,_167,_168,_169,_16a,xml,_16c){try{_._a._u.createPopup(id,type,_164,_165,_166,_167,_168,_169,_16a,xml,_16c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.openPopup=function(url,_16e,_16f,_170){try{_._a._u.openPopup(url,_16e,_16f,_170);}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getPopupParam=function(){try{return _._a._u.getPopupParam();}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.closePopup=function(id){try{var _172="";if(arguments.length==0){_172=_._l.getParameter("popupID");}else{_172=id;}if(id==undefined||id==""){_._h.closePopupWindow();}else{_._a._u.callClose(_172);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getPopup=function(id){try{return _._a._u.getPopup(id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getPopupWindow=function(id){try{return _._a._u.getPopupWindow(id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.isPopup=function(){try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};_._G.getDocumentSize=function(_175){try{var _175=_175.toLowerCase();if(_175=="height"){return document.documentElement.clientHeight||document.body.clientHeight;}else{if(_175=="width"){return document.documentElement.clientWidth||document.body.clientHeight;}}$l("getDocumentSize : wrong sizeName["+_175+"]");return;}catch(e){_.exception.printStackTrace(e);}};_._G.getSubmissionURL=function(url){try{var _177=_._h.getConfiguration("/WebSquare/hybrid/submissionURL");var _178=_._h.getURL(_._G.appendingPathComponent(_177,url));return _178;}catch(e){_.exception.printStackTrace(e);}};_._G.appendingPathComponent=function(_179,_17a){try{if(_17a.indexOf("://")>0||_179.length==0){return _17a;}var _17b=_179.length;if(_179.charAt(_17b-1)=="/"){if(_17a.charAt(0)=="/"){return _179+_17a.substr(1);}else{return _179+_17a;}}else{if(_17a.charAt(0)=="/"){return _179+_17a;}else{return _179+"/"+_17a;}}}catch(e){_.exception.printStackTrace(e);}};_._G.setDocumentLang=function(lang){try{document.documentElement.setAttribute("xml:lang",lang);}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.setDisabled=function(obj){try{var _17e=[];var _17f=[];var _180=obj.componentId;var flag=obj.disabled;var _182=obj.excludeIdList;var _183=obj.includeIdList;var _184;if(!_180){_184=_.getBody();}else{_184=_1[_180];}if(!_184||!_184.options||!_184.options.pluginName){$l("[WebSquare.util.setDisabled]id:\ud574\ub2f9\ud558\ub294 WebSquareComponent\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return {"doneComponents":_17e,"skipComponents":_17f};}var _185;if(_._G.isArray(_183)){if(!_185){_185={};}for(var i=0;i<_183.length;i++){_185[_183[i]]=true;}}else{if(_183){_185=_183;}}var _187=_._G.getDisabledComponentIdList(_184,flag);var _188=_187.targetComponents;_17f=_187.skipComponents;for(var i=0;i<_188.length;i++){var _189=_1[_188[i]];if(!_189){continue;}var _18a=_189.options.disabled;if(!_185){try{if(_18a!==flag){_189.setDisabled(flag);}_17e.push(_189.id);}catch(e){$l("[WebSquare.util.setDisabled]["+_189.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}else{try{if(_185[_189.id]){if(_18a!==flag){_189.setDisabled(flag);}_17e.push(_189.id);}}catch(e){$l("[WebSquare.util.setDisabled]["+_189.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}if(_182){for(var i=0;i<_182.length;i++){var _189=_1[_182[i]];var _18a=_189.options.disabled;if(_18a===flag){try{_189.setDisabled(!flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_189.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}}for(var i=0;i<_17f.length;i++){var _189=_1[_17f[i]];var _18a=_189.options.disabled;if(_18a!==flag){try{_189.setDisabled(flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_189.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}return {"doneComponents":_17e,"skipComponents":_17f};}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getDisabledComponentIdList=function(_18b,_18c,_18d){try{if(!_18d){_18d={};_18d.targetComponents=[];_18d.skipComponents=[];}var _18b;if(!_18b){_18b=_.getBody();}if(_18b&&_18b.options&&_18b.options.pluginName=="body"){}else{if(_18b.activeStatus!="active"){return _18d;}if(!_18b.id||!_1[_18b.id].options||!_1[_18b.id].options.pluginName){return _18d;}if(_18b.options.disabled===_18c){_18d.skipComponents.push(_18b.id);}else{_18d.targetComponents.push(_18b.id);}}for(var i=0;i<_18b.childControlList.length;i++){var _18f=_18b.childControlList[i];if(!_18f||!_1[_18f.id]||!_1[_18f.id].options||!_1[_18f.id].options.pluginName){continue;}_._G.getDisabledComponentIdList(_18f,_18c,_18d);}return _18d;}catch(e){_.exception.printStackTrace(e,null,this);}};_._G.getIgnoreKeyPressCodes=function(){return {8:"backspace",9:"tab",37:"left",38:"up",39:"right",40:"down",36:"home",35:"end",4:"insert",46:"del",33:"pageup",34:"pagedown"};};_._G.setDomain=function(_190){try{_.domain=_190;document.domain=_190;}catch(e){_.exception.printStackTrace(e);}};_._G.getChildren=function(_191,_192){try{if(!_191){_191=_191||_.getBody();if(_192){_192.recursive=false;}}if(_192){var ret=[];var _194=_192.recursive?_191.getAllChildren():_191.getChildren();var _195=_192.excludePlugin?(" "+_192.excludePlugin+" "):false;var _196=_192.excludeId?(" "+_192.excludeId+" "):false;for(var i=0;i<_194.length;i++){if((!_196||_196.indexOf(" "+_194[i].id+" ")<0)&&(!_195||_195.indexOf(" "+_194[i].options.pluginName+" ")<0)){ret.push(_194[i]);}}return ret;}else{return _191.getChildren().slice(0);}}catch(e){_.exception.printStackTrace(e);}};_._G.addClearMemory=function(fn){try{if(fn){_._h.userClearMemoryStack.push(fn);}}catch(e){_.exception.printStackTrace(e);}};_._G.loadUserComponent=function(src,id,_19b){try{var _19c=_._t.load(src);var _19d=[];if(id){if(this.loadedUserComponent[src+"#"+id]){return;}_19d.push(id);}else{var _19e=_._t.findNodes(_19c.documentElement,"//@id");for(var i=0;i<_19e.length;i++){var _1a0=_19e[i].value;if(this.loadedUserComponent[src+"#"+_1a0]){continue;}_19d.push(_1a0);}}for(var i=0;i<_19d.length;i++){var _1a1=_._t.findNode(_19c.documentElement,"//*[@id='"+_19d[i]+"']");var _1a2;if(_1a1){var _1a3=_1a1.firstChild;for(var node=_1a3;node!=null;node=node.nextSibling){if(node.nodeName=="w2:style"){_1a2=node;break;}}}if(_1a2){_1a1.removeChild(_1a2);var _1a5=_1a5=document.getElementsByTagName("head")[0];if(_1a5.getElementsByTagName("style").length==0){var _1a6=document.createElement("style");_1a6.setAttribute("type","text/css");_1a5.appendChild(_1a6);}var _1a7=_._t.serialize(_1a2.childNodes[0]);if(_._G.isIE(8)){_1a5.getElementsByTagName("style")[0].styleSheet.cssText+=_1a7;}else{_1a5.getElementsByTagName("style")[0].innerHTML+=_1a7;}}_._G.loadedUserComponent[src+"#"+_19d[i]]=_1a1;_._G.loadedUserComponentPluginName[_19b]=src+"#"+_19d[i];}}catch(e){_.exception.printStackTrace(e);}};_._G.multipleExcelDownload=function(_1a8){try{var _1a9=_1a8.common;var _1aa=_1a8.excelInfo;var _1ab={};var _1ac=[];var _1ad=[];var _1ae=true;var _1af=true;var comp;var _1b1=new _._s.Vector();for(var i=0;i<_1aa.length;i++){_1ab={};_1ac=[];_1ab=_1aa[i];for(var key in _1a9){_1ab[key]=_1a9[key];}_1ab.dataProvider=_1ab.dataProvider||"";if(_1ab.dataProvider==""){_1af=false;break;}if(_1ab.sheetName==""){_1ae=false;break;}var _1b4="";_1b4=_1ab.sheetName;for(var j=0;j<_1ad.length;j++){if(_1ad[j]==_1ab.sheetName){_1ab.sheetName=_1ab.sheetName+"("+j+")";break;}}_1ad.push(_1b4);_1ac=_1ab.infoArr;comp=_._G.getComponentById(_1ab.gridId);var _1b6=100;var _1b7=parseInt(_1ab.rowsByN);_1ab.rowsByN=_1b7>_1b6?_1b7:_1b6;_1ab.dataLength=comp.getDataLength();switch(_1ab.type+""){case "":case "0":_1ab.type=0;break;case "2":_1ab.type=2;break;default:_1ab.type=1;}if(_1ab.type===0||_1ab.type===1){if(_1ab.showProcess===true){_.layer.showProcessMessage("composing excel data...");}else{_.getBody().showModal("w2modal_gridDownload");}_1ab.cellInfo=[];_1ab.isPlainDataCol=[];_1ab.isSelectCol=[];_1ab.isBasicCol=[];_1ab.isExpCol=[];var _1b8=comp.oneRowDataLength;for(var j=0;j<_1b8;j++){var _1b9=comp.getCellInfo(j);var _1ba=_1b9.options.inputType;_1ab.cellInfo[j]=_1b9;_1ab.isPlainDataCol[j]=_1ba==="checkbox"||_1ba==="image"||_1ba==="radio"||_1ba==="autofinder";_1ab.isSelectCol[j]=_1ba==="select";_1ab.isExpCol[j]=_1ba==="expression";_1ab.isBasicCol[j]=!_1ab.isPlainDataCol[j]&&!_1ab.isSelectCol[j]&&!_1ab.isExpCol[j];}}var _1bb=0;var _1bc=[];_1ab.multiexcel=true;_1ab.massStorage=false;var hash=comp.makeExcelData(_1bb,_1bc,_1ab,_1ac);_1b1.addElement(hash);}if(_1ae==false){_.logger.printLog("sheetName has not been set. Set the properties sheetName.");}if(_1af==false){_.logger.printLog("dataProvider has not been set. Set the properties dataProvider");}if(_1af==true&&_1ae==true){_._h.excelDownload(comp.options.advancedExcelDownloadURL,_1b1.toString(),"post");comp.xmlData=null;if(_1ab.showProcess===false){_.getBody().hideModal();}else{if(_1ab.showConfirm===true){this.hideDownloadLayer();}}}}catch(e){_.exception.printStackTrace(e,null,this);}};})(window);;WebSquare.util=_._G;_._u={};_._u.toTimestampString=function(_1){var _2=_._B.fillZero(_1.getFullYear(),4);var _3=_._B.fillZero(_1.getMonth()+1,2);var _4=_._B.fillZero(_1.getDate(),2);var _5=_._B.fillZero(_1.getHours(),2);var _6=_._B.fillZero(_1.getMinutes(),2);var _7=_._B.fillZero(_1.getSeconds(),2);var _8=_._B.fillZero(_1.getMilliseconds(),3);var _9=_2+"-"+_3+"-"+_4+" "+_5+":"+_6+":"+_7+"."+_8+"000";return _9;};_._u._parseDate=function(_a,_b){if(typeof _b=="undefined"||_b==null||_b==""){_b="yyyyMMdd";}_a=_._G.getDate(_a);if(_a.length!=_b.length){return _a;}var _c=["","","","","",""];for(var i=0;i<_b.length;i++){var _e=_b.charAt(i);var _f=_a.charAt(i);switch(_e){case "y":_c[0]+=_f;break;case "M":_c[1]+=_f;break;case "d":_c[2]+=_f;break;case "H":_c[3]+=_f;break;case "m":_c[4]+=_f;break;case "s":_c[5]+=_f;break;}}for(var i=0;i<_c.length;i++){if(i===0){_._B.fillZero(_c[i],4);}else{_._B.fillZero(_c[i],2);}}return _c;};_._u.parseDate=function(str,_11){var _12=_._u._parseDate(str,_11);if(typeof _12==="string"){return null;}return new Date(_12[0],_12[1]-1,_12[2],_12[3],_12[4],_12[5]);};_._u.dateDiff=function(_13,_14){_13=_13+"";_14=_14+"";_13=_._G.getDate(_13);_14=_._G.getDate(_14);if(_13.length!=8){alert(_._z.getMessage("E_date_ShouldBeyyMMddFormat",_13));}if(isNaN(_13)){alert(_._z.getMessage("E_date_ShouldBeNumberFormat",_13));}if(_14.length!=8){alert(_._z.getMessage("E_date_ShouldBeyyMMddFormat",_14));}if(isNaN(_14)){alert(_._z.getMessage("E_date_ShouldBeNumberFormat",_14));}var y1=parseInt(_13.substring(0,4),10);var m1=parseInt(_13.substring(4,6),10);var d1=parseInt(_13.substring(6,8),10);var y2=parseInt(_14.substring(0,4),10);var m2=parseInt(_14.substring(4,6),10);var d2=parseInt(_14.substring(6,8),10);var _1b=_._u.getMaxMinYear();var _1c=_1b["maxYear"];var _1d=_1b["minYear"];if(y1>_1c||y1<_1d){alert(_._z.getMessage("E_date_YearRange",_1d,_1c,y1));return;}if(m1>12||m1<1){alert(_._z.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert(_._z.getMessage("E_date_DayRange","1","31",d1));return;}if(y2>_1c||y2<_1d){alert(_._z.getMessage("E_date_YearRange",_1d,_1c,y2));return;}if(m2>12||m2<1){alert(_._z.getMessage("E_date_MonthRange","1","12",m2));return;}if(d2>31||d2<1){alert(_._z.getMessage("E_date_DayRange","1","31",d2));return;}var _1e=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1);var t2=Date.UTC(y2,m2-1,d2);return (t2-t1)/_1e;};_._u.dateAdd=function(_21,_22){_21=_21+"";_21=_._G.getDate(_21);if(_21.length!=8){alert(_._z.getMessage("E_date_ShouldBeyyMMddFormat",_21));}if(isNaN(_21)){alert(_._z.getMessage("E_date_ShouldBeNumberFormat",_21));}var y1=parseInt(_21.substring(0,4),10);var m1=parseInt(_21.substring(4,6),10);var d1=parseInt(_21.substring(6,8),10);var _26=_._u.getMaxMinYear();var _27=_26["maxYear"];var _28=_26["minYear"];if(y1>_27||y1<_28){alert(_._z.getMessage("E_date_YearRange",_28,_27,y1));return;}if(m1>12||m1<1){alert(_._z.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert(_._z.getMessage("E_date_DayRange","1","31",d1));return;}var _29=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1)+_22*_29;var t2=new Date();t2.setTime(t1);var ret=_._B.fillZero(t2.getUTCFullYear()+"",4)+_._B.fillZero((t2.getUTCMonth()+1)+"",2)+_._B.fillZero(t2.getUTCDate()+"",2);return ret;};_._u.isValidDate=function(obj,_2e){_2e=_._G.getDate(_2e);if(_2e==null||_2e.length!=8){alert(_._z.getMessage("E_date_ShouldBeyyMMddFormat",_2e));try{obj.focus();obj.select();}catch(e){_.exception.printStackTrace(e);}return false;}if(isNaN(_2e)){alert(_._z.getMessage("E_date_ShouldBeNumberFormat",_2e));try{obj.focus();obj.select();}catch(e){_.exception.printStackTrace(e);}return false;}var y1=parseInt(_2e.substring(0,4),10);var m1=parseInt(_2e.substring(4,6),10);var d1=parseInt(_2e.substring(6,8),10);if(m1<1||m1>12){alert(_._z.getMessage("E_date_MonthRange","1","12",m1));try{obj.focus();obj.select();}catch(e){_.exception.printStackTrace(e);}return false;}var _32=31;if(m1==2){_32=((y1%400==0)||((y1%4==0)&&(y1%100!=0)))?29:28;}else{if(m1==4||m1==6||m1==9||m1==11){_32=30;}}if(d1<1||d1>_32){alert(_._z.getMessage("E_date_DayRange","1",_32,d1));try{obj.focus();obj.select();}catch(e){_.exception.printStackTrace(e);}return false;}return true;};_._u.getFormattedDate=function(_33,_34){var ret=null;if(typeof _33!=="object"||_33==null){return null;}if(typeof _34=="undefined"||_34==null||_34==""){ret=_33.getTime()+"";}else{var idx=-1;idx=_34.indexOf("yyyy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getFullYear()+"",4);if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("yy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero((_33.getFullYear()+"").substr(2,2)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("MM");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero((_33.getMonth()+1)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("dd");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getDate()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("HH");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("hh");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("mm");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getMinutes()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("ss");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getSeconds()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("SSS");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=_._B.fillZero(_33.getMilliseconds()+"",3);if(idx+3<_34.length){tmp+=_34.substring(idx+3,_34.length);}_34=tmp;}idx=_34.indexOf("EEEE");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=_._z.getMessage("F_dateFormat_daynames_full").split(",");tmp+=_38[_33.getUTCDay()];if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("E");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=_._z.getMessage("F_dateFormat_daynames_abbr").split(",");tmp+=_38[_33.getUTCDay()];var _39=1;for(var i=idx+1;_34.charAt(i)==="E";i++){_39++;}if(idx+_39<_34.length){tmp+=_34.substring(idx+_39,_34.length);}_34=tmp;}ret=_34;}return ret;};_._u._getDay=function(_3b,_3c){_3b=_3b+"";var _3d=parseInt(_3b.slice(0,4));var _3e=_3b.slice(4,6);if(_3e.charAt(0)==0){_3e=parseInt(_3e.charAt(1));}else{_3e=parseInt(_3e);}var _3f=_3b.slice(6,8);if(_3f.charAt(0)==0){_3f=parseInt(_3f.charAt(1));}else{_3f=parseInt(_3f);}if(_3d<1900){if(_3c){alert(_._z.getMessage("Date_err_1900"));}return -1;}if(_3e<0||_3e>12){if(_3c){alert(_._z.getMessage("Date_err_12"));}return -1;}if(_3f<0||_3f>31){if(_3c){alert(_._z.getMessage("Date_err_31"));}return -1;}if(_3e==2&&_3f>28){if((_3d%4==0)&&(_3d%100!=0)||(_3d%400==0)){if(_3f>29){if(_3c){alert(_._z.getMessage("Date_err_29"));}return -1;}}else{if(_3c){alert(_._z.getMessage("Date_err_28"));}return -1;}}if(_3e==4||_3e==6||_3e==9||_3e==11){if(_3f>30){if(_3c){alert(_._z.getMessage("DatePicker_monthNames").split(",")[_3e-1]+_._z.getMessage("Date_err_30"));}return -1;}}var _40=_3e;if(_3e==1){_40=13;_3d=_3d-1;}if(_3e==2){_40=14;_3d=_3d-1;}var _41=parseInt(((_40+1)*3)/5,10);var _42=parseInt(_3d/4,10);var _43=parseInt(_3d/100,10);var _44=parseInt(_3d/400,10);var _45=_3f+(_40*2)+_3d+_41+_42-_43+_44+2;var _46=parseInt(_45/7,10);return _45-(_46*7);};_._u.getDay=function(_47){var _48=this._getDay(_47,true);switch(_48){case 0:return "\ud1a0\uc694\uc77c";case 1:return "\uc77c\uc694\uc77c";case 2:return "\uc6d4\uc694\uc77c";case 3:return "\ud654\uc694\uc77c";case 4:return "\uc218\uc694\uc77c";case 5:return "\ubaa9\uc694\uc77c";case 6:return "\uae08\uc694\uc77c";}};_._u.toLunar=function(_49){_49=_49.toString();var _4a=parseInt(_49.substring(0,4));var _4b=parseInt(_49.substring(4,6));if(_49.substring(4,6)=="09"){_4b=9;}var _4c=parseInt(_49.substring(6,8));if(_49.charAt(6)=="0"){_4c=parseInt(_49.charAt(7),10);}var _4d=new Array("1212122322121","1212121221220","1121121222120","2112132122122","2112112121220","2121211212120","2212321121212","2122121121210","2122121212120","1232122121212","1212121221220","1121123221222","1121121212220","1212112121220","2121231212121","2221211212120","1221212121210","2123221212121","2121212212120","1211212232212","1211212122210","2121121212220","1212132112212","2212112112210","2212211212120","1221412121212","1212122121210","2112212122120","1231212122212","1211212122210","2121123122122","2121121122120","2212112112120","2212231212112","2122121212120","1212122121210","2132122122121","2112121222120","1211212322122","1211211221220","2121121121220","2122132112122","1221212121120","2121221212110","2122321221212","1121212212210","2112121221220","1231211221222","1211211212220","1221123121221","2221121121210","2221212112120","1221241212112","1212212212120","1121212212210","2114121212221","2112112122210","2211211412212","2211211212120","2212121121210","2212214112121","2122122121120","1212122122120","1121412122122","1121121222120","2112112122120","2231211212122","2121211212120","2212121321212","2122121121210","2122121212120","1212142121212","1211221221220","1121121221220","2114112121222","1212112121220","2121211232122","1221211212120","1221212121210","2121223212121","2121212212120","1211212212210","2121321212221","2121121212220","1212112112210","2223211211221","2212211212120","1221212321212","1212122121210","2112212122120","1211232122212","1211212122210","2121121122210","2212312112212","2212112112120","2212121232112","2122121212110","2212122121210","2112124122121","2112121221220","1211211221220","2121321122122","2121121121220","2122112112322","1221212112120","1221221212110","2122123221212","1121212212210","2112121221220","1211231212222","1211211212220","1221121121220","1223212112121","2221212112120","1221221232112","1212212122120","1121212212210","2112132212221","2112112122210","2211211212210","2221321121212","2212121121210","2212212112120","1232212122112","1212122122120","1121212322122","1121121222120","2112112122120","2211231212122","2121211212120","2122121121210","2124212112121","2122121212120","1212121223212","1211212221220","1121121221220","2112132121222","1212112121220","2121211212120","2122321121212","1221212121210","2121221212120","1232121221212","1211212212210","2121123212221","2121121212220","1212112112220","1221231211221","2212211211220","1212212121210","2123212212121","2112122122120","1211212322212","1211212122210","2121121122120","2212114112122","2212112112120","2212121211210","2212232121211","2122122121210","2112122122120","1231212122212","1211211221220","2121121321222","2121121121220","2122112112120","2122141211212","1221221212110","2121221221210","2114121221221");var _4e=new Array("\uac11","\uc744","\ubcd1","\uc815","\ubb34","\uae30","\uacbd","\uc2e0","\uc784","\uacc4");var _4f=new Array("\uc790","\ucd95","\uc778","\ubb18","\uc9c4","\uc0ac","\uc624","\ubbf8","\uc2e0","\uc720","\uc220","\ud574");var _50=new Array("\uc950","\uc18c","\ubc94","\ud1a0\ub07c","\uc6a9","\ubc40","\ub9d0","\uc591","\uc6d0\uc22d\uc774","\ub2ed","\uac1c","\ub3fc\uc9c0");var _51=new Array("MOUSE","COW","TIGER","RABBIT","DRAGON","SNAKE","HORSE","SHEEP","MONKEY","COCK","DOG","PIG");var _52=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _53=new Array("SUN","MON","TUE","WED","THU","FRI","SAT");var _54,LunarMonth,LunarDay;var _55,LVar_month1,LVar_month2;var _56,LVar_iCount1,LVar_jCount,LVar_jCount1,LVar_jCount2;var _57,LVar_weekValue;var _58=new Array(170);var _59,LVar_TotalDays0,LVar_TotalDays1,LVar_TotalDays2;var _5a;var _5b,LunarStrDay;var _5c="";var _5d="";for(_56=0;_56<170;_56++){_58[_56]=0;for(LVar_jCount=0;LVar_jCount<12;LVar_jCount++){switch(Number(_4d[_56].charAt(LVar_jCount))){case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;}}switch(Number(_4d[_56].charAt(12))){case 0:break;case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;break;}}LVar_TotalDays1=(1880*365)+Math.floor(1880/4)-Math.floor(1880/100)+Math.floor(1880/400)+30;_5a=_4a-1;LVar_TotalDays2=(_5a*365)+Math.floor(_5a/4)-Math.floor(_5a/100)+Math.floor(_5a/400);_57=((_4a%400)==0)||((_4a%100)!=0)&&((_4a%4)==0);if(_57){_52[1]=29;}else{_52[1]=28;}if(_4c>_52[_4b-1]){return;}for(_56=0;_56<(_4b-1);_56++){LVar_TotalDays2=LVar_TotalDays2+_52[_56];}LVar_TotalDays2=LVar_TotalDays2+_4c;_59=LVar_TotalDays2-LVar_TotalDays1+1;LVar_TotalDays0=_58[0];for(_56=0;_56<170;_56++){if(_59<=LVar_TotalDays0){break;}LVar_TotalDays0=LVar_TotalDays0+_58[_56+1];}_54=_56+1881;LVar_TotalDays0=LVar_TotalDays0-_58[_56];_59=_59-LVar_TotalDays0;if(Number(_4d[_56].charAt(12))!=0){LVar_jCount2=13;}else{LVar_jCount2=12;}LVar_month2=0;for(LVar_jCount=0;LVar_jCount<LVar_jCount2;LVar_jCount++){if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month2++;}if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+28;}else{LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+26;}if(_59<=LVar_month1){break;}_59=_59-LVar_month1;}_55=LVar_jCount;LunarMonth=LVar_month2;LunarDay=_59;LVar_weekValue=LVar_TotalDays2%7;_56=(LVar_TotalDays2+4)%10;LVar_jCount=(LVar_TotalDays2+2)%12;LVar_iCount1=(_54+6)%10;LVar_jCount1=(_54+8)%12;if(LunarMonth<10){_5b="0"+LunarMonth;}else{_5b=""+LunarMonth;}if(LunarDay<10){LunarStrDay="0"+LunarDay;}else{LunarStrDay=""+LunarDay;}return _54.toString()+_5b.toString()+LunarStrDay.toString();};_._u.getCurrentServerDate=function(_5e){var _5f=_._h.getXMLHTTPObject();_5e=_5e||"";var _60=_._h.getConfiguration("serverTimeURL");if(!_60){_60=_.baseURI+"/engine/system/getServerTime.jsp";}_5f.open("POST",_60+"?pattern="+_5e+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_5f.send(null);var _61=_5f.responseText;_5f.onreadystatechange=function(){};_5f=null;return _61.wq_trim();};_._u.getMaxMinYear=function(){var _62=_._h.getConfiguration("/WebSquare/date/maxYear/@value")-0;if(_62<1000||_62>9999||isNaN(_62)){_62=2099;}var _63=_._h.getConfiguration("/WebSquare/date/minYear/@value")-0;if(_63<1000||_63>9999||isNaN(_63)){_63=1901;}if(_63>_62){var tmp=_63;_63=_62;_62=tmp;}var ret={};ret["maxYear"]=_62;ret["minYear"]=_63;return ret;};;WebSquare.date=_._u;_._B={};_._B.checkMaxLength=function(_1,_2){if(typeof _1!="undefined"&&typeof _1.maxLength!="undefined"&&_1.maxLength>-1){if(_2.length>_1.maxLength){var _3=_2.length-_1.maxLength;_2=_2.substring(_3);}}return _2;};_._B.checkAllowChar=function(_4,_5){var _6=_4;var _7="";if(typeof _5!="undefined"&&_5!=null&&_5!=""){var re=new RegExp("["+_5+"]");for(var i=0;i<_6.length;i++){var s=_6.charAt(i);if(s.match(re)!=null){_7+=s;}else{}}return _7;}else{return _6;}};_._B.checkIgnoreChar=function(_b,_c){var _d=_b;var _e="";if(typeof _c!="undefined"&&_c!=null&&_c!=""){var re=new RegExp("["+_c+"]");for(var i=0;i<_d.length;i++){var s=_d.charAt(i);if(s.match(re)!=null){}else{_e+=s;}}return _e;}else{return _d;}};_._B.getSelection=function(_12){var _13={start:0,end:0};try{if("selectionStart" in _12){_13.start=_12.selectionStart;_13.end=_12.selectionEnd;}else{var _14=document.selection.createRange().getBookmark();var _15=_12.createTextRange();_15.moveToBookmark(_14);var _16=_12.createTextRange();_16.collapse(true);_16.setEndPoint("EndToStart",_15);var _17=_16.text.length;var _18=_15.text.length;_13.start=_17;_13.end=_17+_18;}}catch(e){_.exception.printStackTrace(e);}return _13;};_._B.getCaretPos=function(_19){var len=0;try{if(_._G.isIE()){var _1b=_.document.selection.createRange();var _1c=_1b.duplicate();var _1d=_19.createTextRange();while(_1c.compareEndPoints("StartToStart",_1d)>0){_1c.moveStart("character",-1);len++;}}else{len=_19.selectionStart;}}catch(e){_.exception.printStackTrace(e);}return len;};_._B.setCaretPos=function(_1e,pos){try{if(_._G.isIE()){var _20=_1e.createTextRange();_20.move("character",pos);_20.select();}else{_1e.selectionStart=pos;_1e.selectionEnd=pos;}}catch(e){_.exception.printStackTrace(e);}};_._B.checkString=function(obj,e){var _23=obj.render.value;if(_._h.browserCheck.moz){if(e.charCode==0){return;}if(obj.maxLength!=-1&&_23.length>=obj.maxLength){var _24=obj.render.selectionStart;var end=obj.render.selectionEnd;if(_24!=end){return;}e.preventDefault();return;}}var _26=(e.charCode)?e.charCode:e.keyCode;if(e.ctrlKey==true&&_26==86){return;}if(e.ctrlKey==true&&_26==118){return;}var _27=String.fromCharCode(_26);if(typeof obj.ignoreChar!="undefined"&&obj.ignoreChar!=null&&obj.ignoreChar!=""){var re=new RegExp("["+obj.ignoreChar+"]");if(_27.match(re)!=null){if(_._h.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(typeof obj.allowChar!="undefined"&&obj.allowChar!=null&&obj.allowChar!=""){var re=new RegExp("["+obj.allowChar+"]");if(_27.match(re)==null){if(_._h.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(obj.characterCase!=""&&obj.characterCase=="upper"){if(e.keyCode>=97&&e.keyCode<=122){e.keyCode-=32;}}if(obj.characterCase!=""&&obj.characterCase=="lower"){if(event.keyCode>=65&&event.keyCode<=90){event.keyCode+=32;}}if(obj.valueType=="number"){if((obj.getCaretPos()!=0&&(event.keyCode==45||event.keyCode==43))){if(_._h.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_23.charAt(0)=="+"||_23.charAt(0)=="-")&&obj.getCaretPos()==0){if(_._h.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_23.indexOf(".")>-1&&e.keyCode==46)){if(_._h.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}};_._B.validateValue=function(_29,obj){if(obj.mandatory=="true"){if(_29.wq_trim()==""){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be filled ";}return false;}}if(obj.minLength!=-1){if(_29.length<obj.minLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or more than "+obj.minLength;}return false;}}if(obj.maxLength!=-1){if(_29.length>obj.maxLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or less than "+obj.maxLength;}return false;}}return true;};_._B.validateText=function(_2b,obj){if(!_._B.validateValue(_2b,obj)){_._B.validateEffect(_2b,obj);return false;}if(obj.validator!=""){var _2d=obj;var _2e=_2b;var _2f=true;try{_2f=eval(obj.validator+"(validateValue,validateTextObj);");if(!_2f){_._B.validateEffect(_2b,obj);if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uc5d0 \uc758\ud55c \uc218\ud589 \uc870\uac74\uc744 \ub9cc\uc871\uc2dc\ud0a4\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4. ";}}return _2f;}catch(e){if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uac1d\uccb4\uac00 \uc544\ub2d9\ub2c8\ub2e4. ";}return false;}}return true;};_._B.validateEffect=function(_30,obj){if(obj.invalid_background_color!=""){obj.render.style.backgroundColor=obj.invalid_background_color;}if(obj.invalid_color!=""){obj.render.style.color=obj.invalid_color;}};_._B.getPosition=function(_32){var _33=_32.indexOf(".");var _34=0;if(_33>-1){var str=_32.substring(_33);for(var i=0;i<str.length;i++){var _37=str.charAt(i);if(_37=="#"||_37=="0"){_34++;}}_34=_34-(_34*2);}else{for(var j=0;j<_32.length;j++){var _37=_32.charAt(j);if(_37=="0"){_34++;}}}return _34;};_._B.checkComma=function(_39){var _3a=_39.indexOf(",");if(_3a==-1){return false;}return true;};_.numFRe=new RegExp("[^0]+[0-9]*");_.numberFormatter=function(str,_3c,_3d){this.sign="";this.integer=new Array();this.decimal=new Array();this.delimeter=_3c||",";this.decimalDelimeter=_3d||".";var _3e="";vardecimalStr="";var arr=str.split(this.decimalDelimeter);if(arr.length==1){_3e=arr[0];decimalStr="";}else{if(arr.length>1){_3e=arr[0];decimalStr=arr[1];}}if(_3e.charAt(0)=="+"||_3e.charAt(0)=="-"){this.sign=_3e.charAt(0);_3e=_3e.substr(1);}var _40=_3e.match(_.numFRe);if(_40!=null){_3e=_40.join("");}else{_3e="0";}for(var i=0;i<_3e.length;i++){this.integer.push(parseInt(_3e.charAt(i)));}for(var i=0;i<decimalStr.length;i++){this.decimal.push(parseInt(decimalStr.charAt(i)));}};_.numberFormatter.prototype.getValue=function(){var _42="";_42+=this.sign;if(this.integer.length>0){_42+=this.integer.join("");}if(this.decimal.length>0){_42+=".";_42+=this.decimal.join("");}return _42;};_.numberFormatter.prototype.setPrecision=function(_43,_44){if(_43==null){_43=0;}if(_44==null){_44="[round]";}var _45=0;if(_44=="[round]"){_45=5;}else{if(_44=="[floor]"){_45=0;}else{if(_44=="[ceil]"){_45=9;}}}var _46=this.decimal.length;if(_43+1>_46){for(var i=0;i<_43+1-_46;i++){this.decimal.push(0);}}else{this.decimal=this.decimal.slice(0,_43+1);}var _48=0;if(this.decimal[_43]+_45>9){_48=1;}for(var i=_43-1;i>=0;i--){this.decimal[i]+=_48;if(this.decimal[i]>9){_48=1;this.decimal[i]-=10;}else{_48=0;}}this.decimal.pop();if(_48!=0){for(var i=this.integer.length-1;i>=0;i--){this.integer[i]+=_48;if(this.integer[i]>9){_48=1;this.integer[i]-=10;}else{_48=0;}}}if(_48!=0){this.integer.push(0);for(var i=this.integer.length-1;i>=1;i--){this.integer[i]=this.integer[i-1];}this.integer[0]=1;}};_.numberFormatter.prototype.getValueWithDelimeter=function(_49,_4a){var _4b="";if(_4a==null||_4a<=0){return this.getValue();}_4b+=this.sign;if(this.integer.length>0){var _4c=this.integer.length%_4a;var _4d=0;for(var i=0;i<this.integer.length;i++){if((i+1)%_4a==_4c){_4b+=this.integer.slice(_4d,i+1).join("");if(i+1<this.integer.length){_4b+=_49||this.delimeter;}_4d=i+1;}}}if(this.decimal.length>0){_4b+=this.decimalDelimeter;_4b+=this.decimal.join("");}return _4b;};_.numberFormatter.prototype.getFormattedValue=function(_4f){var _50="";if(!_4f){return this.getValue();}_50+=this.sign;var _51=[];_.extend(_51,this.integer);var _52=[];var _53;if(_4f.indexOf(this.decimalDelimeter)>-1){_53=_4f.substring(0,_4f.indexOf(this.decimalDelimeter));}else{_53=_4f.substring(0);}var _54=_53.split(this.delimeter).reverse();for(var i=0;i<this.integer.length;i++){if(_51.length==0){break;}var _56=_54[i%_54.length].length;var _57=[];for(var j=0;j<_56;j++){_57.push(_51.pop());}_52.push(_57.reverse().join(""));}_50+=_52.reverse().join(this.delimeter);if(this.decimal.length>0){_50+=this.decimalDelimeter;_50+=this.decimal.join("");}return _50;};_.numberFormatter.prototype.cutZeroDecimal=function(_59){var _5a=_59.lastIndexOf("0")-1;var _5b=this.decimal.length-1;while(_5b>=0&&this.decimal[_5b]==0&&_5b>_5a){this.decimal.pop();_5b--;}};_._B.formatCurrency=function(_5c,_5d,obj,_5f,_60,_61){_5c=_5c+"";if(_5c.wq_trim()==""){return "";}else{if(typeof _5d=="undefined"||_5d==null||_5d==""){return parseFloat(_5c)+"";}}if(!_60){_60=",";}if(!_61){_61=".";}var _62=new RegExp("\\[("+_61+"*)\\]","g");var _63=new RegExp("["+_61+"]+[#0]+");var _64=new RegExp("["+_60+"]+[#0]+");var _65=new RegExp("["+_61+"][0-9]*");var _66=_5d.match(_62);_5d=_5d.replace(_62,"");var _67=_5d.match(_63);if(_67!=null){_67=_67.join("");}else{_67=_61;}var _68=_67.length-1;_5d=_5d.replace(_63,"");var _69=_5d.match(_64);if(_69!=null){_69=_69.join("");}else{_69=_60;}var _6a=_69.length-1;_5d=_5d.replace(_64,"");var _6b=new _.numberFormatter(_5c,_60,_61);if(_5f){if(_66==null){_66="[floor]";}var _6c=_5c.match(_65);_67=_61;if(_6c&&_6c.toString().length>=2){var len=_6c.toString().length;for(var i=0;i<len-1;i++){_67+="0";}}}_6b.setPrecision(_68,_66);_6b.cutZeroDecimal(_67);var _6f=_6b.getValueWithDelimeter(_60,_6a);if(_5f&&_5c.slice(-1)==_61){_6f+=_61;}if(_5f&&(_5c==="-"||_5c==="+")){_6f=_5c;}var _70=_5d.substr(0,_5d.indexOf("#"));var _71=_5d.substr(_5d.lastIndexOf("#")+1,_5d.length-1-_5d.lastIndexOf("#"));if(_70){_6f=_70+_6f;}if(_71){_6f=_6f+_71;}return _6f;};_._B.formatEuroCurrency=function(_72,_73,obj,_75,_76,_77){_72=_72+"";if(_72.wq_trim()==""){return "";}else{if(typeof _73=="undefined"||_73==null||_73==""){return parseFloat(_72)+"";}}if(!_76){_76=".";}if(!_77){_77=",";}var _78=new RegExp("\\[("+_76+"*)\\]","g");var _79=new RegExp("["+_77+"]+[#0]+");var _7a=new RegExp("["+_76+"]+[#0]+");var _7b=new RegExp("["+_77+"][0-9]*");var _7c=_73.match(_78);_73=_73.replace(_78,"");var _7d=_73.match(_79);if(_7d!=null){_7d=_7d.join("");}else{_7d=_77;}var _7e=_7d.length-1;_73=_73.replace(_79,"");var _7f=_73.match(_7a);if(_7f!=null){_7f=_7f.join("");}else{_7f=_76;}var _80=_7f.length-1;_73=_73.replace(_7a,"");var _81=new _.numberFormatter(_72,_76,_77);if(_75){if(_7c==null){_7c="[floor]";}var _82=_72.match(_7b);_7d=_77;if(_82&&_82.toString().length>=2){var len=_82.toString().length;for(var i=0;i<len-1;i++){_7d+="0";}}}_81.setPrecision(_7e,_7c);_81.cutZeroDecimal(_7d);var _85=_81.getValueWithDelimeter(_76,_80);if(_75&&_72.slice(-1)==_77){_85+=_77;}if(_75&&(_72==="-"||_72==="+")){_85=_72;}var _86=_73.substr(0,_73.indexOf("#"));var _87=_73.substr(_73.lastIndexOf("#")+1,_73.length-1-_73.lastIndexOf("#"));if(_86){_85=_86+_85;}if(_87){_85=_85+_87;}return _85;};_._B.formatRupeeCurrency=function(_88,_89,obj,_8b,_8c,_8d){var _8e=_89;_88=_88+"";if(_88.wq_trim()==""){return "";}else{if(typeof _89=="undefined"||_89==null||_89==""){return parseFloat(_88)+"";}}if(!_8c){_8c=",";}if(!_8d){_8d=".";}if(_89.indexOf(";")>-1){var _8f=_89.split(";");var _90="";for(var i=0;i<_8f.length;i++){_90=_8f[i].wq_trim();var _92=_90.match(_._B.formatRupeeCRe1);if(_92&&_92.length>0){var _93=_92[0].replace("[","").replace("]","");if(eval("Number("+_88+")"+_93)){break;}}}if(_90){return _._B.formatRupeeCurrency(_88,_90.replace(_._B.formatRupeeCRe1,""),obj,_8b,_8c,_8d);}}var _94=new RegExp("\\[("+_8d+"*)\\]","g");var _95=new RegExp("["+_8d+"]+[#0]+");var _96=new RegExp("["+_8c+"]+[#0]+");var _97=new RegExp("["+_8d+"][0-9]*");var _98=_89.match(_94);_89=_89.replace(_94,"");var _99=_89.match(_95);if(_99!=null){_99=_99.join("");}else{_99=_8d;}var _9a=_99.length-1;_89=_89.replace(_95,"");var _9b=_89.substr(0,_89.indexOf("#"));var _9c=_89.substr(_89.lastIndexOf("#")+1,_89.length-1-_89.lastIndexOf("#"));var _9d=_89.match(_96);if(_9d!=null){_9d=_9d.join("");}else{_9d=_8c;}var _9e=_9d.length-1;_89=_89.replace(_96,"");var _9f=new _.numberFormatter(_88,_8c,_8d);if(_8b){if(_98==null){_98="[floor]";}var _a0=_88.match(_97);_99=_8d;if(_a0&&_a0.toString().length>=2){var len=_a0.toString().length;for(var i=0;i<len-1;i++){_99+="0";}}}_9f.setPrecision(_9a,_98);_9f.cutZeroDecimal(_99);var _a2=_9f.getFormattedValue(_8e);if(_8b&&_88.slice(-1)==_8d){_a2+=_8d;}if(_8b&&(_88==="-"||_88==="+")){_a2=_88;}if(_9b){_a2=_9b+_a2;}if(_9c){_a2=_a2+_9c;}return _a2;};_._B.formatTengeCurrency=function(_a3,_a4,obj,_a6,_a7,_a8){_a3=_a3+"";if(_a3.wq_trim()==""){return "";}else{if(typeof _a4=="undefined"||_a4==null||_a4==""){return parseFloat(_a3)+"";}}if(!_a7){_a7=" ";}if(!_a8){_a8="-";}var _a9=new RegExp("\\[("+_a8+"*)\\]","g");var _aa=new RegExp("["+_a8+"]+[#0]+");var _ab=new RegExp("["+_a7+"]+[#0]+");var _ac=new RegExp("["+_a8+"][0-9]*");var _ad=_a4.match(_a9);_a4=_a4.replace(_a9,"");var _ae=_a4.match(_aa);if(_ae!=null){_ae=_ae.join("");}else{_ae=_a8;}var _af=_ae.length-1;_a4=_a4.replace(_aa,"");var _b0=_a4.match(_ab);if(_b0!=null){_b0=_b0.join("");}else{_b0=_a7;}var _b1=_b0.length-1;_a4=_a4.replace(_ab,"");var _b2=new _.numberFormatter(_a3,_a7,_a8);if(_a6){if(_ad==null){_ad="[floor]";}var _b3=_a3.match(_ac);_ae=_a8;if(_b3&&_b3.toString().length>=2){var len=_b3.toString().length;for(var i=0;i<len-1;i++){_ae+="0";}}}_b2.setPrecision(_af,_ad);_b2.cutZeroDecimal(_ae);var _b6=_b2.getValueWithDelimeter(_a7,_b1);if(_a6&&_a3.slice(-1)==_a8){_b6+=_a8;}if(_a6&&(_a3==="-"||_a3==="+")){_b6=_a3;}var _b7=_a4.substr(0,_a4.indexOf("#"));var _b8=_a4.substr(_a4.lastIndexOf("#")+1,_a4.length-1-_a4.lastIndexOf("#"));if(_b7){_b6=_b7+_b6;}if(_b8){_b6=_b6+_b8;}return _b6;};_._B.formatDate=function(_b9,_ba,_bb){if(typeof _bb=="undefined"||_bb==null||_bb==""){_bb="yyyyMMdd";}if(_b9.length!==_bb.length){return _b9;}if(typeof _ba=="undefined"||_ba==null||_ba==""){_ba="yyyy/MM/dd";}for(var i=0;i<_b9.length&&i<_bb.length;i++){var _bd=_bb.charAt(i);var _be=_b9.charAt(i);if("yMdHms".indexOf(_bd)>=0){_ba=_ba.replace(_bd,_be);}}if(_ba.indexOf("E")>=0){var _bf=_._u._parseDate(_b9,_bb);var _c0=_._u._getDay(_bf.slice(0,3).join(""),false);if(_c0>=0){var _c1=new Date(_bf[0],_bf[1]-1,_bf[2],_bf[3],_bf[4],_bf[5]);_ba=_._u.getFormattedDate(_c1,_ba);}else{_ba=_ba.wq_replaceAll("E","");}}return _ba;};_._B.formatTime=function(_c2,_c3,_c4){if(typeof _c4=="undefined"||_c4==null||_c4==""){_c4="HHmmss";}if(typeof _c3=="undefined"||_c3==null||_c3==""){_c3="HH:mm";}if(_c2==""){return "";}for(var i=0;i<_c2.length&&i<_c4.length;i++){var _c6=_c4.charAt(i);var _c7=_c2.charAt(i);if("Hms".indexOf(_c6)>=0){_c3=_c3.replace(_c6,_c7);}}_c3=_c3.replace(/H|m|s/g,"0");return _c3;};_._B.formatWithFormatter=function(_c8,_c9){if(typeof _c8!="string"){return eval(_c9+"('"+_c8+"');");}else{return eval(_c9+"('"+_c8.replace(/'/g,"\\'")+"');");}};_._B.formatText=function(_ca,_cb){_ca=_ca+"";if(typeof _cb=="undefined"||_cb==null||_cb==""){return _ca;}var _cc="";var j=_ca.length-1;var i=_cb.length-1;for(;i>=0&&j>=0;i--){var _cf=_cb.charAt(i);if(_cf!="#"){_cc=_cf+_cc;}else{_cc=_ca.charAt(j)+_cc;j--;}}if(j>-1&&j<_ca.length){_cc=_ca.substring(0,j+1)+_cc;}if(i>-1&&_cb.substring(0,i+1).indexOf("#")==-1){_cc=_cb.substring(0,i+1)+_cc;}return _cc;};_._B.format=function(_d0,_d1,_d2,_d3){var _d4;if(_d2=="number"){_d4=_._B.formatCurrency(_d0,_d1);}else{if(_d2=="currency"){_d4=_._B.formatEuroCurrency(_d0,_d1,_d3);}else{if(_d2=="date"){_d4=_._B.formatDate(_d0,_d1,_d3);}else{if(_d2=="time"){_d4=_._B.formatTime(_d0,_d1,_d3);}else{_d4=_._B.formatText(_d0,_d1);}}}}return _d4;};_._B.getValidString=function(_d5,_d6,_d7,_d8){return _d5;};_._B.unformatCurrency=function(_d9,_da){var _db="";for(var i=0;i<_da.length;i++){if(_da.charAt(i)!=","){if(_da.charAt(i)=="$"){if(_d9.indexOf("$")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="\\"){if(_d9.indexOf("\\")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="+"){if(_d9.indexOf("+")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="-"){if(_d9.indexOf("-")==-1){_db=_db+_da.charAt(i);}}else{_db=_db+_da.charAt(i);}}}}}}return _db;};_._B.unformatDate=function(_dd,_de){if(typeof _dd=="undefined"||_dd==null||_dd==""){_dd="yyyy/MM/dd";}if(_de.length!=_dd.length){return _de;}var ret="";var _e0=_dd.indexOf("yyyy");var _e1=_dd.indexOf("MM");var _e2=_dd.indexOf("dd");if(_e0!=-1){ret+=_de.substr(_e0,4);}if(_e1!=-1){ret+=_de.substr(_e1,2);}if(_e2!=-1){ret+=_de.substr(_e2,2);}return ret;};_._B.unformatTime=function(_e3,_e4){if(_e4.length!=_e3.length){return _e4;}if(typeof _e3=="undefined"||_e3==null||_e3==""){_e3="HH:mm";}var ret="";var _e6=_e3.indexOf("HH");var _e7=_e3.indexOf("mm");if(_e6!=-1){ret+=_e4.substr(_e6,2);}if(_e7!=-1){ret+=_e4.substr(_e7,2);}return ret;};_._B.unformatText=function(_e8,_e9){if(typeof _e8=="undefined"||_e8==null||_e8==""){return _e9;}_e8=_e8.substring(_e8.indexOf(","));var _ea="";var j=_e9.length-1;var i=_e8.length-1;for(;i>=0&&j>=0;i--){var _ed=_e8.charAt(i);var _ee=_e9.charAt(j);if(_ed=="#"&&_ee!="#"){_ea=_ee+_ea;}else{if(_ed!=_ee){_ea=_ee+_ea;}}j--;}if(j>-1){_ea=_e9.substring(0,j+1)+_ea;}return _ea;};_._B.unformat=function(obj){if(!(typeof obj.formatArray!="undefined"&&typeof obj.formatArray["displayFormat"]!="undefined"&&obj.formatArray["displayFormat"]!=null)){return obj.render.value;}if(obj.status!="format"){return obj.render.value;}else{obj.status="unformat";}var _f0=obj.render.value;var _f1=obj.formatArray["displayFormat"];var _f2=obj.valueType;var _f3;if(typeof _f2!="undefined"&&_f2!=null&&_f2=="number"){_f3=_._B.unformatCurrency(_f1,_f0);}else{if(typeof _f2!="undefined"&&_f2!=null&&_f2=="date"){_f3=_._B.unformatDate(_f1,_f0);}else{if(typeof _f2!="undefined"&&_f2!=null&&_f2=="time"){_f3=_._B.unformatTime(_f1,_f0);}else{_f3=_._B.unformatText(_f1,_f0);}}}return _f3;};_._B.BASE64Encoder=function(d){var _f5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64=new Array();for(var i=0;i<_f5.length;i++){b64[i]=_f5.charAt(i);}var r=new Array();var i=0;if(d.charCodeAt(0)!=65279){d=String.fromCharCode(65279)+d;}var dl=d.length;if((dl%3)==1){d+=String.fromCharCode(0)+String.fromCharCode(0);}if((dl%3)==2){d+=String.fromCharCode(0);}while((i+2)<d.length){r[r.length]=b64[d.charCodeAt(i)>>10];r[r.length]=b64[(d.charCodeAt(i)&1008)>>4];r[r.length]=b64[(d.charCodeAt(i)&15)<<2|(d.charCodeAt(i+1)>>14)];r[r.length]=b64[(d.charCodeAt(i+1)&16128)>>8];if((r.length%76)==0){r[r.length]="\n";}r[r.length]=b64[(d.charCodeAt(i+1)&252)>>2];r[r.length]=b64[(d.charCodeAt(i+1)&3)<<4|(d.charCodeAt(i+2)>>12)];r[r.length]=b64[(d.charCodeAt(i+2)&4032)>>6];r[r.length]=b64[d.charCodeAt(i+2)&63];if((r.length%76)==0){r[r.length]="\n";}i+=3;}if((dl%3)==1){r.pop();r.pop();r.pop();r.pop();if(dl==28){r.pop();}r[r.length-1]="=";}if((dl%3)==2){r[r.length-1]=r[r.length-2]="=";}var t=r.join("");return t;};_._B.BASE64Decoder=function(t){var _fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var f64=new Array(),i;for(i=0;i<_fc.length;i++){f64[_fc.charAt(i)]=i;}var d=new Array;var i=0;t=t.replace(/\n|\r/g,"");t=t.replace(/=/g,"");var len=parseInt(t.length*3/4)/2;while(i<t.length){d[d.length]=(f64[t.charAt(i)]<<10)|(f64[t.charAt(i+1)]<<4)|(f64[t.charAt(i+2)]>>2);d[d.length]=((f64[t.charAt(i+2)]&3)<<14)|(f64[t.charAt(i+3)]<<8)|(f64[t.charAt(i+4)]<<2)|(f64[t.charAt(i+5)])>>4;d[d.length]=((f64[t.charAt(i+5)]&15)<<12)|(f64[t.charAt(i+6)]<<6)|f64[t.charAt(i+7)];i+=8;}d=d.slice(1,len);var r="";try{r=String.fromCharCode.apply(document,d);}catch(e){for(i=0;i<d.length;i++){r+=String.fromCharCode(d[i]);}}return r;};_._B.BASE64URLEncoder=function(d){return escape(_._B.BASE64Encoder(d));};_._B.BASE64URLDecoder=function(t){return _._B.BASE64Decoder(unescape(t));};_._B.fillZero=function(str,len){var _106;var i;var _108=(str+"");if(isNaN(_108)){return str;}if(_108.length>=len){return _108;}_106=len-_108.length;while(_106>0){switch(_106){case 1:_106=0;_108="0"+_108;break;case 2:_106=0;_108="00"+_108;break;case 3:_106=0;_108="000"+_108;break;case 4:_106=0;_108="0000"+_108;break;case 5:_106=0;_108="00000"+_108;break;case 6:_106=0;_108="000000"+_108;break;case 7:_106=0;_108="0000000"+_108;break;case 8:_106=0;_108="00000000"+_108;break;case 9:_106=0;_108="000000000"+_108;break;case 10:_106=0;_108="0000000000"+_108;break;case 11:_106=0;_108="00000000000"+_108;break;case 12:_106=0;_108="000000000000"+_108;break;case 13:_106=0;_108="0000000000000"+_108;break;case 14:_106=0;_108="00000000000000"+_108;break;case 15:_106=0;_108="000000000000000"+_108;break;default:_106-=15;_108="000000000000000"+_108;break;}}return _108;};_._B.isKorean=function(str){if(str!=null&&str.length>0){var _10a=0;for(var i=0;i<str.length;i++){_10a|=_._B.getLocale(str.charAt(i));}if((_10a&~3)==0){return true;}}return false;};_._B.getLocale=function(str){var _10d=0;if(str.length>0){var _10e=str.charCodeAt(0);if(_10e>=44032&&_10e<=55203){_10d=1;}else{if((_10e>=4352&&_10e<=4601)||(_10e>=12593&&_10e<=12686)){_10d=2;}else{if(_10e>=48&&_10e<=57){_10d=4;}else{if((_10e>=32&&_10e<=47)||(_10e>=58&&_10e<=64)||(_10e>=91&&_10e<=96)||(_10e>=123&&_10e<=126)){_10d=8;}else{if(_10e>=65&&_10e<=90){_10d=16;}else{if(_10e>=97&&_10e<=122){_10d=32;}else{_10d=48;}}}}}}}return _10d;};_._B.URLEncoder=function(str){var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){var code="";if(str.charAt(i)==" "){ret+="+";}else{if((str.charCodeAt(i)>=48&&str.charCodeAt(i)<=57)||(str.charCodeAt(i)>=65&&str.charCodeAt(i)<=90)||(str.charCodeAt(i)>=97&&str.charCodeAt(i)<=122)||str.charAt(i)=="@"||str.charAt(i)=="."||str.charAt(i)=="-"||str.charAt(i)=="*"||str.charAt(i)=="_"){ret+=str.charAt(i);}else{if((code=_._B.getEUCKR(str.charCodeAt(i)))!=null&&code>=42145){ret+="%"+(code>>8).toString(16)+"%"+(code&255).toString(16);}else{if(str.charCodeAt(i)<=126){var _113=str.charCodeAt(i).toString(16);if(_113.length==1){ret+="%0"+_113;}else{ret+="%"+_113;}}else{ret+="%3f";}}}}}return ret;};_._B.URLDecoder=function(str){var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){if(str.charAt(i)=="+"){ret+=" ";}else{if(str.charAt(i)!="%"){ret+=str.charAt(i);}else{if(i+5<=str.length){var tmp=str.substring(i+1,i+3);if(str.charAt(i+3)=="%"&&parseInt(tmp,16)>160){tmp+=str.substring(i+4,i+6);tmp=tmp.toUpperCase();ret+=String.fromCharCode(_._B.getUNICODE(parseInt(tmp,16)));i+=5;}else{ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}}else{if(i+2<=str.length){var tmp=str.substring(i+1,i+3);ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}else{ret+=str.charAt(i);}}}}}return ret;};_._B.getEUCKR=function(k){if(!_._B.EUCKR){_._B.setEUCKR();}if(!_._B.UNICODE){_._B.setUNICODE();}var max=16;var str=0;var end=_._B.UNICODE.length-1;var pos=Math.round((str+end)/2);while(max-->0){if(_._B.UNICODE[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if(_._B.UNICODE[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return _._B.EUCKR[pos];}}}return "";};_._B.getUNICODE=function(k){if(!_._B.EUCKR){_._B.setEUCKR();}if(!_._B.UNICODE){_._B.setUNICODE();}var max=16;var str=0;var end=_._B.EUCKR.length-1;var pos=Math.round((str+end)/2);while(max-->0){if(_._B.EUCKR[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if(_._B.EUCKR[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return _._B.UNICODE[pos];}}}return 63;};_._B.isFinalConsonant=function(str){var code=str.charCodeAt(str.length-1);if(code<44032||code>55197){return false;}if((code-16)%28==0){return false;}return true;};_._B.arraySort=function(arr,_125){var a=new Array();for(var i=0;i<arr.length;i++){a.push(arr[i]);}if(typeof _125=="undefined"){return a.sort();}else{return a.sort(_125);}};_._B.setEUCKR=function(){var _128=[42145];var len=2444;for(var i=1;i<94;i++){_128[i]=_128[i-1]+1;}_128[i]=_128[i-1]+2979;for(i++;i<len;i++){_128[i]=_128[i-1]+((i-188)%94==0?163:1);}_._B.EUCKR=_128;};_._B.setUNICODE=function(){var _12b=[12593];var len=2444;var conv="#%%###(#######$####%&*#$##)#%&-$)&&6#%%#$(#$###%###&&*#$##)##$%#*#$##&%&&+$+#%%#$$%##$$#(#%&$(#$$)&&+%#)#%&*#$$)&&+$+#%%###'##$$#(#%&.#)5+#%&*#$+&&6#%%##)#$$)>#%%#$(#$$#&$##$&$(#$##&%#%&*#$##)#)R##$&*#$##)#%.%$)&&-#'%>#%$$*#$$##'#).#)#6)&&*#&)>#%&)##$$#(*.#)#%&*#%*&&*#->#%$$$'##$$&A#%&*#$$)##$%###(#$####$$##%&*#$##)#%&*'E#$#&$#'#$##(##%&*#$##)#%&*#%#%&&:#%&$(#$$'##&&.F&&*#$+#%&+$$)#%%#*#$$)6*>&&*#-#)*#&)#%&##(#$$#&$&&6#%&$(#$$'$##$%####&##$####&##%&*#$##)Z##$%#$#'#$$$%$#%&*#$##)&&.#)&:#%%#$$&#$$$$%&&66*&&*#$+>#%&*#$$)6*7)&&+$$)&&*')#%%#$(#$$)>#%%#*#$###(#%&*#$##(##%&*#$##a#%&$#'#$##(##%&*#$##)6F#%&/)*6>&V#%&)#'E>&&*#&E#%%#*#$+&&*#-&&*#$$)#%&*#$###&###%&*#$##)#%1$E#%&*#$##(##%&*#$$)#%&*#$##)&/$+#%&*#$$)&3=*&&*#$$)&&+$$)#%&*#$$)6*>#%&*%$)#%&*#$$)#%&*#$$#%#@#%&*#$$)#%$####(#$$#%$##%&*#$###(#)/E#%&$(#$$#'##%&*#$##)#%&-##$'>#$#&$(#$$)&2#E&&+$$)&&+$+##$%###(#$$&$#&&+$+>&&6&&*%+&&*%G#%%#$(#$##$$%####%####'#$$&%#%&*#$##&%#%/I#%%#$(#$$#(#%%#*#$##)#%&+$##&%&:##$&*#$$)&2*6*#%&*#-&:#%%###(#$$&#$*.*>#%&/)&&*%$)#%&*#$G#%&$(#$$##'#%&$(#$##(##%&*#$##)#1J#%%#*%##)7)#1#$##E#%&*#&a>7)#%&*%$}7)&&*#I#%&*#$$)#$#%###(#$##&%#%&*#$##)#%&*#$$)&&*')####%#$#'#$##'$#%&*#$##)#%&*#$##)&&/)##$&$(#$$&%#%&/)&&*%#*&&*#$+#%&*#$$)#%%#*#$$$$#$6*#%&*')#%&*#$$)#)*%$)#%&#)#$$E#%%#)##$$'$#$#&*#%#(##%&*#%#>E#%&$(#%#)&&V:#%%#$(#&)#%2*6*&&*#->#%&*#&)6*>&O)#%&$'##-&&*.#%&*#$$)#%##$##'##$##&#$#%&*#$##)#%&%'#$$&$#&&+-#%#$###(######$$$#%&*#$$)##$&$#'#####&###&&*#$#*#%&##$%##$$$'#%&*#$##)#%.%$)#%&*#$$)#%&*#$$)#%&##(#$$)#%&*#%#)#%&*#&)#%&*#$$)#%&*#$$$'#%&($#$$#######&&*%+#%&##'##$###&$#%$##$(#$###(#%&*#$##)#%$$*')&&6#%&$(#$$#(#%&*#$$)&&*#%#)>#%&$(#$$##&##)+$$)6#)&&*#$$)#%3)#%&##(#$$)6*>#%&*#$+&&*.#%&*#$$E#%%#$(#$$#%#$#%$$%'#$##)#%&*#$##)&3E#%&*#$##)7)6F#%&*#$$$'#).*6*&&*#B)#%&*#&)6#E>>2%$E#%&*#&#'##%$$*#$###(#%&*#$##)&$$*'E#%&*#$##)#%&*#$$)&2*&3)#%&*#$$)&&/E&&*#$$)2.#%&*#$$)6*&:&&*#$$)&&*')#%&*#$$E#%%##)#$$)#%&*#$$)#%&*#$##)#6E#%%#*#$##)#%&*#$$)&&*#$##)>#%&*#$$)#%&*')7)*6>#%&*#$$)&&/)7)#%&*#$$)&&*.#%&*#&E#%&*#$$)#%&#)#$##)#%&*#$##)7E#%&$(#$##)#%&*#$$)&2*&:#%&*#$$'$&:>&1$)>#%&*#$$)6*>#%&*#&)&&*')#%%#$(#$+&&*#-#%&*#$$)##$&$(#$##&%#%&*#$##)#Y#%&*#$##)#%&*#$$)&&*#%#)*+$+#%&*#$$)7E&:&&+$+#%%#$(#$$)7E&&*%+&&*%$)&&*#$G#%&*#$$)#%&'%#$$)#%&*#$##)7E#%&$(#$$)#%&*#$$)#%&*#$##)&&+-#%&'%#$$&%#%&-$)#%1$)#%&+$$)&&+$+#%&'%%$)&&*')#%&/)#%&*#$$)#%&*%$)#%$###)#$$&%&&*#&)#%&*#$$";for(var i=1;i<94;i++){_12b[i]=_12b[i-1]+1;}_12b[i]=_12b[i-1]+31346;for(i++;i<len;i++){_12b[i]=_12b[i-1]+conv.substr(i-95,1).charCodeAt(0)-34;}_._B.UNICODE=_12b;};;WebSquare.text=_._B;_.layer={};_.layer.cache={};_.layer.processMsg="";_.layer.disabledList=[];_.layer.saveLayer=function(_1,_2){try{var _3=_.document.getElementById(_1);if(typeof _3!="undefined"&&_3!=null){_.layer.cache[_1+_2]=_3.innerHTML;}}catch(e){_.exception.printStackTrace(e);}};_.layer.loadLayer=function(_4,_5){try{if(typeof _.layer.cache[_4+_5]!="undefined"&&_.layer.cache[_4+_5].wq_trim()!=""){var _6=_.document.getElementById(_4);if(typeof _6!="undefined"&&_6!=null){_6.innerHTML=_.layer.cache[_4+_5];return true;}return false;}return false;}catch(e){_.exception.printStackTrace(e);}};_.layer.clearLayer=function(){try{_.layer.cache=new Object();}catch(e){_.exception.printStackTrace(e);}};_.layer.showProcessMessage=function(_7){try{if(_7=="$blank"){return;}if(!_7){return;}$l("WebSquare.layer.showProcessMessage ["+_7+"]");var _8=_7.wq_trim();var _9=/^javascript\s*:\s*(.*)/i;var _a=_8.match(_9);if(_a==null||typeof _a=="undefined"){}else{_7=eval(_a[1]);}var _b=_.document.getElementById("___processbar2");var _c=_.document.getElementById("___processbar2_i");var _d=_._h.getConfiguration("processMsgURL");var _e=_._h.getConfiguration("processMsgHeight");var _f=_._h.getConfiguration("processMsgWidth");var _10=_._h.getConfiguration("processMsgBackground");var _11=_._h.getConfiguration("/WebSquare/processMsgBackground/@backgroundColor");if(_11==""){_11="#112233";}if(_d==""){_d=_.baseURI+"message/processMsg.html";}if(_.WebSquareCache==false){_d=_.BootLoader.getRandomPostfix(_d+"?param="+_._B.URLEncoder(_7));}else{_d=_d+"?param="+_._B.URLEncoder(_7);}_.layer.processMsg=_7;if(_e==""||_f==""){_e="74";_f="272";}if(!_b){var _12=_.document.createElement("div");_12.id="___processbar2";_12.className="w2modal";_12.style.backgroundColor=_11;_12.tabIndex=1;if(_10=="true"){_12.style.visibility="visible";}else{_12.style.visibility="hidden";}_.getBody().appendChild(_12);_._F.addListener(_12,"onkeydown",function(e){this.focus();_._F.stopEvent(e);},false);}else{_b.tabIndex=1;_b.style.zIndex=10000;_b.style.display="block";_b.style.top="0px";_b.style.left="0px";}if(!_c){var _14=_.document.documentElement.scrollTop+_.document.documentElement.clientHeight/2-parseInt(_e)/2;var _15=_.document.documentElement.scrollLeft+_.document.documentElement.clientWidth/2-parseInt(_f)/2;var _16=_.document.createElement("div");_16.id="___processbar2_i";_16.style.position="absolute";_16.style.top=parseInt(_14)+"px";_16.style.left=parseInt(_15)+"px";_16.style.overflow="hidden";_16.style.zIndex=10001;_16.style.visibility="visible";_16.style.height=_e+"px";_16.style.width=_f+"px";_.getBody().appendChild(_16);_16.innerHTML="<iframe frameborder='0' scrolling='no' allowtransparency='true' name='__processbarIFrame' style='position:absolute; width:"+_f+"px; height:"+_e+"px; top:0px; left:0px' src='"+_d+"'></iframe>";}else{var _14=_.document.documentElement.scrollTop+_.document.documentElement.clientHeight/2-parseInt(_e)/2;var _15=_.document.documentElement.scrollLeft+_.document.documentElement.clientWidth/2-parseInt(_f)/2;_c.style.top=parseInt(_14)+"px";_c.style.left=parseInt(_15)+"px";_c.style.zIndex=10001;window.frames["__processbarIFrame"].location.replace(_d);_c.style.display="block";}}catch(e){_.exception.printStackTrace(e);}};_.layer.setProcessMsgColor=function(){try{var _17=_.layer.colorArr.shift();_.layer.colorArr.push(_17);document.getElementById("processMsgLayer").style.color=_17;}catch(e){_.exception.printStackTrace(e);}};_.layer.hideProcessMessage=function(){try{var _18=_.document.getElementById("___processbar2");var _19=_.document.getElementById("___processbar2_i");if(typeof _18!="undefined"&&_18!=null){_18.style.zIndex=-1;_18.style.display="none";_18.tabIndex="-1";_18.innerHTML="";}if(typeof _19!="undefined"&&_19!=null){_19.style.zIndex=-1;_19.style.display="none";}clearInterval(_.layer.prcMsgIntv);}catch(e){_.exception.printStackTrace(e);}};_.layer.submissionIDQueue=new Array();_.layer.submissionMessageQueue=new Array();_.layer.addSubmissionMessage=function(_1a,_1b){try{_.layer.submissionIDQueue.push(_1a);_.layer.submissionMessageQueue.push(_1b);if(_.layer.submissionIDQueue.length==1){_.layer.showProcessMessage(_1b);}else{if(_.layer.submissionMessageQueue[_.layer.submissionMessageQueue.length-2]!=_1b){_.layer.showProcessMessage(_1b);}}}catch(e){_.exception.printStackTrace(e);}};_.layer.deleteSubmissionMessage=function(_1c){try{var idx=-1;for(var i=0;i<_.layer.submissionIDQueue.length;i++){if(_.layer.submissionIDQueue[i]==_1c){idx=i;}}if(idx>=0){_.layer.submissionIDQueue.splice(idx,1);var _1f=(_.layer.submissionMessageQueue.splice(idx,1))[0];if(idx==_.layer.submissionIDQueue.length){if(_1f!=_.layer.submissionMessageQueue[idx-1]){_.layer.showProcessMessage(_.layer.submissionMessageQueue[idx-1]);}}}if(_.layer.submissionIDQueue.length==0){_.layer.hideProcessMessage();}}catch(e){_.exception.printStackTrace(e);}};_.layer.showModal=function(_20){try{if(_.layer.disabledList.length>0){$l("[WebSquare.layer.showModal]\ud604\uc7ac showModal\uc0c1\ud0dc\uc774\ubbc0\ub85c \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}_.layer.disabledList.push(_._G.setDisabled({"componentId":"","disabled":true,"excludeIdList":_20}));_.getBody().showModal(null,_20);}catch(e){_.exception.printStackTrace(e);}};_.layer.hideModal=function(){try{if(_.layer.disabledList.length>0){var _21=_.layer.disabledList.splice(_.layer.disabledList.length-1,1)[0];_._G.setDisabled({"componentId":"","disabled":false,"excludeIdList":_21.skipComponents});_.getBody().hideModal();}}catch(e){WebSqre.exception.printStackTrace(e);}};_._y={};_._y.setCookie=function(_1,_2){_.document.cookie=_1+"="+escape(_2)+";path=/";};_._y.setCookieAsync=function(_3,_4){window.setTimeout("WebSquare.document.cookie = '"+_3+"="+escape(_4)+";path=/';",1);};_._y.getCookie=function(_5){try{var _6=_.document.cookie.split("; ");for(var i=0;i<_6.length;i++){var _8=_6[i].split("=");if(_5==_8[0]){if(_8.length==1){return "";}else{return unescape(_8[1]);}}}}catch(e){_.exception.printStackTrace(e);}return null;};_._y.delCookie=function(_9){try{_.document.cookie=_9+"=abc; expires=Fri, 31 Dec 1970 23:59:59 GMT;path=/";}catch(e){_.exception.printStackTrace(e);}};;WebSquare.cookie=_._y;_.domIterator=function(){};_.domIterator.prototype.construct=function(_1){this.status=0;this.element=_1;};_.domIterator.prototype.next=function(){if(this.status==0){this.status=1;return true;}};_.domIterator.prototype.stop=function(){this.status=2;};_.domIterator.prototype.match=function(_2,id,_4){["WebSquare.domIterator.match "];if(this.status==2){return false;}var _5=true;if(_2&&(" "+this.element.className+" ").indexOf(" "+_2.wq_trim()+" ")<0){_5=false;}if(id&&this.element.id!=id){_5=false;}if(_4&&this.element.tagName.toUpperCase()!=_4.toUpperCase()){_5=false;}return _5;};_.domIterator.prototype.matchSvg=function(_6,id,_8){["WebSquare.domIterator.matchSvg "];if(this.status==2){return false;}var _9=false;if(this.element.className.baseVal){_9=true;if(_6&&(" "+this.element.className.baseVal+" ").indexOf(" "+_6.wq_trim()+" ")<0){_9=false;}if(id&&this.element.id!=id){_9=false;}if(_8&&this.element.tagName.toUpperCase()!=_8.toUpperCase()){_9=false;}}return _9;};_.domIterator.prototype.getElement=function(){return this.element;};_.childIterator=function(_a,_b){this.construct(_a);this.options=_.extend({type:"dfs",pruning:null},_.extend({},_b));this.elementStack=[];};_.extend(_.childIterator.prototype,_.domIterator.prototype);_.childIterator.prototype.next=function(){if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(!(this.options.pruning&&this.options.pruning.call(this,this.element))){for(var _c=this.element.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeType==1){this.elementStack.push(_c);}}}if(this.elementStack.length==0){return false;}else{if(this.options.type=="dfs"){this.element=this.elementStack.pop();}else{if(this.options.type=="bfs"){this.element=this.elementStack.shift();}else{this.element=this.elementStack.shift();}}return true;}};_.targetIterator=function(_d,_e){this.construct(_d);this.upperBoundElem=_e||document.body;};_.extend(_.targetIterator.prototype,_.domIterator.prototype);_.targetIterator.prototype.next=function(){if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(this.element!=this.upperBoundElem&&this.element.parentNode){this.element=this.element.parentNode;return true;}return false;};requires("engine/thread.js");_._m={};_._m.transitions={};_._m.transitions.linear=function(_1){return _1;};_._m.transitions.sinoidal=function(_2){return (-Math.cos(_2*Math.PI)/2)+0.5;};_._m.transitions.reverse=function(_3){return 1-_3;};_._m.transitions.flicker=function(_4){return ((-Math.cos(_4*Math.PI)/4)+0.75)+Math.random()/4;};_._m.transitions.wobble=function(_5){return (-Math.cos(_5*Math.PI*(9*_5))/2)+0.5;};_._m.transitions.pulse=function(_6){return (Math.floor(_6*10)%2==0?(_6*10-Math.floor(_6*10)):1-(_6*10-Math.floor(_6*10)));};_._m.transitions.none=function(_7){return 0;};_._m.transitions.full=function(_8){return 1;};_._m.transitions.exponential=function(_9){return Math.exp(_9)/Math.E;};_._m.transitions.square2=function(_a){return _a*_a;};_._m.transitions.square3=function(_b){return _b*_b*_b;};_._m.transitions.square4=function(_c){return _c*_c*_c*_c;};_._m.transitions.square5=function(_d){return _d*_d*_d*_d*_d;};_._m.effectManager=function(){this.effects=[];this.timeState="stopped";var _e=this;this._mouseMoveEvent=function(){_e.onDrag.apply(_e,arguments);};};_._m.effectManager.prototype={add:function(_f,_10){_f.init(_10);this.effects.push(_f);if(this.timeState=="stopped"){this.timeState="running";this.startTimeout();}},remove:function(_11){var _12=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i]!=_11){_12.push(this.effects[i]);}}this.effects=_12;if(this.effects.length==0){this.cancelTimeout();}},startTimeout:function(){var _14=this;this.interval=setInterval(function(){var _15=new Date().getTime();_14.notifyLoop(_15);},10);},cancelTimeout:function(){clearInterval(this.interval);this.timeState="stopped";},notifyLoop:function(){var _16=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){_16.push(this.effects[i]);}}this.effects=_16;var _18=new Date().getTime();for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){this.effects[i].loop(_18);}}if(this.effects.length==0){this.cancelTimeout();}}};_._m.effectManager=new _._m.effectManager();_._m.defaultOptions={transition:_._m.transitions.sinoidal,duration:1,fps:60,from:0,to:1,delay:0};_._m.base={};_._m.base.prototype={position:null,init:function(_19){this.options=_.extend(_.extend({},_._m.defaultOptions),_19||{});this.currentFrame=0;this.state="stoped";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);var _1a=new Date().getTime();this.startOn+=_1a;this.finishOn+=_1a;},loop:function(_1b){if(_1b>=this.startOn){if(_1b>=this.finishOn){this.render(1);if(this.finish){this.finish();}this.state="finished";return;}var pos=(_1b-this.startOn)/(this.finishOn-this.startOn);var _1d=Math.round(pos*this.options.fps*this.options.duration);if(_1d>this.currentFrame){this.render(pos);this.currentFrame=_1d;}}},render:function(pos){if(this.state=="stoped"){this.state="running";if(this.setup){this.setup();}}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos=pos*(this.options.to-this.options.from)+this.options.from;if(this.update){this.update(pos);}}},setup:function(){},update:function(pos){},finish:function(){try{if(this.options.finish){this.options.finish.call();}}catch(e){_.exception.printStackTrace(e);}}};_._m.move=function(_20,_21){try{this.element=_20;var _22=_.extend({x:0,y:0,mode:"delta"},_21||{});_._m.effectManager.add(this,_22);}catch(e){$e(e);}};_.extend(_.extend(_._m.move.prototype,_._m.base.prototype),{setup:function(){this.originalLeft=parseFloat(_._v.getStyle(this.element,"left")||0);this.originalTop=parseFloat(_._v.getStyle(this.element,"top")||0);if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_23){_._v.setStyle(this.element,{left:this.options.x*_23+this.originalLeft+"px",top:this.options.y*_23+this.originalTop+"px"});}});_._m.resize=function(_24,_25){try{this.element=_24;var _26=_.extend({width:null,height:null,fromLeft:true,fromTop:true,mode:"delta"},_25||{});_._m.effectManager.add(this,_26);}catch(e){$e(e);}};_.extend(_.extend(_._m.resize.prototype,_._m.base.prototype),{setup:function(){this.originalLeft=parseFloat(_._v.getStyle(this.element,"left")||0);this.originalTop=parseFloat(_._v.getStyle(this.element,"top")||0);this.originalWidth=parseFloat(_._v.getStyle(this.element,"width")||0);this.originalHeight=parseFloat(_._v.getStyle(this.element,"height")||0);if(this.options.mode=="absolute"){if(this.options.width!=null){this.options.width=(this.options.width-this.originalWidth);}if(this.options.height!=null){this.options.height=(this.options.height-this.originalHeight);}}},update:function(_27){if(this.options.width!=null){this.element.style.width=(this.options.width*_27+this.originalWidth)+"px";if(!this.options.fromLeft){_._v.setStyle(this.element,{left:(-1*this.options.width*_27+this.originalLeft)+"px"});}}if(this.options.height!=null){this.element.style.height=(this.options.height*_27+this.originalHeight)+"px";if(!this.options.fromTop){_._v.setStyle(this.element,{top:(-1*this.options.height*_27+this.originalTop)+"px"});}}}});_._m.scale=function(_28,_29){try{this.element=_28;var _2a=_.extend({scaleX:true,scaleY:true,scaleFromCenter:false,scaleFromEnd:false,scaleFrom:100,scaleTo:_29},arguments[2]||{});_._m.effectManager.add(this,_2a);}catch(e){$e(e);}};_.extend(_.extend(_._m.scale.prototype,_._m.base.prototype),{setup:function(){this.elementPositioning=_._v.getStyle(this.element,"position");this.originalTop=parseInt(this.element.style.top);this.originalLeft=parseInt(this.element.style.left);this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;this.dims=[parseInt(this.element.style.height),parseInt(this.element.style.width)];},update:function(_2b){var _2c=(this.options.scaleFrom/100)+(this.factor*_2b);this.setDimensions(this.dims[0]*_2c,this.dims[1]*_2c);},setDimensions:function(_2d,_2e){var d={};if(this.options.scaleX){d.width=_2e+"px";}if(this.options.scaleY){d.height=_2d+"px";}if(this.options.scaleFromCenter){var _30=(_2d-this.dims[0])/2;var _31=(_2e-this.dims[1])/2;if(this.options.scaleY){d.top=this.originalTop-_30+"px";}if(this.options.scaleX){d.left=this.originalLeft-_31+"px";}}if(this.options.scaleFromEnd){var _30=(_2d-this.dims[0]);var _31=(_2e-this.dims[1]);if(this.options.scaleY){d.top=parseInt(this.originalTop-_30)+"px";}if(this.options.scaleX){d.left=parseInt(this.originalLeft-_31)+"px";}}_._v.setStyle(this.element,d);}});_._m.pathAnimation=function(_32){try{this.element=_32;if(arguments.length<2){return;}this.fromOptions=_.extend({pointList:[]},arguments[1]||{});this.toOptions=_.extend({pointList:[]},arguments[2]||{});var _33=_.extend({id:"",graphicUtil:null},arguments[3]||{});_._m.effectManager.add(this,_33);}catch(e){$e(e);}};_.extend(_.extend(_._m.pathAnimation.prototype,_._m.base.prototype),{setup:function(){var _34=this.fromOptions.pointList.length;var _35=this.toOptions.pointList.length;this.pointLength=Math.min(_34,_35);this.updatePointList=new Array(this.pointLength);for(var i=0;i<this.pointLength;i++){this.updatePointList[i]=new _.point2d(0,0);}},update:function(pos){for(var i=0;i<this.pointLength;i++){this.updatePointList[i].x=this.fromOptions.pointList[i].x+pos*(this.toOptions.pointList[i].x-this.fromOptions.pointList[i].x);this.updatePointList[i].y=this.fromOptions.pointList[i].y+pos*(this.toOptions.pointList[i].y-this.fromOptions.pointList[i].y);}this.options.graphicUtil.drawToolkit.modifyPath(this.options.id,{pointList:this.updatePointList,closeFlag:false});},finish:function(){}});_._m.rectAnimation=function(_39){try{this.element=_39;if(arguments.length<2){return;}this.fromOptions=_.extend({},arguments[1]||{});this.toOptions=_.extend({},arguments[2]||{});var _3a=_.extend({id:"",graphicUtil:null},arguments[3]||{});_._m.effectManager.add(this,_3a);}catch(e){$e(e);}};_.extend(_.extend(_._m.rectAnimation.prototype,_._m.base.prototype),{setup:function(){if(this.fromOptions.x!=null&&this.toOptions.x!=null){this.modifyX=true;}if(this.fromOptions.y!=null&&this.toOptions.y!=null){this.modifyY=true;}if(this.fromOptions.width!=null&&this.toOptions.width!=null){this.modifyWidth=true;}if(this.fromOptions.height!=null&&this.toOptions.height!=null){this.modifyHeight=true;}},update:function(pos){var x=this.fromOptions.x+pos*(this.toOptions.x-this.fromOptions.x);var y=this.fromOptions.y+pos*(this.toOptions.y-this.fromOptions.y);var _3e=this.fromOptions.width+pos*(this.toOptions.width-this.fromOptions.width);var _3f=this.fromOptions.height+pos*(this.toOptions.height-this.fromOptions.height);if(this.options.svg3D){var _40=(this.options.inverse?_3f:_3e)/3;var _41=[{x:x,y:y},{x:x+_40,y:y-_40},{x:x+_40+_3e,y:y-_40},{x:x+_3e,y:y}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_upper",{pointList:_41,closeFlag:true});var _42=[{x:x+_3e,y:y},{x:x+_3e+_40,y:y-_40},{x:x+_3e+_40,y:y+_3f-_40},{x:x+_3e,y:y+_3f}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_right",{pointList:_42,closeFlag:true});}this.options.graphicUtil.drawToolkit.modifyRectangle(this.options.id,{x:this.modifyX?x:null,y:this.modifyY?y:null,width:this.modifyWidth?_3e:null,height:this.modifyHeight?_3f:null});},finish:function(){}});_._m.arcAnimation=function(_43){try{this.element=_43;if(arguments.length<2){return;}this.fromOptions=_.extend({},arguments[1]||{});this.toOptions=_.extend({},arguments[2]||{});var _44=_.extend({id:"",graphicUtil:null},arguments[3]||{});_._m.effectManager.add(this,_44);}catch(e){$e(e);}};_.extend(_.extend(_._m.arcAnimation.prototype,_._m.base.prototype),{setup:function(){if(this.fromOptions.centerX!=null&&this.toOptions.centerX!=null&&this.fromOptions.centerY!=null&&this.toOptions.centerY!=null&&this.fromOptions.radius!=null&&this.toOptions.radius!=null&&this.fromOptions.startAngle!=null&&this.fromOptions.endAngle!=null&&this.toOptions.startAngle!=null&&this.toOptions.endAngle!=null){this.modify=true;}this.movingVector=new _.point2d(0,0);this.center=new _.point2d(0,0);},update:function(pos){if(this.modify){this.options.graphicUtil.drawToolkit.modifyArc(this.options.id,{centerX:this.fromOptions.centerX+pos*(this.toOptions.centerX-this.fromOptions.centerX),centerY:this.fromOptions.centerY+pos*(this.toOptions.centerY-this.fromOptions.centerY),radius:this.fromOptions.radius+pos*(this.toOptions.radius-this.fromOptions.radius),startAngle:this.fromOptions.startAngle+pos*(this.toOptions.startAngle-this.fromOptions.startAngle),endAngle:this.fromOptions.endAngle+pos*(this.toOptions.endAngle-this.fromOptions.endAngle)});}},finish:function(){}});_._m.blindDown=function(_46){try{this.element=_46;_._v.setStyle(this.element,{display:"none"});var _47=_.extend({},arguments[1]||{});_._m.effectManager.add(this,_47);}catch(e){$e(e);}};_.extend(_.extend(_._m.blindDown.prototype,_._m.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height);_._v.setStyle(this.element,{height:0,overflow:"hidden",display:"block"});},update:function(pos){this.element.style.height=this.originalHeight*pos;},finish:function(){}});_._m.blindUp=function(_49){try{this.element=_49;_._v.setStyle(this.element,{display:"none"});var _4a=_.extend({},arguments[1]||{});_._m.effectManager.add(this,_4a);}catch(e){$e(e);}};_.extend(_.extend(_._m.blindUp.prototype,_._m.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height);_._v.setStyle(this.element,{overflow:"hidden",display:"block"});},update:function(pos){_._v.setStyle(this.element,{height:this.originalHeight*(1-pos)});},finish:function(){}});_._m.slide=function(_4c){try{this.element=_4c;_._v.setStyle(this.element,{display:"none"});var _4d=_.extend({direction:"down"},arguments[1]||{});_._m.effectManager.add(this,_4d);}catch(e){$e(e);}};_.extend(_.extend(_._m.slide.prototype,_._m.base.prototype),{setup:function(){this.originalLeft=parseInt(this.element.style.left);this.originalTop=parseInt(this.element.style.top);this.originalWidth=parseInt(this.element.style.width);this.originalHeight=parseInt(this.element.style.height);_._v.setStyle(this.element,{display:"block"});},update:function(pos){switch(this.options.direction){case "down":this.element.style.top=this.originalTop+this.originalHeight*(-1+pos)+"px";break;case "up":this.element.style.top=this.originalTop+this.originalHeight*(1-pos)+"px";break;case "left":this.element.style.left=this.originalLeft+this.originalWidth*(1-pos)+"px";break;case "right":this.element.style.left=this.originalLeft+this.originalWidth*(-1+pos)+"px";break;}},finish:function(){}});_._m.opacity=function(_4f){try{this.element=_4f;var _50=_.extend({opacity:0},arguments[1]||{});_._m.effectManager.add(this,_50);}catch(e){$e(e);}};_.extend(_.extend(_._m.opacity.prototype,_._m.base.prototype),{setup:function(){},update:function(pos){var _52=1*(1-pos)+this.options.opacity*pos;_._v.setOpacity(this.element,_52);},finish:function(){}});_._m.newEffect=function(_53){try{this.element=_53;var _54=_.extend({},arguments[1]||{});_._m.effectManager.add(this,_54);}catch(e){$e(e);}};_.extend(_.extend(_._m.newEffect.prototype,_._m.base.prototype),{setup:function(){},update:function(pos){},finish:function(){}});_._m.animate=function(_56,_57,_58,_59){try{this.options=_.extend({mode:"absolute",transition:null},_59||{});var _5a=function(pos){for(var _5c in _57){var _5d=_57[_5c];var _5e=_58[_5c];var _5f="";switch(_5c){case "left":case "top":case "width":case "height":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;_56.style[_5c]=_5f+"px";break;case "scrollLeft":case "scrollTop":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;_56[_5c]=_5f+"px";break;case "opacity":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;_._v.setOpacity(_56,_5f);break;case "color":break;}}};var _60=new _.thread(_56.id,_5a);_60.run();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.effect=_._m;_.threadManager=function(){this.threadHash={};};_.threadManager.prototype.add=function(_1){if(this.threadHash[_1.id]){this.threadHash[_1.id].abort();}this.threadHash[_1.id]=_1;};_.threadManager.prototype.remove=function(_2){this.threadHash[_2.id]=null;};_.threadManager=new _.threadManager();_.thread=function(id,_4,_5){this.id=id;this.callback=_4;this.options=_.extend({delay:0,duration:1000,fps:60,mode:"",context:this},_5||{});this.timeState="abort";this.interval=null;};_.thread.prototype.run=function(){_.threadManager.add(this);var _6=new Date().getTime();this.startTime=this.options.delay+_6;this.finishTime=this.startTime+this.options.duration;this.currentFrame=0;var _7=this;this.interval=setInterval(function(){var _8=new Date().getTime();_7.runTime(_8);},10);this.timeState="run";};_.thread.prototype.abort=function(){clearInterval(this.interval);this.interval=null;this.timeState="abort";_.threadManager.remove(this);};_.thread.prototype.sleep=function(){};_.thread.prototype.runTime=function(_9){if(_9>=this.startTime){if(_9>=this.finishTime){this.update(1);this.abort();return;}var _a=(_9-this.startTime)/(this.finishTime-this.startTime);var _b=Math.round(_a*this.options.fps*this.options.duration/1000);if(_b>this.currentFrame){this.update(_a);this.currentFrame=_b;}}};_.thread.prototype.update=function(_c){this.callback.call(this.options.context,_c);};imports("engine/domIterator.js");_._F={};_._F.clear=function(){$l(" WebSquare memory leak initialize start ");for(var k in window._funs){window._funs[k]=null;}for(var i in window._objs){if(typeof window._objs[i]._closures!="undefined"){for(var j in window._objs[i]._closures){try{window._objs[i].detachEvent(window._objs[i]._closures[j].name,window._objs[i]._closures[j]);window._objs[i]._closures[j]=null;window._funs[j]=null;}catch(e){}}window._objs[i]._closures=null;window._objs[i]=null;}}window._objs=null;$l(" WebSquare memory leak initialize end ");};_._F.cleanObj=function(_4){try{for(var i in _4){_._F.cleanObj(_4[i]);}}catch(e){}delete _4;};_._F.clearElement=function(_6){var _7=null;var i=0;var _9=0;var _a="";_7=_6.attributes;if(_7){_9=_7.length;for(i=0;i<_9;i++){_a=_7[i].name;if(typeof _6[_a]=="function"){_6[_a]=null;}}}_7=_6.childNodes;if(_7){_9=_7.length;for(i=0;i<_9;i++){this.clearElement(_6.childNodes[i]);}}};_._F.applyParentObject=function(_b,_c){try{return _c.apply(_b,arguments);}catch(e){_.exception.printStackTrace(e);}};_._F.addListener=function(_d,_e,_f,_10){_.addListenerCnt++;try{_10=_10||false;if(_d.attachEvent){try{if(_d!=window){if(_e=="onload"){_.onload=_f;}else{_d.attachEvent(_e,_f.closure(_d,_e));}}else{_d.attachEvent(_e,_f);}}catch(e){_.exception.printStackTrace(e);}}else{if(_d.addEventListener){try{if((typeof _e!="undefined")&&(_e!=null)&&(_e!="")){if(_e.startsWith("on")){_d.addEventListener(_e.slice(2),_f,_10);}else{_d.addEventListener(_e,_f,_10);}}}catch(e){_.exception.printStackTrace(e);}}}}catch(e){$l("ERROR ["+_d.id+"] ["+_e+"] at WebSquare.event.addListener");_.exception.printStackTrace(e);}};_._F.removeListener=function(_11,_12,_13,_14){try{_14=_14||false;if(_11.detachEvent){try{if(_11!=window){_11.detachEvent(_12,_13.closure(_11,_12));}else{_11.detachEvent(_12,_13);}}catch(e){_.exception.printStackTrace(e);}}else{if(_11.removeEventListener){try{_11.removeEventListener(_12.slice(2),_13,_14);}catch(e){_.exception.printStackTrace(e);}}}}catch(e){_.exception.printStackTrace(e);}};_._F.addEvents=function(o,_16,_17){var _18=[];try{if(typeof _16!="undefined"&&_16!=null){if(typeof _17!="undefined"){var _19={};for(var i=0;i<_17.length;i++){_19[_17[i]]="";}var _1b=[];for(var i=0;i<_16.length;i++){if(typeof _19[_16[i].name]=="undefined"){_18.push(_16[i]);}else{_1b.push(_16[i]);}}_16=_1b;}var _1c=undefined;try{_1c=eval(o.id);}catch(e){_.exception.printStackTrace(e);}if(typeof _1c!="undefined"){for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){var obfuscator_obj=_1c;var obfuscator_xmlEvents=_16;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");_._F.addListener(o,_16[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_1c;var obfuscator_event=_16[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");_._F.addListener(o,_16[i].name,eval("applyEvent"+i),false);break;}}if(typeof _1c.userEventList=="object"&&typeof _1c.userEventList.length=="number"){_1c.userEventList=_1c.userEventList.concat(_16);}else{_1c.userEventList=_16;}}else{for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){_._F.addListener(o,_16[i].name,_16[i].param.handler);}break;case "send":_._F.addListener(o,_16[i].name,function(){_._C.executeSubmission(_16[i].param.submission);});break;case "refresh":var _1d=_16[i].param.model;var _1e=_._C.getModelByID(_1d);if(_1e!=null){_._F.addListener(o,_16[i].name,function(){_1e.refresh();});}break;case "setValue":if(typeof _16[i].param.xpath!="undefined"){var _1f=function(){var _20="";if(typeof _16[i].param.value!="undefined"){_20=_._C.getInstanceValue(_16[i].param.value);}else{if(typeof _16[i].param._text!="undefined"){_20=_text;}}var _21=new _._H.WebSquareSetValueAction(null,null,_16[i].param.xpath,_20);_21.activate();};_._F.addListener(o,_16[i].name,_1f);}break;case "upload":var _1f=function(){var _22=new _._H.WebSquareUploadAction(_16[i].param);_22.activate();};_._F.addListener(o,_16[i].name,_1f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:_.logger.printLog("[WebSquare.event.addEvents]"+_._z.getMessage("E_event_AddEventError",_16[i].action));break;}}}}}catch(e){_.exception.printStackTrace(e);}return _18;};_._F.addUserEvents=function(o,obfuscator_Actions,_24){var _25=[];try{if(obfuscator_Actions){if(typeof _24!="undefined"){var _26={};for(var i=0;i<_24.length;i++){_26[_24[i]]="";}var _28=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _26[obfuscator_Actions[i].name]=="undefined"){_25.push(obfuscator_Actions[i]);}else{_28.push(obfuscator_Actions[i]);}}obfuscator_Actions=_28;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){eval("obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler);}}}if(typeof o.userEventList=="object"&&typeof o.userEventList.length=="number"){o.userEventList=o.userEventList.concat(obfuscator_Actions);}else{o.userEventList=obfuscator_Actions;}}}catch(e){_.exception.printStackTrace(e);}return _25;};_._F.fireEvent=function(o,ev){try{var _2b=o.userEventList;if(o.options&&o.options.parentEvent&&(o!=o.options.parentEvent)){o.options.parentEvent.childFiredEvent.apply(o.options.parentEvent,arguments);return;}if(_2b){var _2c=null;var ret=undefined;for(var i=0;i<_2b.length;i++){if(typeof _2b[i].name!="undefined"&&_2b[i].name==ev.toLowerCase()){switch(_2b[i].action){case "script":if(typeof _2b[i].param.handler=="function"){if(_2c==null){_2c=[];if(arguments.length>2){for(var j=2;j<arguments.length;j++){_2c.push(arguments[j]);}}}ret=_2b[i].param.handler.apply(o,_2c);}break;case "send":_._C.executeSubmission(_2b[i].param.submission);break;case "dispatch":var _30=parseInt(_2b[i].param.delay);if(!isNaN(_30)){setTimeout("WebSquare.event.fireEvent( eval( '"+_2b[i].param.target+"'), '"+_2b[i].param.name+"');",_30);}else{_._F.fireEvent(eval(_2b[i].param.target),_2b[i].param.name);}break;case "refresh":var _31=_2b[i].param.model;var _32=_._C.getModelByID(_31);if(_32!=null){_32.refresh();}break;case "setValue":if(typeof _2b[i].param.xpath!="undefined"){var _33="";if(typeof _2b[i].param.value!="undefined"){_33=_._C.getInstanceValue(_2b[i].param.value);}else{if(typeof _2b[i].param._text!="undefined"){_33=_text;}}var _34=new _._H.WebSquareSetValueAction(null,null,_2b[i].param.xpath,_33);_34.activate();}break;case "prompt":break;case "reset":break;case "rebuild":break;case "recalculate":break;case "revalidate":break;case "setfocus":break;case "load":break;case "toggle":break;case "insert":break;case "copy":break;case "delete":break;case "setindex":break;case "upload":var _35=new _._H.WebSquareUploadAction(_2b[i].param);_35.activate();break;case "popup":var _36=new _._H.WebSquarePopupAction(_2b[i].param);_36.activate();break;default:break;}}}if(typeof ret!="undefined"){return ret;}}}catch(e){_.exception.printStackTrace(e);}};_._F.fireSystemEvent=function(o,_38,_39){try{if(!_._G.isIE()&&"createEvent" in document){if(_38.slice(0,2)=="on"){_38=_38.substring(2,_38.length);}var ev=document.createEvent("HTMLEvents");ev.initEvent(_38,true,true);for(var key in _39){ev[key]=_39[key];}o.render.dispatchEvent(ev);}else{if("createEventObject" in document){if(_38.slice(0,2)!="on"){_38="on"+_38;}var ev=document.createEventObject();ev.eventType=_38;ev.cancelBubble=true;ev.returnValue=true;for(var key in _39){ev[key]=_39[key];}o.render.fireEvent(_38,ev);}}}catch(e){_.exception.printStackTrace(e);}};_._F.getTarget=function(e){try{if(e==null){return null;}if(e.target){return e.target;}else{if(e.srcElement){return e.srcElement;}}return null;}catch(e){_.exception.printStackTrace(e);}};_._F.getRelatedTarget=function(e){try{if(e==null){return null;}else{if(e.relatedTarget){return e.relatedTarget;}else{if(event.fromElement){return e.fromElement===_._F.getTarget(e)?e.toElement:e.fromElement;}}}return null;}catch(e){_.exception.printStackTrace(e);}};_._F.getClientX=function(e){try{if(_._h.browserCheck.ie){return event.clientX;}else{return e.clientX;}}catch(e){_.exception.printStackTrace(e);}};_._F.getClientY=function(e){try{if(_._h.browserCheck.ie){return event.clientY;}else{return e.clientY;}}catch(e){_.exception.printStackTrace(e);}};_._F.getOffsetX=function(ev){try{if(_._h.browserCheck.ie){return event.offsetX;}else{var e=ev.target;var _42=_._v.getAbsoluteLeft(e);return ev.pageX-_42;}}catch(e){_.exception.printStackTrace(e);}};_._F.getOffsetY=function(ev){try{if(_._h.browserCheck.ie){return event.offsetY;}else{var e=ev.target;var _45=_._v.getAbsoluteTop(e);return ev.pageY-_45;}}catch(e){_.exception.printStackTrace(e);}};_._F.getScreenX=function(e){try{if(_._h.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){_.exception.printStackTrace(e);}};_._F.getScreenY=function(e){try{if(_._h.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){_.exception.printStackTrace(e);}};_._F.getMouseX=function(e){try{e=e||event;var _49=e.clientX;_49+=_.document.documentElement.scrollLeft||_.document.body.scrollLeft;if(_._G.isMobile()){_49=e.touches.item(0).pageX;}return _49;}catch(e){_.exception.printStackTrace(e);}};_._F.getMouseY=function(e){try{e=e||event;var _4b=e.clientY;_4b+=_.document.documentElement.scrollTop||_.document.body.scrollTop;if(_._G.isMobile()){_4b=e.touches.item(0).pageY;}return _4b;}catch(e){_.exception.printStackTrace(e);}};_._F.stopPropagation=function(e){try{if(e.stopPropagation){e.stopPropagation();}else{e.cancelBubble=true;}}catch(e){_.exception.printStackTrace(e);}};_._F.preventDefault=function(e){try{if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}catch(e){_.exception.printStackTrace(e);}};_._F.stopEvent=function(e){try{_._F.stopPropagation(e);_._F.preventDefault(e);}catch(e){_.exception.printStackTrace(e);}};_._F.bindAsEventListener=function(_4f,_50){return function(e){_50.apply(_4f,[e||window.event].concat(Array.prototype.slice.call(arguments,2)));};};_._p=function(){this.cache=null;};_._p.prototype.addListener=function(_52,_53,_54,_55){_55=_55||null;if(_52.addEventListener){_52.addEventListener(_53.slice(2),_54,_55);}else{if(_52.attachEvent){_52.attachEvent(_53,_54);}}this.setCache(_52,_53,_54,_55);};_._p.prototype.removeListener=function(_56,_57,_58,_59){_59=_59||null;if(_56.removeEventListener){_56.removeEventListener(_57.slice(2),_58,_59);}else{if(_56.detachEvent){_56.detachEvent(_57,_58);}}};_._p.prototype.setCache=function(_5a,_5b,_5c,_5d){if(!this.cache){this.cache=[];}this.cache.push([_5a,_5b,_5c,_5d]);};_._p.prototype.clearCache=function(){if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i][0]=null;}this.cache=null;};_._p.prototype.bind=function(_5f,_60){var _61=[];for(var i=2;i<arguments.length;i++){_61.push(arguments[i]);}return function(){_60.apply(_5f,_61);};};_._p.prototype.bindAsEventListener=function(_63,_64){var _65=[];for(var i=2;i<arguments.length;i++){_65.push(arguments[i]);}return function(e){_64.apply(_63,[e||window.event].concat(_65));};};_._p.prototype.clearElement=function(_68){var _69=null;var i=0;var _6b=0;var _6c="";_69=_68.attributes;if(_69){_6b=_69.length;for(i=0;i<_6b;i++){_6c=_69[i].name;if(typeof _68[_6c]=="function"){_68[_6c]=null;}}}};_._p.prototype.getTarget=function(e,_6e){_6e=_6e||"main";var _6f=_._F.getTarget(e);while(_6f){var _70=_6f.getAttribute("catch");if(_70&&_70.indexOf(_6e)>-1){break;}_6f=_6f.parentNode;}return _6f;};_._p.prototype.getTargetIterator=function(e,_72){var _73=_._F.getTarget(e);return new _.targetIterator(_73,_72);};_._p.prototype.getChildIterator=function(_74){return new _.childIterator(_74);};_._p.prototype.addEvents=function(o,_76,_77){var _78=[];try{if(typeof _76!="undefined"&&_76!=null){if(typeof _77!="undefined"){var _79={};for(var i=0;i<_77.length;i++){_79[_77[i]]="";}var _7b=[];for(var i=0;i<_76.length;i++){if(typeof _79[_76[i].name]=="undefined"){_78.push(_76[i]);}else{_7b.push(_76[i]);}}_76=_7b;}var _7c=undefined;try{_7c=eval(o.id);}catch(e){}if(typeof _7c!="undefined"){for(var i=0;i<_76.length;i++){switch(_76[i].action){case "script":if(typeof _76[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_76[i].param.handler);_76[i].param.handler=obfuscator_eventHandler;}if(typeof _76[i].param.handler=="function"){var obfuscator_obj=_7c;var obfuscator_xmlEvents=_76;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");this.addListener(o,_76[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_7c;var obfuscator_event=_76[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");this.addListener(o,_76[i].name,eval("applyEvent"+i),false);break;}}if(typeof _7c.userEventList=="object"&&typeof _7c.userEventList.length=="number"){_7c.userEventList.concat(_76);}else{_7c.userEventList=_76;}}else{for(var i=0;i<_76.length;i++){switch(_76[i].action){case "script":if(typeof _76[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_76[i].param.handler);_76[i].param.handler=obfuscator_eventHandler;}if(typeof _76[i].param.handler=="function"){this.addListener(o,_76[i].name,_76[i].param.handler);}break;case "send":this.addListener(o,_76[i].name,function(){_._C.executeSubmission(_76[i].param.submission);});break;case "refresh":var _7d=_76[i].param.model;var _7e=_._C.getModelByID(_7d);if(_7e!=null){this.addListener(o,_76[i].name,function(){_7e.refresh();});}break;case "setValue":if(typeof _76[i].param.xpath!="undefined"){var _7f=function(){var _80="";if(typeof _76[i].param.value!="undefined"){_80=_._C.getInstanceValue(_76[i].param.value);}else{if(typeof _76[i].param._text!="undefined"){_80=_text;}}var _81=new _._H.WebSquareSetValueAction(null,null,_76[i].param.xpath,_80);_81.activate();};this.addListener(o,_76[i].name,_7f);}break;case "upload":var _7f=function(){var _82=new _._H.WebSquareUploadAction(_76[i].param);_82.activate();};this.addListener(o,_76[i].name,_7f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:_.logger.printLog("[WebSquare.event.addEvents]"+_._z.getMessage("E_event_AddEventError",_76[i].action));break;}}}}}catch(e){_.exception.printStackTrace(e);}return _78;};_._F.addEvent=function(_83,_84,_85){if(!_85.$$guid){_85.$$guid=_._F.addEvent.guid++;}if(!_83.events){_83.events={};}var _86=_83.events[_84];if(!_86){_86=_83.events[_84]={};if(_83["on"+_84]){_86[0]=_83["on"+_84];}}_86[_85.$$guid]=_85;_83["on"+_84]=_._F.handleEvent;};_._F.removeEvent=function(_87,_88,_89){if(_87.events&&_87.events[_88]){delete _87.events[_88][_89.$$guid];}};_._F.handleEvent=function(_8a){var _8b=true;_8a=_8a||window.event;var _8c=this.events[_8a.type];for(var i in _8c){this.$$handleEvent=_8c[i];if(this.$$handleEvent(_8a)===false){_8b=false;}}return _8b;};_._F.fixEvent=function(_8e){_8e.preventDefault=_._F.fixEvent.preventDefault;_8e.stopPropagation=_._F.fixEvent.stopPropagation;};_._F.fixEvent.preventDefault=function(){this.returnValue=false;};_._F.fixEvent.stopPropagation=function(){this.cancelBubble=true;};_._F.isEventSupported=function(_8f,_90){var _91=false;try{if(!_8f){return false;}var _92=_90;if(typeof _92==="string"&&(_92.charAt(0)!=="o"||_92.charAt(1)!=="n")){_92="on"+_92;}_91=_92 in _8f;if(!_91){if(_8f.setAttribute&&_8f.removeAttribute){_8f.setAttribute(_92,"");_91=(typeof _8f[_92]==="function");if(typeof _8f[_92]!=="undefined"){_8f[_92]=undefined;}_8f.removeAttribute(_92);}}}catch(e){_.exception.printStackTrace(e);}return _91;};;WebSquare.event2=_._p;;WebSquare.event=_._F;_._x={};_._x.skinTag=new Array();_._x.addImport=function(_1,_2,_3){try{if(typeof _1==="string"){var _4={};_4.href=_._h.getURL(_1);_4.type="text/css";_4.rel="stylesheet";_1=_4;}var _5=false;for(var i in _._x.skinTag){if(_1==_._x.skinTag[i]){_5=true;break;}}if(_5&&_._h.docType!="quirk"){}else{_._x.skinTag.push(_1);if(_._h.getConfiguration("/WebSquare/stylesheet/@import")=="link"){if(_2==true){_.cssManager.linkExternalCSS(_1);}else{_.cssManager.linkControlCSS(_1);}}else{var _7=_1.href;var _8=_._h.load(_7);if(_2==true){_.cssManager.addExternalCSS(_8);}else{_.cssManager.addControlCSS(_8);}}}}catch(e){_.exception.printStackTrace(e);}};_._x.parseCSS=function(_9){try{if(_._h.browserCheck.ie){var _a=_.document.createStyleSheet();_a.cssText=_9;}else{if(_._h.browserCheck.opera){var _b=_.document.createElementNS("http://www.w3.org/1999/xhtml","style");_b.appendChild(document.createTextNode(_9));_.document.getElementsByTagName("head").item(0).appendChild(_b);}else{var _b=_.document.createElementNS("http://www.w3.org/1999/xhtml","style");_b.appendChild(document.createTextNode(_9));_.document.getElementsByTagName("head").item(0).appendChild(_b);}}}catch(e){_.exception.printStackTrace(e);}};_._x.importCSS=function(_c,_d){try{var _e=_._t.getElementsByTagName(_c.documentElement,"style",_._h._XML_NAMESPACE.XHTML);var _f="";for(var i=0;i<_e.length;i++){var _11=_e[i];if(_11.nodeType==1){var _12=_11.childNodes;for(var j=0;j<_12.length;j++){var _14=_12[j];if(_14.nodeType==4||_14.nodeType==3){_f+=_14.nodeValue;}}}}if(_f.wq_trim()!=""){_.cssManager.addInternalCSS(_f);}var _12=_c.childNodes;for(var i=0;i<_12.length;i++){var _11=_12[i];if(_11.nodeType==7&&_11.nodeName==="xml-stylesheet"){var _15=_11.data.wq_replaceAll("=","");var _16=_15.split("\"");_16.pop();var obj={};for(var j=0;j<_16.length;j+=2){obj[_16[j].wq_trim()]=_16[j+1];}if(obj.href){obj.href=_._h.getURL(obj.href);}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}if(_d){_._x.addImport(obj,true,true);}else{_._x.addImport(obj,true);}}}}catch(e){_.exception.printStackTrace(e);}};_._x.applyClass=function(obj,_19){try{obj.className=_19;}catch(e){}};_._x.ClassStyleCache={};_._x.makeTime=0;_._x.makeClassStyle=function(_1a){var _1b={};if(typeof _1a=="undefined"||_1a==null||_1a==""){return _1b;}if(typeof _._x.ClassStyleCache[_1a]!="undefined"&&_._x.ClassStyleCache[_1a]!=null){return _._x.ClassStyleCache[_1a];}try{var _1c=_.document.styleSheets;if(_._h.browserCheck.ie){for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.rules.length;j++){var _20=_1e.rules.item(j);if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var s=_24[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _27=s[1].substring(3).wq_trim();if(_27.charAt(0)=="("&&_27.charAt(_27.length-1)==")"){s[1]="url("+_._h.getImageURL(_27.substring(1,_27.length-1))+")";}}}_1b[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}_._x.ClassStyleCache[_1a]=_1b;break;}}}}else{if(_._h.browserCheck.opera){for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.cssRules.length;j++){var _20=_1e.cssRules[j];if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var idx=_24[k].indexOf(":");if(idx>-1){var _29=_24[k].substring(0,idx);var _2a=_24[k].substring(idx+1);_1b[(_29.wq_trim()).capitalizeStyle()]=_2a.wq_trim();}}_._x.ClassStyleCache[_1a]=_1b;break;}}}}else{for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.cssRules.length;j++){var _20=_1e.cssRules[j];if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}_21=_21.toLowerCase();_1a=_1a.toLowerCase();if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var s=_24[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _27=s[1].substring(3).wq_trim();if(_27.charAt(0)=="("&&_27.charAt(_27.length-1)==")"){s[1]="url("+_._h.getImageURL(_27.substring(1,_27.length-1))+")";}}}}_1b[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}_._x.ClassStyleCache[_1a]=_1b;break;}}}}}}catch(e){_.exception.printStackTrace(e);}return _1b;};_._x.makeBackgroundImageUrl=function(_2b){var _2c="";if(typeof _2b=="undefined"||_2b==null||_2b==""){return "";}try{var _2d=_.document.styleSheets;if(_._h.browserCheck.ie){for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.rules.length;j++){var _31=_2f.rules.item(j);if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");if(s[1]!=null&&(s[0].toUpperCase()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _38=s[1].substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){s[1]=_._h.getImageURL(_38.substring(1,_38.length-1));}}}_2c=s[1].wq_trim();}}break;}}}}else{if(_._h.browserCheck.opera){for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.cssRules.length;j++){var _31=_2f.cssRules[j];if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");var idx=_35[k].indexOf(":");if(idx>-1){var _3a=_35[k].substring(0,idx);var _3b=_35[k].substring(idx+1);if(_3a.toUpperCase().wq_trim()=="BACKGROUND-IMAGE"){if(_3b.indexOf("url")>=0){_3b=_3b.wq_trim();if(_3b.startsWith("url")){var _38=_3b.substring(3).wq_trim();_38=_38.replace(/"/g,"");if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){var _3c=_38.lastIndexOf(_.baseURI);_3c+=_.baseURI.length;_3b=_._h.getImageURL(_38.substring(_3c,_38.length-1));}}}_2c=_3b;}}}break;}}}}else{for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.cssRules.length;j++){var _31=_2f.cssRules[j];if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}_32=_32.toLowerCase();_2b=_2b.toLowerCase();if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");if(s[1]!=null&&(s[0].toUpperCase().wq_trim()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _38=s[1].substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){s[1]=_._h.getImageURL(_38.substring(1,_38.length-1));}}}}_2c=s[1].wq_trim();}}break;}}}}}}catch(e){_.exception.printStackTrace(e);}return _2c;};_._x.loadCSS=function(url){try{if(!url||url===""){return;}var _3e=_._h.load(url);if(_._h.browserCheck.ie){var _3f=_.document.createStyleSheet();_3f.cssText=_3e;}else{var _40=_.document.createElementNS("http://www.w3.org/1999/xhtml","style");_40.appendChild(document.createTextNode(_3e));_.document.getElementsByTagName("head")[0].appendChild(_40);}}catch(e){_.exception.printStackTrace(e);}};;WebSquare.skin=_._x;_._z={};_._z.getMessage=function(){try{var _1="";if(arguments.length==0){return "";}if(typeof WebSquareLang[arguments[0]]=="undefined"){_.logger.printLog("'"+arguments[0]+"' is not definde.");_1="";}else{_1=WebSquareLang[arguments[0]];}for(var i=1;i<arguments.length;i++){try{_1=_1.replace(eval("/%"+i+"/g"),arguments[i]);}catch(e){_.logger.printLog(e.message);}}return _1;}catch(e){_.logger.printLog(e.message);}};;WebSquare.language=_._z;_.point2d=function(x,y){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}this.x=x;this.y=y;};_.point2d.prototype.assign=function(_3){this.x=_3.x;this.y=_3.y;};_.point2d.prototype.add=function(_4){try{return new _.point2d(this.x+_4.x,this.y+_4.y);}catch(e){_.exception.printStackTrace(e);}};_.point2d.prototype.subtract=function(_5){try{return new _.point2d(this.x-_5.x,this.y-_5.y);}catch(e){_.exception.printStackTrace(e);}};_.point2d.prototype.scale=function(_6){try{return new _.point2d(this.x*_6,this.y*_6);}catch(e){_.exception.printStackTrace(e);}};_.point2d.prototype.getSize=function(){try{return Math.sqrt(this.x*this.x+this.y*this.y);}catch(e){_.exception.printStackTrace(e);}};_.point2d.prototype.innerProduct=function(_7){try{return this.x*_7.x+this.y*_7.y;}catch(e){_.exception.printStackTrace(e);}};_.point2d.prototype.crossProduct=function(_8){try{}catch(e){_.exception.printStackTrace(e);}};_.point3d=function(x,y,z){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}if(isNaN(z)){z=0;}this.x=x;this.y=y;this.z=z;};_.point3d.prototype.assign=function(_c){this.x=_c.x;this.y=_c.y;this.z=_c.z;};_.point3d.prototype.add=function(_d){try{return new _.point3d(this.x+_d.x,this.y+_d.y,this.z+_d.z);}catch(e){_.exception.printStackTrace(e);}};_.point3d.prototype.subtract=function(_e){try{return new _.point3d(this.x-_e.x,this.y-_e.y,this.z-_e.z);}catch(e){_.exception.printStackTrace(e);}};_.point3d.prototype.scale=function(_f){try{return new _.point3d(this.x*_f,this.y*_f,this.z*_f);}catch(e){_.exception.printStackTrace(e);}};_.point3d.prototype.getSize=function(){try{return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}catch(e){_.exception.printStackTrace(e);}};_.point3d.prototype.innerProduct=function(rhs){try{return this.x*rhs.x+this.y*rhs.y+this.z*rhs.z;}catch(e){_.exception.printStackTrace(e);}};_.point3d.prototype.crossProduct=function(rhs){try{}catch(e){_.exception.printStackTrace(e);}};_.matrix=function(row,col){try{this.rowCount=null;this.colCount=null;this.data=null;this.rowCount=row|0;this.colCount=col|0;this.data=new Array(row);for(var i=0;i<row;i++){this.data[i]=new Array(col);}for(var i=0;i<row;i++){for(var j=0;j<col;j++){this.data[i][j]=0;}}}catch(e){_.exception.printStackTrace(e);}};_.matrix.prototype.add=function(mat){try{var _17=new _.matrix(this.rowCount,this.colCount);if(this.rowCount==mat.rowCount&&this.colCount==mat.colCount){for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){_17.data[i][j]=this.data[i][j]+mat.data[i][j];}}}return _17;}catch(e){_.exception.printStackTrace(e);}};_.matrix.prototype.scale=function(_1a){try{for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){this.data[i][j]*=_1a;}}}catch(e){_.exception.printStackTrace(e);}};_.matrix.prototype.multiplyMatrix=function(rhs){try{var l=this.rowCount;var m=this.colCount;var m2=rhs.rowCount;var n=mat.colCount;var _22=new _.matrix(l,n);if(m==m2){for(var i=0;i<l;i++){for(var j=0;j<n;j++){var sum=0;for(var k=0;k<m;k++){sum+=this.data[i][k]*rhs.data[k][j];}_22.data[i][j]=sum;}}}return _22;}catch(e){_.exception.printStackTrace(e);}};_.matrix.prototype.rightMultiply2d=function(_27){try{var _28=new _.point2d();_28.x=this.data[0][0]*_27.x+this.data[0][1]*_27.y;_28.y=this.data[1][0]*_27.x+this.data[1][1]*_27.y;return _28;}catch(e){_.exception.printStackTrace(e);}};_.matrix.prototype.rightMultiply3d=function(_29){try{var _2a=new _.point3d();_2a.x=this.data[0][0]*_29.x+this.data[0][1]*_29.y+this.data[0][2]*_29.z;_2a.y=this.data[1][0]*_29.x+this.data[1][1]*_29.y+this.data[1][2]*_29.z;_2a.z=this.data[2][0]*_29.x+this.data[2][1]*_29.y+this.data[2][2]*_29.z;return _2a;}catch(e){_.exception.printStackTrace(e);}};_._o={rotMatrix2:new _.matrix(2,2),rotMatrix3:new _.matrix(3,3),rotMatrix4:new _.matrix(4,4)};_._o.translate2d=function(_2b,_2c){try{_2b.x=_2b.x+_2c.x;_2b.y=_2b.y+_2c.y;}catch(e){_.exception.printStackTrace(e);}};_._o.translate3d=function(_2d,_2e){try{_point2d.x+=_2e.x;_point2d.y+=_2e.y;_point2d.z+=_2e.z;}catch(e){_.exception.printStackTrace(e);}};_._o.reflect2d=function(_2f,_30){try{if(_30.x==1&&_30.y==1){this.rotMatrix2.data[0][0]=0;this.rotMatrix2.data[0][1]=1;this.rotMatrix2.data[1][0]=1;this.rotMatrix2.data[1][1]=0;}else{if(_30.x==0&&_30.y==1){this.rotMatrix2.data[0][0]=-1;this.rotMatrix2.data[0][1]=0;this.rotMatrix2.data[1][0]=0;this.rotMatrix2.data[1][1]=1;}}return this.rotMatrix2.rightMultiply2d(_2f);}catch(e){_.exception.printStackTrace(e);}};_._o.reflect3d=function(_31,_32){try{}catch(e){_.exception.printStackTrace(e);}};_._o.rotate2d=function(_33,_34,_35){try{this.rotMatrix2.data[0][0]=Math.cos(_35*Math.PI/180);this.rotMatrix2.data[0][1]=Math.sin(_35*Math.PI/180)*-1;this.rotMatrix2.data[1][0]=Math.sin(_35*Math.PI/180);this.rotMatrix2.data[1][1]=Math.cos(_35*Math.PI/180);return this.rotMatrix2.rightMultiply2d(_33.subtract(_34)).add(_34);}catch(e){_.exception.printStackTrace(e);}};_._o.rotate3d=function(_36,_37,_38){try{}catch(e){_.exception.printStackTrace(e);}};;WebSquare.geometry=_._o;requires("engine/effect.js");_._i={};_._i.shape=function(id){this.id=id;this.renderType="";};_._i.shape.prototype.render=function(_2){alert("should override WebSquare.shape.render");};_._i.shape.prototype.renderTime=function(_3,_4){this.render(_3);};_._i.lineShape=function(id,_6,_7,_8,_9,_a,_b){try{_b=_.extend({},_b);_._i.shape.call(this,id);this.startX=_6;this.startY=_7;this.endX=_8;this.endY=_9;this.style=_a;this.params=_b;this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.lineShape.inherit(_._i.shape);_._i.lineShape.prototype.render=function(_c){try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_c.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_c.drawToolkit.createLine(this.id,this.style.borderWidth,this.startX,this.startY,this.endX,this.endY,this.style.borderColor,true,this.style.zIndex);return this.graphicObj;}catch(e){_.exception.printStackTrace(e);}};_._i.lineShape.prototype.renderTime=function(_d,_e){try{var _f=this;if(_e!=null&&_e>=0){setTimeout(function(){_f.graphicObj=_d.drawToolkit.createLine(_f.id,this.style.borderWidth,_f.startX,_f.startY,_f.endX,_f.endY,this.style.borderColor,true,this.style.zIndex);},_e);}return null;}catch(e){_.exception.printStackTrace(e);}};_._i.arcShape=function(id,_11,_12,_13,_14,_15,_16,_17){try{_17=_.extend({},_17);_._i.shape.call(this,id);this.centerX=_11;this.centerY=_12;this.radius=_13;this.startAngle=_14;this.endAngle=_15;this.style=_16;this.params=_17;this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.arcShape.inherit(_._i.shape);_._i.arcShape.prototype.render=function(_18){try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_18.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new _._m.arcAnimation(null,{centerX:this.centerX,centerX:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.startAngle},{centerX:this.centerX,centerX:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,duration:0.5});}else{if(this.renderType.indexOf("[animation]2")>-1){var _19=new _.point2d(this.radius/2,0);var _1a=new _.point2d(0,0);var _1b=(this.startAngle+this.endAngle)/2;_19=_._o.rotate2d(_19,_1a,-_1b);this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX+_19.x,this.centerY+_19.y,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new _._m.arcAnimation(null,{centerX:this.centerX+_19.x,centerY:this.centerY+_19.y,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,transition:_._m.transitions.square4,duration:0.5});}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new _._m.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,startAngle:0,endAngle:0,radius:this.radius},{centerX:this.centerX,centerY:this.centerY,startAngle:this.startAngle,endAngle:this.endAngle,radius:this.radius},{id:this.id,graphicUtil:_18,duration:0.5});}}}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _1c=_18.getBrightColor(this.style.backgroundColor,2);_18.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_1c);}return this.graphicObj;}catch(e){_.exception.printStackTrace(e);}};_._i.circleShape=function(id,_1e,_1f,_20,_21,_22){try{_22=_.extend({},_22);_._i.shape.call(this,id);this.centerX=_1e;this.centerY=_1f;this.radius=_20;this.style=_21;this.params=_22;this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.circleShape.inherit(_._i.shape);_._i.circleShape.prototype.render=function(_23){try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_23.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_23.drawToolkit.createCircle(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);if(this.renderType.indexOf("[gradient]")>-1){var _24=_23.getBrightColor(this.style.backgroundColor,2);_23.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_24);}return this.graphicObj;}catch(e){_.exception.printStackTrace(e);}};_._i.rectangleShape=function(id,_26,_27,_28,_29,_2a,_2b){try{_2b=_.extend({},_2b);_._i.shape.call(this,id);this.startX=_26;this.startY=_27;this.endX=_28;this.endY=_29;this.style=_2a;this.params=_2b;this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.rectangleShape.inherit(_._i.shape);_._i.rectangleShape.prototype.render=function(_2c){try{var _2d=Math.abs(this.endX-this.startX);var _2e=Math.abs(this.endY-this.startY);var _2f=Math.min(this.startX,this.endX);var _30=Math.min(this.startY,this.endY);if(this.style.borderColor=="autoDark"){this.style.borderColor=_2c.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,0,0,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);var _31=this.renderType.indexOf("[inverse]")>=0;var _32=!_31?{x:_2f,y:_30+_2e,width:_2d,height:0}:{x:_2f,y:_30,width:0,height:_2e};new _._m.rectAnimation(null,_32,{x:_2f,y:_30,width:_2d,height:_2e},{id:this.id,graphicUtil:_2c,transition:_._m.transitions.linear,duration:0.5,inverse:_31,svg3D:(_2c.platformType==="svg"&&this.renderType.indexOf("[3D]")>=0)});}else{this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,_2d,_2e,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _33=_2c.getBrightColor(this.style.backgroundColor,2);_2c.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_33);}var _34=_2d;if(this.renderType.indexOf("[inverse]")>-1){_34=_2e;}if(this.renderType.indexOf("[3D]")>-1){_2c.drawToolkit.add3DEffect(this.id,_34);}return this.graphicObj;}catch(e){_.exception.printStackTrace(e);}};_._i.pathShape=function(id,_36,_37,_38){try{_38=_.extend({},_38);_._i.shape.call(this,id);this.pointArr=_36;this.style=_37;this.params=_.extend({closeFlag:true,fillFlag:true},_38);this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.pathShape.inherit(_._i.shape);_._i.pathShape.prototype.render=function(_39){["pathShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_39.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new _.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){if(i==0){_3a.x=this.pointArr[i].x;_3a.y=this.pointArr[i].y;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new _.point2d(_3a.x,_3a.y);}new _._m.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:_._m.transitions.sinodial,duration:0.5});}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new _.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){_3a.x+=this.pointArr[i].x;_3a.y+=this.pointArr[i].y;if(i==this.pointArr.length-1){_3a.x/=this.pointArr.length;_3a.y/=this.pointArr.length;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new _.point2d(_3a.x,_3a.y);}new _._m.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:_._m.transitions.sinodial,duration:0.5});}}else{if(this.params.closeFlag==true){this.graphicObj=_39.drawToolkit.createPath(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);}}return this.graphicObj;}catch(e){_.exception.printStackTrace(e);}};_._i.textShape=function(id,_3e,_3f,_40,_41,_42){try{_42=_.extend({},_42);_._i.shape.call(this,id);this.text=_3e;this.centerX=_3f;this.centerY=_40;this.style=_41;this.params=_42;this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.textShape.inherit(_._i.shape);_._i.textShape.prototype.render=function(_43){try{var _44=document.createElement("div");var _45=parseInt(this.style.fontSize);if(isNaN(_45)){_45=12;}var _46=this.text.length*_45;_44.id=this.id;_._h.applyStyle(_44,this.style);_44.style.width=_46+"px";_44.style.left=this.centerX-_46/2+"px";_44.style.top=this.centerY-_45/2+"px";_44.innerHTML=this.text;if(this.params.graphicID){_44.graphicID=this.params.graphicID;}if(this.params.className){_44.className=this.params.className;}_43.drawToolkit.appendObj(_44.id,_44,false);_43.render.appendChild(_44);this.graphicObj=_44;}catch(e){_.exception.printStackTrace(e);}return this.graphicObj;};_._i.shapeComposite=function(id){try{_._i.shape.call(this,id);this.shapeList=new Array();this.graphicObj=null;}catch(e){_.exception.printStackTrace(e);}};_._i.shapeComposite.inherit(_._i.shape);_._i.shapeComposite.prototype.addShape=function(_48){try{this.shapeList.push(_48);}catch(e){_.exception.printStackTrace(e);}};_._i.shapeComposite.prototype.render=function(_49){try{if(this.renderType=="sequence Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){_4a+=50;this.shapeList[i].renderTime(_49,_4a);}}else{if(this.renderType=="simultaneous Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){this.shapeList[i].renderTime(_49,_4a);}}else{for(var i=0;i<this.shapeList.length;i++){if(this.renderType!=null&&this.renderType!=""){this.shapeList[i].renderType=this.renderType;}var _4c=this.shapeList[i].render(_49);}}}}catch(e){_.exception.printStackTrace(e);}};_._i.debugPoint=function(_4d,_4e,_4f){try{if(_4e==null){_4e=_.document.body;}_4f=_.extend({style:{},colorIndex:0,graphicUtil:null},_4f||{});var _50=new Array("#b83c55","#6142a4","#3771df","#43993c","#c8d238","#db7141","#7380C1","#7BB39C","#AED22F","#AFC084","#FC9C32","#DB4C81","#9B60C1","#DCD64F","#C7725B","#C0C3B8","#C181B3","#DBAC46","#838B9E","#82C6D2","#4F77AE");var _51=5;var _52=2;var _53=_._v.extendStyle({position:"absolute",backgroundColor:_50[_4f.colorIndex],borderColror:_50[_4f.colorIndex],borderStyle:"solid",borderWidth:"0px",width:_51,height:_52},_4f.style||{});if(_4f.graphicUtil){var _54=new _._i.circleShape("debug_circle",_4d.x,_4d.y,3,_53);_54.render(_4f.graphicUtil);}else{var div=_.document.createElement("div");_._v.setStyle(div,_53);_._v.setStyle(div,{left:_4d.x-_51/2,top:_4d.y-_52/2});_4e.appendChild(div);}}catch(e){_.exception.printStackTrace(e);}};;WebSquare.shape=_._i;_.configManager=function(_1){if(Object.prototype.toString.call(_1)==="[object Array]"){this.xmlDoc=_1;}else{this.xmlDoc=[_1];}this.configCache={};};_.configManager.prototype.setConfig=function(_2){try{if(Object.prototype.toString.call(_2)==="[object Array]"){this.xmlDoc=_2;}else{this.xmlDoc=[_2];}this.configCache={};}catch(e){_.exception.printStackTrace(e);}};_.configManager.prototype.parseConfig=function(_3){try{var _4={};for(var i=0;i<this.xmlDoc.length;i++){var _6=_._t.findNode(this.xmlDoc[i],"/WebSquare/"+_3);if(_6){for(var _7=_6.firstChild;_7!=null;_7=_7.nextSibling){if(_7.nodeType==1){var _8=_7.tagName;var _9=_._t.getValue(_7,"@value");_4[_8]=_9;}}break;}}this.configCache[_3]=_4;}catch(e){_.exception.printStackTrace(e);}};_.configManager.prototype.getConfig=function(_a){try{if(!this.configCache[_a]){this.parseConfig(_a);}return this.configCache[_a];}catch(e){_.exception.printStackTrace(e);}};_.configManager=new _.configManager(_.BootLoader.configurationDOM);_._k={};_._k.CSSStyleSheet=function(){this.rules=[];this.ruleIndex=[];if(document.createStyleSheet&&false){this.sheet=document.createStyleSheet();}else{this.styleElement=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(this.styleElement);this.sheet=this.styleElement.styleSheet?this.styleElement.styleSheet:this.styleElement.sheet;}};_._k.CSSStyleSheet.addRuleRe1=new RegExp("^\\{?([^\\}])");_._k.CSSStyleSheet.addRuleRe2=new RegExp("^\\{[^\\}]*\\}$");_._k.CSSStyleSheet.prototype.addRule=function(_1,_2){var _3;if(!this.sheet){_2=_2.replace(_._k.CSSStyleSheet.addRuleRe1,"$1");if(!this.ruleIndex[_1]){this.ruleIndex[_1]=this.rules.length;}this.rules[this.ruleIndex[_1]]=_2;var _4="";for(var _5 in this.ruleIndex){_4=_5+" {"+this.rules[this.ruleIndex[_5]]+"}";}this.styleElement.innerHTML=_4;}else{if(this.sheet.addRule){_2=_2.replace(_._k.CSSStyleSheet.addRuleRe1,"$1");var r=this.sheet.rules.length;this.sheet.addRule(_1,_2);_3=this.sheet.rules[r];this.ruleIndex[_1]=r;this.rules=this.sheet.rules;}else{if(this.sheet.insertRule){if(!_._k.CSSStyleSheet.addRuleRe2.test(_2)){_2="{"+_2+"}";}var r=this.sheet.cssRules.length;this.sheet.insertRule(_1+" "+_2,r);_3=this.sheet.cssRules[r];this.ruleIndex[_1]=r;if(this.rules.length==0){this.rules=this.sheet.cssRules;}}else{alert("Cannot create rule");}}}return _3;};_._k.CSSStyleSheet.prototype.changeRule=function(_7,_8,_9){try{var _a=this.ruleIndex[_7];if(typeof _a=="undefined"){this.addRule(_7,_8+":"+_9);return;}if(!this.sheet){var _b=this.rules[_a];if(_b){var _c=new RegExp("^(.*"+_8+"\\s*:\\s*)([^;]*)(.*)$");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){this.rules[_a]=_d[1]+_9+_d[3];}}else{this.rules[_a]=_b+"; "+_8+": "+_9+";";}_b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}this.styleElement.innerHTML=_b;}var _b="";var _b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}}else{if(this.rules[_a].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_8);while(m){_8=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_8);}var _10=this;setTimeout(function(){_10.rules[_a].style[_8]=_9;},1);}else{if(this.sheet.insertRule){var _11=this.rules[_a];if(_11){var _b=_11.cssText;var _c=new RegExp("^[^\\{]*(\\{.*"+_8+"\\s*\\:\\s*)([^};]*)([^}]*})");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){_b=_d[1]+_9+_d[3];this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}else{var _c=new RegExp("\\{([^}]*)}");_d=_c.exec(_b);_b="{ "+_d[1]+"; "+_8+": "+_9+" }";this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}}}}}catch(e){_.exception.printStackTrace(e);}};_._k.CSSStyleSheet.prototype.getRuleProperty=function(_12,_13){var _14=this.ruleIndex[_12];if(typeof _14=="undefined"){return;}if(!this.sheet){var _15=this.rules[_14];if(_15){var _16=new RegExp("^.*"+_13+"s*:s*([^;]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}else{if(this.rules[_14].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_13);while(m){_13=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_13);}var _19=this.rules[_14].style;return _19[_13];}else{if(this.sheet.insertRule){var _1a=this.rules[_14];if(_1a){_15=_1a.cssText;var _16=new RegExp("^.*"+_13+"\\s*\\:\\s*([^};]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}}}};_._k.CSSStyleSheet.prototype.getRule=function(_1b){var _1c=this.ruleIndex[_1b];if(typeof _1c=="undefined"){return;}if(!this.sheet){var _1d=this.rules[_1c];return _1d;}else{if(this.rules[_1c].style){var _1e=this.rules[_1c].style;return _1e.cssText;}else{if(this.sheet.insertRule){var _1f=this.rules[_1c];if(_1f){_1d=_1f.cssText;return _1d;}}}}};_.cssStyleSheet={};_.cssStyleSheet.styleSheet=null;_.cssStyleSheet.initialize=function(){if(_.cssStyleSheet.styleSheet==null){_.cssStyleSheet.styleSheet=new _._k.CSSStyleSheet();}};_.cssStyleSheet.addRule=function(_20,_21){_.cssStyleSheet.initialize();_.cssStyleSheet.styleSheet.addRule(_20,_21);};_.cssStyleSheet.changeRule=function(_22,_23,_24){_.cssStyleSheet.initialize();_.cssStyleSheet.styleSheet.changeRule(_22,_23,_24);};_.cssStyleSheet.getRuleProperty=function(_25,_26){_.cssStyleSheet.initialize();_.cssStyleSheet.styleSheet.getRuleProperty(_25,_26);};_.cssStyleSheet.getRule=function(_27){_.cssStyleSheet.initialize();_.cssStyleSheet.styleSheet.getRule(_27);};;WebSquare.styleSheet=_._k;_.eventControl=function(){try{this.cache=null;}catch(e){_.exception.printStackTrace(e);}};if(document.addEventListener&&!_._G.isIE()){_.eventControl.prototype.addListener=function(_1,_2,_3,_4){try{_4=_4||null;if(_2.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(e){if(typeof this.disabled!="undefined"&&(this.disabled||this.getAttribute("disabled")=="true")){return;}else{_3.apply(_1,arguments);}};var _7=_2.slice(2);if(_2.toLowerCase()=="onmousewheel"&&_._h.browserCheck.moz){_7="DOMMouseScroll";}_1.addEventListener(_7,ff,_4);this.setCache(_1,_2,ff,_4);}catch(e){$l(this.addListener.caller,"caller");_.exception.printStackTrace(e);}};}else{if(document.attachEvent){_.eventControl.prototype.addListener=function(_8,_9,_a,_b){try{_b=_b||null;if(_9.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(){if(typeof _8.disabled!="undefined"&&(_8.disabled||_8.getAttribute("disabled")=="true")){return;}else{_a.apply(_8,arguments);}};_8.attachEvent(_9,ff);this.setCache(_8,_9,ff,_b);}catch(e){$l(this.addListener.caller,"caller");_.exception.printStackTrace(e);}};}else{_.eventControl.prototype.addListener=function(){};}}_.eventControl.prototype.addListener2=function(_d,_e,_f,_10){try{var _11=(function(_12,_13){return function(e){_13.call(_12,e||window.event);};})(_10||_d,_f);if(_d.attachEvent){_d.attachEvent(_e,_11);}else{if(_d.addEventListener){_e=_e.slice(2);if(_e.wq_trim().toLowerCase()=="mousewheel"&&_._G.isFF()){_e="DOMMouseScroll";}_d.addEventListener(_e,_11,false);}}this.setCache(_d,_e,_11,null);}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.removeListener=function(_15,_16,_17,_18){try{_18=_18||null;try{if(!_._G.isIE()&&_15.removeEventListener){_15.removeEventListener(_16.slice(2),_17,_18);}else{if(_15.detachEvent){_15.detachEvent(_16,_17);}}}catch(e){}}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.setCache=function(_19,_1a,_1b,_1c){try{if(!this.cache){this.cache=[];}this.cache.push([_19,_1a,_1b,_1c]);}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.clearCache=function(){try{if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i]=null;}this.cache=null;}catch(e){_.exception.printStackTrace(e);}},_.eventControl.prototype.bindAsEventListener=(function(){try{var id=0;function createLookupHandler(id,_20){return function(e){if(id in _&&_[id]){if(_[id].context["__removed_object__"]){return;}if(_[id].context.getDisabled&&_[id].context.getDisabled()==true){return;}if(_[id].context.options&&_[id].context.options.pluginName!="grid"){if(_[id].context.getReadOnly&&_[id].context.getReadOnly()==true){return;}}if(e&&e.type==="mousedown"){_.getBody().getLayerListener().otherClick(e);}_[id].handler.apply(_[id].context,[e||window.event].concat(_20));}};}function createWrapper(_22,_23){var _24=[];for(var i=2;i<arguments.length;i++){_24.push(arguments[i]);}var cid="bindAsEventListener_"+id++,wrapper=createLookupHandler(cid,_24);_[cid]={"handler":_23,"context":_22};_22.bindAsEventList.push(cid);return wrapper;}return createWrapper;}catch(e){_.exception.printStackTrace(e);}})(),_.eventControl.prototype.bindAsUserEventListener=(function(){try{var id=0;function createLookupHandler(id){return function(){if(id in _&&_[id]){_[id].handler.apply(_[id].context,arguments);}};}function createWrapper(_29,_2a){var cid="bindAsUserEventListener_"+id++,wrapper=createLookupHandler(cid);_[cid]={"handler":_2a,"context":_29};var obj=_.WebSquareDocument.componentIdCache[_29.id]||window[_29.id];if(obj&&obj.bindAsUserEventList){obj.bindAsUserEventList.push(cid);}return wrapper;}return createWrapper;}catch(e){_.exception.printStackTrace(e);}})(),_.eventControl.prototype.clearElement=function(_2d){try{var _2e=null;var i=0;var _30=0;var _31="";_2e=_2d.attributes;if(_2e){_30=_2e.length;for(i=0;i<_30;i++){if(_2e[i]){_31=_2e[i].name;if(typeof _2d[_31]=="function"){_2d[_31]=null;}}}}}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.getTarget=function(e,_33){try{_33=_33||"main";var _34=_._F.getTarget(e);while(_34){var _35=_34.getAttribute("catch");if(_35&&_35.indexOf(_33)>-1){break;}_34=_34.parentNode;}return _34;}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.getTargetIterator=function(e,_37){try{var _38=_._F.getTarget(e);return new _.targetIterator(_38,_37);}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.getChildIterator=function(_39){try{return new _.childIterator(_39);}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.isMe=function(e,_3b){try{var _3c=_._F.getTarget(e);while(_3c!=null){if(_3c==_3b){return true;}_3c=_3c.parentNode;}return false;}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.isMine=function(e,_3e){try{var _3f=_._F.getTarget(e);while(_3f!=null){if(_3f.id&&_3f.id.indexOf(_3e.id)>=0){return true;}_3f=_3f.parentNode;}return false;}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.addEvents=function(_40,_41){var _42=[];try{if(_40!=null&&_41!=null){for(var i=0;i<_41.length;i++){if(_._F.isEventSupported(_40.render,_41[i].name)){switch(_41[i].action){case "script":if(typeof _41[i].param.handler=="string"){if(_40.scope_obj){eval("WebSquare.scope_obj="+_40.scope_obj.id+";\nwith("+_40.scope_obj.id+".scope) {\n var obfuscator_eventHandler = "+_41[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("var obfuscator_eventHandler = "+_41[i].param.handler);}_41[i].param.handler=obfuscator_eventHandler;}if(typeof _41[i].param.handler=="function"){if(_40.systemEventList[_41[i].name]==undefined||!(_40.systemEventList[_41[i].name].count>0)){_40.systemEventList[_41[i].name]={};_40.systemEventList[_41[i].name].count=1;var _44=(function(_45,_46){return _46.bindAsUserEventListener(_40.render,function(e){_._F.fireEvent.call(_40,_40,_45,e);});})(_41[i].name,this);this.addListener(_40.render,_41[i].name,_44,false);if(_40.event.cache){_40.systemEventList[_41[i].name].handler=_40.event.cache[_40.event.cache.length-1][2];}}else{_40.systemEventList[_41[i].name].count++;}}break;default:var obfuscator_obj=_40;var obfuscator_event=_41[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");if(_40.systemEventList[_41[i].name]==undefined||!(_40.systemEventList[_41[i].name].count>0)){_40.systemEventList[_41[i].name]={};_40.systemEventList[_41[i].name].count=1;_40.systemEventList[_41[i].name].handler=eval("applyEvent"+i);this.addListener(_40.render,_41[i].name,_40.systemEventList[_41[i].name].handler,false);}else{_40.systemEventList[_41[i].name].count++;}break;}}else{if(_41[i].param!=undefined&&typeof _41[i].param.handler=="string"){if(_40.scope_obj){eval("WebSquare.scope_obj="+_40.scope_obj.id+";\nwith("+_40.scope_obj.id+".scope) {\n var obfuscator_eventHandler = "+_41[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("var obfuscator_eventHandler = "+_41[i].param.handler);}_41[i].param.handler=obfuscator_eventHandler;}}}_40.userEventList=_40.userEventList.concat(_41);}}catch(e){_.exception.printStackTrace(e);}};_.eventControl.prototype.addUserEvents=function(_48,obfuscator_Actions,_49){var _4a=[];try{if(obfuscator_Actions){if(typeof _49!="undefined"){var _4b={};for(var i=0;i<_49.length;i++){_4b[_49[i]]="";}var _4d=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _4b[obfuscator_Actions[i].name]=="undefined"){_4a.push(obfuscator_Actions[i]);}else{_4d.push(obfuscator_Actions[i]);}}obfuscator_Actions=_4d;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){if(_48.scope_obj){eval("WebSquare.scope_obj="+_48.scope_obj.id+";\nwith("+_48.scope_obj.id+".scope) {\n obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler);}}}}_48.userEventList=_48.userEventList.concat(obfuscator_Actions);}}catch(e){_.exception.printStackTrace(e);}return _4a;};requires("uiplugin/control/eventControl.js");_._A={};_._A.ghostDragManager=function(){try{this.init();this.event=new _.eventControl();var _1=this;this.mouseMoveListener=function(e){_1.update.apply(_1,arguments);};this.mouseUpListener=function(e){_1.finish.apply(_1,arguments);};}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.init=function(){try{this.dragGhost=null;this.element=null;this.target=null;this.currentFrame=0;this.deltaX=0;this.deltaY=0;this.oldMouseX=-1;this.oldMouseY=-1;this.status="stop";this.options={id:"w2drag",className:"w2drag",contents:"",direction:"x y",resizeDirection:"width height",frameGap:20,delay:0,mode:"move",applyMousePosition:false,dropClass:"",onDrop:null,makeGhostLayer:null,useDragLayer:false,handleStart:null,handleUpdate:null,handleFinish:null,beforeStart:null,afterFinish:null};this.original={position:"",left:0,top:0,width:0,height:0,mouseX:0,mouseY:0};}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.activate=function(e,_5,_6){try{if(_._G.isMobile()==true){_._F.addListener(document.documentElement,"ontouchmove",this.mouseMoveListener);_._F.addListener(document.documentElement,"ontouchend",this.mouseUpListener);}else{_._F.addListener(document.documentElement,"onmousemove",this.mouseMoveListener);_._F.addListener(document.documentElement,"onmouseup",this.mouseUpListener);}this.options=_.extend(this.options,_6||{});var _7=_._v.getAbsoluteLeft(_5);var _8=_._v.getAbsoluteTop(_5);var _9=this.getDragGhost();var _a=_._v.getAbsoluteTop(_9.render);var _b=_._v.getAbsoluteLeft(_9.render);if(_9.render.style.display=="none"){_a=0;_b=0;}if(_9.saveOffsetTop==undefined){_9.saveOffsetTop=_a;}if(_9.saveOffsetLeft==undefined){_9.saveOffsetLeft=_b;}_9.saveLeft=_7;_9.saveTop=_8;if(this.options.makeGhostLayer){_9=this.options.makeGhostLayer(_9,e);if(this.options.mode=="resize"){_9.show();}}_9.render.innerHTML=this.options.contents;if(_9){this.dragGhost=_9;this.element=_5;this.target=this.dragGhost.render;this.original={left:this.dragGhost.saveOffsetLeft+_7,top:this.dragGhost.saveOffsetTop+_8,width:this.target.offsetWidth,height:this.target.offsetHeight,mouseX:_._F.getMouseX(e),mouseY:_._F.getMouseY(e)};}_.getBody().addClass("w2drag_activate");}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.drawSize=function(_c,_d){try{if(this.target){if(_c>=0&&this.options.resizeDirection.indexOf("width")>-1){this.target.style.width=_c+"px";}if(_d>=0&&this.options.resizeDirection.indexOf("height")>-1){this.target.style.height=_d+"px";}}}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.drawPosition=function(x,y){try{if(this.target){if(this.options.direction.indexOf("x")>-1){this.target.style.left=x+"px";}if(this.options.direction.indexOf("y")>-1){this.target.style.top=y+"px";}}}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.start=function(e){try{if(this.status=="stop"){this.status="started";if(this.options.beforeStart){this.options.beforeStart(e);}if(this.options.handleStart){this.options.handleStart(e);}this.dragGhost.show();this.dragGhost.setPosition(this.dragGhost.saveLeft,this.dragGhost.saveTop);}}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.update=function(e){try{var _12=false;if(this.target){_._F.stopEvent(e);var _13=_._F.getMouseX(e);var _14=_._F.getMouseY(e);if(this.oldMouseX!=_13||this.oldMouseY!=_14){this.oldMouseX=_13;this.oldMouseY=_14;_12=true;}this.deltaX=_13-this.original.mouseX;this.deltaY=_14-this.original.mouseY;}if(_12&&this.target&&Math.abs(this.deltaX)+Math.abs(this.deltaY)>this.options.delay){this.start(e);}if(_12&&this.target&&this.status=="started"){if(this.options.mode=="move"){this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.deltaX,this.original.mouseY+this.deltaY):this.drawPosition(this.original.left+this.deltaX,this.original.top+this.deltaY);}else{if(this.options.mode=="resize"){var _15=this.original.width+this.deltaX;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}}if(this.options.handleUpdate){this.options.handleUpdate(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.onDragover){var _19=null;if(this.options.dragoverClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dragoverClass)){_19=it.getElement();it.stop();}}it=null;}this.options.onDragover(this.element,_19,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}}}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.finish=function(e){try{if(this.target){if(this.status=="started"||this.dragGhost.getStyle("visibility")=="visible"){if(!_._G.isMobile()){_._F.removeListener(document.documentElement,"onmousemove",this.mouseMoveListener);_._F.removeListener(document.documentElement,"onmouseup",this.mouseUpListener);}else{_._F.removeListener(document.documentElement,"ontouchmove",this.mouseMoveListener);_._F.removeListener(document.documentElement,"ontouchend",this.mouseUpListener);}if(this.options.onDrop){var _1c=null;if(this.options.dropClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dropClass)){_1c=it.getElement();it.stop();}}it=null;}this.options.onDrop(this.element,_1c,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.handleFinish){this.options.handleFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.afterFinish){this.options.afterFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}this.dragGhost.hide();}this.init();_.getBody().removeClass("w2drag_activate");}}catch(e){_.exception.printStackTrace(e);}};_._A.ghostDragManager.prototype.getDragGhost=function(){try{var _1e=null;var _1f=_.getBody();if(_1f){_1e=_1f.getChild(this.options.id);if(!_1e){requires("uiplugin/group/group.js");_1e=new _._a._z(this.options.id,{className:"w2drag "+this.options.className});_1e.writeTo(_1f);_1e.activate();_1e.hide();}}return _1e;}catch(e){_.exception.printStackTrace(e);}};_._A.gDragManager=new _._A.ghostDragManager();_._A.sortDragManager=function(){try{this.sortGroupArrHash={};this.sortItemArrHash={};this.event=new _.eventControl();}catch(e){_.exception.printStackTrace(e);}};_._A.sortDragManager.prototype.registerItem=function(obj,_21){_21=_.extend({handle:obj.render},_21||{});obj.addClass(obj.render,"w2sort_item");this.event.addListener(_21.handle,"onmousedown",function(e){_._F.stopEvent(e);_._A.sDragManager.activate(e,obj.render,_21);});};_._A.sortDragManager.prototype.registerGroup=function(_23,_24,_25){try{var _26=[];var it=this.event.getChildIterator(_24.render);while(it.next()){if(it.match("w2sort_item")){_26.push(it.getElement());}}if(!this.sortGroupArrHash[_23]){this.sortGroupArrHash[_23]=[];}if(!this.sortItemArrHash[_23]){this.sortItemArrHash[_23]=[];}this.sortGroupArrHash[_23].push({groupElement:_24.render,sortItemArr:_26});this.sortItemArrHash[_23]=this.sortItemArrHash[_23].concat(_26);}catch(e){_.exception.printStackTrace(e);}};_._A.sortDragManager.prototype.activate=function(e,_29,_2a){try{var _2b=this;var _2c=_29;var _2d=null;_2a=_.extend({className:"w2drag_widget_ghost",makeGhostLayer:function(_2e){_2e.setSize(_2c.offsetWidth,_2c.offsetHeight);return _2e;},handleStart:function(){var _2f=_2c.offsetWidth;var _30=_2c.offsetHeight;_2d=document.createElement("div");_2d.style.width=_2f+"px";_2d.style.height=_30+"px";_2d.className="w2sort_ghost";_2c.parentNode.insertBefore(_2d,_2c);_2c.old_display=_2c.style.display;_2c.style.display="none";_2b.initCache();},handleUpdate:function(x,y,dx,dy,e){var _36=_._F.getMouseX(e);var _37=_._F.getMouseY(e);for(var id in _2b.sortGroupArrHash){var _39=_2b.sortGroupArrHash[id];var _3a=_2b.sortItemArrHash[id];for(var i=0;i<_39.length;i++){var _3c=_39[i];var _3d=_2b.isIn(_36,_37,_3c.groupElement);if(_3d!="out"){_3c.groupElement.appendChild(_2d);}}for(var i=0;i<_3a.length;i++){var _3e=_3a[i];if(_3e!=_2c){var _3f=_2b.isIn(_36,_37,_3e);if(_3f=="top"&&_2d!=_3e.previousSibling){_3e.parentNode.insertBefore(_2d,_3e);_2b.initCache();}else{if(_3f=="bottom"&&_2d!=_3e.nextSibling){_3e.parentNode.insertBefore(_2d,_3e.nextSibling);_2b.initCache();}else{}}}}}},handleFinish:function(x,y,dx,dy){_2d.parentNode.insertBefore(_2c,_2d);_2d.parentNode.removeChild(_2d);_2c.style.display=_2c.old_display;}},_2a||{});_._A.gDragManager.activate(e,_2c,_2a);}catch(e){_.exception.printStackTrace(e);}};_._A.sortDragManager.prototype.initCache=function(){try{return;}catch(e){_.exception.printStackTrace(e);}};_._A.sortDragManager.prototype.isIn=function(x,y,_46){try{var _47=_._v.getAbsoluteLeft(_46);var top=_._v.getAbsoluteTop(_46);var _49=_46.clientWidth;var _4a=_46.clientHeight;var _4b="";if(x>_47&&x<_47+_49&&y>top&&y<top+_4a/2){_4b="top";}else{if(x>_47&&x<_47+_49&&y>top+_4a/2&&y<top+_4a){_4b="bottom";}else{_4b="out";}}return _4b;}catch(e){_.exception.printStackTrace(e);}};_._A.sDragManager=new _._A.sortDragManager();_.dragdrop2=(function(_4c){var _4d=300;var _4e=50;var _4f=[];var _50=[];var api={updatePosition:function(arr){for(var i=0;i<arr.length;i++){var el=arr[i].comp.render;var top=_4c.style.getAbsoluteTop(el);var _56=_4c.style.getAbsoluteLeft(el);arr[i].position={top:top,left:_56,bottom:top+el.offsetHeight,right:_56+el.offsetWidth};}},updatePositionByScroll:function(arr,_58,_59){for(var i=0;i<arr.length;i++){var _5b=arr[i].comp;var _5c=false;while(_5b=_5b.parentControl){if(_5b==_58){_5c=true;break;}}if(_5c){arr[i].position.top-=_59;arr[i].position.bottom-=_59;}}},doDroppables:function(x,y){for(var i=0;i<_50.length;i++){var _60=_50[i];var pos=_60.position;if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_60.over){_60.over=true;_4c.event.fireEvent(_60.comp,"ondragenter");}_60.drop=_4c.event.fireEvent(_60.comp,"ondragover")===false;}else{if(_60.over){_60.over=false;_60.drop=false;_4c.event.fireEvent(_60.comp,"ondragleave");}}}},doScrollables:function(x,y){for(var i=0;i<_4f.length;i++){var _65=_4f[i];var _66=_65.comp;var pos=_65.position;var _68=_66.options.dragScrollSize;var _69,speed;if(pos.left<=x&&x<=pos.right){if(pos.top<=y&&y<=pos.top+_68){_69="up";speed=_66.render.clientHeight*(_68-(y-pos.top))/_68+_4e;}else{if(pos.bottom-_68<=y&&y<=pos.bottom){_69="down";speed=_66.render.clientHeight*(_68-(pos.bottom-y))/_68+_4e;}}}if(_69==null){_65.scroll=false;_4c.core.clearTimer(_66.id+"_setSlideByDrag");_4c.core.clearTimer(_66.id+"_slideByDrag");}else{var _6a=_65.scroll?50:_4d;_4c.core.setTimer(function(_6b,_6c){var _6d=this.comp.getScrollTop();var _6e=_6b=="up"?0:this.comp.getMaxScrollTop();if(_6d!=_6e){this.scroll=true;_4c.style.animate(this.comp,function(t){var _70=parseInt(_6d+t*(_6e-_6d),10);var _71=_70-this.getScrollTop();this._scrollTo(null,_70);api.updatePositionByScroll(_50,this,_71);api.doDroppables(x,y);},{key:this.comp.id+"_slideByDrag",easing:"linear",duration:1000/_6c*Math.abs(_6e-_6d)});}},{key:_66.id+"_setSlideByDrag",delay:_6a,caller:_65,args:[_69,speed]});}}},handleTouchStart:function(e){if(!e.touches||e.touches.length==1){this.setUserData("dragStatus","stop");var _73=_4c.getBody();_73.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}},handleTouchMove:function(e){if(!e.touches||e.touches.length==1){var _75=this.getUserData("dragStatus");if((_75!="stop"&&_75!="move")||!this.getUserData("draggable")){return;}_4c.core.setTimer(api._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:30,max:30});_4c.event.preventDefault(e);}},_handleTouchMove:function(e){var _77=this.getUserData("dragStatus");if((_77!="stop"&&_77!="move")||!this.getUserData("draggable")){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;x+=document.body.scrollLeft;y+=document.body.scrollTop;if(_77=="stop"){api.updatePosition(_50);api.updatePosition(_4f);this.setUserData("dragStatus","move");_4c.event.fireEvent(this,"ondragstart",x,y);}_4c.event.fireEvent(this,"ondrag",x,y);api.doScrollables(x,y);api.doDroppables(x,y);},handleTouchEnd:function(e){var _7b=this.getUserData("dragStatus","move");var _7c=_4c.getBody();_7c.removeClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}if(_7b!="pass"){for(var i=0;i<_50.length;i++){if(_50[i].over&&_50[i].drop){_4c.event.fireEvent(_50[i].comp,"ondrop",this);}_50[i].over=false;_50[i].drop=false;}_4c.event.fireEvent(this,"ondragend");if(this.render){this.setUserData("dragStatus","pass");}for(var i=0;i<_4f.length;i++){_4f[i].scroll=false;_4c.core.clearTimer(_4f[i].comp.id+"_setSlideByDrag");_4c.core.clearTimer(_4f[i].comp.id+"_slideByDrag");}}}};var _7e=function(_7f){if(_7f.options.pluginName=="scrollView"){_4f.push({comp:_7f,scroll:false});}if(_7f.options.pluginName!="group"||!_7f.options.xmlEvents){return;}var _80=false;var _81=false;for(var i=0;i<_7f.options.xmlEvents.length;i++){var _83=_7f.options.xmlEvents[i];switch(_83.name){case "ondragstart":case "ondrag":case "ondragend":_80=true;_7f.options.userEvents.push(_83.name);break;case "ondragenter":case "ondragover":case "ondragleave":case "ondrop":_81=true;_7f.options.userEvents.push(_83.name);break;}}if(_80){if(_4c.util.isMobile()){_7f.event.addListener(_7f.render,"ontouchstart",_7f.event.bindAsEventListener(_7f,api.handleTouchStart));_7f.event.addListener(_7f.render,"ontouchmove",_7f.event.bindAsEventListener(_7f,api.handleTouchMove));_7f.event.addListener(_7f.render,"ontouchend",_7f.event.bindAsEventListener(_7f,api.handleTouchEnd));}else{_7f.event.addListener(_7f.render,"onmousedown",_7f.event.bindAsEventListener(_7f,api.handleTouchStart));_7f.event.addListener(document.documentElement,"onmousemove",_7f.event.bindAsEventListener(_7f,api.handleTouchMove));_7f.event.addListener(document.documentElement,"onmouseup",_7f.event.bindAsEventListener(_7f,api.handleTouchEnd));}}if(_81){_50.push({comp:_7f,over:false});}};var _84=function(_85){for(var i=0;i<_50.length;i++){if(_50[i].comp===_85){_50[i].comp=null;_50.splice(i,1);break;}}for(var i=0;i<_4f.length;i++){if(_4f[i].comp===_85){_4f[i].comp=null;_4f.splice(i,1);break;}}};var _87=function(){_50=[];_4f=[];};return {setDragDrop:_7e,removeComp:_84,clearComp:_87};})(_);;WebSquare.dragdrop=_._A;_._g={};_._g.createFormatter=function(_1,_2,_3,_4,_5,_6){try{var _7=null;if(_3){_7=new _._g.formatterAdapter(_1,_2,_3,_4);return _7;}if(_1!=""){switch(_1){case "text":_7=new _._g.textFormatter(_1,_2,_3,_4);break;case "bigDecimal":case "number":if(_2==""){_7=new _._g.emptyFormatter(_1,_2,_3,_4);}else{_7=new _._g.numberFormatter(_1,_2,_3,_4,_5,_6);}break;case "euro":_7=new _._g.euroFormatter(_1,_2,_3,_4,_5,_6);break;case "rupee":_7=new _._g.rupeeFormatter(_1,_2,_3,_4,_5,_6);break;case "tenge":_7=new _._g.tengeFormatter(_1,_2,_3,_4,_5,_6);break;case "date":_7=new _._g.dateFormatter(_1,_2,_3,_4);break;case "time":_7=new _._g.timeFormatter(_1,_2,_3,_4);break;default:_7=new _._g.emptyFormatter(_1,_2,_3,_4);}}else{_7=new _._g.emptyFormatter(_1,_2,_3,_4);}return _7;}catch(e){_.exception.printStackTrace(e);}};_._g.formatter=function(_8,_9,_a,_b){try{this.type=_8||"text";this.masking=_9||"";this.userFunc=_a||null;this.ioFormat=_b||null;this.count=0;this.hash_format_to_original={};}catch(e){_.exception.printStackTrace(e);}};_._g.formatter.prototype.setMasking=function(_c){this.masking=_c;};_._g.formatter.prototype.format=function(_d,_e){try{if(_._G.isNull(_d)){return "";}_d=_d.toString();var _f=this.executeFormat(_d,_e);if(this.count>100){this.hash_format_to_original={};this.count=0;}this.hash_format_to_original[_f]=_d;this.count++;return _f;}catch(e){_.exception.printStackTrace(e);}};_._g.formatter.prototype.unformat=function(_10){try{if(this.hash_format_to_original[_10]){return this.hash_format_to_original[_10];}else{return _10;}}catch(e){_.exception.printStackTrace(e);}};_._g.formatter.prototype.executeFormat=function(_11){alert("you should override 'executeFormat'");};_._g.emptyFormatter=function(_12,_13,_14,_15){_._g.formatter.call(this,_12,_13,_14,_15);};_.extend(_._g.emptyFormatter.prototype,_._g.formatter.prototype);_._g.emptyFormatter.prototype.executeFormat=function(_16){return _16;};_._g.textFormatter=function(_17,_18,_19,_1a){_._g.formatter.call(this,_17,_18,_19,_1a);};_.extend(_._g.textFormatter.prototype,_._g.formatter.prototype);_._g.textFormatter.prototype.executeFormat=function(_1b){try{_1b=_._B.formatText(_1b,this.masking,this.ioFormat);return _1b;}catch(e){_.exception.printStackTrace(e);}};_._g.numberFormatter=function(_1c,_1d,_1e,_1f,_20,_21){_._g.formatter.call(this,_1c,_1d,_1e,_1f);this.delemeter=_20;this.decimalDelimeter=_21;};_.extend(_._g.numberFormatter.prototype,_._g.formatter.prototype);_._g.numberFormatter.prototype.executeFormat=function(_22,_23){try{_22=_._B.formatCurrency(_22,this.masking,this.ioFormat,_23,this.delemeter,this.decimalDelimeter);return _22;}catch(e){_.exception.printStackTrace(e);}};_._g.euroFormatter=function(_24,_25,_26,_27,_28,_29){_._g.formatter.call(this,_24,_25,_26,_27);this.delemeter=_28;this.decimalDelimeter=_29;};_.extend(_._g.euroFormatter.prototype,_._g.formatter.prototype);_._g.euroFormatter.prototype.executeFormat=function(_2a,_2b){try{_2a=_._B.formatEuroCurrency(_2a,this.masking,this.ioFormat,_2b,this.delemeter,this.decimalDelimeter);return _2a;}catch(e){_.exception.printStackTrace(e);}};_._g.rupeeFormatter=function(_2c,_2d,_2e,_2f,_30,_31){_._g.formatter.call(this,_2c,_2d,_2e,_2f);this.delemeter=_30;this.decimalDelimeter=_31;};_.extend(_._g.rupeeFormatter.prototype,_._g.formatter.prototype);_._g.rupeeFormatter.prototype.executeFormat=function(_32,_33){try{_32=_._B.formatRupeeCurrency(_32,this.masking,this.ioFormat,_33,this.delemeter,this.decimalDelimeter);return _32;}catch(e){_.exception.printStackTrace(e);}};_._g.tengeFormatter=function(_34,_35,_36,_37,_38,_39){_._g.formatter.call(this,_34,_35,_36,_37);this.delemeter=_38;this.decimalDelimeter=_39;};_.extend(_._g.tengeFormatter.prototype,_._g.formatter.prototype);_._g.tengeFormatter.prototype.executeFormat=function(_3a,_3b){try{_3a=_._B.formatTengeCurrency(_3a,this.masking,this.ioFormat,_3b,this.delemeter,this.decimalDelimeter);return _3a;}catch(e){_.exception.printStackTrace(e);}};_._g.dateFormatter=function(_3c,_3d,_3e,_3f){_._g.formatter.call(this,_3c,_3d,_3e,_3f);};_.extend(_._g.dateFormatter.prototype,_._g.formatter.prototype);_._g.dateFormatter.prototype.executeFormat=function(_40){try{_40=_._B.formatDate(_40,this.masking,this.ioFormat);return _40;}catch(e){_.exception.printStackTrace(e);}};_._g.timeFormatter=function(_41,_42,_43,_44){_._g.formatter.call(this,_41,_42,_43,_44);};_.extend(_._g.timeFormatter.prototype,_._g.formatter.prototype);_._g.timeFormatter.prototype.executeFormat=function(_45){try{_45=_._B.formatTime(_45,this.masking,this.ioFormat);return _45;}catch(e){_.exception.printStackTrace(e);}};_._g.formatterAdapter=function(_46,_47,_48,_49){_._g.formatter.call(this,_46,_47,_48,_49);this.userFunc=_48;};_.extend(_._g.formatterAdapter.prototype,_._g.formatter.prototype);_._g.formatterAdapter.prototype.executeFormat=function(_4a){try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_4a=this.userFunc(_4a);}return _4a;}catch(e){_.exception.printStackTrace(e);}};;WebSquare.format=_._g;_._v={styleHash:new Object()};_._v.camelize=function(_1){var _2=_1.split("-");if(_2.length==1){return _2[0];}var _3=_1.indexOf("-")==0?_2[0].charAt(0).toUpperCase()+_2[0].substring(1):_2[0];for(var i=1,len=_2.length;i<len;i++){var s=_2[i];_3+=s.charAt(0).toUpperCase()+s.substring(1);}return _3;};_._v.setStyle=function(_6,_7,_8){if(typeof _7=="object"){for(var _9 in _7){_6.style[_._v.camelize(_9)]=_7[_9];}}else{if(typeof _7=="string"){var _9=_7.capitalizeStyle();if(_9=="opacity"){if(_6.style.opacity===undefined){var _a=parseFloat(_8,10);_a=isNaN(_a)?1:_a;_9="filter";_8="alpha(opacity="+100*_a+")";}}else{if(_9=="float"){if(_6.style.cssFloat!==undefined){_6.style.cssFloat=_8;}else{if(_6.style.styleFloat!==undefined){_6.style.styleFloat=_8;}}}}_6.style[_9]=_8;}}};if(document.documentElement.currentStyle){_._v.getStyleProperty=function(_b,_c){_c=_c.wq_trim().capitalizeStyle();var _d=_b.currentStyle[_c];if(_c.toLowerCase().indexOf("color")>-1){return _._G.toHexColor(_d);}else{return _d;}};}else{if(window.getComputedStyle){_._v.getStyleProperty=function(_e,_f){var _10=document.defaultView.getComputedStyle(_e,null).getPropertyValue(_f);if(_f.toLowerCase().indexOf("color")>-1){return _._G.toHexColor(_10);}else{return _10;}};}else{_._v.getStyleProperty=function(_11,_12){var _13=_11.style[_12];if(_12.toLowerCase().indexOf("color")>-1){return _._G.toHexColor(_13);}else{return _13;}};}}_._v.getStyle=function(_14,_15){var _16=_._v.getStyleProperty(_14,_15);if(!_16){if(_15=="opacity"){var _17=_._v.getStyleProperty(_14,"filter");var _18=_17.match(/alpha\(.*\)/gi)||[""];var _19=_18[0].match(/opacity=\d+/gi)||[""];_16=(parseInt(_19[0].substr(8)||"100",10)/100)+"";}else{if(_15=="float"){_16=_._v.getStyleProperty(_14,"styleFloat");}}}return _16;};_._v.OpacRe1=new RegExp("Gecko");_._v.OpacRe2=new RegExp("Konqueror|Safari|KHTML");_._v.OpacRe3=new RegExp("MSIE");_._v.OpacRe4=new RegExp("alpha\\([^\\)]*\\)","gi");_._v.setOpacity=function(_1a,_1b){if(_1b==1){_._v.setStyle(_1a,{opacity:(_._v.OpacRe1.test(navigator.userAgent)&&!_._v.OpacRe2.test(navigator.userAgent))?0.999999:null});if(_._v.OpacRe3.test(navigator.userAgent)){_._v.setStyle(_1a,{filter:_._v.getStyle(_1a,"filter").replace(_._v.OpacRe4,"")});}}else{if(_1b<0.00001){_1b=0;}_._v.setStyle(_1a,{opacity:_1b});if(_._v.OpacRe3.test(navigator.userAgent)){_._v.setStyle(_1a,{filter:_._v.getStyle(_1a,"filter").replace(_._v.OpacRe4,"")+"alpha(opacity="+_1b*100+")"});}}};_._v.extendStyle=function(_1c,_1d){var _1e=new Object();for(key in _1c){_1e[_._v.camelize(key)]=_1c[key];}for(key in _1d){var _1f=_._v.camelize(key);_1e[_1f]=_1d[key];}return _1e;};_._v.setSize=function(_20,_21,_22){try{if(!_20){return;}_21=parseInt(_21);_22=parseInt(_22);if(_21!=null&&!isNaN(_21)&&_21>=0){_20.style.width=_21+"px";}if(_22!=null&&!isNaN(_22)&&_22>=0){_20.style.height=_22+"px";}}catch(e){_.exception.printStackTrace(e);}};_._v.getSize=function(_23,_24){try{if(!_23){return;}var _24=_24.toLowerCase();if(_24=="height"){return _23.clientHeight;}else{if(_24=="width"){return _23.clientWidth;}else{if(_24=="innerheight"){var _25=parseInt(_._v.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(_._v.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_25+_26;}else{if(_24=="innerwidth"){var _27=parseInt(_._v.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(_._v.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_27+_28;}else{if(_24=="outerheight"){var _29=parseInt(_._v.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt(_._v.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt(_._v.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(_._v.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26;}else{if(_24=="outerwidth"){var _2b=parseInt(_._v.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt(_._v.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt(_._v.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(_._v.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28;}else{if(_24=="outermarginheight"){var _29=parseInt(_._v.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt(_._v.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt(_._v.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(_._v.getStyleProperty(_23,"padding-bottom"))||0;var _2d=parseInt(_._v.getStyleProperty(_23,"margin-top"))||0;var _2e=parseInt(_._v.getStyleProperty(_23,"margin-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26+_2d+_2e;}else{if(_24=="outermarginwidth"){var _2b=parseInt(_._v.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt(_._v.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt(_._v.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(_._v.getStyleProperty(_23,"padding-right"))||0;var _2f=parseInt(_._v.getStyleProperty(_23,"margin-left"))||0;var _30=parseInt(_._v.getStyleProperty(_23,"margin-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28+_2f+_30;}}}}}}}}$l("getSize : wrong sizeName["+_24+"]");return;}catch(e){_.exception.printStackTrace(e);}};_._v.animate=function(_31,_32,_33){var _33=_33||{duration:500};_33.easing=_33.easing||"ease";_33.startTime=new Date();_33.key=_33.key||"WebSquare.style.animate_"+Math.random();_33.delay=15;if(typeof _32=="object"){if(_31&&_31.render){_31=_31.render;}var _34=_._G.isArray(_31)?_31:[_31];var _35=[];var _36=[];for(var i=0;i<_34.length;i++){var el=_34[i];var _39={};var _3a=_32;for(var key in _3a){_39[key]=_._v.getStyle(el,key);if(typeof _39[key]=="string"){var str=(_3a[key]+"").wq_trim();if(str.startsWith("+=")){_3a[key]=parseFloat(_39[key])+parseFloat(str.substr(2));}else{if(str.startsWith("-=")){_3a[key]=parseFloat(_39[key])-parseFloat(str.substr(2));}}}}_35.push(_39);_36.push(_3a);}_32=function(t){for(var i=0;i<_34.length;i++){var el=_34[i];var _40=_35[i];var _41=_36[i];for(var key in _41){var _43=parseFloat(_40[key]);var _44=_40[key].substr((_43+"").length);var _45=_43+t*(_41[key]-_43);_._v.setStyle(el,key,_45+_44);}}};}else{if(!_33.caller&&_31){_33.caller=_31;}}var _46=function(){var _47=(new Date()-_33.startTime)/_33.duration;(_47>1)&&(_47=1);t=_._v.cubicBezierAtTime(_47,_33.easing,_33.duration);_32.call(_33.caller,t);if(t<1){_._h.setTimer(_46,_33);}else{if(_33.complete){_33.complete.call(_33.caller);}}};_._h.setTimer(_46,_33);return _33.key;};_._v.cubicBezierAtTime=function(t,cp,_4a){if(typeof cp=="string"){switch(cp){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;case "default":default:cp=[0.25,0.1,0.25,1];}}var p1x=cp[0],p1y=cp[1],p2x=cp[2],p2y=cp[3];var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_50){return 1/(200*_50);}function solve(x,_52){return sampleCurveY(solveCurveX(x,_52));}function solveCurveX(x,_54){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_54){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_54){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_4a));};_._v.addClass=function(_57,_58){try{if(!_57||!_58){return;}var _59=_57.className.wq_trim();var _5a=_59.split(" ");for(var i=0;i<_5a.length;i++){var tmp=_5a[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_58+" ")>-1){if(i==_5a.length-1){return;}}else{continue;}}if(_5a.length>1){_59+=" ";}_59+=_58.wq_trim();_57.className=_59;}catch(e){_.exception.printStackTrace(e);}};_._v.removeClass=function(_5d,_5e){try{if(!_5d||!_5e){return;}var _5f=_5d.className.split(" ");var _60=[];for(var i=0;i<_5f.length;i++){var tmp=_5f[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_5e+" ")>-1){continue;}else{if(tmp.length>0){_60.push(tmp);}}}_5d.className=_60.join(" ");}catch(e){_.exception.printStackTrace(e);}};_._v.show=function(_63,_64){try{if(!_63){return;}if(typeof _64==="undefined"){_64="block";}_63.style.display=_64;_63.style.visibility="visible";if(_._G.isIE(6)){_._v.addClass(_63," ");}_63.setAttribute("aria-hidden","false");if(_.layer.disabledList.length>0){_._v.addClass(_63,"w2modal_popupLayer");}}catch(e){_.exception.printStackTrace(e);}};_._v.hide=function(_65){try{if(!_65){return;}_65.style.display="none";_65.style.visibility="hidden";_65.setAttribute("aria-hidden","true");_._v.removeClass(_65,"w2modal_popupLayer");}catch(e){_.exception.printStackTrace(e);}};_._v.getAbsoluteTop=function(_66){var _67=0;try{if(_66.getBoundingClientRect!=null){var top=_66.getBoundingClientRect().top;var doc=_66.ownerDocument;var _6a=doc.documentElement;var _6b=doc.body;var _6c=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _6d=_6a.clientTop||_6b.clientTop||0;var _6e=_6c.pageYOffset||_6a.scrollTop;var _6f=_6b.getBoundingClientRect();var _70=(_._G.isIE("6")||_._G.isIE("7"))?((_6f.bottom-_6f.top)/_6b.offsetHeight):1;_67=(top+_6e-_6d)/_70;}else{var _71=_66;var _72=_66;var _73=0;while(_72.tagName!="BODY"){var _74=_._G.parseFloat(_._G.getStyleProperty(_72,"border-top-width"),0);if(_._G.isOpera()){_74=0;}var top=_72.offsetTop;if(_._G.getStyleProperty(_72,"position")=="fixed"){top=_._G.parseFloat(_._G.getStyleProperty(_72,"top"),0);if(!_._G.isIE("6")){_73+=top+_74-_72.scrollTop+_74+(window.scrollY||document.documentElement.scrollTop);break;}}else{if(_._G.getStyleProperty(_72,"position")!="static"||_71==_72){_73+=top+_74-_72.scrollTop;}else{_73-=_72.scrollTop;}}_72=_72.parentNode;}_67=_73;}}catch(e){}return _67;};_._v.getAbsoluteLeft=function(_75){var _76=0;try{if(_75.getBoundingClientRect!=null){var _77=_75.getBoundingClientRect().left;var doc=_75.ownerDocument;var _79=doc.documentElement;var _7a=doc.body;var _7b=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _7c=_79.clientLeft||_7a.clientLeft||0;var _7d=_7b.pageXOffset||_79.scrollLeft;var _7e=_7a.getBoundingClientRect();var _7f=(_._G.isIE("6")||_._G.isIE("7"))?((_7e.right-_7e.left)/_7a.offsetWidth):1;_76=(_77+_7d-_7c)/_7f;}else{var _80=0;var _81=_75;var _82=_75;while(_81.tagName!="BODY"){var _83=_._G.parseFloat(_._G.getStyleProperty(_81,"border-left-width"),0);if(_._G.isOpera()){_83=0;}var _77=_81.offsetLeft;if(_._G.getStyleProperty(_81,"position")=="fixed"){if(typeof _._G.getStyleProperty(_81,"left")=="number"){_77=_._G.parseFloat(_._G.getStyleProperty(_81,"left"),0);}if(!_._G.isIE("6")){_80+=_77+_83-_81.scrollLeft+(window.scrollX||document.documentElement.scrollLeft);break;}}else{if(_._G.getStyleProperty(_81,"position")!="static"||_82==_81){_80+=_77+_83-_81.scrollLeft;}else{_80-=_81.scrollLeft;}}_81=_81.parentNode;}_76=_80;}}catch(e){}return _76;};_._v.getRelativeTop=function(_84,_85){var _86=0;try{_86=_._v.getAbsoluteTop(_84)-_._v.getAbsoluteTop(_85);}catch(e){}return _86;};_._v.getRelativeLeft=function(_87,_88){var _89=0;try{_89=_._v.getAbsoluteLeft(_87)-_._v.getAbsoluteLeft(_88);}catch(e){}return _89;};;WebSquare.style=_._v;_._e={};_.IValidate=function(){};_.IValidate.prototype.validate=function(){return true;};_.IValidate.prototype.setMandatory=function(_1){if(this.validator){if(_1==false){this.validator.removeCommand(new _._e.mandatoryCommand(this.options.mandatory));}else{this.validator.addCommand(new _._e.mandatoryCommand(_1));}}this.options.mandatory=_1;};_.IValidate.prototype.getMandatory=function(){return this.options.mandatory;};_.IValidate.prototype.setMinLength=function(_2){if(this.validator){this.validator.removeCommand(new _._e.minLengthCommand(this.options.minLength));this.validator.addCommand(new _._e.minLengthCommand(_2));}this.options.minlength=_2;};_.IValidate.prototype.getMinLength=function(){return this.options.minlength;};_.IValidate.prototype.setMaxLength=function(_3){if(this.validator){this.validator.removeCommand(new _._e.maxLengthCommand(this.options.maxLength));this.validator.addCommand(new _._e.maxLengthCommand(_3));}this.options.maxlength=_3;};_.IValidate.prototype.getMaxLength=function(){return this.options.maxlength;};_.IValidate.prototype.setMinByteLength=function(_4){if(this.validator){this.validator.removeCommand(new _._e.minByteLengthCommand(this.options.minByteLength));this.validator.addCommand(new _._e.minByteLengthCommand(_4));}this.options.minByteLength=_4;};_.IValidate.prototype.getMinByteLength=function(){return this.options.minByteLength;};_.IValidate.prototype.setMaxByteLength=function(_5){if(this.validator){this.validator.removeCommand(new _._e.maxByteLengthCommand(this.options.maxByteLength));this.validator.addCommand(new _._e.maxByteLengthCommand(_5));}this.options.maxByteLength=_5;};_.IValidate.prototype.getMaxByteLength=function(){return this.options.maxByteLength;};_.IValidate.prototype.getAllowChar=function(){return this.options.allowChar;};_.IValidate.prototype.setIgnoreChar=function(_6){this.options.ignoreChar=_6;};_.IValidate.prototype.getIgnoreChar=function(){return this.options.ignoreChar;};_.IValidate.prototype.getDisplayMessage=function(){return this.options.displaymessage;};_.IValidate.prototype.getInvalidMessage=function(){return this.options.invalidMessage;};_._e.validateCommand=function(){};_._e.validateCommand.prototype.executeValidate=function(_7){alert("you should override 'executeValidate'");return true;};_._e.validateCommand.prototype.executeValidateString=function(_8){alert("you should override 'executeValidateString'");return _8;};_._e.validateCommand.prototype.executeValidateKeyPress=function(_9,_a,e){alert("you should override 'executeValidateKeyPress'");return true;};_._e.validateCommand.prototype.executeInvalidMessage=function(){alert("you should override 'executeInvalidMessage'");return "invalidMessage";};_._e.validateCommand.prototype.getType=function(){alert("you should override 'getType'");return "";};_._e.validateCommand.prototype.getValue=function(){alert("you should override 'getValue'");return "";};_._e.invalidObject=function(_c,_d){try{this.invalidCommand=_d;this.callerId=_c;}catch(e){_.exception.printStackTrace(e);}};_._e.invalidObject.prototype.getCaller=function(){var _e=null;try{_e=eval(this.callerId);}catch(e){}return _e;};_._e.invalidObject.prototype.getType=function(){if(this.invalidCommand){return this.invalidCommand.getType();}return "";};_._e.invalidObject.prototype.getValue=function(){if(this.invalidCommand){return this.invalidCommand.getValue();}return "";};_._e.invalidObject.prototype.getPrefix=function(){return null;};_._e.validateInvoker=function(id,_10){try{this.commandList=[];this.invalidMessage=_10.invalidMessage||"";this.displaymessage=_10.displaymessage||false;this.invalidMessageFunc=_10.invalidMessageFunc||null;if(this.invalidMessageFunc){if(this.invalidMessageFunc.indexOf("(")<0){this.invalidMessageFunc+="()";}this.invalidMsgFuncName=this.invalidMessageFunc.substring(0,this.invalidMessageFunc.indexOf("("));this.tmpFunc=this.invalidMessageFunc.replace(this.invalidMsgFuncName,"this.doValidate");}this.callerId=id;if(typeof _10.mandatory!="undefined"&&_10.mandatory==true){this.addCommand(new _._e.mandatoryCommand(_10.mandatory));}if(typeof _10.allowChar!="undefined"&&_10.allowChar!=""){this.addCommand(new _._e.allowCharCommand(_10.allowChar));}if(typeof _10.ignoreChar!="undefined"&&_10.ignoreChar!=""){this.addCommand(new _._e.ignoreCharCommand(_10.ignoreChar));}if(typeof _10.maxlength!="undefined"&&_10.maxlength!=-1){this.addCommand(new _._e.maxLengthCommand(_10.maxlength));}if(typeof _10.minlength!="undefined"&&_10.minlength!=-1){this.addCommand(new _._e.minLengthCommand(_10.minlength));}if(typeof _10.maxByteLength!="undefined"&&_10.maxByteLength!=-1){this.addCommand(new _._e.maxByteLengthCommand(_10.maxByteLength));}if(typeof _10.minByteLength!="undefined"&&_10.minByteLength!=-1){this.addCommand(new _._e.minByteLengthCommand(_10.minByteLength));}if(typeof _10.validator!="undefined"&&_10.validator!=""){this.addCommand(new _._e.commandAdapter(_10.validator));}}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.addCommand=function(_11){try{this.commandList.push(_11);}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.removeCommand=function(_12){try{var _13=new Array();for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].getType()!=_12.getType()){_13.push(this.commandList[i]);}}this.commandList=_13;}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.clearCommand=function(){try{this.commandList=null;this.commandList=[];}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.applyPriority=function(){try{}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.validate=function(_15){try{var _16=true;var _17="";this.obfuscator_invalidObject=null;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidate(_15)){_16=false;var _19=this.commandList[i].executeInvalidMessage();_17+=(_19+"\n");this.obfuscator_invalidObject=new _._e.invalidObject(this.callerId,this.commandList[i]);break;}}if(_16==false){if(this.invalidMessage!=""){_17=this.invalidMessage;}if(this.invalidMessageFunc&&this.obfuscator_invalidObject){_17=eval(this.tmpFunc);}if(this.displaymessage==true){alert(_17);}}return _16;}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.doValidate=function(){var _1a=eval(this.invalidMsgFuncName);var ret=_1a.apply(this.obfuscator_invalidObject,arguments);return ret;};_._e.validateInvoker.prototype.validateString=function(_1c){try{this.applyPriority();for(var i=0;i<this.commandList.length;i++){_1c=this.commandList[i].executeValidateString(_1c);}return _1c;}catch(e){_.exception.printStackTrace(e);}};_._e.validateInvoker.prototype.validateKeyPress=function(_1e,_1f,e){try{var _21=true;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidateKeyPress(_1e,_1f,e)){_21=false;break;}}return _21;}catch(e){_.exception.printStackTrace(e);}};_._e.mandatoryCommand=function(_23){this.mandatory=_23;};_.extend(_._e.mandatoryCommand.prototype,_._e.validateCommand.prototype);_._e.mandatoryCommand.prototype.getType=function(){return "mandatory";};_._e.mandatoryCommand.prototype.getValue=function(){return "";};_._e.mandatoryCommand.prototype.executeValidate=function(_24){try{if(_24!=""){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e);}};_._e.mandatoryCommand.prototype.executeValidateString=function(_25){return _25;};_._e.mandatoryCommand.prototype.executeValidateKeyPress=function(_26){return true;};_._e.mandatoryCommand.prototype.executeInvalidMessage=function(){var _27=_._z.getMessage("V_error_mandatory");return _27;};_._e.maxLengthCommand=function(max){this.maxLength=max||0;};_.extend(_._e.maxLengthCommand.prototype,_._e.validateCommand.prototype);_._e.maxLengthCommand.prototype.getType=function(){return "maxLength";};_._e.maxLengthCommand.prototype.getValue=function(){return this.maxLength;};_._e.maxLengthCommand.prototype.executeValidate=function(_29){var _2a=true;if(_29.length>this.minLength){_2a=false;}return _2a;};_._e.maxLengthCommand.prototype.executeValidateString=function(_2b){try{if(_2b&&_2b.length>this.maxLength){_2b=_2b.substr(0,this.maxLength);}return _2b;}catch(e){_.exception.printStackTrace(e);}};_._e.maxLengthCommand.prototype.executeValidateKeyPress=function(_2c,_2d,e){try{_2c.maxLength=this.maxLength;return true;}catch(e){_.exception.printStackTrace(e);}};_._e.maxLengthCommand.prototype.executeInvalidMessage=function(){var _2f=_._z.getMessage("V_error_maxLength",this.maxLength);return _2f;};_._e.minLengthCommand=function(min){this.minLength=min||0;};_.extend(_._e.minLengthCommand.prototype,_._e.validateCommand.prototype);_._e.minLengthCommand.prototype.getType=function(){return "minLength";};_._e.minLengthCommand.prototype.getValue=function(){return this.minLength;};_._e.minLengthCommand.prototype.executeValidate=function(_31){try{var _32=true;if(_31.length<this.minLength){_32=false;}return _32;}catch(e){_.exception.printStackTrace(e);}};_._e.minLengthCommand.prototype.executeValidateString=function(_33){return _33;};_._e.minLengthCommand.prototype.executeValidateKeyPress=function(_34,_35,e){return true;};_._e.minLengthCommand.prototype.executeInvalidMessage=function(){var _37=_._z.getMessage("V_error_minLength",this.minLength);return _37;};_._e.maxByteLengthCommand=function(max){this.maxByteLength=max||0;};_.extend(_._e.maxByteLengthCommand.prototype,_._e.validateCommand.prototype);_._e.maxByteLengthCommand.prototype.getType=function(){return "maxByteLength";};_._e.maxByteLengthCommand.prototype.getValue=function(){return this.maxByteLength;};_._e.maxByteLengthCommand.prototype.executeValidate=function(_39){try{var _3a=true;var _3b=_._G.getStringByteSize(_39);if(_3b>this.maxByteLength){_3a=false;}return _3a;}catch(e){_.exception.printStackTrace(e);}};_._e.maxByteLengthCommand.prototype.executeValidateString=function(_3c){try{var _3d=_._G.getStringByteSize(_3c);while(_3c.length>0&&_3d>this.maxByteLength){_3c=_3c.substr(0,_3c.length-1);_3d=_._G.getStringByteSize(_3c);}return _3c;}catch(e){_.exception.printStackTrace(e);}};_._e.maxByteLengthCommand.prototype.executeValidateKeyPress=function(_3e,_3f,e){return true;};_._e.maxByteLengthCommand.prototype.executeInvalidMessage=function(){var _41=_._z.getMessage("V_error_maxByteLength",this.maxByteLength);return _41;};_._e.minByteLengthCommand=function(min){this.minByteLength=min||0;};_.extend(_._e.minByteLengthCommand.prototype,_._e.validateCommand.prototype);_._e.minByteLengthCommand.prototype.getType=function(){return "minByteLength";};_._e.minByteLengthCommand.prototype.getValue=function(){return this.minByteLength;};_._e.minByteLengthCommand.prototype.executeValidate=function(_43){try{var _44=true;var _45=_._G.getStringByteSize(_43);if(_45<this.minByteLength){_44=false;}return _44;}catch(e){_.exception.printStackTrace(e);}};_._e.minByteLengthCommand.prototype.executeValidateString=function(_46){return _46;};_._e.minByteLengthCommand.prototype.executeValidateKeyPress=function(_47,_48,e){return true;};_._e.minByteLengthCommand.prototype.executeInvalidMessage=function(){var _4a=_._z.getMessage("V_error_minByteLength",this.minByteLength);return _4a;};_._e.allowCharCommand=function(_4b){this.allowChar=_4b;this.regExp=new RegExp("["+_4b+"]","g");};_.extend(_._e.allowCharCommand.prototype,_._e.validateCommand.prototype);_._e.allowCharCommand.prototype.getType=function(){return "allowChar";};_._e.allowCharCommand.prototype.getValue=function(){return this.allowChar;};_._e.allowCharCommand.prototype.executeValidate=function(_4c){try{var _4d=true;if(_4c!=""){if(!_4c.match(this.regExp)){_4d=false;}}return _4d;}catch(e){_.exception.printStackTrace(e);}};_._e.allowCharCommand.prototype.executeValidateString=function(_4e){try{var _4f=_4e.match(this.regExp);if(_4f){_4e=_4f.join("");}else{_4e="";}return _4e;}catch(e){_.exception.printStackTrace(e);}};_._e.allowCharCommand.prototype.executeValidateKeyPress=function(_50,_51,e){try{var _53=true;if(e){var _54=(e.charCode)?e.charCode:e.keyCode;var _55=String.fromCharCode(_54);if(!_55.match(this.regExp)){_53=false;}if(_._G.isFF()&&e.charCode==0){_53=true;}if(_._G.isOpera()){if(_._G.isOpera()){if(_._G.getIgnoreKeyPressCodes()[_54]){_53=true;}}}}return _53;}catch(e){_.exception.printStackTrace(e);}};_._e.allowCharCommand.prototype.executeInvalidMessage=function(){var _56=_._z.getMessage("V_error_allowChar",this.allowChar);return _56;};_._e.ignoreCharCommand=function(_57){this.ignoreChar=_57;this.regExp=new RegExp("["+_57+"]","g");};_.extend(_._e.ignoreCharCommand.prototype,_._e.validateCommand.prototype);_._e.ignoreCharCommand.prototype.getType=function(){return "ignoreChar";};_._e.ignoreCharCommand.prototype.getValue=function(){return this.ignoreChar;};_._e.ignoreCharCommand.prototype.executeValidate=function(_58){try{var _59=true;if(_58!=""){if(_58.match(this.regExp)){_59=false;}}return _59;}catch(e){_.exception.printStackTrace(e);}};_._e.ignoreCharCommand.prototype.executeValidateString=function(_5a){try{_5a=_5a.replace(this.regExp,"");return _5a;}catch(e){_.exception.printStackTrace(e);}};_._e.ignoreCharCommand.prototype.executeValidateKeyPress=function(_5b,_5c,e){try{var _5e=true;if(e){var _5f=(e.charCode)?e.charCode:e.keyCode;var _60=String.fromCharCode(_5f);if(_60.match(this.regExp)){_5e=false;}}return _5e;}catch(e){_.exception.printStackTrace(e);}};_._e.ignoreCharCommand.prototype.executeInvalidMessage=function(){var _61=_._z.getMessage("V_error_ignoreChar",this.ignoreChar);return _61;};_._e.numberCommand=function(_62,_63){if(!_62){_62=",";}if(!_63){_63=".";}this.pattern=new RegExp("^[+-]?[0-9]*["+_63+"]?[0-9]*");this.delimeter=_62;this.decimalDelimeter=_63;};_.extend(_._e.numberCommand.prototype,_._e.validateCommand.prototype);_._e.numberCommand.prototype.getType=function(){return "number";};_._e.numberCommand.prototype.getValue=function(){return "";};_._e.numberCommand.prototype.executeValidate=function(_64){try{return true;}catch(e){_.exception.printStackTrace(e);}};_._e.numberCommand.prototype.executeValidateString=function(_65){try{var _66=_65.match(/[0-9\+\-\.]+/g);if(_66){_65=_66.join("");}else{_65="";}return _65;}catch(e){_.exception.printStackTrace(e);}};_._e.numberCommand.prototype.executeValidateKeyPress=function(_67,_68,e){try{var _6a=true;if(e){var _6b=_._F.getTarget(e);var _6c=(e.charCode)?e.charCode:e.keyCode;var _6d=String.fromCharCode(_6c);var _6e=_._B.getSelection(_67);var _6f=_68.substr(0,_6e.start)+_6d+_68.substr(_6e.end);var _70=_6f.match(this.pattern);if(_70&&_70+""==_6f){_6a=true;}else{_6a=false;}if(_._G.isFF()&&e.charCode==0){_6a=true;}else{if(_._G.isOpera()){if(_._G.getIgnoreKeyPressCodes()[_6c]){_6a=true;}}}}return _6a;}catch(e){_.exception.printStackTrace(e);}};_._e.numberCommand.prototype.executeInvalidMessage=function(){return "";};_._e.dateCommand=function(){requires("uiplugin/helper/dateHelper.js");this.dateHelper=new _._a.ag();};_.extend(_._e.dateCommand.prototype,_._e.validateCommand.prototype);_._e.dateCommand.prototype.getType=function(){return "date";};_._e.dateCommand.prototype.getValue=function(){return "";};_._e.dateCommand.prototype.executeValidate=function(_71){try{var _72=true;switch(_71.length){case 6:var _73=_71.substr(0,4);var _74=_71.substr(4,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}break;case 8:var _73=_71.substr(0,4);var _74=_71.substr(4,2);var _75=_71.substr(6,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}var _76=this.dateHelper.getMonthCount(_73,_74);if(isNaN(parseInt(_75,10))||parseInt(_75,10)<1||parseInt(_75,10)>_76){_72=false;}break;case 12:var _73=_71.substr(0,4);var _74=_71.substr(4,2);var _75=_71.substr(6,2);var _77=_71.substr(8,2);var _78=_71.substr(10,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}var _76=this.dateHelper.getMonthCount(_73,_74);if(isNaN(parseInt(_75,10))||parseInt(_75,10)<1||parseInt(_75,10)>_76){_72=false;}if(isNaN(parseInt(_77,10))||parseInt(_77,10)<0||parseInt(_77,10)>23){_72=false;}if(isNaN(parseInt(_78,10))||parseInt(_78,10)<0||parseInt(_78,10)>59){_72=false;}break;default:_72=false;break;}return _72;}catch(e){_.exception.printStackTrace(e);}};_._e.dateCommand.prototype.executeValidateString=function(_79){try{return _79;}catch(e){_.exception.printStackTrace(e);}};_._e.dateCommand.prototype.executeValidateKeyPress=function(_7a,_7b,e){try{return true;}catch(e){_.exception.printStackTrace(e);}};_._e.dateCommand.prototype.executeInvalidMessage=function(){var _7d=_._z.getMessage("V_error_date");return _7d;};_._e.euroCommand=function(_7e,_7f){if(!_7e){_7e=".";}if(!_7f){_7f=",";}this.pattern=new RegExp("^[0-9]*["+_7f+"]?[0-9]*");this.delimeter=_7e;this.decimalDelimeter=_7f;};_.extend(_._e.euroCommand.prototype,_._e.validateCommand.prototype);_._e.euroCommand.prototype.getType=function(){return "euro";};_._e.euroCommand.prototype.getValue=function(){return "";};_._e.euroCommand.prototype.executeValidate=function(_80){try{return true;}catch(e){_.exception.printStackTrace(e);}};_._e.euroCommand.prototype.executeValidateString=function(_81){try{var _82=_81.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_82){_81=_82.join("");}else{_81="";}return _81;}catch(e){_.exception.printStackTrace(e);}};_._e.euroCommand.prototype.executeValidateKeyPress=function(_83,_84,e){try{var _86=true;if(e){var _87=_._F.getTarget(e);var pos=_._B.getCaretPos(_87);var _89=(e.charCode)?e.charCode:e.keyCode;var _8a=String.fromCharCode(_89);var _8b=_84.substr(0,pos)+_8a+_84.substr(pos);var _8c=_8b.match(this.pattern);if(_8c&&_8c+""==_8b){_86=true;}else{_86=false;}if(_._G.isFF()&&e.charCode==0){_86=true;}else{if(_._G.isOpera()){if(_._G.getIgnoreKeyPressCodes()[_89]){_86=true;}}}}return _86;}catch(e){_.exception.printStackTrace(e);}};_._e.euroCommand.prototype.executeInvalidMessage=function(){return "";};_._e.rupeeCommand=function(_8d,_8e){if(!_8d){_8d=".";}if(!_8e){_8e=",";}this.pattern=new RegExp("^[0-9]*["+_8e+"]?[0-9]*");this.delimeter=_8d;this.decimalDelimeter=_8e;};_.extend(_._e.rupeeCommand.prototype,_._e.validateCommand.prototype);_._e.rupeeCommand.prototype.getType=function(){return "rupee";};_._e.rupeeCommand.prototype.getValue=function(){return "";};_._e.rupeeCommand.prototype.executeValidate=function(_8f){try{return true;}catch(e){_.exception.printStackTrace(e);}};_._e.rupeeCommand.prototype.executeValidateString=function(_90){try{var _91=_90.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_91){_90=_91.join("");}else{_90="";}return _90;}catch(e){_.exception.printStackTrace(e);}};_._e.rupeeCommand.prototype.executeValidateKeyPress=function(_92,_93,e){try{var _95=true;if(e){var _96=_._F.getTarget(e);var pos=_._B.getCaretPos(_96);var _98=(e.charCode)?e.charCode:e.keyCode;var _99=String.fromCharCode(_98);var _9a=_93.substr(0,pos)+_99+_93.substr(pos);var _9b=_9a.match(this.pattern);if(_9b&&_9b+""==_9a){_95=true;}else{_95=false;}if(_._G.isFF()&&e.charCode==0){_95=true;}else{if(_._G.isOpera()){if(_._G.getIgnoreKeyPressCodes()[_98]){_95=true;}}}}return _95;}catch(e){_.exception.printStackTrace(e);}};_._e.rupeeCommand.prototype.executeInvalidMessage=function(){return "";};_._e.tengeCommand=function(_9c,_9d){if(!_9c){_9c=" ";}if(!_9d){_9d="-";}this.pattern=new RegExp("^[0-9]*["+_9d+"]?[0-9]*");this.delimeter=_9c;this.decimalDelimeter=_9d;};_.extend(_._e.tengeCommand.prototype,_._e.validateCommand.prototype);_._e.tengeCommand.prototype.getType=function(){return "tenge";};_._e.tengeCommand.prototype.getValue=function(){return "";};_._e.tengeCommand.prototype.executeValidate=function(_9e){try{return true;}catch(e){_.exception.printStackTrace(e);}};_._e.tengeCommand.prototype.executeValidateString=function(_9f){try{var _a0=_9f.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_a0){_9f=_a0.join("");}else{_9f="";}return _9f;}catch(e){_.exception.printStackTrace(e);}};_._e.tengeCommand.prototype.executeValidateKeyPress=function(_a1,_a2,e){try{var _a4=true;if(e){var _a5=_._F.getTarget(e);var pos=_._B.getCaretPos(_a5);var _a7=(e.charCode)?e.charCode:e.keyCode;var _a8=String.fromCharCode(_a7);var _a9=_a2.substr(0,pos)+_a8+_a2.substr(pos);var _aa=_a9.match(this.pattern);if(_aa&&_aa+""==_a9){_a4=true;}else{_a4=false;}if(_._G.isFF()&&e.charCode==0){_a4=true;}else{if(_._G.isOpera()){if(_._G.getIgnoreKeyPressCodes()[_a7]){_a4=true;}}}}return _a4;}catch(e){_.exception.printStackTrace(e);}};_._e.tengeCommand.prototype.executeInvalidMessage=function(){return "";};_._e.commandAdapter=function(_ab){this.userFunc=_ab;};_.extend(_._e.commandAdapter.prototype,_._e.validateCommand.prototype);_._e.commandAdapter.prototype.executeValidate=function(_ac){return true;};_._e.commandAdapter.prototype.getType=function(){return "user";};_._e.commandAdapter.prototype.getValue=function(){return "";};_._e.commandAdapter.prototype.executeValidateString=function(_ad){try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_ad=this.userFunc(_ad);}return _ad;}catch(e){_.exception.printStackTrace(e);}};_._e.commandAdapter.prototype.executeValidateKeyPress=function(_ae,_af,e){return true;};_._e.commandAdapter.prototype.executeInvalidMessage=function(){return "";};;WebSquare.validator=_._e;_._E={commandList:[],testFrame:null,currentTestCount:-1,totalTestCount:-1,lock:false,options:{interval:0,showSuccess:true,showLog:false}};_._E.start=function(){try{this.testFrame=parent.document.getElementById("testFrame");this.testSuiteFrame=parent.document.getElementById("testSuiteFrame");this.selenium_myiframe=parent.document.getElementById("selenium_myiframe");this.commandList=[];this.currentTestCount=-1;this.totalTestCount=-1;this.totalTestCount=-1;this.lock=false;}catch(e){_.exception.printStackTrace(e);}};_._E.stop=function(){};_._E.log=function(){try{var _1=true;var _2=[];for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].success==false){_2.push(i);$l("--fail.."+i);_1=false;}}if(_.logger.getErrorLog()!=""){_1=false;}$lobj2(this.commandList,{log:true});$l("  wUnit TEST : "+_1);if(this.options.showSuccess==true){if(_1){alert("wUnit Test SUCCESS");}else{alert("wUnit Test FAIL "+_2.length+"\n see : "+_2);}}if(_1==false||this.options.showLog==true){_.logger.showLog();}}catch(e){_.exception.printStackTrace(e);}};_._E.runTimeout=function(){try{var _4=this;var _5=_4.options.interval;if(this.currentTestCount<this.commandList.length){if(this.commandList[this.currentTestCount].command=="pause"){_5=_5+parseInt(this.commandList[this.currentTestCount].target);}}setTimeout(function(){var _6=_4.executeCommand(_4.currentTestCount);if(_6){_4.currentTestCount++;_4.runTimeout();}else{_4.log();}},_5);}catch(e){_.exception.printStackTrace(e);}};_._E.run=function(){try{var _7=_._G.getBoolean(_._l.getParameter("bySelenium"));if(_7==true){}else{this.currentTestCount=0;this.totalTestCount=this.commandList.length;this.runTimeout();}}catch(e){_.exception.printStackTrace(e);}};_._E.executeCommand=function(_8){try{if(_8>this.commandList.length||!this.commandList[_8]){return false;}var _9=this.commandList[_8].command;switch(_9){case "set":eval(this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assert":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;case "assertNot":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a!=this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is same with the actual value '"+_a+"'";}break;case "object":break;case "exec":var _a=eval("this."+this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assertExec":var _a=eval("this."+this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;default:}}catch(e){$l("[wUnit] error to execute command.  idx:"+_8);_.exception.printStackTrace(e);return false;}return true;};_._E.setOptions=function(_b){_.extend(this.options,_b);};_._E.addCommand=function(_c,_d,_e){try{_c=_c||"";_d=_d||"";_e=_e||"";this.commandList.push({command:_c,target:_d,value:_e,success:null,message:""});}catch(e){_.exception.printStackTrace(e);}};_._E.click=function(id){try{var dom=document.getElementById(id);if(dom){dom.click();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.editGridCell=function(id,row,col){try{var dom=document.getElementById(id+"_cell_"+row+"_"+col);if(dom){dom.click();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getGridScrollX=function(id){try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return dom.scrollLeft;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getGridScrollXRange=function(id,min,max){try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return min<=dom.scrollLeft&&dom.scrollLeft<=max;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.checkCell=function(id){try{var dom=this.getEditCellDom(id);var _1d=_._B.getSelection(dom);if(_1d.start!=_1d.end){return true;}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getEditCellInfo=function(id){try{var _1f=window[id];if(_1f){var col=_1f.getFocusedColumnIndex();var row=_1f.getFocusedRowIndex();var _22=document.getElementById(id+"_cell_"+row+"_"+col);if(_22){var _23=_1f.getCellInfo(_22);return _23;}}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getEditCellDom=function(id){try{var _25=window[id];var _26=this.getEditCellInfo(id);var _27=_25.getFocusedColumnID();return document.getElementById(_26.mainGridId+_26.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.openGridCalendar=function(id){try{var dom=this.getEditCellDom(id);if(dom){this.openCalendar(dom.id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.openCalendar=function(id){try{var dom=document.getElementById(id+"_img");if(dom){dom.click();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.openSelectbox=function(id){try{var dom=document.getElementById(id+"_button");if(dom){dom.click();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.checkInputCalendarPos=function(id){try{return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.checkGridSelectboxPos=function(id){try{var dom=this.getEditCellDom(id);if(dom){return this.checkSelectboxPos(dom.id);}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.checkSelectboxPos=function(id){try{var _32=document.getElementById(id);var _33=_._v.getAbsoluteLeft(_32);var _34=_._v.getAbsoluteTop(_32);var _34=_._v.getAbsoluteTop(_32);var _35=_32.offsetHeight;var _36=document.getElementById(id+"_itemTable");var _37=_._v.getAbsoluteLeft(_36);var _38=_._v.getAbsoluteTop(_36);var _39=_36.offsetHeight;if(Math.abs(_33-_37)<3&&(Math.abs(_34+_35-_38)<3||Math.abs(_38+_39-_34)<3)){return true;}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.keyinInput=function(_3a,_3b,_3c){try{var obj=eval(_3c)||window[_3a];var _3e=document.getElementById(_3a);if(obj&&_3e){if(obj.focus){obj.focus();}for(var i=0;i<_3b.length;i++){var _40=_3b.charCodeAt(i);var _41={charCode:_40,keyCode:_40,target:_3e};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_41);_._F.fireEvent(obj,"onkeydown","");}var _42;if(obj.handleKeypressEvent){_42=obj.validator.validateKeyPress(obj.render,obj.getValue(),_41);if(!_42){}else{_3e.value=_3e.value+String.fromCharCode(_40);}_._F.fireEvent(obj,"onkeypress","");}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_41);_._F.fireEvent(obj,"onkeyup","");}}if(obj.blur){obj.blur();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.keyinInputCalendar=function(_43,_44){try{var obj=window[_43];var _46=document.getElementById(_43+"_input");if(obj&&_46){if(obj.focus){obj.focus();}for(var i=0;i<_44.length;i++){var _48=_44.charCodeAt(i);var _49={charCode:_48,keyCode:_48};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_49);}var _4a;if(obj.handleKeypressEvent){_4a=obj.validator.validateKeyPress(obj.render,obj.getValue(),_49);if(!_4a){}else{_46.value=_46.value+String.fromCharCode(_48);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_49);}}if(obj.blur){obj.blur();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.keyinGridCell=function(_4b,_4c,_4d){try{var _4e=_._G.getComponentById((_4d||"grid1"));var td=document.getElementById(_4b);var _50=_4e.getCellInfo(td);var obj=_4e.dom[_50.mainGridId+_50.id];var _52=document.getElementById(obj.id);if(obj&&_52){if(obj.focus){obj.focus();}for(var i=0;i<_4c.length;i++){var _54=_4c.charCodeAt(i);var _55={charCode:_54,keyCode:_54,target:_52};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_55);}var _56;if(obj.handleKeypressEvent){_56=obj.validator.validateKeyPress(obj.render,obj.getValue(),_55);if(!_56){}else{_52.value=_52.value+String.fromCharCode(_54);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_55);}}if(obj.blur){obj.blur();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getGridCellDisplayData=function(id,_58){try{var dom=document.getElementById(id);var str=dom?dom.innerHTML:"";var _5b=/<[^<|>]*>/g;str=str.replace(_5b,"");return str;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getInnerHTML=function(id,_5d){try{var dom=document.getElementById(id);if(dom){return dom.innerHTML;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getProperty=function(id,_60){try{var dom=document.getElementById(id);if(dom){var _62=dom[_60];return _62;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.getStyle=function(id,_64){try{var dom=document.getElementById(id);if(dom){var _66=_._G.getStyleProperty(dom,_64);return _66;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.doesExist=function(id){try{var dom=document.getElementById(id);if(dom){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.isVisible=function(id){try{var dom=document.getElementById(id);if(dom){if(_._G.getStyleProperty(dom,"display")=="none"){return false;}if(_._G.getStyleProperty(dom,"visibility")=="hidden"){return false;}if(dom.offsetWidth==0||dom.offsetHeight==0){return false;}return true;}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._E.clickSelectboxIndex=function(id,idx){var _6d=_._G.getComponentById(id);if(_6d.options.renderType=="native"){_6d.setSelectedIndex(idx);}else{_._E.click(id+"_button");var _6e=document.getElementById(id+"_itemTable");var _6f=_6e.firstChild.firstChild.childNodes;setTimeout(function(){_6f[idx].firstChild.click();},500);}};_._E.getTextNode=function(id){var obj=document.getElementById(id);var _72=obj.firstChild;return _72.data;};_._E.compareXML=function(src,_74,_75,_76){var _77=src.documentElement;var _78=_74.documentElement;var _79=_._E.compareNode(_77,_78,_75,_76);if(!_79){$l("\uc6d0\ubcf8 XML "+_._t.indent(src));$l("\ube44\uad50\ub300\uc0c1 XML "+_._t.indent(_74));}return _79;};_._E.compareNode=function(src,_7b,_7c,_7d){if(src==null){$l("src node is null");return false;}if(_7b==null){$l("dest node is null");return false;}var _7e=src.nodeName;var _7f=_7b.nodeName;if(_7e==_7f){if(typeof _7d!="undefined"){for(var i=0;i<_7d.length;i++){src.removeAttribute(_7d[i]);_7b.removeAttribute(_7d[i]);}}if(_7c){var _81=src.attributes;for(var i=0;_81!=null&&i<_81.length;i++){var _82=_81[i];if(_7b.getAttribute(_82.nodeName)!=_82.nodeValue){$l("\uc18d\uc131 ["+_82.nodeName+"] \uc774\uc804\uac12["+_82.nodeValue+"] \ubcc0\uacbd\ub41c\uac12["+_7b.getAttribute(_82.nodeName)+"]");return false;}}}var _83=src.firstChild;var _84=_7b.firstChild;while(_83!=null){if(_84==null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}while(_83!=null&&(_83.nodeType==3||_83.nodeType==4||_83.nodeType==8)){_83=_83.nextSibling;}while(_84!=null&&(_84.nodeType==3||_84.nodeType==4||_84.nodeType==8)){_84=_84.nextSibling;}if(_83==null||_84==null){break;}if(_83.nodeType!=_84.nodeType){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uc885\ub958\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}else{if(_83.nodeType==1){if(!_._E.compareNode(_83,_84,_7c,_7d)){return false;}}else{if(_83.nodeType==3){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 TextNode \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}else{if(_83.nodeType==4){if(_83.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 CData \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_83.nodeType+"] \ube44\uad50\ub300\uc0c1["+_84.nodeType+"]");return false;}}}}}_83=_83.nextSibling;_84=_84.nextSibling;}if(_83!=null){while(_83!=null&&(_83.nodeType==8||_83.nodeType==3||_83.nodeType==4)){_83=_83.nextSibling;}if(_83!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}if(_84!=null){while(_84!=null&&(_84.nodeType==8||_84.nodeType==3||_84.nodeType==4)){_84=_84.nextSibling;}if(_84!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_7b.childNodes.length+"]");return false;}}}else{$l("\ub178\ub4dc\uc758 \uc774\ub984\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+src.nodeName+"] \ube44\uad50\ub300\uc0c1["+_7b.nodeName+"]");return false;}return true;};;WebSquare.wUnit=_._E;_._n={};_._n.DefaultXML2JSONString=function(_1,_2){var _3="";var _4=[];if(_._t.isDocumentString(_1)){_1=_._t.parse(_1);}if(_._t.isDocument(_1)){_._n.XMLparseForJSON(_1.documentElement,_4,false);}_3=_4.join("");return _3;};_._n.XML2JSONString=function(_5,_6){var _7=_._h.getConfiguration("/WebSquare/json/xml2jsonFunction/@value");if(_7){_._n.XML2JSONString=eval(_7);if(_._n.XML2JSONString){_.logger.printLog("XML2JSON conversion rule exists in config.xml. [/WebSquare/json/@xml2jsonFunction]");}else{_._n.XML2JSONString=_._n.DefaultXML2JSONString;}}else{_._n.XML2JSONString=_._n.DefaultXML2JSONString;}return _._n.XML2JSONString(_5,_6);};_._n.parseType=function(_8){if(_8&&_8.childNodes&&_8.childNodes.length>0){var _9={};var _a=0;for(var i=0;i<_8.childNodes.length;i++){if(_8.childNodes[i].nodeType==1){if(_9[_8.childNodes[i].nodeName]==true){return "array";}_9[_8.childNodes[i].nodeName]=true;_a++;}}if(_a==0){return "string";}else{return "object";}}else{return "string";}};_._n.XMLparseForJSON=function(_c,_d,_e){var _f=_c.getAttribute("type");if(!_f){_f=_._n.parseType(_c);}if(_e){_d.push("\"");_d.push(_c.nodeName);_d.push("\" : ");}if(_f==="object"){var _10=true;_d.push("{");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push(_._n.XMLparseForJSON(_c.childNodes[i],_d,true));}}_d.push("}");}else{if(_f==="array"){var _10=true;_d.push("[");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push(_._n.XMLparseForJSON(_c.childNodes[i],_d,false));}}_d.push("]");}else{if(_f==="number"){if(_c.childNodes&&_c.childNodes[0].nodeValue){_d.push(_c.childNodes[0].nodeValue);}}else{if(_f==="true"){_d.push("true");}else{if(_f==="false"){_d.push("false");}else{if(_f==="null"){_d.push("null");}else{_d.push("\"");if(_c.childNodes&&_c.childNodes[0]){_d.push(_._t.decode(_c.childNodes[0].nodeValue).wq_replaceAll("\\","\\\\").wq_replaceAll("\"","\\\"").wq_replaceAll("\n","\\n"));}_d.push("\"");}}}}}}};_._n.DefaultJSON2XML=function(_12,_13){var _14;if(_12.constructor===String){_14=eval("("+_12+")");}else{_14=_12;}var _15=[];var _16="<object type=\"object\">";var _17="<array type=\"array\">";var _18="</object>";var _19="</array>";var _1a=-1;if(_14.constructor===Array){_1a=1;_15.push(_17);}else{if(typeof _14=="object"){_1a=2;_15.push(_16);}}for(var i in _14){_._n._recursiveJSON2XML(_15,_14[i],i,_1a);}if(_14.constructor===Array){_15.push(_19);}else{if(typeof _14=="object"){_15.push(_18);}}var _1c=_15.join("");var _1d=_._t.parse(_1c);return _1d;};_._n.DefaultJSON2XMLString=function(_1e,_1f){var _20;if(_1e.constructor===String){_20=eval("("+_1e+")");}else{_20=_1e;}var _21=[];var _22="<object type=\"object\">";var _23="<array type=\"array\">";var _24="</object>";var _25="</array>";var _26=-1;if(_20.constructor===Array){_26=1;_21.push(_23);}else{if(typeof _20=="object"){_26=2;_21.push(_22);}}for(var i in _20){_._n._recursiveJSON2XML(_21,_20[i],i,_26);}if(_20.constructor===Array){_21.push(_25);}else{if(typeof _20=="object"){_21.push(_24);}}var _28=_21.join("");return _28;};_._n.JSON2XML=function(_29,_2a){var _2b=_._h.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2b){_._n.JSON2XML=eval(_2b);if(_._n.JSON2XML){_.logger.printLog("JSON2XML conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{_._n.JSON2XML=_._n.DefaultJSON2XML;}}else{_._n.JSON2XML=_._n.DefaultJSON2XML;}return _._n.JSON2XML(_29,_2a);};_._n.JSON2XMLString=function(_2c,_2d){var _2e=_._h.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2e){_._n.JSON2XMLString=eval(_2e);if(_._n.JSON2XMLString){_.logger.printLog("JSON2XMLString conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{_._n.JSON2XMLString=_._n.DefaultJSON2XMLString;}}else{_._n.JSON2XMLString=_._n.DefaultJSON2XMLString;}return _._n.JSON2XMLString(_2c,_2d);};_._n._recursiveJSON2XML=function(_2f,_30,key,_32){var _33="<object type=\"object\">";var _34="<array type=\"array\">";var _35="</object>";var _36="</array>";if(_30==null){_2f.push("<"+key+" type=\""+_30+"\"/>");}else{if(typeof _30=="string"){if(_32==1){_2f.push("<value>"+_._t.encode(_30)+"</value>");}else{if(_32==2){_2f.push("<"+key+">"+_._t.encode(_30)+"</"+key+">");}}}else{if(typeof _30=="number"){if(_32==1){_2f.push("<value type=\"number\">"+_30+"</value>");}else{if(_32==2){_2f.push("<"+key+" type=\"number\">"+_30+"</"+key+">");}}}else{if(typeof _30=="boolean"){if(_32==1){_2f.push("<value type=\""+_30+"\"/>");}else{if(_32==2){_2f.push("<"+key+" type=\""+_30+"\"/>");}}}else{if(_30.constructor===Array){if(isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_32=2;_2f.push(_33);}else{_32=1;_2f.push(_34);}}for(var j in _30){_._n._recursiveJSON2XML(_2f,_30[j],j,_32);}if(isNaN(parseInt(key))){_32=1;_2f.push("</"+key+">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_2f.push(_35);}else{_2f.push(_36);}}}else{if(typeof _30=="object"){if(_30.constructor===Array&&isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor===Array){_32=1;_2f.push(_34);}else{if(isNaN(parseInt(key))){_32=2;_2f.push("<"+key+" type=\"object\">");}else{_32=2;_2f.push(_33);}}}for(var j in _30){_._n._recursiveJSON2XML(_2f,_30[j],j,_32);}if(_30.constructor===Array&&isNaN(parseInt(key))){_2f.push("</"+key+">");}else{if(_30.constructor===Array){_2f.push(_36);}else{if(isNaN(parseInt(key))){_2f.push("</"+key+">");}else{_2f.push(_35);}}}}}}}}}};var JSON;if(!JSON){JSON={};}(function(){"use strict";function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},rep;function quote(_3c){escapable.lastIndex=0;return escapable.test(_3c)?"\""+_3c.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+_3c+"\"";}function str(key,_40){var i,k,v,length,mind=gap,partial,value=_40[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(_40,key,value);}switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return "null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(_42,_43,_44){var i;gap="";indent="";if(typeof _44==="number"){for(i=0;i<_44;i+=1){indent+=" ";}}else{if(typeof _44==="string"){indent=_44;}}rep=_43;if(_43&&typeof _43!=="function"&&(typeof _43!=="object"||typeof _43.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":_42});};}if(typeof JSON.parse!=="function"){JSON.parse=function(_46,_47){var j;function walk(_49,key){var k,v,value=_49[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return _47.call(_49,key,value);}_46=String(_46);cx.lastIndex=0;if(cx.test(_46)){_46=_46.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(_46.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+_46+")");return typeof _47==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());;WebSquare.json=_._n;_._r=function(){};_._r.prototype.setStyle=function(_1,_2){try{if(!this.render){return;}_._v.setStyle(this.render,_1,_2);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.setStyleAsync=function(_3,_4){try{if(!this.render){return;}if(!this.__setStyleAsyncPeriod){this.__setStyleAsyncPeriod=1;}_._h.setTimer(function(){_._h.measureTime(function(_5){this.__setStyleAsyncPeriod=parseInt(_5.aver,10);},{key:this.id+"_setStyleAsync",caller:this});_._v.setStyle(this.render,_3,_4);},{key:this.id+"_setStyleAsync",caller:this,delay:this.__setStyleAsyncPeriod,max:this.__setStyleAsyncPeriod});}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getStyle=function(_6){try{if(!this.render){return null;}return _._v.getStyle(this.render,_6);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.setPosition=function(x,y,_9){try{if(!this.render){return;}x=parseInt(x);y=parseInt(y);_9=_9||"absolute";if(_9=="absolute"){if(x!=null&&!isNaN(x)){this.render.style.left=x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=y+"px";}}else{if(_9=="delta"){if(x!=null&&!isNaN(x)){this.render.style.left=this.render.offsetLeft+x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=this.render.offsetTop+y+"px";}}}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getPosition=function(_a){try{if(!this.render){return;}var _a=_a.toLowerCase();if(_a=="top"){return this.render.offsetTop;}else{if(_a=="left"){return this.render.offsetLeft;}}$l("getPosition : wrong positionName["+_a+"]");return;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getAbsolutePosition=function(_b,_c){try{var _d=_c==undefined?this.render:_c;if(_b=="top"){return _._v.getAbsoluteTop(_d);}else{if(_b=="left"){return _._v.getAbsoluteLeft(_d);}}$l("getPosition : wrong positionName["+_b+"]");return;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.setSize=function(_e,_f){try{_._v.setSize(this.render,_e,_f);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getSize=function(_10){try{return _._v.getSize(this.render,_10);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.show=function(_11){try{_._v.show(this.render,_11);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.hide=function(){try{_._v.hide(this.render);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.setOpacity=function(_12){try{this.setStyle("opacity",_12);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getOpacity=function(){try{return this.getStyle("opacity");}catch(e){_.exception.printStackTrace(e);}};_._r.addClassRe=new RegExp("\\s\\s");_._r.prototype.addClass=function(_13){try{if(arguments.length===1){this.__addClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__addClass(arguments[0],arguments[1]);}}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.__addClass=function(_14,_15){try{if(!_14||!_15){return;}var _16=_14.className;if(this.__hasClass(_14,_15)==false){_16+=(" "+_15);_16=_16.replace(_._r.addClassRe," ").wq_trim();}_14.className=_16;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.removeClass=function(_17){try{if(arguments.length===1){this.__removeClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__removeClass(arguments[0],arguments[1]);}}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.__removeClass=function(_18,_19){try{if(!_18||!_19){return;}if(!_._h.getConfiguration("/WebSquare/style/removeDefaultClass/@value")){if(this.__hasClass(this.options.className,_19)==true){return;}}var _1a=" "+_18.className+" ";_1a=_1a.replace(" "+_19+" "," ");_1a=_1a.replace(_._r.addClassRe," ").wq_trim();_18.className=_1a;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.changeClass=function(_1b,_1c){try{if(arguments.length===2){this.__changeClass(this.render,arguments[0],arguments[1]);}else{if(arguments.length===3){this.__changeClass(arguments[0],arguments[1],arguments[2]);}}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.__changeClass=function(_1d,_1e,_1f){try{this.removeClass(_1d,_1e);this.addClass(_1d,_1f);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.hasClass=function(_20){try{if(arguments.length===1){return this.__hasClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__hasClass(arguments[0],arguments[1]);}}return false;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.__hasClass=function(_21,_22){try{var _23=typeof _21=="string"?(_21||""):_21.className;var _24=" "+_23+" ";return _24.indexOf(" "+_22+" ")>=0;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.toggleClass=function(_25){try{if(arguments.length===1){return this.__toggleClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__toggleClass(arguments[0],arguments[1]);}}return false;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.__toggleClass=function(_26,_27){try{if(this.hasClass(_26,_27)){this.removeClass(_26,_27);}else{this.addClass(_26,_27);}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.movable=function(_28,_29){try{if(!this.render){return;}var _2a=this;if(!this.handleFinishMove){var id="";var _2c="";id="w2drag_move";_2c="w2drag_move";_29=_.extend({id:id,className:_2c,makeGhostLayer:function(_2d){_2d.setSize(_2a.render.offsetWidth,_2a.render.offsetHeight);return _2d;},handleFinish:function(x,y,dx,dy){var _32=parseInt(_2a.getStyle("left"));var top=parseInt(_2a.getStyle("top"));_2a.setPosition(_32+dx,top+dy);}},_29||{});this.handleFinishMove=function(e){_._F.stopEvent(e);_._A.gDragManager.activate(e,_2a.render,_29);};}if(_28){this.event.addListener(this.render,"onmousedown",this.handleFinishMove);this.event.addListener(this.render,"ontouchstart",this.handleFinishMove);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishMove);this.event.removeListener(this.render,"ontouchstart",this.handleFinishMove);}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.resizable=function(_35,_36){try{if(!this.render){return;}var _37=this;if(!this.handleFinishResize){this.handleFinishResize=function(e){_._F.stopEvent(e);_._A.gDragManager.activate(e,_37.render,{id:"w2drag_resize",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_39){_39.setSize(_37.render.offsetWidth,_37.render.offsetHeight);return _39;},handleFinish:function(x,y,dx,dy){var _3e=parseInt(_37.getStyle("width"));var _3f=parseInt(_37.getStyle("height"));_37.setSize(_3e+dx,_3f+dy);}});};}if(_35){this.event.addListener(this.render,"onmousedown",this.handleFinishResize);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishResize);}}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.visible=function(_40){try{if(!this.render){return;}var _40=_._G.getBoolean(_40);this.render.style.visibility=_40?"visible":"hidden";}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.showBySize=function(){try{if(!this.render){return;}this.setStyle("visibility","visible");this.render.style.overflow="";this.render.style.width="";this.render.style.height="";}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.hideBySize=function(){try{if(!this.render){return;}this.setStyle("visibility","hidden");this.render.style.overflow="hidden";this.render.style.width="0px";this.render.style.height="0px";}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getStyleValue=function(_41){return this.getStyle(_41);};_._r.prototype.getStyleIntValue=function(_42){return parseInt(this.getStyle(_42));};_._r.prototype.getStyleProperty=function(_43){try{return this.getStyle(_43);}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.getClass=function(){try{return this.options.className;}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.highlight=function(_44){try{if(!this.render){return;}this.render.style.border=_44?"solid 1px blue":"";}catch(e){_.exception.printStackTrace(e);}};_._r.prototype.enable=function(){};_._r.prototype.disable=function(){};_._r.prototype.hover=function(_45,_46){};;WebSquare.css=_._r;_.IAction=function(){};_.IAction.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};_.IAction.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};_.IVisible=function(){};_.IVisible.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};_.widget=function(){};requires("uiplugin/control/widget.js");requires("uiplugin/control/IVisible.js");requires("uiplugin/control/IAction.js");_.control=function(id,_2,_3){try{_.widget.call(this);this.parentControl=null;this.childControlList=[];}catch(e){_.exception.printStackTrace(e);}};_.extend(_.control.prototype,_.widget.prototype);_.extend(_.control.prototype,_.IVisible.prototype);_.extend(_.control.prototype,_.IAction.prototype);_.control.prototype.initialize=function(){try{}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.finalize=function(){try{}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.addControl=function(_4,_5){try{if(!_4){return;}var _6=this;do{if(_4==_6){$l("cannot execute : "+this.id+".addControl("+_4.id+");");return;}_6=_6.parentControl;}while(_6);if(_4.parentControl){_4.parentControl.removeControl(_4);}this.childControlList.push(_4);if(this.render){_4.domStatus="new";}_4.parentControl=this;if(_5){this.refreshDom();}}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.removeControl=function(_7){try{for(var i in this.childControlList){if(this.childControlList[i]==_7){this.childControlList.splice(i,1);}}_7.parentControl=null;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.getParent=function(){try{return this.parentControl;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.getChild=function(id){try{for(var i=0;i<this.childControlList.length;i++){var _b=this.childControlList[i];if(_b.id==id){return _b;}}return null;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.getChildren=function(){try{return this.childControlList;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.getAllChildren=function(){try{var _c=this.getChildren().slice(0);var _d=new Array();for(var _e=_c.pop();_e!=null;_e=_c.pop()){if(_.idCache[_e.id]!=undefined){_d.unshift(_e);}_c=_c.concat(_e.getChildren());}return _d;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.getChildrenCount=function(){try{return this.childControlList.length;}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.clearChildren=function(){try{this.childControlList=[];}catch(e){_.exception.printStackTrace(e);}};_.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};_.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};_.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};_.control.prototype.destroy=function(){try{if(typeof this.unbind=="function"){this.unbind();}_.isPrintLog=false;this.finalize();_.isPrintLog=true;if(this.render&&this.render.nodeName=="IFRAME"){var _f=this.getWindow();try{var _10=this.render.getAttribute("src");if(_10){this.render.setAttribute("src","");}if(_f.WebSquare){_f.WebSquare.getBody().remove();}}catch(e){}}if(this.modelControl){this.modelControl.unbindRef();this.modelControl.unbindItemset();}for(var i=this.childControlList.length-1;i>=0;i--){_.idCache[this.childControlList[i].id]=null;this.childControlList[i].destroy();for(var k in this.childControlList[i]){this.childControlList[i][k]=null;delete this.childControlList[i][k];}delete this.childControlList[i];}this.childControlList=[];this.parentControl=null;if(this.id!=""){_.idCache[this.id]=null;_.WebSquareDocument.componentIdCache[this.id]=null;}if(typeof window[this.id]!="undefined"){window[this.id]=null;}if(typeof _.renderCache[this.id]!="undefined"){_.renderCache[this.id]=null;delete _.renderCache[this.id];}var _13={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select"};var _14=_13[this.options.pluginName]||this.options.pluginName;var arr=_.WebSquareDocument.getElementsByTagName(_14);for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this){_.WebSquareDocument.componentsCache[_14].splice(idx,1);}}if(this.event){if(this.render){this.event.clearElement(this.render);}this.event.clearCache();}var _17=this.bindAsEventList||[];for(var i=0,len=_17.length;i<len;i++){_[_17[i]].context=null;_[_17[i]].handler=null;delete _[_17[i]];}var _18=this.bindAsUserEventList||[];for(var i=0,len=_18.length;i<len;i++){_[_18[i]].context=null;_[_18[i]].handler=null;delete _[_18[i]];}_.getBody().getLayerListener().remove(this.id);for(var i in this){delete this[i];}}catch(e){_.exception.printStackTrace(e,null,this);}};requires("engine/cssStyleSheet.js");_.cssManager=function(){this.cache=true;this.convertedCSSText=null;this.controlCSSText=null;this.importedCSSText=null;this.internalCSSText=null;this.externalCSSText=null;this.externalCSSLink=null;this.controlCSSLink=null;this.classStyleCache=[];this.excludeList=[];this.excludeList["trigger"]="1";this.excludeList["submit"]="1";this.excludeList["inputCalendar"]="1";this.heightPattern=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/ig;this.widthPattern=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/ig;};_.cssManager.prototype.startCache=function(){this.cache=true;};_.cssManager.prototype.endCache=function(){this.cache=false;};_.cssManager.prototype.initialize=function(){this.convertedCSSText=[];this.controlCSSText=[];this.internalCSSText=[];this.externalCSSText=[];this.externalCSSLink=[];this.controlCSSLink=[];};_.cssManager.prototype.addConvertedCSS=function(_1,_2){if(_2==""){return;}if(this.cache==true){this.convertedCSSText.push(_1+" {"+_2+"} \n");}else{_.cssStyleSheet.addRule(_1,_2);}};_.cssManager.prototype.addControlCSS=function(_3){this.controlCSSText.push(_3+"\n");};_.cssManager.prototype.addInternalCSS=function(_4){this.internalCSSText.push(_4+"\n");};_.cssManager.prototype.addExternalCSS=function(_5){this.externalCSSText.push(_5+"\n");};_.cssManager.prototype.linkControlCSS=function(_6){this.controlCSSLink.push(_6);};_.cssManager.prototype.linkExternalCSS=function(_7){this.externalCSSLink.push(_7);};_.cssManager.prototype.toCSS=function(){var _8=[];if(this.controlCSSText&&this.controlCSSText.length>0){_8=_8.concat(["/*controlCSSText*/\n"]);_8=_8.concat(this.controlCSSText);_8=_8.concat(["\n\n"]);}if(this.convertedCSSText&&this.convertedCSSText.length>0){_8=_8.concat(["/*convertedCSSText*/\n"]);_8=_8.concat(this.convertedCSSText);_8=_8.concat(["\n\n"]);}if(this.externalCSSText&&this.externalCSSText.length>0){_8=_8.concat(["/*externalCSSText*/\n"]);_8=_8.concat(this.externalCSSText);_8=_8.concat(["\n\n"]);}if(this.internalCSSText&&this.internalCSSText.length>0){_8=_8.concat(["/*internalCSSText*/\n"]);_8=_8.concat(this.internalCSSText);}return _8.join("");};_.cssManager.prototype.executeImport=function(){try{var _9=[];var _a=_.document.getElementsByTagName("head")[0];for(var i=0,len=this.controlCSSLink.length;i<len;i++){var _c=_.document.createElement("link");for(var _d in this.controlCSSLink[i]){_c[_d]=this.controlCSSLink[i][_d];}_a.appendChild(_c);_9.push(_c);_.logger.printLog("import core css : "+_c.href);}for(var i=0,len=this.externalCSSLink.length;i<len;i++){var _c=_.document.createElement("link");for(var _d in this.externalCSSLink[i]){_c[_d]=this.externalCSSLink[i][_d];}_a.appendChild(_c);_9.push(_c);_.logger.printLog("import user css : "+_c.href);}this.controlCSSLink=[];this.externalCSSLink=[];var _e=this.toCSS();if(_e){if(_._h.browserCheck.ie){var _f=_.document.createStyleSheet();_f.cssText=_e;_9.push(_f.owningElement);}else{if(_._h.browserCheck.opera){var s=_.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.appendChild(document.createTextNode(_e));_.document.getElementsByTagName("head").item(0).appendChild(s);_9.push(s);}else{var s=_.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.appendChild(document.createTextNode(_e));_.document.getElementsByTagName("head").item(0).appendChild(s);_9.push(s);}}}this.initialize();this.endCache();return _9;}catch(e){_.exception.printStackTrace(e);}};_.cssManager.prototype.resizeStyle=function(id,_12){try{var _13=_12["style"];if(_13&&_13!=""){var _14=this.setResizeStyle(_13,_12);if(_14!=null&&_14.newSizeStyle!=null){_12["style"]=_13+";"+_14.newSizeStyle;}}return _12;}catch(e){_.exception.printStackTrace(e);}};_.cssManager.prototype.styleToClass=function(id,_16){try{for(var idx in _16){if(idx.indexOf("Style")>-1){var _18=_16[idx];if(_18!=""){var _19=idx+"Class";var _1a="#"+id+" ."+_19;_.cssManager.addConvertedCSS(_1a,_18);_16[idx]="";var _1b=idx.replace("Style","Class");if(!_16[_1b]){_16[_1b]="";}if(_16[_1b]!=""){_16[_1b]+=" ";}_16[_1b]+=_19;}}}return _16;}catch(e){_.exception.printStackTrace(e);}};_.cssManager.prototype.setResizeStyle=function(_1c,_1d){if(this.excludeList[_1d.pluginName]!=null){return null;}var _1e="";var _1f=null;var _20=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _21=_20.exec(_1c);if(_21&&_21.length==2){var _22=parseInt(_21[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle=";height:"+(_22-(_1f.paddingTop+_1f.paddingBottom+_1f.borderTopWidth+_1f.borderBottomWidth))+"px";}var _23=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/i;var _24=_23.exec(_1c);if(_24&&_24.length==2){var _25=parseInt(_24[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle+=";width:"+(_25-(_1f.paddingLeft+_1f.paddingRight+_1f.borderLeftWidth+_1f.borderRightWidth))+"px";}return _1f;};_.cssManager.prototype.getSizeObj=function(_26,_27,_28){if(_28!=null){return _28;}var _29={};_29.paddingTop=0;_29.paddingBottom=0;_29.paddingLeft=0;_29.paddingRight=0;_29.borderTopWidth=0;_29.borderBottomWidth=0;_29.borderLeftWidth=0;_29.borderRightWidth=0;_29.newSizeStyle="";var _2a=new _.sizeObj(_26);var _2b=this.getSizeStyleObj("w2"+_27.pluginName);var _2c=this.getSizeStyleObj(_27.className);_29=this.inherit(_29,_2b);_29=this.inherit(_29,_2c);_29=this.inherit(_29,_2a);return _29;};_.cssManager.prototype.inherit=function(_2d,_2e){if(_2e==null){return _2d;}if(_2e.paddingTop!=null){_2d.paddingTop=_2e.paddingTop;}if(_2e.paddingBottom!=null){_2d.paddingBottom=_2e.paddingBottom;}if(_2e.paddingLeft!=null){_2d.paddingLeft=_2e.paddingLeft;}if(_2e.paddingRight!=null){_2d.paddingRight=_2e.paddingRight;}if(_2e.borderTopWidth!=null){_2d.borderTopWidth=_2e.borderTopWidth;}if(_2e.borderBottomWidth!=null){_2d.borderBottomWidth=_2e.borderBottomWidth;}if(_2e.borderLeftWidth!=null){_2d.borderLeftWidth=_2e.borderLeftWidth;}if(_2e.borderRightWidth!=null){_2d.borderRightWidth=_2e.borderRightWidth;}return _2d;};_.cssManager.prototype.getSizeStyleObj=function(_2f){if(_2f==null||_2f==""){return null;}var _30=this.classStyleCache[_2f];if(_30==null){var _31=this.toCSS();var reg=new RegExp("[.]"+_2f+"[ \t\n\r]*{([^}]*)}");var _33=_31.match(reg);var _34="";if(_33!=null&&_33.length==2){_34=_33[1];}_30=new _.sizeObj(_34);this.classStyleCache[_2f]=_30;}return _30;};_.sizeObj=function(_35){this.paddingTop=null;this.paddingBottom=null;this.paddingLeft=null;this.paddingRight=null;this.borderTopWidth=null;this.borderBottomWidth=null;this.borderLeftWidth=null;this.borderRightWidth=null;var _36=_35.split(";");for(var i=0;i<_36.length;i++){var _38=_36[i].toLowerCase();if(_38.indexOf("padding")>=0){this.setPaddingProperty(_38);}else{if(_38.indexOf("border")>=0){this.setBorderProperty(_38);}}}};_.sizeObj.prototype.toString=function(){var ret="paddingTop["+this.paddingTop+"] ";ret+="paddingBottom["+this.paddingBottom+"] ";ret+="paddingLeft["+this.paddingLeft+"] ";ret+="paddingRight["+this.paddingRight+"] ";ret+="borderTopWidth["+this.borderTopWidth+"] ";ret+="borderBottomWidth["+this.borderBottomWidth+"] ";ret+="borderLeftWidth["+this.borderLeftWidth+"] ";ret+="borderRightWidth["+this.borderRightWidth+"] ";};_.sizeObj.prototype.setPaddingProperty=function(_3a){var _3b=_3a.split(":");var _3c=_3b[0].wq_trim();var _3d=_3b[1].wq_trim();if(_3d==""){return;}if(_3c=="padding"){var _3e=_3d.split(" ");if(_3e.length==1){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[0]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[0]);}else{if(_3e.length==2){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==3){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==4){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[3]);}}}}}else{if(_3c.indexOf("padding-left")>=0){this.paddingLeft=parseInt(_3d);}else{if(_3c.indexOf("padding-top")>=0){this.paddingTop=parseInt(_3d);}else{if(_3c.indexOf("padding-right")>=0){this.paddingRight=parseInt(_3d);}else{if(_3c.indexOf("padding-bottom")>=0){this.paddingBottom=parseInt(_3d);}}}}}};_.sizeObj.prototype.setBorderProperty=function(_3f){var _40=_3f.split(":");var _41=_40[0].wq_trim();var _42=_40[1].wq_trim();var svl=_42.split(" ");var _44=null;for(var i=0;i<svl.length;i++){if(svl[i].indexOf("px")>=0){_44=parseInt(svl[i]);}}if(_44==null){return;}if(_41=="border"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41=="border-width"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41.indexOf("border-left")>=0){this.borderLeftWidth=_44;}else{if(_41.indexOf("border-top")>=0){this.borderTopWidth=_44;}else{if(_41.indexOf("border-right")>=0){this.borderRightWidth=_44;}else{if(_41.indexOf("border-bottom")>=0){this.borderBottomWidth=_44;}}}}}}};_.sizeObj.prototype.inherit=function(_46){if(_46==null){return;}this.paddingTop=(_46.paddingTop!=null)?_46.paddingTop:this.paddingTop;this.paddingBottom=(_46.paddingBottom!=null)?_46.paddingBottom:this.paddingBottom;this.paddingLeft=(_46.paddingLeft!=null)?_46.paddingLeft:this.paddingLeft;this.paddingRight=(_46.paddingRight!=null)?_46.paddingRight:this.paddingRight;this.borderTopWidth=(_46.borderTopWidth!=null)?_46.borderTopWidth:this.borderTopWidth;this.borderBottomWidth=(_46.borderBottomWidth!=null)?_46.borderBottomWidth:this.borderBottomWidth;this.borderLeftWidth=(_46.borderLeftWidth!=null)?_46.borderLeftWidth:this.borderLeftWidth;this.borderRightWidth=(_46.borderRightWidth!=null)?_46.borderRightWidth:this.borderRightWidth;};_.sizeObj.prototype.nullToZero=function(_47){this.paddingTop=this.paddingTop||0;this.paddingBottom=this.paddingBottom||0;this.paddingLeft=this.paddingLeft||0;this.paddingRight=this.paddingRight||0;this.borderTopWidth=this.borderTopWidth||0;this.borderBottomWidth=this.borderBottomWidth||0;this.borderLeftWidth=this.borderLeftWidth||0;this.borderRightWidth=this.borderRightWidth||0;};_.cssManager=new _.cssManager();_.cssManager.initialize();_.cssManager.startCache();_.cssCustomizer=function(){};_.cssCustomizer.prototype.setClassName=function(_1){try{if(!_1){return;}var _2="w2"+this.getPluginName()+" "+_1;this.setClassByElement(_2);}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.addClassName=function(_3){try{this.addClass(this.render,_3);}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.removeClassName=function(_4){try{this.removeClass(this.render,_4);}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.getChildEl=function(_5,_6,_7){try{if(this.getClassByElement(_6)==_5){this.addClass(_6,_7);return _6;}else{for(var i=0;i<_6.children.length;i++){if(_6.children[i].children.length>0){if(_6.children[i]!=null){this.getChildEl(_5,_6.children[i],_7);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_6!=null){if(this.getClassByElement(_6)==_5){return _6;}}}}}}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.removeChildEl=function(_9,_a,_b){try{if(this.getClassByElement(_a)==_9){this.removeClass(_a,_b);return _a;}else{for(var i=0;i<_a.children.length;i++){if(_a.children[i].children.length>0){if(_a.children[i]!=null){this.removeChildEl(_9,_a.children[i],_b);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_a!=null){if(this.getClassByElement(_a)==_9){return _a;}}}}}}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.getClassByElement=function(_d){try{return this.ssplit(_d["className"])||this.ssplit(_d.getAttribute("class"))||"";}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.setClassByElement=function(_e){try{if(!_e){return;}this.render.className=_e;}catch(e){_.exception.printStackTrace(e);}};_.cssCustomizer.prototype.ssplit=function(_f){try{if(typeof _f=="undefined"||_f==null){return _f;}var _10=_f.split(" ");if(_10.length>0){return _10[0];}else{return _f;}}catch(e){_.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");_.htmlControl=function(id,_2,_3){try{_.control.call(this);}catch(e){_.exception.printStackTrace(e);}};_.extend(_.htmlControl.prototype,_.control.prototype);_.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};_.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};_.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};_._a={};requires("uiplugin/control/control.js");requires("uiplugin/control/css.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/eventControl.js");_._q=function(id,_2,_3){try{this.parentControl=null;this.childControlList=[];this.id=id;this.element=_3;this.render=null;this.options=this.getConfiguredOptions();if(_3){this.options=_.extendKeepingType(this.options,_.WebSquareparser.parseAttribute(_3));this.options.xmlEvents=_.WebSquareparser.parseEvent(_3);}if(_2){this.options=_.extendKeepingType(this.options,_2);}if(!this.id){this.id=this.options.id;}this.options.id=this.id;if(_3){var _4=_._t.getLocalName(_3);var _5=_.WebSquareDocument.componentsCache;var _6=_5[_4];if(!_6){_6=_5[_4]=[];}_6[_6.length]=this;}_.WebSquareDocument.componentIdCache[this.id]=this;if(_._h.docType=="quirk"){this.options=_.cssManager.resizeStyle(this.id,this.options);}this.dom={};this.attributes=[];if(_3&&this.options.parseAttributes){this.attributes=_.WebSquareparser.parseAttributesNode(_3);this.getAttributeNode=this.getAttributeNode||_._q.attributes.getAttributeNode;this.setAttributeNode=this.setAttributeNode||_._q.attributes.setAttributeNode;this.removeAttributeNode=this.removeAttributeNode||_._q.attributes.removeAttributeNode;}this.activeStatus="stop";this.domStatus="";this.modelControl=new _.modelControl(this.id,this.options.model,this.options.ref,this.options.bind);this.event=new _.eventControl();this.initialize(_3);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};}catch(e){_.exception.printStackTrace(e,null,this);}};_.extend(_._q.prototype,_.control.prototype);_.extend(_._q.prototype,_._r.prototype);_._q.prototype.defaultOptions={};_._q.prototype.configuredOptions={};_._q.prototype.getConfiguredOptions=function(){var _7=this.defaultOptions.pluginName;var _8,values;var _9={};if(!this.configuredOptions[_7]){var _a=_.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",ref:"",model:"",bind:"",style:"",className:"",tabIndex:"",readOnly:false,disabled:false,useLocale:false,localeRef:"",useConfig:false,toolTip:"",parentEvent:""},this.defaultOptions);if(_a.useConfig||_._G.getBoolean(_._h.getConfiguration("/WebSquare/"+_7+"/useConfig/@value"))){var _b=_.configManager.getConfig(_7);_a=_.extendKeepingType(_a,_b);}_8=[];values=[];for(var _c in _a){_8.push(_c);values.push(_a[_c]);}this.configuredOptions[_7]={keys:_8,values:values};}else{_8=this.configuredOptions[_7].keys;values=this.configuredOptions[_7].values;}for(var i=0;i<_8.length;i++){_9[_8[i]]=values[i];}return _9;};_._q.prototype.initialize=function(_e){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.finalize=function(){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.applyConfigOption=function(_f){try{var _10=_.configManager.getConfig(this.options.pluginName);_f=_.extendKeepingType(_f,_10);return _f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.setProperty=function(_11,_12){try{if(this.render[_11]!=_12){this.render[_11]=_12;this.onPropertyChange(_11,_12);}}catch(e){_.exception.printStackTrace(e);}return this;};_._q.prototype.getProperty=function(_13){try{return this.render[_13];}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.setAttribute=function(_14,_15){try{if(this.options[_14]!=_15){this.options[_14]=_15;_._F.fireEvent(this,"onattributechanged",_14,_15);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getAttribute=function(_16){try{return this.options[_16];}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.setUserData=function(key,_18){try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] can't define as UserData key!!!");return false;}else{this.options[key]=_18;return true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getUserData=function(key){try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] is not UserData key!!!");return;}else{return this.options[key];}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.redraw=function(){try{if(!this.render){return;}var _1a=this.toHTML();var _1b=/(\<[^<>]*\>)(.*)(\<\/.*\>)/;var _1c=_1a.match(_1b);if(_1c&&_1c.length==4){var _1d=_1c[1];var _1e=_1c[2];var _1f=_1c[3];this.render.innerHTML=_1e;}else{alert("cannot redraw : "+this.id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.writeTo=function(_20,_21){try{if(this.render){return;}var _22=this.toHTML().wq_trim();var _23={"iframe":true,"img":true,"a":true,"source":true,"embed":true,"form":true,"frame":true,"frameset":true,"line":true,"script":true,"object":true};var bp1=_22.indexOf(">")+1;var bp2=_22.lastIndexOf("<");var _26=bp2<bp1;var _27=_22.substring(0,bp1).wq_trim();var _28=_26?"":_22.substring(bp1,bp2);var _29=_26?"":_22.substring(bp2).wq_trim();if((_27!=""&&_29!="")||(_27!=""&&_26)){var _2a=_27.match(/\<([^ \>]*)/)[1].toLowerCase();if(_23[_2a]){var re1=/&/g;_27=_27.replace(re1,"&amp;");}var _2c=_._t.parse(_27+_29);var _2d=_.WebSquareparser.parseAttribute(_2c.documentElement);if(_2a==="table"){var _2e=document.createElement("div");_2e.innerHTML=_22;this.render=_2e.firstChild;try{for(var idx in _2d){if(idx=="style"){this.render.style.cssText=_2d[idx];}else{if(idx=="className"){this.render.className=_2d[idx];}else{this.render[idx]=_2d[idx];}}}}catch(e){_.exception.printStackTrace(e,null,this);}}else{this.render=document.createElement(_2a);try{for(var idx in _2d){if(idx=="style"){this.render.style.cssText=_2d[idx];}else{if(idx=="className"){this.render.className=_2d[idx];}else{this.render[idx]=_2d[idx];}}}if(_28&&_2a!="iframe"&&_2a!="input"&&_2a!="img"){this.render.innerHTML=_28;}}catch(e){_.exception.printStackTrace(e,null,this);}}if(typeof _21=="number"&&_20.targetNode){if(_20.render){_20.render.insertBefore(this.render,_20.targetNode);_20.addControl(this);}else{if(_20.insertBefore){_20.insertBefore(this.render,_20.targetNode);}else{alert("cannot writeTo : "+this.id);}}}else{if(_20.render){_20.render.appendChild(this.render);_20.addControl(this);}else{if(_20.appendChild){_20.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.appendToRe1=new RegExp("[\\n\\t\\r]*","g");_._q.appendToRe2=new RegExp("(^\\<[^<>]*\\>)(.*)(\\<\\/.*\\>$)");_._q.appendToRe3=new RegExp("\\<([^ \\>]*)");_._q.prototype.appendTo=function(_30){try{if(this.render){return;}var _31="";var _32="";var _33="";var _34=this.toHTML().wq_trim();_34=_34.replace(_._q.appendToRe1,"");var _35=_34.match(_._q.appendToRe2);if(_35&&_35.length==4){_31=_35[1];_32=_35[2];_33=_35[3];}else{if(!_35&&_34.charAt(0)=="<"&&_34.charAt(_34.length-1)==">"){_31=_34;}}if(_31!=""){var _36=_._t.parse(_31+_33);var _37=_.WebSquareparser.parseAttribute(_36.documentElement);var _38=_31.match(_._q.appendToRe3)[1];this.render=document.createElement(_38);try{for(var idx in _37){if(idx=="style"){this.render.style.cssText=_37[idx];continue;}else{if(idx=="className"){this.render.className=_37[idx];continue;}}this.render.setAttribute(idx,_37[idx]);}}catch(e){_.exception.printStackTrace(e,null,this);}if(_38.toLowerCase()=="div"){this.render.innerHTML=_32;}else{var _3a=_._t.parse(_34);var _3b=_3a.documentElement.childNodes;if(_3b.length>0){for(var i=0;i<_3b.length;i++){var _3d=_3b[i];this.render.appendChild(_._G.XMLToHTML(_3d));}}}if(_30.contentRender){_30.contentRender.appendChild(this.render);_30.addControl(this);}else{if(_30.render){_30.render.appendChild(this.render);_30.addControl(this);}else{if(_30.appendChild){_30.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.appendChild=function(_3e){try{if(!this.render||!_3e){return;}if(_3e.render){this.render.appendChild(_3e.render);}else{this.render.appendChild(_3e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.refreshDom=function(){try{if(!this.render){return;}for(var i=0;i<this.childControlList.length;i++){var _40=this.childControlList[i];_40.refreshDom();if(_40.domStatus=="new"){if(_40.render){this.render.appendChild(_40.render);}else{_40.writeTo(this);}_40.domStatus="";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.refresh=function(){};_._q.prototype.refreshItemset=function(){};_._q.prototype.preActivate=function(){try{if(this.activeStatus!="stop"){_.logger.printLog("duplicated call for preActivate");return;}this.setRender();var _41=this.childControlList;if(this.options.pluginName==="wframe"&&_41[0]!=null){_41=_41[0].childControlList;}for(var i=0;i<_41.length;i++){if(_41[i].activeStatus=="stop"){_41[i].preActivate();}}if(this.render){this.activeStatus="preActive";if(this.setPreAction){this.setPreAction();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.activate=function(){try{if(this.activeStatus=="active"){$l("!!!WARNING!!! duplicate call 'activate' for : "+this.id);return;}if(this.activeStatus=="stop"){this.preActivate();}var _43=this.childControlList;if(this.options.pluginName==="wframe"&&_43[0]!=null){_43=_43[0].childControlList;}for(var i=0;i<_43.length;i++){if(_43[i].activeStatus!="active"){_43[i].activate();}}if(this.render){this.activeStatus="active";this.modelControl.binding();this.setUserAction();this.setAction();if(this.options.tabIndex){if(this.options.pluginType=="uiplugin.inputCalendar"){var _45=this.getElementById(this.id+"_input");_45.tabIndex=this.options.tabIndex;}else{if(this.options.pluginType=="uiplugin.selectbox"&&this.options.renderType=="native"){var _46=this.getElementById(this.id+"_input_0");_46.tabIndex=this.options.tabIndex;}else{this.render.tabIndex=this.options.tabIndex;}}}if(this.options.readOnly==true){this.setReadOnly(this.options.readOnly);}if(this.options.disabled==true){this.setDisabled(this.options.disabled);}if(this.options.toolTip!=""){this.setToolTip(this.render,this.options.toolTip);}_._F.fireEvent(this,"oncreated",this.options);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.deactivate=function(){try{this.activeStatus="stop";for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].deactivate();}this.modelControl.unbinding();this.event.clearElement(this.render);this.event.clearCache();}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.remove=function(){try{_.dragdrop2.removeComp(this);var _48=this.render;var _49=this.getParent();this.destroy();if(_48!=null){_.removeNode(_48);}if(_49){_49.removeControl(this);}for(var i in _.getBody().childControlList){if(_.getBody().childControlList[i]==this){_.getBody().childControlList.splice(i,1);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.empty=function(){try{this.destroy();this.render.innerHTML="";return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.adaptDocType=function(){try{if("trigger".indexOf(this.options.pluginName)>-1){return;}if(this.render!=document.body){var _4b=this.render.offsetWidth;if(_4b==0||true){var _4c=this.getStyle("height");var _4d=this.getStyle("width");var _4e={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};if(_4c.indexOf("px")>-1){_4c=parseInt(_4c);var _4f=_4c-(_4e.paddingTop+_4e.paddingBottom+_4e.borderTopWidth+_4e.borderBottomWidth);this.setStyle("height",_4f+"px");}else{if(_4c.indexOf("%")>-1){}else{}}if(_4d.indexOf("px")>-1){_4d=parseInt(_4d);var _50=_4d-(_4e.paddingLeft+_4e.paddingRight+_4e.borderLeftWidth+_4e.borderRightWidth);this.setStyle("width",_50+"px");}else{if(_4d.indexOf("%")>-1){}else{}}}else{var _4c=parseInt(this.getStyle("height"));var _4d=parseInt(this.getStyle("width"));this.setStyle("width",(_4d-(this.render.offsetWidth-_4d))+"px");this.setStyle("height",(_4c-(this.render.offsetHeight-_4c))+"px");}}}catch(e){$l("error in adaptDocType : "+this.id);_.exception.printStackTrace(e,null,this);}};_._q.prototype.setRender=function(dom){try{if(dom){if(this.render){this.render.parentNode.insertBefore(dom,this.render);this.render.parentNode.removeChild(this.render);}this.render=dom;}else{if(!this.render||this.render.parentElement==null){if(_.renderCache){if(_.renderCache[this.id]&&_.renderCache[this.id].parentElement!=null){this.render=_.renderCache[this.id];}else{this.render=document.getElementById(this.id);}}}else{}}if(!this.render){}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getID=function(){try{return this.id;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.build=function(){try{this.setLayout();}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.setUserAction=function(){try{_.dragdrop2.setDragDrop(this);if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.setLayout=function(){};_._q.prototype.setToolTip=function(){_.getBody().setToolTip(this.render,this.options.toolTip);if(this.options.toolTip!=""){this.render.setAttribute("aria-describedby","_balloonTip");}};_._q.prototype.setInstanceValue=function(_52,_53){try{if(_._h.forcedValueSetting==null){_._h.forcedValueSetting=_._h.getConfiguration("/WebSquare/forcedValueSetting/@value");}if(_._h.forcedValueSetting=="true"){_._C.setInstanceValue(_52,_53);}else{var _54=new _._H.WebSquareSetValueAction(null,null,_52,_53,this.id);_54.activate();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.blur=function(){try{this.render.blur();}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.click=function(){try{this.render.click();}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.focus=function(){try{this.render.focus();}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.select=function(){try{this.render.select();}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.getTabIndex=function(){try{return this.options.tabIndex;}catch(e){_.exception.printStackTrace(e);}};_._q.prototype.onPropertyChange=function(_55,_56){};_._q.prototype.setDisabled=function(_57){try{_57=_._G.getBoolean(_57);this.options.disabled=_57;this.setProperty("disabled",_57);this.render.disabled=_57;}catch(e){_.exception.printStackTrace(e);}return _57;};_._q.prototype.getDisabled=function(){try{return this.options&&this.options.disabled;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.setReadOnly=function(_58){try{_58=_._G.getBoolean(_58);this.options.readOnly=_58;this.setProperty("readOnly",_58);}catch(e){_.exception.printStackTrace(e,null,this);}return _58;};_._q.prototype.getReadOnly=function(){try{return this.options.readOnly;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getRef=function(){try{return this.options.ref;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.displayLocaleValue=function(){if(this.options.localeRef!=null&&this.options.localeRef!=""){var _59=this.getLocaleValue(this.options.localeRef);this.setValue(_59);}};_._q.prototype.getLocaleValue=function(ref){if(typeof ref=="undefined"||ref==null){ref=this.options.localeRef;}ref=ref.wq_trim();var ret=_.WebSquareLang[ref];if(ret==null){ret="global_undefined";}return ret;};_._q.prototype.getDomList=function(key,_5d,_5e){_5e=_5e||this.render;if(this.dom[key]==null){this.dom[key]=_5e.getElementsByTagName(_5d);}return this.dom[key];};_._q.prototype.getElementById=function(id){if(this.dom[id]==null){this.dom[id]=document.getElementById(id);}return this.dom[id];};_._q.prototype.getPluginName=function(){return this.options.pluginName;};_._q.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};_._q.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};_._q.prototype.childFiredEvent=function(o,ev){arguments[0]=this;_._F.fireEvent.apply(null,arguments);};_._q.prototype.addEvent=function(_62,_63,_64){try{_64=_64||"script";var _65={name:_62,action:_64,param:{handler:_63}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_65);if(this.activeStatus=="active"){var _66=this.event.addUserEvents(this,[_65],this.options.userEvents);if(_66.length>0){this.event.addEvents(this,_66);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.bind=function(_67,_68){try{if(typeof _67==="string"&&(_67.slice(0,2)!="on")){_67="on"+_67;}this.addEvent(_67,_68);}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.trigger=function(_69,_6a){try{if(typeof _69==="string"&&(_69.slice(0,2)!="on")){_69="on"+_69;}var _6b=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_69){_6b=true;break;}}}if(!_6b&&_._F.isEventSupported(this.render,_69)){_._F.fireSystemEvent(this,_69,_6a[0]);}else{var _6d=[this,_69];_6d=_6d.concat(_6a);_._F.fireEvent.apply(_._F.fireEvent,_6d);_6d[0]=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.unbind=function(_6e,_6f){try{if(typeof _6e==="string"&&(_6e.slice(0,2)!="on")){_6e="on"+_6e;}if(typeof _6e==="string"&&typeof _6f==="function"){for(var i=0;i<this.userEventList.length;i++){if(_6e===this.userEventList[i].name&&_6f===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_6e]==="object"){this.systemEventList[_6e].count--;if(this.systemEventList[_6e].count<=0){this.event.removeListener(this.render,_6e,this.systemEventList[_6e].handler);delete this.systemEventList[_6e];}}}}}else{if(typeof _6e==="string"&&_6f==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_6e===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_6e]==="object"){this.event.removeListener(this.render,_6e,this.systemEventList[_6e].handler);delete this.systemEventList[_6e];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getGenerator=function(){var _72=this;while(_72.parentControl){_72=_72.parentControl;if(_72.options&&_72.options.pluginName=="generator"){break;}}return _72;};_._q.prototype.getGeneratedIndex=function(){if(this.options){var _73=this.getGenerator();for(var i=0;i<_73.generatedIndexSet.length;i++){if(this.options.g_index==_73.generatedIndexSet[i]){return i;}}}else{return null;}};_._q.prototype.getGeneratedComponent=function(id){var _76=this.getGeneratedIndex();var _77=this.getGenerator();return _77.getChild(_76,id);};_._q.prototype.getAttributesString=function(obj){var str=" ";var _7a;if(obj){for(var i in obj){if(i.charAt(0)!="@"){_7a=obj[i]+"";str+=i+"='"+_7a.wq_replaceAll("'","&#39;")+"' ";}}}else{if(this.options.parseAttributes){for(var i=0;i<this.attributes.length;i++){_7a=this.attributes[i].value?this.attributes[i].value.wq_replaceAll("'","&#39;"):"";str+=this.attributes[i].name+"='"+_7a+"' ";}}}return str;};_._q.prototype.invoke=function(_7c,_7d,_7e,_7f){try{var _7e=_.extend({excludePlugin:"",excludeId:"",includePlugin:"",includeId:""},_7e||{});var _7f=_7f||[];if(!this.getPluginName){if(this.childControlList){for(var i=0;i<this.childControlList.length;i++){_._q.prototype.invoke.call(this.childControlList,_7c,_7d,_7e,_7f);}}return;}var _81={"group":true,"tabContainer":true,"Switch":true,"repeat":true};if(!_81[this.getPluginName()]){$l("The components 'invoke' is not capable of running the component["+this.id+"].");return;}var _82=this.getChildren();for(var i=0;i<_82.length;i++){var _83=_82[i];if(!_83.getPluginName){_._q.prototype.invoke.call(_83,_7c,_7d,_7e,_7f);}else{if(_81[_83.getPluginName()]){_83.invoke(_7c,_7d,_7e,_7f);}else{if(_7e.includePlugin.wq_trim().length>0||_7e.includeId.wq_trim().length>0){if((" "+_7e.includePlugin+" ").indexOf(" "+_83.options.pluginName+" ")===-1&&(" "+_7e.includeId+" ").indexOf(" "+_83.id+" ")===-1){continue;}}else{if((" "+_7e.excludePlugin+" ").indexOf(" "+_83.options.pluginName+" ")>-1||(" "+_7e.excludeId+" ").indexOf(" "+_83.id+" ")>-1){continue;}}switch(_7c){case "assert":if(_83.getValue){var _84="";if(typeof _7d==="function"){_84=_7d(_83);}else{_84=_7d;}if(_83.getValue()==_84){var obj={};obj.id=_83.id;obj.result=true;_7f.push(obj);}else{var obj={};obj.id=_83.id;obj.result=false;_7f.push(obj);}}break;default:if(_83[_7c]&&typeof _83[_7c]==="function"){if(typeof _7d==="function"){var obj={};obj.id=_83.id;obj.result=_83[_7c](_7d(_83));_7f.push(obj);}else{var obj={};obj.id=_83.id;obj.result=_83[_7c](_7d);_7f.push(obj);}}break;}}}}return _7f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._q.prototype.getTitle=function(){return this.render.getAttribute("title");};_._q.prototype.setTitle=function(_86){this.render.setAttribute("title",_86);};_._q.prototype.makeScope=function(_87){if(!this.scope){this.scope={};}for(var i=0;i<_87.childControlList.length;i++){var _89=_87.childControlList[i];if(_89.org_id){this.scope[_89.org_id]=_89;}this.makeScope(_89);}};_._q.attributes=(function(){var _8a={a:["href","target","name","title"]};var _8b={};var _8c=function(_8d){var _8e=_8b[_8d];if(!_8e){var _8f=_8a[_8d];_8e={};if(_8f){for(var i=0;i<_8f.length;i++){_8e[_8f[i]]=true;}}var _91=_.configManager.getConfig("attributes/whiteList");if(_91&&_91[_8d]){var _92=_91[_8d].split(",");for(var i=0;i<_92.length;i++){_8e[_92[i]]=true;}}_8b[_8d]=_8e;}return _8e;};var _93=function(_94){try{return this.render.getAttribute(_94);}catch(e){_.exception.printStackTrace(e);}};var _95=function(_96,_97){try{if(_8c(this.options.tagname)[_96]){this.render.setAttribute(_96,_97);}else{_.logger.printLog("Cannot set '"+_96+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){_.exception.printStackTrace(e);}};var _98=function(_99){try{if(_8c(this.options.tagname)[_99]){this.render.removeAttribute(_99);}else{_.logger.printLog("Cannot remove '"+_99+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){_.exception.printStackTrace(e);}};return {getAttributeNode:_93,setAttributeNode:_95,removeAttributeNode:_98};})();;WebSquare.xfControl=_._q;_.modelControl=function(id,_2,_3,_4){try{this.id=id;this.model=_2;this.ref=_3;this.bind=_4;this.itemsetObj=null;this.useRef=false;this.useBind=false;this.useItemset=false;}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.setItemset=function(_5,_6,_7){try{this.itemsetObj={nodeset:_5||"",label:_6||"",value:_7||""};}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.binding=function(){try{this.bindRef();this.bindItemset();}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.bindRef=function(){try{if(this.ref!=""){_.WebSquaredoc.refElement.push(new _.RefElement(this.ref,this.id));_._C.setBindElement(this.ref,this.id);this.useRef=true;}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.bindItemset=function(){try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){_.WebSquaredoc.itemsetElement.push(new _.ItemsetElement(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value,this.id));this.useItemset=true;}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.unbindRef=function(){try{for(var j in _.WebSquaredoc.refElement){var _9=_.WebSquaredoc.refElement[j];var _a=_9.id;if(_a==this.id){_.WebSquaredoc.refElement.splice(j,1);this.useRef=false;}}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.unbindItemset=function(){try{for(var k in _.WebSquaredoc.itemsetElement){var _c=_.WebSquaredoc.itemsetElement[k];var _d=_c.id;try{if(_d==this.id){_.WebSquaredoc.itemsetElement.splice(k,1);this.useItemset=false;}}catch(e){}}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.unbinding=function(){try{if(this.ref!=""){}if(this.itemsetObj.nodeset!=""){}if(this.ref!=""){}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.isBinded=function(){return this.useRef;};_.modelControl.prototype.isItemsetBinded=function(){return this.useItemset;};_.modelControl.prototype.setRef=function(_e){try{var _f=_e||"";if(this.useRef&&typeof _f=="string"&&_f.length>0){this.ref=_f;this.binding();}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.setData=function(_10){try{if(this.useRef==true){if(this.getData()!=_10){_._C.setInstanceValue(this.ref,_10);}return true;}return false;}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.getData=function(){try{if(this.ref!=""){return _._C.getInstanceValue(this.ref,this.model);}else{return "";}}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.setItemsetData=function(_11){try{}catch(e){_.exception.printStackTrace(e);}};_.modelControl.prototype.getItemsetData=function(){try{var _12=[];if(this.itemsetObj.nodeset!=""){var _13=this.itemsetObj.label;var _14=this.itemsetObj.value;while(1){var _15=_13.lastIndexOf("/");if(_15<0){break;}_13=_13.substring(0,_15);}while(1){var _16=_14.lastIndexOf("/");if(_16<0){break;}_14=_14.substring(0,_16);}var _17=this.itemsetObj.nodeset;var _18=this.itemsetObj.label;var _19=this.itemsetObj.value;if(_14==_13&&_14!=""){_17+="/"+_13;_18=_18.replace(_13+"/","");_19=_19.replace(_14+"/","");}if(_17.lastIndexOf("/")==_17.length-1){_17=_17.substring(0,_17.lastIndexOf("/"));}if(_18.indexOf("/")==0){_18=_18.substring(1);}if(_19.indexOf("/")==0){_19=_19.substring(1);}var _1a=_._C.findInstanceNodes(_17);if(_1a){for(var i=0;i<_1a.length;++i){var _1c=_1a[i];var _13=_._t.getValue(_1c,_18);var _14=_._t.getValue(_1c,_19);_12.push({label:_13,value:_14,xml:_1c});}}}return _12;}catch(e){_.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");requires("uiplugin/control/xfControl.js");requires("uiplugin/control/htmlControl.js");requires("uiplugin/control/cssManager.js");requires("uiplugin/control/controlFactory.js");requires("uiplugin/control/executeHelper.js");requires("uiplugin/balloonTip/balloonTip.js");_.controlManager=function(){try{this.bodyControl=null;this.helperList=new Array();this.addHelper(new _.visibleHelper());this.addHelper(new _.actionHelper());}catch(e){_.exception.printStackTrace(e);}};_.controlManager.prototype.addHelper=function(_1){try{this.helperList.push(_1);}catch(e){_.exception.printStackTrace(e);}};_.controlManager.prototype.run=function(_2){try{_._h.docType=_._h.getConfiguration("docType")||"quirk";_.cssManager.startCache();this.bodyControl=_.controlFactory.create(null,null,_2);_.cssManager.endCache();_.BootLoader.performanceCheck.mid3=new Date();_.BootLoader.printLog("[STEP4] WebSquare Object Creation Complete. Time:"+(_.BootLoader.performanceCheck.mid3.getTime()-_.BootLoader.performanceCheck.mid2.getTime())+"ms");_.setBody(this.bodyControl);var _3=this;if(_.externalScriptArr.length>0){_.externalScriptArr.push(function(){if(!_.callExecuteHelper){_.callExecuteHelper=true;_3.executeHelper();}});_._G.js.apply(null,_.externalScriptArr);_.externalScriptArr=[];}else{if(!_.callExecuteHelper){_.callExecuteHelper=true;this.executeHelper();}}}catch(e){_.exception.printStackTrace(e);}};_.controlManager.prototype.executeHelper=function(){try{for(var i=0;i<this.helperList.length;i++){this.helperList[i].execute(this.bodyControl);}}catch(e){_.exception.printStackTrace(e);}};(function(_1){imports("engine/collection.js");imports("engine/WebSquareDocument.js");imports("engine/Parser.js");imports("engine/Model.js");imports("engine/Actions.js");imports("engine/ModelUtil.js");imports("engine/Events.js");imports("engine/form.js");imports("engine/net.js");imports("engine/session.js");imports("engine/localStorage.js");imports("engine/util.js");imports("engine/date.js");imports("engine/big.js");imports("engine/text.js");imports("engine/layer.js");imports("engine/cookie.js");imports("engine/event.js");imports("engine/skin.js");imports("engine/language.js");imports("engine/style.js");imports("engine/json.js");requires("engine/geometry.js");requires("engine/shape.js");requires("engine/effect.js");requires("engine/dragdrop.js");requires("engine/wUnit.js");requires("engine/thread.js");requires("engine/cssStyleSheet.js");requires("engine/configManager.js");requires("uiplugin/control/controlManager.js");var _2=_1.document;_.BootLoader.loadLanguagePack();_.BootLoader.loadEngineModule();try{if(document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){_.graphicPlatformType="svg";}else{_.graphicPlatformType="vml";}if(_.graphicPlatformType==="vml"){_2.namespaces.add("v","urn:schemas-microsoft-com:vml");_.defaultStyle=_2.createStyleSheet();_.defaultStyle.addRule("v\\:group","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:line","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:stroke","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:oval","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:rect","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:image","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:shape","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:path","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:fill","behavior: url(#default#VML);");_.defaultStyle.addRule("v\\:extrusion","behavior: url(#default#VML);");}}catch(e){_.BootLoader.printStackTrace(e,"VML Namespace");}if(_._h.getConfiguration("debug")=="true"){_.logger.debug=true;}_.logger.debugKey=_._h.getConfiguration("debugKey");if(_._h.getConfiguration("exceptionHandler")!="system"){if(_._h.browserCheck.ie){_1.onerror=_.exception.ieErrorHandler;}else{_1.onerror=_.exception.ffErrorHandler;}}if(_._h.getConfiguration("/WebSquare/checkUpdate/@enable")=="true"){_._G.checkInterval=_._G.parseInt(_._h.getConfiguration("/WebSquare/checkUpdate/@interval"),30000);_._G.checkMode=_._h.getConfiguration("/WebSquare/checkUpdate/@mode");_._G.checkURL=_._h.getConfiguration("/WebSquare/checkUpdate/@serverUrl");if(_._G.checkMode==""||_._G.checkURL==""){_._G.checkMode="client";}_1.setTimeout("WebSquare.util.checkUpdate()",_._G.checkInterval);}_.requestID="";var _3=_._h.getConfiguration("/WebSquare/submission/requestID/@value");if(_3!=""){_.requestID=_3+"=";}_.initialize=function(_4){var _5="",urlFunc="",xmlDoc;if(_.WebSquaredoc==null){try{_.pageURLPrefix=_._h.getConfiguration("/WebSquare/pageURLPrefix/@value");_.pageURLPrefixType=_._h.getConfiguration("/WebSquare/pageURLPrefix/@type");if(_.pageURLPrefix!==""&&_.pageURLPrefixType=="function"){if(_.pageURLPrefix.indexOf("()")==-1){urlFunc=_.pageURLPrefix+"()";}xmlDoc=_._t.load(eval(urlFunc)+encodeURIComponent(_4),null);}else{if(_.pageURLPrefix!==""&&_.pageURLPrefixType!="function"){xmlDoc=_._t.load(_.pageURLPrefix+encodeURIComponent(_4),null);}else{xmlDoc=_._t.load(_4,null);}}if(xmlDoc!=null){_.WebSquaredoc=new _.WebSquareDocument(xmlDoc);_.WebSquaredoc.parsing();return true;}else{_5=_._h.getConfiguration("/WebSquare/pageFaultMsg/@value");if(_5!="false"){_.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:_._z.getMessage("E_initializer_XMLLoadFailError",_4)});}}}catch(e){if(_5!="false"){_.loadErrorHandler({code:"E_initializer_XMLLoadFailError1",msg:_._z.getMessage("E_initializer_XMLLoadFailError1",_4)});}_.exception.printStackTrace(e);}}return false;};_.setParentObj=function(){if(typeof opener!="undefined"&&opener!=null){_.parentObj=opener;}else{if(typeof parent!="undefined"&&parent!=null){_.parentObj=parent;}else{}}};_.startPopupApplication=function(_6){_.nowRendering=true;var _7=_._h.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_7!=null&&_7!=""){if(eval(_7)==false){return;}}_.setParentObj();if(_.logger.debug){_.startPopupApplication1(_6);}else{_.startPopupApplication2(_6);}};_.startPopupApplication1=function(_8){_.setLanguagePack();_._h.extNamespace();if(_8){_.w2xPath=_8;}else{if(_._l.getParameter("w2xPath")!=""){_.w2xPath=_._l.getParameter("w2xPath");}else{_.w2xPath=_._h.getConfiguration("/WebSquare/welcome-file");}}var re=/[\\]/g;_.w2xPath=_.w2xPath.replace(re,"/");var _a=_.w2xPath.lastIndexOf("/");if(_._l.getParameter("w2xHome")==""){if(_a>-1){_.w2xHome=_.w2xPath.substring(0,_a+1);}else{_.w2xHome="/";}}else{_.w2xHome=_._l.getParameter("w2xHome");}if(_a>-1){_.logFileName=" "+_.w2xPath.substring(_a+1);}else{_.logFileName=" "+_.w2xPath;}var _b=_._h.getConfiguration("/WebSquare/DocumentRoot");var _c=_._l.getParameter("w2xDocumentRoot");if(_c=="/"||_c=="\\"){_.w2xDocumentRoot="";}else{if(_c!=""){_.w2xDocumentRoot=_c;}else{if(_b!=null&&_b!=""){_.w2xDocumentRoot=_b;}else{_.w2xDocumentRoot="";}}}var _d=_.initialize(_.w2xPath);var _e=_._h.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_e!=null&&_e!=""){eval(_e);}if(_d){var _f=_.parentObj.WebSquare.srcData;var _10=_.parentObj.WebSquare.destData;var _11=_.parentObj.WebSquare.docTitle;if(typeof _11!="undefined"&&_11!=null){_2.title=_11;}if(!(typeof _f=="undefined"||_f==null||_f==""||typeof _10=="undefined"||_10==null||_10=="")){try{var _12=_.parentObj.WebSquare.ModelUtil.findSerializedNode(_f);_f=_._t.parse(_12).documentElement;}catch(e){}try{var _13=_._C.findInstanceNode(_10);}catch(e){}if(typeof _13!="undefined"&&_13!=null&&typeof _f!="undefined"&&_f!=null){var _14=_13.childNodes;var _15=_f.childNodes;for(var j=_14.length-1;j>=0;j--){_13.removeChild(_14.item(j));}if(_._h.browserCheck.ieAllVersion){var _17=_15.length-1;for(var j=0;j<=_17;j++){_._t.appendChild(_13,_15[0]);}}else{for(var j=0;j<=_15.length-1;j++){_._t.appendChild(_13,_15[j]);}}var _18=_._C.getModelByID(_.parentObj.WebSquare.destModelID);_.WebSquaredoc.unrender(_.parentObj.WebSquare.destData);_18.refresh();}}}if(_d){}};_.startPopupApplication2=function(src){try{_.startPopupApplication1(src);}catch(e){_.exception.printStackTrace(e);}};_.nowRendering=false;_.startApplication=function(src){_.nowRendering=true;var _1b=_._h.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_1b!=null&&_1b!=""){if(eval(_1b)==false){return;}}_.setLanguagePack();if(_.logger.debug){_.startApplication1(src);}else{_.startApplication2(src);}};_.setGridEvent=function(e){};_.loadingApplication=function(){_.nowRendering=true;_1.onbeforeunload=_._F.clear;var _1d=_._h.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_1d!=null&&_1d!=""){if(eval(_1d)==false){return;}}_.initApplicationEngine();var _1e=_2.body;_.parseHtmlBody(_1e);};_.initApplicationEngine=function(){_._h.extNamespace();_.w2xPath="";_.w2xHome="/";_.w2xDocumentRoot="/";if(_.WebSquaredoc==null){try{_.WebSquaredoc=new _.WebSquareDocument(null);if(_.WebSquareParser==null){_.WebSquareparser=new _._J.WebSquareParser();}return true;}catch(e){alert(e.message);_.exception.printStackTrace(e);}}var _1f=_._h.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_1f!=null&&_1f!=""){eval(_1f);}if(typeof _.onload=="function"){_.onload();}_.scriptSection="";};_.parseHtmlBody=function(_20){var _21=_20.childNodes;for(var i=0;i<_21.length;i++){var _23=_21[i];_.parseHtmlBody(_23);if(_23.nodeName.toLowerCase()=="div"&&_23.getAttribute("type")=="w2"){var _24=_23.getAttribute("src");if(_24!=null){var _25=_._t.load(_24,true);_.WebSquaredoc.renderW2(_25,_23);}}}};_.startApplication1=function(src){_._h.extNamespace();if(src){_.w2xPath=src;}else{if(_._l.getParameter("w2xPath")!=""){_.w2xPath=_._l.getParameter("w2xPath");}else{_.w2xPath=_._h.getConfiguration("/WebSquare/welcome-file");}}if(1==2){var _27="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;_.w2xPath=_.w2xPath.replace(re,"/");var _29=_.w2xPath.lastIndexOf("/");if(_._l.getParameter("w2xHome")==""){if(_29>-1){_.w2xHome=_.w2xPath.substring(0,_29+1);}else{_.w2xHome="/";}}else{_.w2xHome=_._l.getParameter("w2xHome");}if(_29>-1){_.logFileName=" "+_.w2xPath.substring(_29+1);}else{_.logFileName=" "+_.w2xPath;}var _2a=_._h.getConfiguration("/WebSquare/DocumentRoot");var _2b=_._l.getParameter("w2xDocumentRoot");if(_2b=="/"||_2b=="\\"){_.w2xDocumentRoot="";}else{if(_2b!=""){_.w2xDocumentRoot=_2b;}else{if(_2a!=null&&_2a!=""){_.w2xDocumentRoot=_2a;}else{_.w2xDocumentRoot="";}}}_.logger.printLog("w2xDocumentRoot["+_.w2xDocumentRoot+"]");_.logger.printLog("w2xHome        ["+_.w2xHome+"]");_.logger.printLog("w2xPath        ["+_.w2xPath+"]");_.logger.printLog("w2xTheme       ["+_.w2xTheme+"]");var _2c=_.initialize(_.w2xPath);var _2d=_._h.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_2d!=null&&_2d!=""){eval(_2d);}if(_2c){}};_.startOnLoad=function(){var _2e=_._h.getConfiguration("/WebSquare/clearMemory/@value");if(_2e=="true"){_1.onbeforeunload=function(){if(WebSquare_clearMemory){WebSquare_clearMemory();}};}_.nowRendering=false;if(typeof _.onload=="function"){_.onload();}if(_.wframeScript&&_.wframeScript.length>0){_.scriptSection+=_.wframeScript.reverse().join("");_.wframeScript=[];}_.BootLoader.globalEval(_.scriptSection);_.scriptSection="";_.scriptSectionExcuteFlag="executed";_.BootLoader.performanceCheck.end=new Date();_.BootLoader.printLog("[STEP8] JS load and Global Script Execution Completed. Time:"+(_.BootLoader.performanceCheck.end.getTime()-_.BootLoader.performanceCheck.mid6.getTime())+"ms");_.BootLoader.printLog("[STEP SUMMARY] Initial procedures completed. Duration : "+(_.BootLoader.performanceCheck.end.getTime()-_.BootLoader.performanceCheck.start.getTime())+", \uc2dc\uac04 \uc694\uc57d :\t"+(_.BootLoader.performanceCheck.mid1.getTime()-_.BootLoader.performanceCheck.start.getTime())+"\t"+(_.BootLoader.performanceCheck.mid2.getTime()-_.BootLoader.performanceCheck.mid1.getTime())+"\t"+(_.BootLoader.performanceCheck.mid3.getTime()-_.BootLoader.performanceCheck.mid2.getTime())+"\t"+(_.BootLoader.performanceCheck.mid4.getTime()-_.BootLoader.performanceCheck.mid3.getTime())+"\t"+(_.BootLoader.performanceCheck.mid5.getTime()-_.BootLoader.performanceCheck.mid4.getTime())+"\t"+(_.BootLoader.performanceCheck.mid6.getTime()-_.BootLoader.performanceCheck.mid5.getTime())+"\t"+(_.BootLoader.performanceCheck.end.getTime()-_.BootLoader.performanceCheck.mid6.getTime())+"\t"+(_.BootLoader.performanceCheck.end.getTime()-_.BootLoader.performanceCheck.start.getTime()));try{if(_.lazyImportsArr.length>0){_.lazyImportsArr.push(function(){_.BootLoader.printLog("defer JavaScript loaded.");});_.BootLoader.printLog("defer JavaScript loading.");_._G.js.apply(null,_.lazyImportsArr);_.lazyImportsArr=[];}}catch(e){_.exception.printStackTrace(e);}};_.startApplication2=function(src){try{_.startApplication1(src);}catch(e){_.exception.printStackTrace(e);}};_.loadApplication=function(_30,_31,_32){_.nowRendering=true;var _33=_._h.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_33!=null&&_33!=""){if(eval(_33)==false){return;}}if(_.logger.debug){_.loadApplication1(_30,_31,_32);}else{_.loadApplication2(_30,_31,_32);}};_.loadApplication1=function(_34,_35,_36){_.WebSquaredoc=null;_2.body.innerHTML="";if(typeof _34=="string"&&_34!=""){_.w2xPath=_34.wq_trim();}else{_.w2xPath=_._h.getConfiguration("/WebSquare/welcome-file");}var re=/[\\]/g;_.w2xPath=_.w2xPath.replace(re,"/");var _38=_.w2xPath.lastIndexOf("/");if(typeof _35=="string"&&_35!=""){_.w2xHome=_35.wq_trim();}else{if(_38>-1){_.w2xHome=_.w2xPath.substring(0,_38+1);}else{_.w2xHome="/";}}if(_38>-1){_.logFileName=" "+_.w2xPath.substring(_38+1);}else{_.logFileName=" "+_.w2xPath;}if(typeof _36=="string"&&_36!=""&&_36!="/"&&_36!="\\"){_.w2xDocumentRoot=_36.wq_trim();}else{_.w2xDocumentRoot="";}var _39=_.initialize(_.w2xPath);var _3a=_._h.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_3a!=null&&_3a!=""){eval(_3a);}if(_39){}};_.loadApplication2=function(_3b,_3c,_3d){try{_.loadApplication1(_3b,_3c,_3d);}catch(e){_.exception.printStackTrace(e);}};_.useLanguagePack=false;_.setLanguagePack=function(){if(!_.useUserSystemLang){_.useLanguagePack=_._h.getConfiguration("/WebSquare/languagePack/@useLanguagePack");if(_.useLanguagePack=="true"){var _3e=_.BootLoader.getBrowserLanguage();_.loagLanguagePack(_3e);_.systemLanguage=_3e;}else{_.WebSquareLang={};}}};_.loagLanguagePack=function(_3f){var _3f=_._y.getCookie("system_language")||_3f||"ko";var _40=_._h.getConfiguration("/WebSquare/languagePack/url[@lang='"+_3f+"']/@value");imports(_40);};_.isAxLogger=true;_.ax_logger=function(_41){};})(window);_.controlFactory=function(){this.createControlHash={"script":"pass","label":"pass","value":"pass","choices":"pass","item":"pass","itemset":"pass","tab":"pass","tabs":"pass","mainMenu":"pass","childMenu":"pass","node":"pass","attributes":"pass","switch":"Switch","case":"group","contents":"group","content":"group","autoFinder":"autoComplete"};var _1=_._h.getConfiguration("/WebSquare/parseHtml/@script")||"false";if(_1=="true"){this.createControlHash.script="script";}};_.controlFactory.prototype.create=function(id,_3,_4,_5){try{if(_5=="self"){var _6=this.createControl(id,_3,_4);_5=_6;}else{var _6=this.createControl(id,_3,_4,_5);}if(_6){var _7=_3&&_3.pluginName?_3.pluginName:_._t.getLocalName(_4);if(_6.options&&_6.options.parseChild){for(var _8=_4.firstChild;_8!=null;_8=_8.nextSibling){var _9=this.create(null,null,_8,_5);if(_9){_6.addControl(_9);}}}if(_6.options&&_6.options.pluginName=="wframe"){_6.makeFrame();}}return _6;}catch(e){_.exception.printStackTrace(e);}};_.controlFactory.prototype.createControl=function(id,_b,_c,_d){try{if(!_c){return null;}var _e=null;if(_c.nodeType==1){var _f=id||_c.getAttribute("id");if(_f){var _10=_d?_d.id:"";id=(_10?_10+"_":"")+_f;}else{id=_f;}var _11=_b&&_b.pluginName?_b.pluginName:_._t.getLocalName(_c);var _12=_c.namespaceURI;var _13=_._h._XML_NAMESPACE;if((_12==_13["XFORMS"]||_12==_13["W2"])&&_11!="tag"){var _14=this.createControlHash[_11]||_11;switch(_14){case "pass":return null;case "secret":_14="uiplugin.input";_c.setAttribute("type","password");_c.setAttribute("pluginName","secret");break;case "select1":var _15=_c.getAttribute("appearance");if(_15=="full"){_14="uiplugin.radio";}else{_14="uiplugin.selectbox";}break;case "select":var _15=_c.getAttribute("appearance");if(_15=="full"){_14="uiplugin.checkbox";}else{if(_15=="checkcombobox"){_14="uiplugin.checkcombobox";}else{_14="uiplugin.multiselect";}}break;default:_14="uiplugin."+_14;break;}try{var _16=_._G.loadedUserComponentPluginName[_14.slice(9)];if(_16){var xml=_._G.loadedUserComponent[_16];var _18=xml.getAttribute("class");var _b=_.WebSquareparser.parseAttribute(_c);_b.className+=" "+_18;_e=this.create(id,_b,xml,"self");_d=_e;_e.makeScope(_e);_.idCache[id]=null;}else{requires(_14);var _19=_14.split(".");var _1a=_._G.isMobile();if(_19[1]=="selectbox"){var _1b=_c.getAttribute("renderType");if(!_1b){_1b=_._h.getConfiguration("/WebSquare/selectbox/renderType/@"+(_1a?"mobile":"value"))||"auto";}if(_1b=="native"||_1b=="select"||(_1b=="auto"&&_1a)){_19[1]+="_native";}}_e=new _[_19[0]][_19[1]](id,_b,_c);}window[id]=_e;if(_d){_e.org_id=_f;_e.scope_obj=_d;}}catch(e){_.exception.printStackTrace(e);return null;}}else{if(_11=="body"){requires("uiplugin.body");id="";_e=new _._a._F(id,null,_c);}else{if(this.createControlHash[_11]!="pass"){requires("uiplugin/html/tag.js");_e=new _.tag(id,null,_c);}}}}else{if(_c.nodeType==3){if(_c.nodeValue.wq_trim()!=""){requires("uiplugin/html/tag.js");_e=new _.tag(id,null,_c);}}else{_e=null;}}if(id&&id!=""){if(_.idCache[id]!=null){$l("id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694","controlFactory");alert("id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694");}else{_.idCache[id]=_e;}}return _e;}catch(e){_.exception.printStackTrace(e,"id ["+id+"] compName["+_14+"]");}};_.controlFactory=new _.controlFactory();requires("uiplugin/control/controlIterator.js");_.executeHelper=function(){};_.executeHelper.prototype.execute=function(_1){};_.visibleHelper=function(){};_.extend(_.visibleHelper.prototype,_.executeHelper.prototype);_.visibleHelper.prototype.execute=function(_2){try{_.cssManager.executeImport();var _3=_._h.getConfiguration("/WebSquare/visibleHelper/targetHandler/@value");var obfuscator_msg=null;_.BootLoader.printLog("controlCollection.toHTML - before");obfuscator_msg=_2.toHTML();_.BootLoader.printLog("controlCollection.toHTML - after");if(_3!=null&&_3!=""){eval(_3+"(obfuscator_msg);");}else{document.body.innerHTML=obfuscator_msg;}if(_._h.getConfiguration("/WebSquare/mobile/hideAddressBar/@value")=="true"&&_._G.isMobile()){document.body.scrollTop=1;}_.renderCache={};this.makeRenderCache(document);try{if(typeof WebSquareExternal!="undefined"){if(WebSquareExternal.xmlInstance){WebSquareExternal.xmlInstance=_._t.parse(WebSquareExternal.xmlInstance);}if(WebSquareExternal.targetInstance){var _4;if(WebSquareExternal.xmlInstance){_4=WebSquareExternal.xmlInstance;}else{if(WebSquareExternal.jsonInstance){_4=_._n.JSON2XML(WebSquareExternal.jsonInstance);}}if(_4){_.WebSquaredoc.models[0].rebuild(_4,WebSquareExternal.targetInstance);_.WebSquaredoc.models[0].refresh();}}}}catch(ee){_.exception.printStackTrace(ee);}_.BootLoader.performanceCheck.mid4=new Date();_.BootLoader.printLog("[STEP5] HTML Rendering Complete. Time:"+(_.BootLoader.performanceCheck.mid4.getTime()-_.BootLoader.performanceCheck.mid3.getTime())+"ms");_2.preActivate();_.BootLoader.performanceCheck.mid5=new Date();_.BootLoader.printLog("[STEP6] Pre Event Activation. Time:"+(_.BootLoader.performanceCheck.mid5.getTime()-_.BootLoader.performanceCheck.mid4.getTime())+"ms");}catch(e){_.exception.printStackTrace(e);}};_.visibleHelper.prototype.makeRenderCache=function(_5){try{for(var _6=_5.firstChild;_6!=null;_6=_6.nextSibling){if(_6.id){_.renderCache[_6.id]=_6;}if(_6.firstChild){this.makeRenderCache(_6);}}}catch(e){_.exception.printStackTrace(e);}};_.actionHelper=function(){};_.extend(_.actionHelper.prototype,_.executeHelper.prototype);_.actionHelper.prototype.execute=function(_7){try{var _8=_._h.getConfiguration("/WebSquare/postDrawMode/@value")||"asynchronous";if(_8==="synchronous"){_.BootLoader.printLog("Synchronous call process");_7.activate();_.BootLoader.performanceCheck.mid6=new Date();_.BootLoader.printLog("[STEP7] Event Activation. Time:"+(_.BootLoader.performanceCheck.mid6.getTime()-_.BootLoader.performanceCheck.mid5.getTime())+"ms");_.startOnLoad();}else{_.BootLoader.printLog("Asynchronous call process");_._h.setTimer(function(){_7.activate();_.BootLoader.performanceCheck.mid6=new Date();_.BootLoader.printLog("[STEP7] Event Activation. Time:"+(_.BootLoader.performanceCheck.mid6.getTime()-_.BootLoader.performanceCheck.mid5.getTime())+"ms");_.startOnLoad();},{key:"WebSquare_startOnload",caller:this,delay:1});}}catch(e){_.exception.printStackTrace(e);}};_._a._g=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._g.prototype,_._q.prototype);_._a._g.prototype.defaultOptions={pluginType:"uiplugin.balloonTip",pluginName:"balloonTip",editable:true};_._a._g.prototype.initialize=function(_4){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._g.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2balloonTip'>");_5.push("<table id='"+this.id+"_mytable' class='w2balloonTip_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_topleft'></td>");_5.push("<td class='w2balloonTip_col_topcenter'></td>");_5.push("<td class='w2balloonTip_col_topright'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_centerleft'><div class='w2balloonTip_left'></div></td>");_5.push("<td class='w2balloonTip_col_centercenter'>");_5.push("<div id='"+this.id+"_label' role='tooltip' class='w2balloonTip_label'>12121212</div>");_5.push("</td>");_5.push("<td class='w2balloonTip_col_centerright'><div class='w2balloonTip_right'></div></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td id='bleft' class='w2balloonTip_col_bottomleft'></td>");_5.push("<td class='w2balloonTip_col_bottomcenter'></td>");_5.push("<td id='bright' class='w2balloonTip_col_bottomright'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._g.prototype.setAction=function(){try{this.dom.label=document.getElementById(this.id+"_label");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._g.prototype.setValue=function(_7){try{this.dom.label.innerHTML=_7;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._g.prototype.getValue=function(){try{return this.dom.label.innerHTML;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.balloonTip=_._a._g;_.historyManager=function(){this.maxSize=50;this.historyArr=[];};_.historyManager.prototype.set=function(_1,id,_3,_4){if(this.historyArr.length>=this.maxSize){this.historyArr.shift();}this.historyArr.push([_1,id,_3||{},_4||{}]);};_.historyManager.prototype.get=function(_5,id){var _7={};for(var i=this.historyArr.length-1;i>=0;i--){var _9=this.historyArr[i];if(_9[0]==_5&&_9[1]==id){_7=_9[2];break;}}return _7;};_.historyManager.prototype.clear=function(){for(var i=0;i<this.historyArr.length;i++){this.historyArr[i]=null;}this.historyArr=[];};_.historyManager.prototype.setKeyEvent=function(_b){_._F.addEvent(document.documentElement,"keydown",_._F.bindAsEventListener(this,this.handlerKeydownEvent));};_.historyManager.prototype.handlerKeydownEvent=function(e){var _d=(e.charCode)?e.charCode:e.keyCode;switch(_d){case 37:break;case 38:break;case 39:break;case 40:break;case 33:break;case 34:break;case 27:break;case 90:if(e.ctrlKey){if(this.historyArr.length>0){var _e=this.historyArr.pop();if(_e[3].onRestore){_e[3].onRestore.call(this,_e[2]);}}}break;case 68:if(e.ctrlKey){_._F.stopEvent(e);}break;case 75:if(e.ctrlKey){_._F.stopEvent(e);}break;default:break;}};_.historyManager=new _.historyManager();_.historyManager.setKeyEvent();_.itemsetControl=function(){};_.itemsetControl.prototype.initializeItemArr=function(_1,_2){var _3=_.WebSquareparser.parseItemset(_1);this.modelControl.setItemset(_3.nodeset,_3.label,_3.value);this.itemsetObj=_3;this.itemArr=[];var _4=_.WebSquareparser.parseChoices(_1,_2);if(_4.length>0){this.itemArr=_4;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.initializeFilter(_1);};_.itemsetControl.prototype.refreshItemArr=function(){this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}};_.itemsetControl.prototype.setNodeSet=function(_5,_6,_7){try{this.modelControl.unbindItemset();_5=(_._G.isNull(_5))?this.itemsetObj.nodeset:_5;_6=(_._G.isNull(_6))?this.itemsetObj.label:_6;_7=(_._G.isNull(_7))?this.itemsetObj.value:_7;this.modelControl.setItemset(_5,_6,_7);this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}this.modelControl.bindItemset();this.refreshItemset("replace");}catch(e){_.exception.printStackTrace(e,null,this);}};_.itemsetControl.prototype.getItemArray=function(){return this.itemArr;};_.itemsetControl.prototype.getLocaleItemArr=function(_8,_9){if(typeof _9=="undefined"||_9==null){_9="label";}for(var i=0;i<_8.length;i++){var _b=_8[i];_b[_9]=this.getLocaleValue(_b[_9]);}return _8;};_.itemsetControl.prototype.initializeFilter=function(_c){var _d=this.options.filter;this.originalItemArr=this.itemArr;this.setFilterFunc(_d);this.filterItemArr();};_.itemsetControl.prototype.setFilter=function(_e){var _f=this.getValue();this.setFilterFunc(_e);this.filterItemArr();this.componentRedraw(_f);};_.itemsetControl.prototype.setFilterFunc=function(_10){try{if(typeof _10=="undefined"||_10==null||_10==""){this.filterFunc=null;}else{this.filterFunc=eval(_10);}}catch(e){this.filterFunc=null;_.exception.printStackTrace(e);}};_.itemsetControl.prototype.filterItemArr=function(){if(this.filterFunc==null){this.itemArr=this.originalItemArr;}else{this.itemArr=[];for(var i=0;i<this.originalItemArr.length;i++){var _12=this.originalItemArr[i];if(this.match(_12)){this.itemArr.push(_12);}}}};_.itemsetControl.prototype.match=function(_13){try{return this.filterFunc.call(this.filterFunc,_13.label,_13.value,_13.xml);}catch(e){_.exception.printStackTrace(e);return false;}};_.itemsetControl.prototype.initializeGridItemArr=function(_14,_15){if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _16=this.itemsetObj;_15=_15||"xf";try{var _17=_14.nodeName;if(_17.indexOf(":")>=0){_15=_17.split(":")[0];}}catch(e){}if(_14){var _18=_._t.findNode(_14,""+_15+":choices");if(_18){var _19=_._t.findNode(_18,""+_15+":gridItemset");if(_19){_16.nodeset=_._t.getValue(_19,"@nodeset");if(_16.nodeset.wq_trim().substr(-1)=="/"){_16.nodeset=_16.nodeset.wq_trim().slice(0,-1);}_16.labelId=_._t.getValue(_19,"@labelId");_16.valueId=_._t.getValue(_19,"@valueId");_16.label=_._t.getValue(_19,"@label");_16.value=_._t.getValue(_19,"@value");_16.width=_._t.getValue(_19,"@width");_16.height=_._t.getValue(_19,"@height");_16.rowMouseOver=_._t.getValue(_19,"@rowMouseOver");_16.visibleRowNum=_._t.getValue(_19,"@visibleRowNum");_16.sortIndex=_._t.getValue(_19,"@sortIndex");_16.sortOrder=_._t.getValue(_19,"@sortOrder");_16.autoFit=_._t.getValue(_19,"@autoFit");_16.hideHeader=_._t.getValue(_19,"@hideHeader");_16.rowMouseOverColor=_._t.getValue(_19,"@rowMouseOverColor");_16.selectedRowColor=_._t.getValue(_19,"@selectedRowColor");var _1a=_._t.getChildren(_18,""+_15+":gridItemset");for(var i=0;i<_1a.length;i++){delete _1a[i]["@tagName"];if(_16.labelId&&_1a[i].id===_16.labelId){_16.label=_1a[i].ref;}if(_16.valueId&&_1a[i].id===_16.valueId){_16.value=_1a[i].ref;}}_16.items=_1a;}}}this.modelControl.setItemset(_16.nodeset,_16.label,_16.value);this.refreshGridItemArr();};_.itemsetControl.prototype.refreshGridItemArr=function(){this.itemArr=[];this.gridItemArr=[];this.gridRowItemArr=[];var _1c=this.itemsetObj;if(_1c.nodeset){var _1d=_._C.findInstanceNodes(_1c.nodeset);if(_1d){for(var i=0;i<_1d.length;++i){this.itemArr.push({label:_._t.getValue(_1d[i],_1c.label),value:_._t.getValue(_1d[i],_1c.value),xml:_1d[i]});var _1f={};for(var j=0;j<_1c.items.length;j++){if(!_1c.items[j].id){_1c.items[j].id=this.id+"_items"+j;}var _21="";var ref=_1c.items[j].ref;if(ref){if(_1c.label&&ref===_1c.label){_1c.labelId=_1c.items[j].id;}else{if(_1c.value&&ref===_1c.value){_1c.valueId=_1c.items[j].id;}}_21=_._t.getValue(_1d[i],ref);}this.gridItemArr.push(_21);_1f[_1c.items[j].id]=_21;}this.gridRowItemArr.push(_1f);}}}};_._a._F=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._F.prototype,_._q.prototype);_._a._F.prototype.defaultOptions={pluginType:"uiplugin.body",pluginName:"body",parseChild:true,useConfig:true,toolTipSec:10};_._a._F.prototype.initialize=function(_4){this.wmodeFrameHash={};this.modal=null;this.toolTip=null;this.toolTipTime=null;this.toolTipSec=this.options.tooltip;this.forceClose=_._h.getConfiguration("/WebSquare/body/layerForceClose/@value");this.layerListener=new _.bodyLayerListener();};_._a._F.prototype.setRender=function(){if(this.parentControl&&this.parentControl.options.pluginName=="wframe"){this.render=this.parentControl.render;}else{this.render=document.body;this.render.className=this.options.className;}var _5=_._h.getChildConfigurationDocument("/WebSquare/browserSelector");for(var i=0;i<_5.length;i++){if(_5[i]["@tagName"]=="className"){if((new RegExp(_5[i].pattern)).test(navigator.userAgent)){this.addClass(_5[i].value);}}}};_._a._F.prototype.setAction=function(){if(this.parentControl==null){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(){if(typeof __WebSquare_gridArr__==="object"&&__WebSquare_gridArr__!=null){for(var i=__WebSquare_gridArr__.length-1;i>=0;i--){try{if(__WebSquare_gridArr__[i]){__WebSquare_gridArr__[i].otherClickHandler(arguments[0]);}}catch(e){__WebSquare_gridArr__[i]=null;delete __WebSquare_gridArr__[i];var _8=__WebSquare_gridArr__.length-1;__WebSquare_gridArr__[i]=__WebSquare_gridArr__[_8];__WebSquare_gridArr__[_8]=null;delete __WebSquare_gridArr__[_8];__WebSquare_gridArr__.length=_8;}}}}));}};_._a._F.prototype.toHTML=function(){var _9=[];var _a=this.getChildren();for(var i=0;i<_a.length;i++){_9.push(_a[i].toHTML());}return _9.join("");};_._a._F.prototype.parseDomToRender=function(_c){if(_c){var id=_c.getAttribute("id");if(id){_.idCache[id].render=_c;}for(var _e=_c.firstChild;_e!=null;_e=_e.nextSibling){if(_e.nodeType==1){this.parseDomToRender(_e);}}}};_._a._F.prototype.showWModeFrame=function(_f,_10){try{if(!this.render||!_10){return;}if(_f=="menu"){if(_10.childNodes.length==0){return;}var _11=_10.childNodes;var _12=_11[0].className.split(" ")[0];this.wmodeFrameHash[_12]=document.getElementById(_12+"_wmode_frame");if(!this.wmodeFrameHash[_12]){this.wmodeFrameHash[_12]=document.createElement("iframe");this.wmodeFrameHash[_12].id=_12+"_wmode_frame";this.wmodeFrameHash[_12].className="w2wmode_frame w2wmode_menuFrame";this.wmodeFrameHash[_12].style.position="absolute";this.wmodeFrameHash[_12].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_12].src=_._l.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_12]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_12].controlID=_12;_13.wmodeFrameHash[_12].style.top=_._v.getAbsoluteTop(_11[0])+"px";_13.wmodeFrameHash[_12].style.width=_11[0].offsetWidth+"px";_13.wmodeFrameHash[_12].style.height=_11[0].offsetHeight+"px";_13.wmodeFrameHash[_12].style.display="block";_13.wmodeFrameHash[_12].style.left=_._v.getAbsoluteLeft(_11[0])+"px";_13.render.insertBefore(_13.wmodeFrameHash[_12],_10.parentElement);},1);}}else{this.wmodeFrameHash[_f]=document.getElementById(this.id+"_"+_f+"_wmode_frame");if(!this.wmodeFrameHash[_f]){this.wmodeFrameHash[_f]=document.createElement("iframe");this.wmodeFrameHash[_f].id=this.id+"_"+_f+"_wmode_frame";this.wmodeFrameHash[_f].className="w2wmode_frame";this.wmodeFrameHash[_f].style.position="absolute";this.wmodeFrameHash[_f].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_f].src=_._l.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_f]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_f].controlID=_10.id;_13.wmodeFrameHash[_f].style.left=_10.offsetLeft+"px";_13.wmodeFrameHash[_f].style.top=_10.offsetTop+"px";_13.wmodeFrameHash[_f].style.width=_10.offsetWidth+"px";_13.wmodeFrameHash[_f].style.height=_10.offsetHeight+"px";_13.wmodeFrameHash[_f].style.display="block";_13.render.insertBefore(_13.wmodeFrameHash[_f],_10);},1);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.hideWModeFrame=function(_14,id){try{if(_14=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){this.wmodeFrameHash[id].style.display="none";}}else{if(this.wmodeFrameHash[_14]&&this.wmodeFrameHash[_14].controlID==id){this.wmodeFrameHash[_14].style.display="none";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.removeWModeFrame=function(_16,id){try{if(_16=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){document.body.removeChild(this.wmodeFrameHash[id]);delete this.wmodeFrameHash[id];}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.showModal=function(_18,_19){try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modalStack=[];this.modalStackPopupLayer=[];}if(_18){this.modalStack[this.modalStack.length]=_18;this.modal.className=_18;}else{this.modalStack[this.modalStack.length]="w2modal";this.modal.className="w2modal";}if(this.modal){this.render.appendChild(this.modal);this.modal.style.display="block";if(this.modal.setActive){this.modal.setActive();}else{if(document.activeElement){document.activeElement.blur();}else{this.modal.focus();}}}if(_._G.isIE(6)){this.modal.style.top=document.documentElement.scrollTop+"px";this.modal.style.left=document.documentElement.scrollLeft+"px";this.modal.style.width=document.documentElement.scrollWidth+"px";this.modal.style.height=document.documentElement.scrollHeight+"px";}if(!_._G.isFF()){this.addClass(document.documentElement,"w2modalopenedbody");}if(_19&&_19.length>0){for(var i=0;i<_19.length;i++){var _1b=_19[i];if(_1b&&window[_1b].options.pluginName){window[_1b].addClass("w2modal_popupLayer");}else{$l("[body.showModal]\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 WebSquare Component\uc785\ub2c8\ub2e4.("+i+")");}}this.modalStackPopupLayer[this.modalStackPopupLayer.length]=_19;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.modalEvent=function(_1c){try{if(this.modal){if(_1c){_._F.addListener(this.modal,"onclick",function(){_1c.focus();});_._F.addListener(this.modal,"ondblclick",function(){_1c.focus();});}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.hideModal=function(){try{if(this.modal){this.modalStack.pop();if(this.modalStack.length==0){this.modal.style.display="none";this.removeClass(document.documentElement,"w2modalopenedbody");}else{var _1d=this.modalStack[this.modalStack.length-1];this.modal.className=_1d;}if(this.modalStackPopupLayer.length>0){var _1e=this.modalStackPopupLayer[this.modalStackPopupLayer.length-1];for(var i=0;i<_1e.length;i++){var _20=_1e[i];if(window[_20]){window[_20].removeClass("w2modal_popupLayer");}}this.modalStackPopupLayer.splice(this.modalStackPopupLayer.length-1,1);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.setToolTip=function(_21,_22){try{var _23=this;_._F.addListener(_21,"onmouseover",this.event.bindAsEventListener(this,function(e){_.getBody().showToolTip(e,_21,_22);}));_._F.addListener(_21,"onmouseout",this.event.bindAsEventListener(this,function(e){_.getBody().hideToolTip(e);}));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.showToolTip=function(e,_27,_28){try{var idx=_28.indexOf("javascript:");if(idx>-1){var _2a=_28.substring(11,_28.length);var _2b=eval(_2a);_28=_2b;}if(_28==""){return;}if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(!this.toolTip){this.toolTip=new _._a._g(this.id+"_balloonTip");this.toolTip.writeTo(this);this.toolTip.activate();}if(this.toolTip){var _2c=_._v.getAbsoluteLeft(_27);var top=_._v.getAbsoluteTop(_27);this.toolTip.setValue(_28);var _2e=this;this.toolTipTime=setTimeout(function(){_2e.toolTip.show();var _2f=_2e.toolTip.render.offsetWidth;var _30=_2e.toolTip.render.offsetHeight;if(_2c+_2f>document.documentElement.scrollLeft+document.documentElement.clientWidth-10){_2c=document.documentElement.scrollLeft+document.documentElement.clientWidth-_2f-10;}top=top-_30;if(top<document.documentElement.scrollTop+10){if(top<0){top=_30+10;}else{top=document.documentElement.scrollTop+10;}}_2e.toolTip.setPosition(_2c,top);_2e.toolTip.setOpacity(0);new _._m.opacity(_2e.toolTip.render,{opacity:0,from:1,to:0});},this.toolTipSec);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.hideToolTip=function(){try{if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(this.toolTip){this.toolTip.hide();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._F.prototype.getLayerListener=function(){try{return this.layerListener;}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener=function(){this.layers={};this.existShow=false;this.useOtherComponentId={};};_.bodyLayerListener.prototype.addListener=function(obj){try{var _32=true;for(var id in this.layers){_32=false;break;}var _34=obj.component;var _35=obj.component.id;this.layers[_35]={component:obj.component,show:obj.fnShow,hide:obj.fnHide,paramHide:obj.paramHide,event:obj.event,isShow:false,otherClick:obj.otherClick};if(_32){if(_._G.isMobile()){_.getBody().event.addListener(document.documentElement,"ontouchstart",_.getBody().event.bindAsEventListener(_.getBody(),this.handleMouseDownEventDocument));}else{_.getBody().event.addListener(document.documentElement,"onmousedown",_.getBody().event.bindAsEventListener(_.getBody(),this.handleMouseDownEventDocument));_.getBody().event.addListener(document.documentElement,"onmousewheel",_.getBody().event.bindAsEventListener(_.getBody(),this.handleMouseWheelEventDocument));_.getBody().event.addListener(window,"onscroll",_.getBody().event.bindAsEventListener(_.getBody(),this.handleScrollEventDocument));_.getBody().event.addListener(window,"onresize",_.getBody().event.bindAsEventListener(_.getBody(),this.handleMouseWheelEventDocument));}}if(obj.event){for(var _36 in obj.event){_34.event.addListener(document.documentElement,_36,_34.event.bindAsEventListener(_34,obj.event[_36]));}}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.show=function(id,_38){try{if(this.layers[id]&&typeof this.layers[id].show==="function"){var _39=this.layers[id].component;var _3a={};while(_39.parentControl){_39=_39.parentControl;if(_39.id){_3a[_39.id]=true;}}this.hideAll(_3a);this.layers[id].show.call(this.layers[id].component,_38);this.layers[id].isShow=true;this.existShow=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.hide=function(id,_3c){try{if(this.layers[id]&&typeof this.layers[id].hide==="function"){this.layers[id].hide.call(this.layers[id].component,_3c);this.layers[id].isShow=false;this.existShow=false;for(var _3d in this.layers){if(this.layers[_3d].isShow){this.existShow=true;break;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.hideAll=function(_3e){try{this.targetHideArr=[];for(var id in this.layers){if(_3e&&_3e[id]){continue;}if(this.layers[id].isShow){var _40={};_40["id"]=id;_40["param"]=this.layers[id].paramHide;this.targetHideArr.push(_40);this.hide(id,this.layers[id].paramHide);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.isExist=function(id){try{if(this.layers[id]){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.isShow=function(id){try{if(this.layers[id]){return !!this.layers[id].isShow;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.remove=function(id){try{if(this.layers[id]){for(var _44 in this.layers[id].event){_._F.removeListener(document.documentElement,_44,this.layers[id].event[_44]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.removeAll=function(){try{for(var id in this.layers){for(var _46 in this.layers[id].event){_._F.removeListener(document.documentElement,_46,this.layers[id].event[_46]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}this.layers={};}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.handleMouseDownEventDocument=function(e){try{if(!this.layerListener.existShow){return;}else{var top,left;if(_._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_._F.getMouseX(e)<document.documentElement.clientWidth+left&&_._F.getMouseY(e)<document.documentElement.clientHeight+top){this.layerListener.hideAll();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.handleMouseWheelEventDocument=function(e){try{if(!this.layerListener.existShow){return;}else{var _4a;for(var id in this.layerListener.layers){if(this.layerListener.layers[id].isShow&&this.layerListener.layers[id].component&&this.layerListener.layers[id].component.render.parentNode){_4a=this.layerListener.layers[id].component.render.parentNode;}}var _4c=_._F.getTarget(e);if(this.forceClose=="true"||(_4c!=_.getBody().render&&_4a!=_.getBody().render)){this.layerListener.hideAll();return;}var doc=document.documentElement;var top,left;if(_._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(top===0||doc.scrollHeight-top===doc.clientHeight||left===0||doc.scrollWidth-left===doc.clientWidth){return;}this.useWheel=true;this.layerListener.hideAll();}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.handleScrollEventDocument=function(e){try{var _50=this.layerListener.targetHideArr;if(!_50||_50.length<=0||this.useWheel==undefined||!this.useWheel){return;}else{for(var i=0;i<_50.length;i++){this.layerListener.show(_50[i]["id"],_50[i]["param"]);}this.layerListener.targetHideArr=[];this.useWheel=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_.bodyLayerListener.prototype.otherClick=function(e){for(var _53 in this.layers){if(typeof this.layers[_53].otherClick==="function"){this.layers[_53].otherClick.call(this.layers[_53].component,e);}}};;WebSquare.uiplugin.body=_._a._F;requires("uiplugin/control/cssCustomizer.js");_._a._z=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._z.prototype,_._q.prototype);_.extend(_._a._z.prototype,_.cssCustomizer.prototype);_._a._z.prototype.defaultOptions={pluginType:"uiplugin.group",pluginName:"group",parseChild:true,parseAttributes:true,tagname:"div",lazyDraw:false,role:""};_._a._z.prototype.initialize=function(_4){};_._a._z.html5={"footer":"div","header":"div","nav":"div","section":"div"};_._a._z.prototype.toHTML=function(){try{var _5=[];var _6=(this.options.role!="")?"role='"+this.options.role+"'":"";var _7=(!this.options.style)?"":"style='"+this.options.style+"'";var _8=this.options.tagname;if(_._h.browserCheck.ie){var _9=_._h.browserVersion();if(_9=="6"||_9=="7"||_9=="8"){if(_._a._z.html5[_8]){_8=_._a._z.html5[_8];}}}_5.push("<"+_8+" id='"+this.id+"' "+_7+" class='w2group "+this.options.className+"' "+_6+" "+this.getAttributesString()+">");if(!this.options.lazyDraw){var _a=this.getChildren();for(var i=0;i<_a.length;i++){_5.push(_a[i].toHTML());}}_5.push("</"+_8+">");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._z.prototype.setAction=function(){};_._a._z.prototype.draw=function(){try{var _c=[];var _d=this.getChildren();if(_d.length>0&&_d[0].render){return;}else{for(var i=0;i<_d.length;i++){_c.push(_d[i].toHTML());}this.render.innerHTML=_c.join("");for(var i=0;i<_d.length;i++){_d[i].activate();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._z.prototype.setInitValue=function(_f){try{this.init(_f);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._z.prototype.init=function(_10){try{_10=_.extend({excludePlugin:"",excludeId:"",fireEvent:false,recursive:false},_10||{});var _11=this.getChildren().slice(0).reverse();while(_11.length>0){var _12=_11.pop();if(_12.setInitValue&&(" "+_10.excludePlugin+" ").indexOf(" "+_12.options.pluginName+" ")==-1&&(" "+_10.excludeId+" ").indexOf(" "+_12.id+" ")==-1){_12.setInitValue(_10);}if(_10.recursive){for(var i=0;i<_12.childControlList.length;i++){_11.push(_12.childControlList[i]);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._z.prototype.invoke=function(_14,_15,_16,_17){try{return _._q.prototype.invoke.call(this,_14,_15,_16,_17);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._z.prototype.setDisabled=function(_18){try{_._q.prototype.setDisabled.call(this,_18);_18=_._G.getBoolean(_18);for(var i=0;i<this.childControlList.length;i++){var _1a=this.childControlList[i];if(_1a.setDisabled&&_1a.activeStatus!="stop"){_1a.setDisabled(_18);}}}catch(e){_.exception.printStackTrace(e);}return _18;};_._a._z.prototype.getAttributeNode=function(_1b){try{_._q.attributes.getAttributeNode.call(this,_1b);}catch(e){_.exception.printStackTrace(e);}};_._a._z.prototype.setAttributeNode=function(_1c,_1d){try{_._q.attributes.setAttributeNode.call(this,_1c,_1d);}catch(e){_.exception.printStackTrace(e);}};_._a._z.prototype.removeAttributeNode=function(_1e){try{_._q.attributes.removeAttributeNode.call(this,_1e);}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.group=_._a._z;_._a.ax=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ax.prototype,_._q.prototype);_._a.ax.prototype.defaultOptions={pluginType:"uiplugin.floatingLayer",pluginName:"floatingLayer",parseChild:true,userEvents:["onclose","onlayermove"],bodyComplex:true,dragAlwaysView:false,title:"",titleClass:"",useResizeDrag:false,modal:false,closeButtonSrc:"",closeButtonClass:"",headerLeftClass:"",headerCenterClass:"",headerRightClass:"",bodyLeftClass:"",bodyCenterClass:"",bodyRightClass:"",bodyLeftBottomClass:"",bodyBottomClass:"",bodyRightBottomClass:"",useModal:false,useAnchor:false};_._a.ax.prototype.initialize=function(_4){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.toHTML=function(){try{var _5=[];var _6=this.options.title?"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _7=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div role='application' id='"+this.id+"' "+_7+" class='w2floatingLayer "+this.options.className+"' tabindex='0' >");_5.push("<table class='w2floatingLayer_table' cellpadding='0' cellspacing='0'>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_topleft "+this.options.headerLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_topcenter "+this.options.headerCenterClass+"' "+_6+" >");_5.push("<div id='"+this.id+"_titleDiv' class='w2floatingLayer_title "+this.options.titleClass+"' >"+this.options.title+"</div>");_5.push("<div id='"+this.id+"_closeButton' class='w2floatingLayer_close_button "+this.options.closeButtonClass+"' tabindex='0' title='close' ></div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_topright "+this.options.headerRightClass+"'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerleft "+this.options.bodyLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_centercenter'>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerright "+this.options.bodyRightClass+"'></td>");_5.push("</tr>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_bottomleft "+this.options.bodyLeftBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomcenter "+this.options.bodyBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomright "+this.options.bodyRightBottomClass+"'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.setAction=function(){try{this.dom.contents=this.getElementById(this.id+"_contents");this.dom.closeButton=this.getElementById(this.id+"_closeButton");if(this.options.useModal==true){var _a=_._G.getStyleProperty(this.render,"z-index");if(!_._G.getStyleProperty(this.render,"z-index")||_a=="auto"){this.render.style["zIndex"]=4500;}}this.resetContentSize();if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedownEvent));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleKeydownEvent=function(e){try{var _c=(e.charCode)?e.charCode:e.keyCode;if(_c!=13){return;}this.handleClickEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleFocusEvent=function(e){try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}_.document.title=this.dom.titleDiv.innerHTML;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleBlurEvent=function(e){try{_.document.title=_.docTitle;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.focus=function(){try{this.render.focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleClickEvent=function(e){try{_._F.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.hide();if(this.options.useModal==true){this.hideModal();}_._F.fireEvent(this,"onclose");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleMousedownEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){var _13=this;_._A.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:10,mode:"move",makeGhostLayer:function(_14){_14.setSize(_13.render.offsetWidth,_13.render.offsetHeight);var _15=_._v.getAbsoluteLeft(_13.render);var top=_._v.getAbsoluteTop(_13.render);_14.setPosition(_15,top);return _14;},handleStart:function(){if(_13.options.useModal==true){_.getBody().showModal("w2modal_onmove");}},handleFinish:function(x,y,dx,dy){_13.setPosition(x+dx,y+dy);if(_13.options.useModal==true){_.getBody().hideModal();}_._F.fireEvent(_13,"onlayermove",x+dx,y+dy);}});}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleMouseOverEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.addClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleMouseOutEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.removeClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.handleSelectStart=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){_._F.stopEvent(e);}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.setSize=function(_21,_22){try{if(!this.render){return;}_21=parseInt(_21);_22=parseInt(_22);if(_21!=null&&!isNaN(_21)&&_21>=0){this.render.style.width=_21+"px";}if(_22!=null&&!isNaN(_22)&&_22>=0){this.render.style.height=_22+"px";this.resetContentSize();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.resetContentSize=function(){try{var _23=_._G.getStyleProperty(this.render,"height");_23=parseInt(_23,10);if(isNaN(_23)){var _24=this.getSize("height")-42;if(typeof _24=="number"&&_24>0){this.dom.contents.style.height=(this.getSize("height")-42)+"px";}else{this.dom.contents.style.height="";}}else{this.dom.contents.style.height=(_23-42)+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.setTitle=function(_25){try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}this.dom.titleDiv.innerHTML=_25;this.dom.titleDiv.parentNode.setAttribute("title",_25.wq_replaceAll("'","&#39;"));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ax.prototype.showModal=function(){_.getBody().showModal("w2modal_floatingLayer");};_._a.ax.prototype.hideModal=function(){_.getBody().hideModal();};_._a.ax.prototype.show=function(_26){_._r.prototype.show.call(this,_26);if(this.options.useModal==true){this.showModal();}if(this.options.useAnchor){var _27=this.id+"_innerLink";var _28=this.getElementById(_27);_28.setAttribute("name",_27+"_name");var _29=document.createElement("a");document.body.appendChild(_29);_29.setAttribute("href","#"+_27+"_name");_29.click();document.body.removeChild(_29);_29=null;}};_._a.ax.prototype.hide=function(){_._r.prototype.hide.apply(this);if(this.options.useModal==true){this.hideModal();}if(this.options.useAnchor&&this.backlink){var _2a=_._G.getComponentById(this.backlink);_2a.render.setAttribute("name",_2a.id+"_backlink");var _2b=document.createElement("a");document.body.appendChild(_2b);_2b.setAttribute("href","#"+_2a.id+"_backlink");_2b.click();document.body.removeChild(_2b);}};_._a.ax.prototype.setBackLink=function(obj){if(typeof obj=="string"){this.backlink=obj;}else{if(obj&&typeof obj.id=="string"){this.backlink=obj.id;}}};;WebSquare.uiplugin.floatingLayer=_._a.ax;_._a.ag=function(_1){this.displayFormat="yyyyMMdd";this.dayStrArr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];this.monthDays=[31,28,31,30,31,30,31,31,30,31,30,31];this.year=null;this.month=null;this.date=null;this.day=null;this.setToday(_1);};_._a.ag.prototype.setToday=function(_2){if(_2&&_2==true){var _3=this.getServerDate();if(!_3||_3===""){var _4=new Date();}else{var _5="";var _6="";var _7="";if(_3&&_3.length==8){_5=_3.substr(0,4);_6=_3.substr(4,2);_7=_3.substr(6,2);}var _4=new Date(parseInt(_5),parseInt(_6,10)-1,parseInt(_7,10));}}else{var _4=new Date();}this.year=_4.getFullYear();this.month=_4.getMonth()+1;this.date=_4.getDate();};_._a.ag.prototype.setYear=function(_8){this.year=parseInt(_8);};_._a.ag.prototype.setMonth=function(_9){this.month=parseInt(_9);};_._a.ag.prototype.setDate=function(_a){this.date=parseInt(_a);};_._a.ag.prototype.setDateAll=function(_b,_c,_d){if(!_b||!_c||!_d){return;}var _e=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d));this.year=_e.getFullYear();this.month=_e.getMonth()+1;this.date=_e.getDate();};_._a.ag.prototype.setDateAllByString=function(_f){if(_f&&_f.length==8){var _10=_f.substr(0,4);var _11=_f.substr(4,2);if(_11.charAt(0)=="0"){_11=_11.charAt(1);}var _12=_f.substr(6,2);if(_12.charAt(0)=="0"){_12=_12.charAt(1);}this.setDateAll(_10,_11,_12);}};_._a.ag.prototype.getYear=function(){return this.year;};_._a.ag.prototype.getMonth=function(){return this.month;};_._a.ag.prototype.getDate=function(){return this.date;};_._a.ag.prototype.getDateAll=function(){var _13=this.year+"";var _14=this.month+"";var _15=this.date+"";if(_14.length==1){_14="0"+_14;}if(_15.length==1){_15="0"+_15;}var _16=_13+_14+_15;return _16;};_._a.ag.prototype.getFormatDateAll=function(_17){var _18="";if(_17&&_17!=""){_18=_17;}else{_18=this.displayFormat;}var _19=this.getDateAll();_19=_._B.formatDate(_19,_18);return _19;};_._a.ag.prototype.getDay=function(){var _1a=new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date));this.day=_1a.getDay();return this.day;};_._a.ag.prototype.getDayStr=function(day,_1c){_1c=_1c||this.dayStrArr;if(_1c[day]){return _1c[day];}else{return "";}};_._a.ag.prototype.getMonthCount=function(_1d,_1e){var _1d=_1d||this.getYear();var _1e=_1e||this.getMonth();this.setLeapYear(_1d);return this.monthDays[_1e-1];};_._a.ag.prototype.getFirstDay=function(){var _1f=new _._a.ag();_1f.setDateAll(this.getYear(),this.getMonth(),1);var _20=_1f.getDay();return _20;};_._a.ag.prototype.getFirstDayStr=function(_21){var _22=new _._a.ag();_22.setDateAll(this.getYear(),this.getMonth(),1);var _23=_22.getDayStr(_21);return _23;};_._a.ag.prototype.setLeapYear=function(_24){this.monthDays[1]=(((!(_24%4))&&(_24%100))||!(_24%400))?29:28;};_._a.ag.prototype.getLeapYear=function(_25){return (((!(_25%4))&&(_25%100))||!(_25%400));};_._a.ag.prototype.equals=function(_26){if(this.getYear()==_26.getYear()&&this.getMonth()==_26.getMonth()&&this.getDate()==_26.getDate()){return true;}return false;};_._a.ag.prototype.setNextYear=function(){var _27=this.getYear();this.setYear(_27+1);this._checkValidDate();};_._a.ag.prototype.setLastYear=function(){var _28=this.getYear();this.setYear(_28-1);this._checkValidDate();};_._a.ag.prototype.setNextMonth=function(){var _29=this.getYear();var _2a=this.getMonth();if(_2a<12){this.setMonth(_2a+1);}else{this.setYear(_29+1);this.setMonth(1);}this._checkValidDate();};_._a.ag.prototype.setLastMonth=function(){var _2b=this.getYear();var _2c=this.getMonth();if(_2c>1){this.setMonth(_2c-1);}else{this.setYear(_2b-1);this.setMonth(12);}this._checkValidDate();};_._a.ag.prototype._checkValidDate=function(){var _2d=this.getDate();var _2e=this.getMonthCount();if(_2d>_2e){this.setDate(_2e);}};_._a.ag.prototype.getServerDate=function(_2f){if(!_2f){_2f="";}var _30=_._h.getXMLHTTPObject();_30.open("POST",_.baseURI+"engine/system/getServerTime.jsp?pattern="+_2f+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_30.send(null);var _31=_30.responseText;_30=null;return _31;};;WebSquare.uiplugin.dateHelper=_._a.ag;requires("uiplugin/control/historyManager.js");_._a._T=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._T.prototype,_._q.prototype);_._a._T.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:""};_._a._T.prototype.initialize=function(_4){try{this.basicInputEvented=false;this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;var _5=this.options["onFocusStyle"];if(_5!=""){var _6="w2input_userfocus";var _7="#"+this.id+"."+_6;_.cssManager.addConvertedCSS(_7,_5);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_6;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",,"/>"];_._a._T.prototype.toHTML=function(){try{var _8=_._a._T.htmlStr;_8[1]=this.id;_8[3]=(!this.options.style)?"":" style='"+this.options.style+"'";_8[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_8[7]=(!this.options.type)?"":" type='"+this.options.type+"'";_8[9]=(!this.options.title)?"":" title='"+this.options.title+"'";_8[9]+=(!this.options.name)?"":" name='"+this.options.name+"'";return _8.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.setAction=function(){try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEventBasic));if(this.getReadOnly()==true){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _a=this.getValue();var _b=this.modelControl.getData();this.setValueNM(_b);if(_a!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.setValue=function(_c){try{if(_._G.isNull(_c)){return;}var _d=this.getValue();this.setValueNM(_c);this.modelControl.setData(_c);if(_d!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.setValueNM=function(_e){try{if(_._G.isNull(_e)){return;}_e=_e.toString();this.render.value=_e;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.getValue=function(){try{return this.render.value;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.setFocusSize=function(_f){try{if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _10=parseInt(this.getStyle("height"));var _11=parseInt(this.getStyle("width"));var _12=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _13=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_f==true&&this.focusedSizeFlag==false){this.setStyle("height",(_10-_13)+"px");this.setStyle("width",(_11-_12)+"px");this.focusedSizeFlag=true;}else{if(_f==false&&this.focusedSizeFlag==true){this.setStyle("height",(_10+_13)+"px");this.setStyle("width",(_11+_12)+"px");this.focusedSizeFlag=false;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.setVerticalAlign=function(){try{if(_._G.isIE()){var _14=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_14)){this.setStyle("lineHeight",_14+"px");}}else{if(_._G.isFF()){var _14=parseInt(this.getStyle("height"))||0;var _15=parseInt(this.getStyle("padding-top"))||0;var _16=parseInt(this.getStyle("font-size"))||0;var _17=Math.floor((_14-2-_16)/2);if(_17>0&&(_14-_17)>0){this.setStyle("paddingTop",_17+_15+"px");this.setStyle("height",(_14-_17)+"px");}}else{}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.onPropertyChange=function(_18,_19){try{switch(_18){case "disabled":break;case "readOnly":if(_19==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.handleFocusEventBasic=function(e){try{_._F.fireEvent(this,"onbeforeedit");if(this.basicInputEvented==false){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}var _1b=this;_.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1c){_1b.setValue(_1c.value);}});if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.options.editType=="select"){this.render.select();}this.setFocusSize(true);_._F.fireEvent(this,"onfocus",e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._T.prototype.handleBlurEventBasic=function(e){try{_._F.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _1e=_.historyManager.get(this.options.pluginName,this.id);if(_1e.value!=this.getValue()){_._F.fireEvent(this,"onchange");}_._F.fireEvent(this,"onblur",e);_._F.fireEvent(this,"onafteredit");}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.basicInput=_._a._T;requires("engine/validator.js");requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");requires("uiplugin/control/historyManager.js");_._a.ap=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ap.prototype,_._q.prototype);_.extend(_._a.ap.prototype,_.IValidate.prototype);_.extend(_._a.ap.prototype,_.cssCustomizer.prototype);_._a.ap.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",parseAttributes:true,userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit","onchange"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",name:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:"",focusCalcSize:true,enterBlur:true,placeholder:""};_._a.ap.prototype.initialize=function(_4){try{this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;this.realValue="";this.supportPlaceholder=false;this._focusStatus="init";this._getFocused=false;this._changeApplyFormat=false;var _5=this.options.dataType;if(this.options.applyFormat=="all"&&!(_5==="bigDecimal"||_5==="number"||_5==="euro"||_5==="rupee"||_5==="tenge")){this._changeApplyFormat=true;this.options.applyFormat="display";}var _6=this.options["onFocusStyle"];if(_6!=""){var _7="w2input_userfocus";var _8="#"+this.id+"."+_7;_.cssManager.addConvertedCSS(_8,_6);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_7;}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "bigDecimal":case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}var _9=this.options.dataType;if(_9=="bigDecimal"){_9="number";}this.formatter=_._g.createFormatter(_9,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator=new _._e.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "bigDecimal":case "number":if(this.options.displayFormat==""){this.validator.addCommand(new _._e.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new _._e.numberCommand());}break;case "euro":this.validator.addCommand(new _._e.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new _._e.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new _._e.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.inputEvented=false;if(this.options.placeholder){if(_._a.ap.placeholder){this.supportPlaceholder=true;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.htmlStr=["<input id='",,"'",," class='w2input ",,"'",,"",," />"];_._a.ap.placeholder=(function(){var _a=document.createElement("input");return typeof _a.placeholder=="string";})();_._a.ap.prototype.toHTML=function(){try{var _b=_._a.ap.htmlStr;_b[1]=this.id;_b[3]=(!this.options.style)?"":" style='"+this.options.style+"'";_b[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_b[7]=(!this.options.type)?"":" type='"+this.options.type+"'";_b[9]=(!this.options.title)?"":" title='"+this.options.title+"'";_b[9]+=(!this.options.name)?"":" name='"+this.options.name+"'";_b[9]+=(this.options.maxlength>=0)?" maxLength='"+this.options.maxlength+"'":"";_b[9]+=(!this.supportPlaceholder)?"":" placeholder='"+this.options.placeholder+"'";_b[9]+=this.getAttributesString();return _b.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setAction=function(){try{this.setVerticalAlign();if(this.options.initValue){this.setValue(this.options.initValue);}if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setValueNM(_c);}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}var _d=this;this.addEvent("oneditend",function(){var _e="";if(_d.options.dataType=="number"){var _f=_d.render.value.wq_trim();if(_f==="."||_f==="-"||_f==="+"){_d.render.value="";}}if(_d.options.applyFormat=="all"){_e=_d.getValue();}else{_e=_d.render.value;}_e=_d.validator.validateString(_e);if(_d.options.placeholder&&!this.supportPlaceholder){if(_d.realValue.length==0&&this.render.className.match("w2input_placeholder")){return;}}_d.setValueNM(_e,true);});if(_._G.isIE()){this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusValueEventAdv));if(_._G.isChrome()||_._G.isSafari()){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleSelectAfter));}if(this.getReadOnly()==true){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if(_._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}if(this.options.preventCopyPaste){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));if(_._G.isOpera()){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);this.focus();}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.ctrlKey){if(e.keyCode===88||e.keyCode===67||e.keyCode===86){_._F.stopEvent(e);}}}));}this.setStyle("MozUserSelect","none");this.event.addListener(this.render,"ondragstart",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"ondragover",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"ondrop",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"oncut",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,function(e){_._F.stopEvent(e);}));}if(this.options.maxlength>=0){this.render.maxLength=this.options.maxlength;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.refresh=function(){try{if(this.modelControl.isBinded()&&!this.noRefresh){var _19=this.getValue();var _1a=this.modelControl.getData();this.setValueNM(_1a);if(_19!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setValue=function(_1b){try{if(_._G.isNull(_1b)){return;}var _1c=this.getValue();this.setValueNM(_1b);this.modelControl.setData(_1b);if(_1c!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setValueNM=function(_1d,_1e){try{if(_._G.isNull(_1d)){return;}if(this.getDataType()=="bigDecimal"){if(typeof _1d=="number"){_.logger.printLog("Warning : BigDecimal Datatype, then you must enter a string instead of a number to get the exact data.");_1d=Big(_1d.toString()).toFixed();}else{if(_1d.constructor==Big){_1d=_1d.toFixed();}else{if(typeof _1d=="string"){try{_1d=Big(_1d).toFixed();}catch(e){_.logger.printLog("Warning : You must enter the exact number of data.");}}}}}else{_1d=_1d.toString();}_1d=this.formatter.format(_1d);if(_1e&&this.options.applyFormat=="all"){_1d=this.validator.validateString(_1d);_1d=this.formatter.format(_1d);}this.render.value=_1d;this.realValue=_1d;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getValue=function(){try{var _1f;if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){_1f="";}else{_1f=this.render.value;}return this.formatter.unformat(_1f);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setFocusSize=function(_20){try{if(_._G.isFF()&&this.getStyle("-moz-box-sizing")=="border-box"){height-=this.getStyle("border-top-width")+this.getStyle("border-bottom-width");width-=this.getStyle("border-left-width")+this.getStyle("border-right-width");}if(this.options.focusCalcSize==true){if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _21=parseInt(this.getStyle("height"));var _22=parseInt(this.getStyle("width"));var _23=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _24=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_20==true&&this.focusedSizeFlag==false){this.setStyle("height",(_21-_24)+"px");this.setStyle("width",(_22-_23)+"px");this.focusedSizeFlag=true;}else{if(_20==false&&this.focusedSizeFlag==true){this.setStyle("height",(_21+_24)+"px");this.setStyle("width",(_22+_23)+"px");this.focusedSizeFlag=false;}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setVerticalAlign=function(){try{if(_._G.isIE()){var _25=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_25)){this.setStyle("lineHeight",_25+"px");}}else{}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.onPropertyChange=function(_26,_27){try{switch(_26){case "disabled":break;case "readOnly":if(_27==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getFormattedValue=function(){try{var _28=this.render.value;return _28;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.validate=function(){try{var _29=this.validator.validate(this.getValue());if(!_29){this.focus();}return _29;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getDataType=function(){try{return this.options.dataType;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setDisplayFormat=function(_2a){try{this.options.displayFormat=_2a;var _2b=this.getValue();if(this.options.dataType==="number"){this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(this.options.displayFormat==""){this.validator.removeCommand(new _._e.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new _._e.allowCharCommand("+\\-.0-9"));}else{this.validator.removeCommand(new _._e.allowCharCommand("+\\-.0-9"));this.validator.addCommand(new _._e.numberCommand(this.options.delimeter,this.options.decimalDelimeter));}}this.formatter.setMasking(_2a);this.setValueNM(_2b);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.changeCurrency=function(_2c,_2d,_2e,_2f){try{if(!_2c||(_2c!=="number"&&_2c!=="euro"&&_2c!=="rupee"&&_2c!=="tenge")){return;}var _30=this.options.decimalDelimeter;switch(_2c){case "number":if(!_2d){_2d=this.options.numberMask;}this.options.delimeter=_2e||",";this.options.decimalDelimeter=_2f||".";break;case "euro":if(!_2d){_2d=this.options.euroMask;}this.options.delimeter=_2e||".";this.options.decimalDelimeter=_2f||",";break;case "rupee":if(!_2d){_2d=this.options.rupeeMask;}this.options.delimeter=_2e||",";this.options.decimalDelimeter=_2f||".";break;case "tenge":if(!_2d){_2d=this.options.tengeMask;}this.options.delimeter=_2e||" ";this.options.decimalDelimeter=_2f||"-";break;}if(!_2d){return;}this.options.dataType=_2c;this.options.displayFormat=_2d;if(this._changeApplyFormat){this.options.applyFormat="all";}var _31=this.getValue();if(_31.lastIndexOf(_30)>-1){_31=_31.split(_30).join(this.options.decimalDelimeter);}this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator.clearCommand();if(this.options.dataType==="number"){this.validator.addCommand(new _._e.numberCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="euro"){this.validator.addCommand(new _._e.euroCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="rupee"){this.validator.addCommand(new _._e.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="tenge"){this.validator.addCommand(new _._e.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));}}}}this.formatter.setMasking(_2d);this.setValueNM(_31);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getDisplayFormat=function(){try{return this.options.displayFormat;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setDisplayFormatter=function(_32){try{this.options.displayFormatter=_32;this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.setValueNM(this.getValue());}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getDisplayFormatter=function(){try{return this.options.displayFormatter;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getDisplayValue=function(){try{return this.formatter.format(this.getValue());}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getIOValue=function(){try{return this.getValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getIOFormat=function(){try{return this.options.ioFormat;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.getIOFormatter=function(){try{return this.options.ioFormatter;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setInitValue=function(_33){try{var _34=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_33.fireEvent){if(_34!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.setDefaultValue=function(_35){try{if(typeof _35=="string"){this.options.initValue=_35;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.checkMaxByteLength=function(){if(this.options.maxByteLength!=-1){var _36=this.render.value;if(this.options.applyFormat=="all"){_36=this.validator.validateString(_36);}var _37=_._G.getStringByByteSize(_36,this.options.maxByteLength);if(_36!=_37){this.reFocus=true;this.setValueNM("");this.blur();this.focus();if(this.options.applyFormat=="all"){this.setValueNM(_37);}else{this.render.value=_37;this.realValue=_37;}}}};_._a.ap.prototype.setRef=function(ref){["WebSquare.uiplugin.input.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a.ap.prototype.handleBlurEventBasic=function(e){try{_._F.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _3a=_.historyManager.get(this.options.pluginName,this.id);if(typeof _3a.value=="undefined"){_3a.value=this.originalValue;}if(_3a.value!=this.getValue()){_._F.fireEvent(this,"onchange");}_._F.fireEvent(this,"onblur",e);_._F.fireEvent(this,"onafteredit");if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}if(!_._G.isIEAllVersion()&&!_._G.isOpera()){_._F.fireEvent(this,"onfocusout",e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.handleSelectAfter=function(e){if(this.options.editType=="select"&&this._getFocused){this.render.select();this._getFocused=false;}};_._a.ap.prototype.handleFocusinEvent=function(e){if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);var _3d=this.render.value;if(this.options.applyFormat!="all"){_3d=this.formatter.unformat(_3d);}if(_3d!=this.render.value){this.render.value=_3d;}var _3e=this;_.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_3f){_3e.render.value=_3f.value;}});this._focusStatus="focusin";};_._a.ap.prototype.handleBeforeFocusEvent=function(e){switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};_._a.ap.prototype.handleFocusValueEventAdv=function(e){try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2input_placeholder");}}_._F.fireEvent(this,"onbeforeedit");this.originalValue=this.getValue();if(!_._G.isIE()){var _42=this;_.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{});}if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.reFocus){this.reFocus=null;}else{if(this.options.editType=="select"){if(_._G.isChrome()||_._G.isSafari()){this._getFocused=true;}else{this.render.select();}}}this.setFocusSize(true);if(this.inputEvented==false){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if(_._G.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}var _43=this.render.value;if(this.options.applyFormat!="all"){_43=this.formatter.unformat(_43);}if(_43!=this.render.value){this.render.value=_43;if(this.options.editType=="select"&&this.selectFlag){if(_._G.isChrome()||_._G.isSafari()){this._getFocused=true;}this.render.select();this.selectFlag=false;}}_._F.fireEvent(this,"onfocus",e);this._focusStatus="done";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.handleKeydownEvent=function(e){try{var _45=(e.charCode)?e.charCode:e.keyCode;if(_45==37){}else{if(_45==38){}else{if(_45==39){}else{if(_45==40){}else{if(_45==13){this.blurHandler=true;}else{if(_45==27){this.blurHandler=true;}else{if(_45==33){}else{if(_45==34){}else{if(_45==35){}else{if(_45==36){}else{if(_45==113){}else{}}}}}}}}}}}if(_._G.isOpera()){this.checkMaxByteLength();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.handleKeypressEvent=function(e){try{var _47=(e.charCode)?e.charCode:e.keyCode;var _48=this.render.value;if(this.options.applyFormat=="all"){_48=this.formatter.unformat(_48);}if(!this.validator.validateKeyPress(this.render,_48,e)){_._F.stopEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.handleKeyupEvent=function(e){try{var _4a=(e.charCode)?e.charCode:e.keyCode;if(_4a==37){}else{if(_4a==38){}else{if(_4a==39){}else{if(_4a==40){}else{if(_4a==13){if(this.blurHandler==true&&this.options.useKeyupBlur==true){if(this.options.enterBlur===true){this.blur();this.blurHandler=false;}else{var _4b=this.getValue();var _4c=this.modelControl.getData();this.noRefresh=true;this.modelControl.setData(_4b);this.noRefresh=false;if(_4c!=_4b){_._F.fireEvent(this,"onchange");}}}}else{if(_4a==27){if(this.blurHandler==true&&this.options.useKeyupBlur==true){this.blur();this.blurHandler=false;}}else{if(_4a==33){}else{if(_4a==34){}else{if(_4a==35){}else{if(_4a==36){}else{if(_4a==113){}else{if(_4a==16){}else{if(this.options.applyFormat=="all"){var _4b="";if(_4a==90&&e.ctrlKey){var _4d=_.historyManager.get(this.options.pluginName,this.id);if(typeof _4d.value=="undefined"){_4d.value="";}_4b=_4d.value;}else{_4b=this.render.value;}var pos=_._B.getCaretPos(this.render);var _4f=0;var _50=0;_4f=_4b.length;_4b=this.formatter.unformat(_4b);_4b=this.validator.validateString(_4b);_4b=this.formatter.format(_4b,true);_4b=this.validator.validateString(_4b);_4b=this.formatter.format(_4b,true);_50=_4b.length;this.render.value=_4b;_._B.setCaretPos(this.render,pos+_50-_4f);}this.checkMaxByteLength();}}}}}}}}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.handleBlurEvent=function(e){try{this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _52=_.historyManager.get(this.options.pluginName,this.id);if(typeof _52.value=="undefined"){_52.value=this.originalValue;}if(_52.value!=this.getValue()){_._F.fireEvent(this,"onchange");}_._F.fireEvent(this,"onblur",e);this._focusStatus="init";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ap.prototype.focus=function(e){try{this.render.focus();if(this.options.editType=="select"){this.render.select();}}catch(e){_.exception.printStackTrace(e);}};_._a.ap.prototype.select=function(e){try{this.selectFlag=true;this.render.select();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.input=_._a.ap;_._a.aw=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aw.prototype,_._q.prototype);_._a.aw.prototype.defaultOptions={pluginType:"uiplugin.layer",pluginName:"layer"};_._a.aw.prototype.initialize=function(_4){};_._a.aw.prototype.setLayout=function(){};_._a.aw.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2layer "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aw.prototype.setAction=function(){};_._a.aw.prototype.setValue=function(_7){try{this.render.innerHTML=_7;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layer=_._a.aw;_._a._L=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._L.prototype,_._q.prototype);_._a._L.prototype.defaultOptions={pluginType:"uiplugin.trigger",pluginName:"trigger",useConfig:true,type:"button",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right",singleClassMode:false,localeRef:"",title:""};_._a._L.prototype.initialize=function(_4){try{this.evented=false;if(this.options.localeRef!=""){this.options.value=this.getLocaleValue();}else{if(_4){var _5=_.WebSquareparser.parseLabel(_4);if(_5){this.options.value=_5.value;}}}if(this.options.leftOnImageClass!="w2trigger_left"&&this.options.centerOnImageClass=="w2trigger_center"&&this.options.rightOnImageClass=="w2trigger_right"){this.options.singleClassMode=true;}this.options=_.cssManager.styleToClass(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.toHTML=function(){try{var _6=[];var _7=this.options.value.wq_replaceAll("'","&#39;")==""?"":"value ='"+this.options.value.wq_replaceAll("'","&#39;")+"'";var _8=(!this.options.title)?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _9=(!this.options.style)?"":"style='"+this.options.style+"'";if(this.options.type.toLowerCase()=="button"){_6.push("<input type='button' id='"+this.id+"' "+_9+" class='w2trigger "+this.options.className+"' "+_7+" "+_8+"/>");}else{if(this.options.type.toLowerCase()=="image"){_6.push("<table tabIndex='0' role='button' id='"+this.id+"' "+_9+" class='w2trigger w2trigger_table "+this.options.className+"' "+_8+" cellpadding='0' cellspacing='0' onkeydown='if( event.keyCode == 32 || event.keyCode == 13 ) click();'>");_6.push("<tbody>");_6.push("<tr id='"+this.id+"_row'>");if(this.options.singleClassMode==true){_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right '></td>");}else{_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center "+this.options.centerOffImageClass+" w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right "+this.options.rightOffImageClass+"'></td>");}_6.push("</tr>");_6.push("</tbody>");_6.push("</table>");}}return _6.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.setAction=function(){try{if(this.options.type.toLowerCase()=="image"){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{this.dom.input=document.getElementById(this.id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.setLabel=function(_a){try{if(!this.options.disabled){this.options.value=_a;if(this.options.localeRef!=""){_a=this.getLocaleValue();}if(this.options.type.toLowerCase()=="button"){this.dom.input.value=_a;}else{var _b=this.getElementById(this.id+"_center");_b.innerHTML=_a;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.setValue=function(_c){try{this.setLabel(_c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.getLabel=function(){try{return this.options.value;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.getValue=function(){try{return this.options.value;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.setBackgroundImage=function(_d){try{if(this.options.type=="button"){_d=_d.wq_trim();if(_d.startsWith("url")){this.render.style.backgroundImage=_._h.getURL(_d);}else{this.render.style.backgroundImage="url("+_._h.getURL(_d)+")";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.getBackgroundImage=function(){try{if(this.options.type=="button"){return this.render.style.backgroundImage;}else{return "";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.getType=function(){try{return this.options.type;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.onPropertyChange=function(_e,_f){try{var _10=(this.options.type=="image")?this.getElementById(this.id+"_row"):this.render;switch(_e){case "disabled":var row=this.getElementById(this.id+"_row");if(this.options.type=="image"){if(_f==true){this.removeClass(_10,"w2trigger_over");this.addClass(_10,"w2trigger_disabled");}else{this.removeClass(_10,"w2trigger_disabled");}}else{if(_f==true){this.removeClass(_10,"w2trigger");this.addClass(_10,"w2trigger_disabled");}else{this.addClass(_10,"w2trigger");this.removeClass(_10,"w2trigger_disabled");}}break;case "readOnly":if(_f==true){this.addClass(_10,"w2trigger_readOnly");}else{this.removeClass(_10,"w2trigger_readOnly");}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.handleMouseoverEvent=function(){try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_over");if(this.options.type=="image"){if(this.evented==false){this.evented=true;this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOffImageClass,this.options.leftOnImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOffImageClass,this.options.centerOnImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOffImageClass,this.options.rightOnImageClass);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.handleMouseoutEvent=function(){try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_over");this.removeClass(row,"w2trigger_press");if(this.options.type=="image"){this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOnImageClass,this.options.leftOffImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOnImageClass,this.options.centerOffImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOnImageClass,this.options.rightOffImageClass);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.handleMousedownEvent=function(){try{var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_press");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._L.prototype.handleMouseupEvent=function(){try{var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_press");}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.trigger=_._a._L;requires("uiplugin.trigger");_._a._n=function(id,_2,_3){_._a._L.call(this,id,_2,_3);};_.extend(_._a._n.prototype,_._a._L.prototype);_._a._n.prototype.defaultOptions={pluginType:"uiplugin.submit",pluginName:"submit",type:"button",submission:"",submitType:"async",syncMsg:"",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right"};_._a._n.prototype.initialize=function(_4){try{_._a._L.prototype.initialize.call(this,_4);this.submission=_._C.getSubmission(this.options.submission);this.options=_.cssManager.styleToClass(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._n.prototype.setAction=function(){try{_._a._L.prototype.setAction.call(this);this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.submitEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._n.prototype.submitEvent=function(){try{if(this.options.submitType=="sync"){if(this.submission.processStatus==1&&this.syncMsg!=""){alert(this.syncMsg);return;}if(this.submission.processStatus==1){return;}_._C.executeSubmission(this.submission,null,this);}else{_._C.executeSubmission(this.submission);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._n.prototype.getSubmission=function(){try{return this.submission;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._n.prototype.setSubmission=function(_5){try{this.options.submission=_5;this.submission=_._C.getSubmission(_5);}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.submit=_._a._n;requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");_._a._o=function(id,_2,_3){_._q.call(this,id,_2,_3);var _4=["div","label","h1","h2","h3","h4","h5","h6"];this.options.tagname=this.options["for"]!=""?"label":this.options.tagname;var _5;for(_5=0;_5<_4.length;_5++){if(_4[_5]==this.options.tagname){break;}}if(_5>=_4.length){this.options.tagname=_4[0];}};_.extend(_._a._o.prototype,_._q.prototype);_.extend(_._a._o.prototype,_.cssCustomizer.prototype);_._a._o.prototype.defaultOptions={pluginType:"uiplugin.output",pluginName:"output",useConfig:true,label:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",localeRef:"",escape:false,"for":"",tagname:"div",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};_._a._o.prototype.initialize=function(_6){try{if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(_6){var _7=_.WebSquareparser.parseLabel(_6);if(_7){this.options.label=_7.value;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.htmlStr=["<",null," id='",null,"'",null," class='w2output ",null,"'",null,">",null,"</",null,">"];_._a._o.prototype.toHTML=function(){try{var _8=_._a._o.htmlStr;var _9=this.options.escape?this.formatter.format(_._t._encode(this.options.label)):this.formatter.format(this.options.label);_8[1]=this.options.tagname;_8[3]=this.id;_8[5]=(!this.options.style)?"":" style ='"+this.options.style+"'";_8[7]=this.options.className;_8[9]=(this.options.tagname=="label")?" for='"+this.options["for"]+"'":"";_8[11]=_9;_8[13]=this.options.tagname;return _8.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setAction=function(){try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setValueNM(_a);}this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=window[this.options["for"]]||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setValueNM(_d);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setVerticalAlign=function(){try{var _e="top";var _f=this.options.style.toLowerCase();if(_f.match(/vertical-align[\s]*:[\s]*middle/)){_e="middle";}else{if(_f.match(/vertical-align[\s]*:[\s]*bottom/)){_e="bottom";}}if(_e=="top"){}else{var _10=this.getStyle("height");if(_10.indexOf("px")>-1){_10=parseInt(_10);var _11=parseInt(this.getStyle("padding-top"))||0;var _12=parseInt(this.getStyle("font-size"))||0;var _13=0;if(_e=="middle"){_13=Math.floor((_10-_12)/2);}else{if(_e=="bottom"){_13=Math.floor(_10-_12);}}if((_13+_11)>0&&(_10-_13)>0){this.setStyle("paddingTop",_13+_11+"px");this.setStyle("height",(_10-_13)+"px");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setValue=function(_14){try{this.setValueNM(_14);this.modelControl.setData(_14);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setValue1=function(_15){try{this.setValue(_15);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setValueNM=function(_16){try{if(_._G.isNull(_16)){return;}_16=_16.toString();this.options.label=_16;this.render.innerHTML=this.options.escape?this.formatter.format(_._t._encode(_16+"")):this.formatter.format(_16);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setWidth=function(_17){try{if(!isNaN(parseInt(_17))){this.render.style.width=_17+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setHeight=function(_18){try{_18=parseInt(_18,10);if(!isNaN(_18)){this.render.style.height=_18+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setBackgroundImage=function(url){try{if(typeof url=="undefined"||url==null||url==""){this.render.style.backgroundImage="";}else{this.render.style.backgroundImage=_._h.getImageURL(url,true);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.getFormatValue=function(){try{return this.formatter.format(this.options.label);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.getLabel=function(){try{return this.getValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setLabel=function(_1a){try{this.setValue(_1a);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.getValue=function(){try{return this.formatter.format(this.options.label);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setLocaleRef=function(_1b){try{this.options.localeRef=_1b;this.displayLocaleValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.onPropertyChange=function(_1c,_1d){try{switch(_1c){case "disabled":if(_1d==true){this.addClass(this.render,"w2output_disabled");this.setStyle("color","#c0c0c0");}else{this.removeClass(this.render,"w2output_disabled");this.setStyle("color","");}break;case "readOnly":break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.getRawValue=function(){try{return this.options.label;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setDisplayFormat=function(_1e){try{this.options.displayFormat=_1e;this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValueNM(this.options.label);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._o.prototype.setRef=function(ref){["WebSquare.uiplugin.output.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.output=_._a._o;_._a.af=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.af.prototype,_._q.prototype);_._a.af.prototype.defaultOptions={pluginType:"uiplugin.anchor",pluginName:"anchor",userEvents:["onclick"],outerDiv:true,clickEventElement:"anchor",label:"",href:"",name:"",target:"",title:"",useLocale:false,localeRef:"",disabled:false};_._a.af.prototype.initialize=function(_4){try{if(_4){var _5=_.WebSquareparser.parseLabel(_4);if(_5){this.options.label=_5.value;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.htmlStr1=["<div id='",,"' ",," class='w2anchor ",,"'><a href='",,"' ",,">",,"</a></div>"];_._a.af.prototype.htmlStr2=["<a id='",,"' ",," class='w2anchor2 ",,"' href='",,"' ",,">",,"</a>"];_._a.af.prototype.toHTML=function(){try{var _6=this.options.outerDiv?this.htmlStr1:this.htmlStr2;_6[1]=this.id;_6[3]=(this.options.style?"style=\""+this.options.style+"\"":"");_6[5]=this.options.className;_6[7]=this.options.href?this.options.href:"javascript:void(null);";_6[9]=(this.options.name?" name=\""+this.options.name+"\"":"")+(this.options.target?" target=\""+this.options.target+"\"":"")+(this.options.title?" title=\""+this.options.title+"\"":"");var _7=this.options.useLocale==true?this.getLocaleValue(this.options.localeRef):this.options.label||this.options.label;_6[11]=_7;return _6.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setAction=function(){try{this.dom.anchor=this.render.tagName=="A"?this.render:this.render.firstChild;this.setVerticalAlign();if(this.modelControl.isBinded()){var _8=this.modelControl.getData();this.setValueNM(_8);}if(this.options.outerDiv&&this.options.clickEventElement==="outerDiv"){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(this.dom.anchor,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setVerticalAlign=function(){try{var _a="top";var _b=this.options.style.toLowerCase();if(_b.match(/vertical-align[\s]*:[\s]*middle/)){_a="middle";}else{if(_b.match(/vertical-align[\s]*:[\s]*bottom/)){_a="bottom";}}if(_a=="top"){}else{var _c=this.getStyleValue("height");if(_c.indexOf("px")>-1){_c=parseInt(_c);var _d=parseInt(this.getStyleValue("padding-top"))||0;var _e=parseInt(this.getStyleValue("font-size"))||0;var _f=0;if(_a=="middle"){_f=Math.floor((_c-_e)/2);}else{if(_a=="bottom"){_f=Math.floor(_c-_e);}}if((_f+_d)>0&&(_c-_f)>0){this.setStyle("paddingTop",_f+_d+"px");this.setStyle("height",(_c-_f)+"px");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setValue=function(_10){try{this.setValueNM(_10);this.modelControl.setData(_10);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setValueNM=function(_11){try{if(_._G.isNull(_11)){return;}_11=_11.toString();this.options.label=_11;this.dom.anchor.innerHTML=_11;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.getValue=function(){try{return this.options.label;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.handleClickEvent=function(e){try{var _13=_._F.getTarget(e);if(_13&&this.options.outerDiv&&_13===this.render){this.dom.anchor.click();return;}if(this.options.href.wq_trim()==""){_._F.stopEvent(e);}_._F.fireEvent(this,"onclick");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setHref=function(_14){try{this.options.href=_14;this.dom.anchor.href=_14;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.getHref=function(){try{return this.dom.anchor.href;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.af.prototype.setDisabled=function(_15){try{if(this.options.outerDiv){this.dom.anchor.disabled=_15;}_._q.prototype.setDisabled.call(this,_15);if(_15){this.addClass(this.render,"w2anchor_disabeld");}else{this.removeClass(this.render,"w2anchor_disabeld");}}catch(e){_.exception.printStackTrace(e);}return _15;};_._a.af.prototype.setRef=function(ref){["WebSquare.uiplugin.anchor.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.anchor=_._a.af;_._a._r=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._r.prototype,_._q.prototype);_._a._r.prototype.defaultOptions={pluginType:"uiplugin.image",pluginName:"image",src:"",alt:"",title:"",longdesc:""};_._a._r.prototype.initialize=function(_4){};_._a._r.prototype.toHTML=function(){try{var _5=[];var _6=this.options.src?_._h.getImageURL(this.options.src):"";var _7=(!this.options.title)?"":"title='"+this.options.title+"'";var _8=(!this.options.usemap)?"":"usemap='"+this.options.usemap+"'";var _9=(this.options.longdesc=="")?"":"longdesc='"+this.options.longdesc+"'";var _a=(!this.options.style)?"":"style='"+this.options.style+"'";var _b=(!this.options.alt)?"":"alt='"+this.options.alt+"'";_5.push("<img id='"+this.id+"' src='"+_6+"' "+_a+" class='w2image "+this.options.className+"' "+_b+" "+_7+" "+_8+" "+_9+" />");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.setAction=function(){try{this.refresh();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setSrcNM(_c);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.setSrc=function(_d){try{var _e=_._h.getImageURL(_d);this.render.src=_e;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.setSrcNM=function(_f){try{var _10=_._h.getImageURL(_f);this.render.src=_10;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.getSrc=function(){try{return this.render.src;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.setLongdesc=function(_11){try{this.render.longDesc=_11;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.getLongdesc=function(){try{return this.render.longDesc;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.setAlt=function(alt){try{this.render.alt=alt;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.getAlt=function(){try{return this.render.alt;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._r.prototype.onPropertyChange=function(_13,_14){try{switch(_13){case "disabled":if(_14==true){this.setOpacity(0.3);this.addClass(this.render,"w2image_disabled");}else{this.setOpacity(1);this.removeClass(this.render,"w2image_disabled");}break;case "readOnly":break;}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.image=_._a._r;_._a._O=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._O.prototype,_._q.prototype);_._a._O.prototype.defaultOptions={pluginType:"uiplugin.iframe",pluginName:"iframe",src:"",scrolling:"",title:"",name:"",allowTransparency:""};_._a._O.prototype.initialize=function(_4){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.toHTML=function(){try{var _5=this.options.src;if(_5!=""){var _6=_5;if(_5.indexOf("?")>-1){_6=_6.substring(0,_6.indexOf("?"));}if(_5!=null){if(_6.substring(_6.lastIndexOf("."))===".xml"){_5=_._h.getURL(_5);var _7=(location.toString().indexOf("?"));var _8=location.toString().substring(0,_7);if(_7<0){_8=location.toString();}_5=_5.replace("?","&");if(_.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_5;}else{window["sessionStorage"]["w2xpath"]=_5;}_5=_8;}else{if(_._G.getBoolean(_._h.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_5=_8+"?w2xPath="+_5;}else{_5=_8+"?w2xPath="+_5+"&w2xHome="+_.w2xHome+"&w2xDocumentRoot="+_.w2xDocumentRoot;}}}}_5="src='"+_5+"'";}else{_5=_._l.getSSLBlankPage();if(_5==""){_5="src='about:blank'";}}var _9=(this.options.allowTransparency=="")?"":"allowTransparency='"+this.options.allowTransparency+"'";var _a=(this.options.name=="")?"":"name='"+this.options.name+"'";var _b=(this.options.scrolling=="")?"":"scrolling='"+this.options.scrolling+"'";var _c=(!this.options.style)?"":"style='"+this.options.style+"'";var _d=(!this.options.title)?"":"title='"+this.options.title+"'";return "<iframe id='"+this.id+"' "+_5+" "+_c+" class='w2iframe "+this.options.className+"' frameBorder='0' "+_d+" "+_9+" "+_a+" "+_b+"></iframe>";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.setAction=function(){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.setSrc=function(_e,_f){try{try{var _10=_._h.getConfiguration("/WebSquare/clearMemory/@value");if(_10!="true"){if(this.getWindow().WebSquare){this.getWindow().WebSquare.clearMemory();}}}catch(e){}if(_e!="about:blank"){if(location.protocol=="https:"){this.render.setAttribute("src",_._l.getSSLBlankPage(true));}else{this.render.setAttribute("src","about:blank");}}var _11=_e;if(_e.indexOf("?")>-1){_11=_11.substring(0,_11.indexOf("?"));}if(_e!=null){if(_f===undefined){var url=_11;if(url.indexOf("&")>-1){url=_11.substring(0,_11.indexOf("&"));}if(url.substring(url.lastIndexOf("."))===".xml"){_f="1";}}if(_f==="1"){_e=_._h.getURL(_e);var idx=(location.toString().indexOf("?"));var str=location.toString().substring(0,idx);if(idx<0){str=location.toString();}_e=_e.replace("?","&");if(_.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_e;}else{window["sessionStorage"]["w2xpath"]=_e;}_e=str;}else{if(_._G.getBoolean(_._h.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_e=str+"?w2xPath="+_e;}else{_e=str+"?w2xPath="+_e+"&w2xHome="+_.w2xHome+"&w2xDocumentRoot="+_.w2xDocumentRoot;}}}this.render.setAttribute("src",_e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.getSrc=function(){try{return this.render.getAttribute("src");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.getWindow=function(){try{return this.render.contentWindow;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._O.prototype.setDisabled=function(){$l("iframe\uc5d0\uc11c\ub294 setDisabled\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};_._a._O.prototype.setReadOnly=function(){$l("iframe\uc5d0\uc11c\ub294 setReadOnly\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};;WebSquare.uiplugin.iframe=_._a._O;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");_._a._H=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._H.prototype,_._q.prototype);_.extend(_._a._H.prototype,_.itemsetControl.prototype);_.extend(_._a._H.prototype,_.IValidate.prototype);_._a._H.prototype.defaultOptions={pluginType:"uiplugin.radio",pluginName:"radio",userEvents:["onchange","onlabelclick","onradioclick"],renderType:"table",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedIndex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useRadioTitle:true,inValidValue:"reset",escape:false};_._a._H.prototype.initialize=function(_4){try{this.selectedIndex=-1;this.inputType="radio";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new _._e.validateInvoker(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.toHTML=function(){try{var _6=[];var _7="label";var _8=this.itemArr.length;var _9=this.options.name||this.id+"_input";var _a=(!this.options.style)?"":"style='"+this.options.style+"'";var _b=(!this.options.title)?"":"title='"+this.options.title+"'";if(this.options.renderType.toLowerCase()=="native"){_6.push("<input type='"+this.inputType+"' "+_a+" class='w2"+this.inputType+"_input' name='"+_9+"' id='"+this.id+"' index='0' "+_b+" />");}else{if(this.options.renderType.toLowerCase()=="radiogroup"){_6.push("<"+this.options.tagname+" id='"+this.id+"' "+_a+" class='w2"+this.inputType+" "+this.options.className+"' "+_b+" >");for(var i=0;i<_8;i++){var _d=this.id+"_input_"+i;var _e=(this.options.escape)?_._t._encode(this.itemArr[i].label):this.itemArr[i].label;var _f="";var _10="";if(this.itemDisabledArray[i]){_f="disabled";_10="w2radio_disabled";}_6.push("<"+this.options.itemTagname+" class='w2radio_item w2radio_item_"+i+"'>");_6.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+i+"'  id='"+_d+"' "+_f+"/>");_6.push("<"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+i+"' "+(_7=="label"?"for='"+_d+"'":"")+" >"+_e+"</"+_7+">");_6.push("</"+this.options.itemTagname+">");}_6.push("</"+this.options.tagname+">");}else{_6.push("<div id='"+this.id+"' "+_a+" class='w2"+this.inputType+" "+this.options.className+"' "+_b+" >");_6.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){var _d=this.id+"_input_"+row;_6.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _13=row*this.colCount+col;var _d=this.id+"_input_"+_13;var _f="";var _10="";if(this.itemDisabledArray[_13]){_f="disabled";_10="w2radio_disabled";}if(_13<_8){var _e=(this.options.escape)?_._t._encode(this.itemArr[_13].label):this.itemArr[_13].label;var _14=this.options.useRadioTitle?" title='"+_e+"' ":"";_6.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+_13+"'  id='"+_d+"'"+_14+" "+_f+"/></td>");_6.push("<td class='w2"+this.inputType+"_td_label' ><"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+_13+"' "+(_7=="label"?"for='"+_d+"'":"")+" >"+_e+"</"+_7+"></td>");}else{_6.push("<td class='w2"+this.inputType+"_td_input'></td>");_6.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_6.push("</tr>");}_6.push("</table>");_6.push("</div>");}}return _6.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setAction=function(){try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _15=this.modelControl.getData();this.setValueNM(_15);}if(this.options.selectedIndex>-1){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getAccessibiltyId=function(){try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _16=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_16);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _18=this.getValue();var _19=this.modelControl.getData();this.setValueNM(_19);if(_18!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.componentRedraw=function(_1a){try{this.setTableCount();this.redraw();this.setValueNM(_1a);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setSelectedIndex=function(idx){try{if(_._G.isNull(idx)){return;}idx=parseInt(idx);var _1c=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);if(_1c!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setSelectedIndexNM=function(idx,_1e){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _1f=this.getRadioList();var _20=_1f[idx];_1e=(_1e==null)?true:_1e;_20.checked=_1e;return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setValue=function(_21){try{if(_._G.isNull(_21)){return;}var _22=this.getValue();this.setValueNM(_21);this.modelControl.setData(_21);if(_22!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setValueNM=function(_23){try{if(_._G.isNull(_23)){return;}_23=_23.toString();var _24=this.getItemCount();var _25=false;for(var i=0;i<_24;i++){if(this.itemArr[i].value==_23){this.setSelectedIndexNM(i,true);_25=true;}else{if(this.options.inValidValue=="reset"){this.checkedRadio(i,false);}}}if(this.options.inValidValue=="reset"&&_25==false){this.selectedIndex=-1;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.checkedRadio=function(idx,_28){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _29=this.getRadioList();var _2a=_29[idx];_28=(_28==null)?true:_28;_2a.checked=_28;return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setInstanceValue=function(){try{var _2b=this.getValue();this.modelControl.setData(_2b);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setTableCount=function(){try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _2c=this.options.rows;this.rowCount=_2c;this.colCount=Math.ceil(this.itemArr.length/_2c);}if(this.options.cols!=0){var _2d=this.options.cols;this.colCount=_2d;this.rowCount=Math.ceil(this.itemArr.length/_2d);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getValue=function(){try{var ret="";var _2f=this.getRadioList();for(var i=0;i<_2f.length;i++){if(_2f[i].checked){ret=this.itemArr[i].value;}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getText=function(){try{var ret="";var _32=this.getRadioList();for(var i=0;i<_32.length;i++){if(_32[i].checked){ret=this.itemArr[i].label;}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.addItem=function(_34,_35,idx){try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _37=this.getValue();var _38={};_38.value=_34;_38.label=_35;this.itemArr.splice(idx,0,_38);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _39=this.getRadioList();var _3a=[];for(var i=0;i<_39.length;i++){_3a.push(_39[i].itemDisabled);}_3a.splice(idx,0,false);this.componentRedraw(_37);var _3c=this.getRadioList();for(var i=0;i<_3c.length;i++){_3c[i].itemDisabled=_3a[i];}return idx;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.deleteItem=function(idx){try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _3e=this.getValue();var _3f=null;var _40=this.getRadioList();var _41=[];for(var i=0;i<_40.length;i++){_41.push(_40[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_3f=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_41.splice(idx,1);}this.componentRedraw(_3e);var _43=this.getRadioList();for(var i=0;i<_43.length;i++){_43[i].itemDisabled=_41[i];}return _3f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.removeAll=function(){try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.onPropertyChange=function(_44,_45){try{switch(_44){case "readOnly":var _46=this.getRadioList();for(var i=0;i<_46.length;i++){_46[i].disabled=_45;}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getRadioList=function(){try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("radioArr","input");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getLabelList=function(){try{return this.getDomList("labelArr","label");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.focus=function(){try{var _48=this.getRadioList();_48[0].focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.click=function(i){try{var _4a=this.getRadioList();_4a[i].click();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.reset=function(){try{var _4b=this.getRadioList();var _4c=this.getValue();for(var i=0;i<_4b.length;i++){if(_4b[i].checked){_4b[i].checked=false;}}this.selectedIndex=-1;var _4e=this.getValue();this.setInstanceValue();if(_4c!=_4e){this.fireOnchange();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.validate=function(){try{var _4f=this.validator.validate(this.getValue());if(!_4f){this.focus();}return _4f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setDisabled=function(_50){try{_50=_._G.getBoolean(_50);var _51=this.getRadioList();var _52=this.getLabelList();for(var i=0;i<_51.length;i++){if(!_51[i].itemDisabled){_51[i].disabled=_50;this.itemDisabledArray[i]=_50;if(_52[i]){if(_50){this.addClass(_52[i],"w2radio_disabled");}else{this.removeClass(_52[i],"w2radio_disabled");}}}}this.options.disabled=_50;this.render.disabled=_50;return _50;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setItemDisabled=function(idx,_55){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_55=_._G.getBoolean(_55);var _56=this.getRadioList();var _57=this.getLabelList();_56[idx].disabled=_55;_56[idx].itemDisabled=_55;this.itemDisabledArray[idx]=_55;if(_55==true){this.addClass(_57[idx],"w2radio_disabled");}else{this.removeClass(_57[idx],"w2radio_disabled");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.getItemDisabled=function(idx){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _59=this.getRadioList();return _59[idx].disabled;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setInitValue=function(_5a){try{var _5b=this.getValue();var _5c=this.getRadioList();for(var i=0;i<_5c.length;i++){if(_5c[i].checked){_5c[i].checked=false;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_5a.fireEvent){if(_5b!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.setRef=function(ref){["WebSquare.uiplugin.radio.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._H.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2"+this.inputType+"_input")){var _61=it.getElement().getAttribute("index");var _62=this.getRadioList();if(_62[_61].disabled){continue;}this.setSelectedIndex(_61);this.fireOnclick({"type":"1","index":_61});}if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _61=it.getElement().getAttribute("index");var _62=this.getRadioList();_._F.stopEvent(e);this.setSelectedIndex(_61);this.fireOnclick({"type":"2","index":_61});}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.fireOnchange=function(){try{_._F.fireEvent(this,"onchange");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._H.prototype.fireOnclick=function(obj){try{if(!obj){return;}var _64=obj.type||"1";var _65=obj.index;var _66=this.getValue();if(_64==="1"){_._F.fireEvent(this,"onradioclick",_65,_66);}else{if(_64==="2"){_._F.fireEvent(this,"onlabelclick",_65,_66);}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.radio=_._a._H;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");_._a._K=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._K.prototype,_._q.prototype);_.extend(_._a._K.prototype,_.itemsetControl.prototype);_.extend(_._a._K.prototype,_.IValidate.prototype);_._a._K.prototype.defaultOptions={pluginType:"uiplugin.checkbox",pluginName:"checkbox",userEvents:["onchange","onlabelclick","oncheckboxclick"],renderType:"table",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedindex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useCheckboxTitle:true,escape:false};_._a._K.prototype.initialize=function(_4){try{this.inputType="checkbox";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new _._e.validateInvoker(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.toHTML=function(){try{var _6=[];var _7="label";var _8=this.itemArr.length;var _9=this.options.name||this.id+"_input";var _a=(!this.options.style)?"":"style='"+this.options.style+"'";var _b=(!this.options.title)?"":"title='"+this.options.title+"'";if(this.options.renderType.toLowerCase()=="native"){_6.push("<input type='"+this.inputType+"' "+_a+" class='w2"+this.inputType+"_input' name='"+_9+"' id='"+this.id+"' index='0' "+_b+" />");}else{if(this.options.renderType.toLowerCase()=="checkboxgroup"){_6.push("<"+this.options.tagname+" id='"+this.id+"' "+_a+" class='w2"+this.inputType+" "+this.options.className+"' "+_b+">");for(var i=0;i<_8;i++){var _d=this.id+"_input_"+i;var _e=(this.options.escape)?_._t._encode(this.itemArr[i].label):this.itemArr[i].label;var _f="";var _10="";if(this.itemDisabledArray[i]){_f="disabled";_10="w2checkbox_disabled";}_6.push("<"+this.options.itemTagname+" class='w2checkbox_item w2checkbox_item_"+i+"'>");_6.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+i+"' id='"+_d+"' "+_f+" />");_6.push("<"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+i+"' "+(_7=="label"?"for='"+_d+"'":"")+">"+_e+"</"+_7+">");_6.push("</"+this.options.itemTagname+">");}_6.push("</"+this.options.tagname+">");}else{_6.push("<div id='"+this.id+"' "+_a+" class='w2"+this.inputType+" "+this.options.className+"' "+_b+">");_6.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){_d=this.id+"_input_"+row;_6.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _13=row*this.colCount+col;var _d=this.id+"_input_"+_13;var _f="";var _10="";if(this.itemDisabledArray[_13]){_f="disabled";_10="w2checkbox_disabled";}if(_13<_8){var _e=(this.options.escape)?_._t._encode(this.itemArr[_13].label):this.itemArr[_13].label;var _14=this.options.useCheckboxTitle?" title='"+_e+"' ":"";_6.push("<td class='w2"+this.inputType+"_td_input'><input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+_13+"'  id='"+_d+"'"+_14+""+_f+"/></td>");_6.push("<td class='w2"+this.inputType+"_td_label'><"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+_13+"' "+(_7=="label"?"for='"+_d+"'":"")+">"+_e+"</"+_7+"></td>");}else{_6.push("<td class='w2"+this.inputType+"_td_input'></td>");_6.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_6.push("</tr>");}_6.push("</table>");_6.push("</div>");}}return _6.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setAction=function(){try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _15=this.modelControl.getData();this.setValueNM(_15);}if(this.options.selectedindex>-1){var _16=this.getCheckboxList();for(var i=0;i<_16.length;i++){var _18=_16[i];_18.checked=false;}this.setSelectedIndexNM(this.options.selectedindex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getAccessibiltyId=function(){try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _19=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_19);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _1b=this.getValue();var _1c=this.modelControl.getData();this.setValueNM(_1c);if(_1b!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.componentRedraw=function(_1d){try{this.setTableCount();this.redraw();this.setValueNM(_1d);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setSelectedIndex=function(idx){try{if(_._G.isNull(idx)){return;}idx=parseInt(idx);var _1f=this.getSelectedIndex();var _20=this.getValue();this.setSelectedIndexNM(idx);this.modelControl.setData(this.getValue());if(_20!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getSelectedIndex=function(_21){try{if(!_21){_21=" ";}var ret=[];var _23=this.getCheckboxList();for(var i=0;i<_23.length;i++){if(_23[i].checked){ret.push(i);}}return ret.join(_21).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setSelectedIndexNM=function(idx,_26){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _27=this.getCheckboxList();var _28=_27[idx];_26=(_26==null)?!_28.checked:_26;_28.checked=_26;return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setValue=function(_29){try{if(_._G.isNull(_29)){return;}var _2a=this.getValue();this.setValueNM(_29);this.modelControl.setData(_29);if(_2a!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setValueNM=function(_2b){try{if(_._G.isNull(_2b)){return;}_2b=_2b.toString();var _2c=this.getValue();var _2d=_2b.split(" ");var _2e=[];for(var i=0;i<_2d.length;i++){_2e[_2d[i]+""]="";}var _30=this.getItemCount();for(var i=0;i<_30;i++){var _2b=this.itemArr[i].value;if(_2e[_2b]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setInstanceValue=function(){try{var _31=this.getValue();this.modelControl.setData(_31);this.fireOnchange();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setTableCount=function(){try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _32=this.options.rows;this.rowCount=_32;this.colCount=Math.ceil(this.itemArr.length/_32);}if(this.options.cols!=0){var _33=this.options.cols;this.colCount=_33;this.rowCount=Math.ceil(this.itemArr.length/_33);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getText=function(_34){try{if(!_34){_34=" ";}var ret=[];var _36=this.getCheckboxList();for(var i=0;i<_36.length;i++){if(_36[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_34).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getValue=function(_38){try{if(!_38){_38=" ";}var ret=[];var _3a=this.getCheckboxList();for(var i=0;i<_3a.length;i++){if(_3a[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_38).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.addItem=function(_3c,_3d,idx){try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _3f=this.getValue();var _40={};_40.value=_3c;_40.label=_3d;this.itemArr.splice(idx,0,_40);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _41=this.getCheckboxList();var _42=[];for(var i=0;i<_41.length;i++){_42.push(_41[i].itemDisabled);}_42.splice(idx,0,false);this.componentRedraw(_3f);var _44=this.getCheckboxList();for(var i=0;i<_44.length;i++){_44[i].itemDisabled=_42[i];}return idx;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.deleteItem=function(idx){try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _46=this.getValue();var _47=null;var _48=this.getCheckboxList();var _49=[];for(var i=0;i<_48.length;i++){_49.push(_48[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_47=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_49.splice(idx,1);}this.componentRedraw(_46);var _4b=this.getCheckboxList();for(var i=0;i<_4b.length;i++){_4b[i].itemDisabled=_49[i];}return _47;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.removeAll=function(){try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.onPropertyChange=function(_4c,_4d){try{switch(_4c){case "readOnly":var _4e=this.getCheckboxList();for(var i=0;i<_4e.length;i++){_4e[i].disabled=_4d;}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getCheckboxList=function(){try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("checkboxArr","input");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getLabelList=function(){try{return this.getDomList("labelArr","label");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.focus=function(){try{var _50=this.getCheckboxList();_50[0].focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.click=function(i){try{var _52=this.getCheckboxList();_52[i].click();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.reset=function(){try{var _53=this.getCheckboxList();for(var i=0;i<_53.length;i++){if(_53[i].checked){_53[i].checked=false;}}this.setInstanceValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.checkAll=function(_55){try{var _56=this.getItemCount();for(var i=0;i<_56;i++){this.setSelectedIndexNM(i,_55);}if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.validate=function(){try{var _58=this.validator.validate(this.getValue());if(!_58){this.focus();}return _58;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setDisabled=function(_59){try{_59=_._G.getBoolean(_59);var _5a=this.getCheckboxList();var _5b=this.getLabelList();for(var i=0;i<_5a.length;i++){if(!_5a[i].itemDisabled){_5a[i].disabled=_59;this.itemDisabledArray[i]=_59;if(_5b[i]){if(_59){this.addClass(_5b[i],"w2checkbox_disabled");}else{this.removeClass(_5b[i],"w2checkbox_disabled");}}}}this.options.disabled=_59;this.render.disabled=_59;return _59;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setItemDisabled=function(idx,_5e){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_5e=_._G.getBoolean(_5e);var _5f=this.getCheckboxList();var _60=this.getLabelList();_5f[idx].disabled=_5e;_5f[idx].itemDisabled=_5e;this.itemDisabledArray[idx]=_5e;if(_5e==true){this.addClass(_60[idx],"w2checkbox_disabled");}else{this.removeClass(_60[idx],"w2checkbox_disabled");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.getItemDisabled=function(idx){try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _62=this.getCheckboxList();return _62[idx].disabled;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setInitValue=function(_63){try{var _64=this.getValue();this.checkAll(false);this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_63.fireEvent){if(_64!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.setRef=function(ref){["WebSquare.uiplugin.checkbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._K.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){continue;}if(it.match("w2"+this.inputType+"_input")){this.setInstanceValue();var id=it.getElement().id;var _69=id.substring(id.lastIndexOf("_")+1);this.fireOnclick({"type":"1","index":_69});}else{if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _69=it.getElement().getAttribute("index");_._F.stopEvent(e);this.setSelectedIndex(_69);this.fireOnclick({"type":"2","index":_69});}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.fireOnchange=function(){try{_._F.fireEvent(this,"onchange");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._K.prototype.fireOnclick=function(obj){try{if(!obj){return;}var _6b=obj.type||"1";var _6c=obj.index;var _6d=this.getCheckboxList();var _6e=_6d[_6c].checked;var _6f=this.itemArr[_6c].value;if(!_6d[_6c].disabled){if(_6b==="1"){_._F.fireEvent(this,"oncheckboxclick",_6c,_6e,_6f);}else{if(_6b==="2"){_._F.fireEvent(this,"onlabelclick",_6c,_6e,_6f);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkbox=_._a._K;_._a.aq=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aq.prototype,_._q.prototype);_._a.aq.prototype.defaultOptions={pluginType:"uiplugin.template",pluginName:"template"};_._a.aq.prototype.initialize=function(_4){};_._a.aq.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2template "+this.options.className+"'>");_5.push("</div>");return _5.join("");};_._a.aq.prototype.setAction=function(){};_._a.aq.prototype.setLayout=function(){};_._a.aq.prototype.refreshItemset=function(){};_._a.aq.prototype.refresh=function(){};_._a.aq.prototype.handleClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){}}it=null;};_._a.aq.prototype.handleMouseoverEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.addClass(it.getElement(),"w2template_over");}}it=null;};_._a.aq.prototype.handleMouseoutEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.removeClass(it.getElement(),"w2template_over");}}it=null;};;WebSquare.uiplugin.template=_._a.aq;requires("engine/validator.js");requires("uiplugin/control/historyManager.js");_._a.at=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.at.prototype,_._q.prototype);_.extend(_._a.at.prototype,_.IValidate.prototype);_._a.at.prototype.defaultOptions={pluginType:"uiplugin.textarea",pluginName:"textarea",userEvents:["oneditend","onchange"],useConfig:true,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",readOnlyClass:"w2textarea_readonly"};_._a.at.prototype.initialize=function(_4){try{this.validator=new _._e.validateInvoker(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";var _7=(!this.options.title)?"":"title='"+this.options.title+"'";_5.push("<textarea id='"+this.id+"' "+_6+" class='w2textarea "+this.options.className+"' "+_7+">");_5.push("</textarea>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.setAction=function(){try{this.addEvent("oneditend",function(){var _8=this.getValue();_8=this.validator.validateString(_8);this.setValueNM(_8);});if(this.options.maxlength>0){this.render.setAttribute("maxlength",this.options.maxlength);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.refresh();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _9=this.getValue();var _a=this.modelControl.getData();this.setValueNM(_a);if(_9!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.setValue=function(_b){try{if(_._G.isNull(_b)){return;}var _c=this.getValue();this.setValueNM(_b);this.modelControl.setData(_b);if(_c!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.setValueNM=function(_d){try{if(_._G.isNull(_d)){return;}_d=_d.toString();this.render.value=_d;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.getValue=function(){try{return this.render.value;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.validate=function(){try{var _e=this.validator.validate(this.getValue());if(!_e){this.focus();}return _e;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.setInitValue=function(_f){try{var _10=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_f.fireEvent){if(_10!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.onPropertyChange=function(_11,_12){try{switch(_11){case "disabled":break;case "readOnly":if(_12==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.setRef=function(ref){["WebSquare.uiplugin.textarea.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a.at.prototype.handleFocusEvent=function(e){try{var _15=this;_.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_16){_15.setValue(_16.value);}});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.handleBlurEvent=function(e){try{_._F.fireEvent(this,"oneditend");this.setValue(this.getValue());var _18=_.historyManager.get(this.options.pluginName,this.id);if(_18.value!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.handleKeypressEvent=function(e){try{if(!this.validator.validateKeyPress(this.render,this.getValue(),e)){_._F.stopEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.at.prototype.handleKeyupEvent=function(e){try{var _1b=false;if(_._G.isIE()&&this.options.maxlength>-1){var _1c=_._B.getSelection(this.render);if(e.charCode!=0&&_1c.start==_1c.end&&this.render.value.length+1>this.options.maxlength){_1b=true;}}if(this.options.maxByteLength!=-1){var _1d=this.render.value;var _1e=_._G.getStringByByteSize(_1d,this.options.maxByteLength);if(_1d!=_1e){_1b=true;}}if(_1b){this.render.blur();this.render.focus();}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.textarea=_._a.at;requires("engine/formatter.js");_._a.ah=function(id,_2,_3){_._q.call(this,id,_2,_3);if(_3){var _4=_._t.getLocalName(_3);if(_4!="textbox"){this.options.tagname=_4;}}if(this.options["for"]!=""){this.options.tagname="label";}};_.extend(_._a.ah.prototype,_._q.prototype);_._a.ah.prototype.defaultOptions={pluginType:"uiplugin.textbox",pluginName:"textbox",parseAttributes:true,label:"",escape:false,"for":"",tagname:"div",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};_._a.ah.prototype.htmlStr=["<",," id='",,"' ",," class='w2textbox ",,"' ",,">",,"</",,">"];_._a.ah.prototype.htmlClosingStr=["<",," id='",,"' ",," class='w2textbox ",,"'",," />"];_._a.ah.prototype.initialize=function(_5){if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);};_._a.ah.prototype.toHTML=function(){var _6=_._h.getEmptyTag();var _7="";if(_6[this.options.tagname.toLowerCase()]){_7=this.htmlClosingStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(!this.options.style)?"":" style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_7=this.htmlStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=(!this.options.style)?"":"style='"+this.options.style+"'";_7[7]=this.options.className;_7[9]=((this.options.tagname=="label")?" for='"+this.options["for"]+"'":"")+this.getAttributesString();_7[11]=this.options.escape?this.formatter.format(_._t._encode(this.options.label)):this.formatter.format(this.options.label);_7[13]=this.options.tagname;}return _7.join("");};_._a.ah.prototype.setAction=function(){try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _8=window[this.options["for"]]||null;if(_8==null){return;}var _9=typeof _8.getAccessibiltyId=="function"?_8.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_9);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.setLocaleRef=function(_a){try{this.options.localeRef=_a;this.displayLocaleValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _b=this.modelControl.getData();this.render.innerHTML=this.options.escape?this.formatter.format(_._t._encode(_b+"")):this.formatter.format(_b);this.options.label=_b;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.setLabel=function(_c){try{this.setValue(_c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.getLabel=function(){try{return this.getValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.setValue=function(_d){try{this.options.label=_d;this.render.innerHTML=this.options.escape?this.formatter.format(_._t._encode(this.options.label+"")):this.formatter.format(this.options.label);this.modelControl.setData(_d);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.getValue=function(){try{var _e=this.options.escape?_._t._decode(this.options.label):this.options.label;return _e;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.getFormatValue=function(){try{return this.options.escape?this.formatter.format(_._t._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.setDisplayFormat=function(_f){try{this.options.displayFormat=_f;this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.setDisplayFormatter=function(_10){["WebSquare.uiplugin.textbox.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_10;this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){_.exception.printStackTrace(e);}};_._a.ah.prototype.getDataType=function(){["WebSquare.uiplugin.textbox.prototype.getDataType "];try{return this.options.dataType;}catch(e){_.exception.printStackTrace(e);}};_._a.ah.prototype.addClass=function(){try{_._r.prototype.addClass.apply(this,arguments);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.removeClass=function(){try{_._r.prototype.removeClass.apply(this,arguments);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.changeClass=function(){try{_._r.prototype.changeClass.apply(this,arguments);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.toggleClass=function(){try{_._r.prototype.toggleClass.apply(this,arguments);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ah.prototype.getAttributeNode=function(_11){try{return _._q.attributes.getAttributeNode.call(this,_11);}catch(e){_.exception.printStackTrace(e);}};_._a.ah.prototype.setAttributeNode=function(_12,_13){try{_._q.attributes.setAttributeNode.call(this,_12,_13);}catch(e){_.exception.printStackTrace(e);}};_._a.ah.prototype.removeAttributeNode=function(_14){try{_._q.attributes.removeAttributeNode.call(this,_14);}catch(e){_.exception.printStackTrace(e);}};_._a.ah.prototype.setRef=function(ref){["WebSquare.uiplugin.textbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.textbox=_._a.ah;_._a._c=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._c.prototype,_._q.prototype);_._a._c.prototype.defaultOptions={pluginType:"uiplugin.pageList",pluginName:"pageList",userEvents:["onclick","onchange"],useConfig:true,defaultClass:"w2pageList_label",selectedStyle:"",selectedClass:"w2pageList_label_selected",displayFormat:"#",useDelim:false,delimiter:"",pageSize:10,pagingType:"1",buttonShowType:"1",naviType:"config",leftPageBackImage:"",leftPageImage:"",rightPageImage:"",rightPageBackImage:"",deliImage:"",leftPageBackImageClass:"w2pageList_col_prevPage",leftPageImageClass:"w2pageList_col_prev",rightPageImageClass:"w2pageList_col_next",rightPageBackImageClass:"w2pageList_col_nextPage",deliImageClass:"w2pageList_delimiter",leftPageBackImageStyle:"",leftPageImageStyle:"",rightPageImageStyle:"",rightPageBackImageStyle:"",deliImageStyle:"",indexWidth:-1,deliWidth:-1,shiftMoveButtonWidth:-1,oneMoveButtonWidth:-1,renderType:"table",href:"",displayButtonType:"display"};_._a._c.prototype.initialize=function(_4){try{this.pageCount=0;this.displayIndex=1;this.selectedIndex=-1;this.default_leftPageBackImage="uiplugin/pageList/images/b_first.gif";this.default_leftPageImage="uiplugin/pageList/images/b_prev.gif";this.default_rightPageImage="uiplugin/pageList/images/b_next.gif";this.default_rightPageBackImage="uiplugin/pageList/images/b_end.gif";this.options=_.cssManager.styleToClass(this.id,this.options);this.options.leftPageBackImage=this.options.leftPageBackImage?this.options.leftPageBackImage:this.default_leftPageBackImage;this.options.leftPageImage=this.options.leftPageImage?this.options.leftPageImage:this.default_leftPageImage;this.options.rightPageImage=this.options.rightPageImage?this.options.rightPageImage:this.default_rightPageImage;this.options.rightPageBackImage=this.options.rightPageBackImage?this.options.rightPageBackImage:this.default_rightPageBackImage;this.labelStyle="";if(this.options.indexWidth!=-1){this.labelStyle+="width:"+this.options.indexWidth+"px;";}if(this.options.deliWidth!=-1){this.options.deliImageStyle+=";width:"+this.options.deliWidth+"px;";}if(this.options.shiftMoveButtonWidth!=-1){this.options.leftPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";this.options.rightPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";}if(this.options.oneMoveButtonWidth!=-1){this.options.leftPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";this.options.rightPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";}if(this.options.deliImage!=""){this.options.deliImageStyle+=";background-image:url("+this.options.deliImage+");";}if(this.options.renderType=="list"){this.options.leftPageBackImageStyle+=";background-image:none;";this.options.leftPageImageStyle+=";background-image:none;";this.options.rightPageImageStyle+=";background-image:none;";this.options.rightPageBackImageStyle+=";background-image:none;";}else{if(this.options.leftPageBackImage!=this.default_leftPageBackImage){this.options.leftPageBackImageStyle+=";background-image:url("+this.options.leftPageBackImage+");";}if(this.options.leftPageImage!=this.default_leftPageImage){this.options.leftPageImageStyle+=";background-image:url("+this.options.leftPageImage+");";}if(this.options.rightPageImage!=this.default_rightPageImage){this.options.rightPageImageStyle+=";background-image:url("+this.options.rightPageImage+");";}if(this.options.rightPageBackImage!=this.default_rightPageBackImage){this.options.rightPageBackImageStyle+=";background-image:url("+this.options.rightPageBackImage+");";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";var _7=(!this.options.href)?"href='#'":"href='"+this.options.href+"'";var _8=(!this.options.leftPageImageStyle)?"":"style='"+this.options.leftPageImageStyle+"'";var _9=(!this.options.leftPageBackImageStyle)?"":"style='"+this.options.leftPageBackImageStyle+"'";var _a=(!this.options.leftPageImage)?"":"src='"+this.options.leftPageImage+"'";var _b=(!this.options.leftPageBackImage)?"":"src='"+this.options.leftPageBackImage+"'";var _c=(!this.options.rightPageImageStyle)?"":"style='"+this.options.rightPageImageStyle+"'";var _d=(!this.options.rightPageBackImageStyle)?"":"style='"+this.options.rightPageBackImageStyle+"'";var _e=(!this.options.rightPageImage)?"":"src='"+this.options.rightPageImage+"'";var _f=(!this.options.rightPageBackImage)?"":"src='"+this.options.rightPageBackImage+"'";var _10=(!this.labelStyle)?"":"style='"+this.labelStyle+"'";var _11=(!this.options.deliImageStyle)?"":"style='"+this.options.deliImageStyle+"'";this.prevPageButtonId=this.id+"_prevPage_btn";this.nextPageButtonId=this.id+"_nextPage_btn";this.prevButtonId=this.id+"_prev_btn";this.nextButtonId=this.id+"_next_btn";_5.push("<div id='"+this.id+"' "+_6+" class='w2pageList w2pageList_pagePrev_last w2pageList_prev_last "+this.options.className+"'>");if(this.options.renderType=="list"){_5.push("<ul class='w2pageList_ul'>");_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+"><a href='#'><img "+_b+" alt='"+_._z.getMessage("Pagelist_first_page")+"' /></a></li>");if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevButtonId+"' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+"><a href='#'><img "+_a+" alt='"+_._z.getMessage("Pagelist_previous_page")+"'/></a></li>");}var _12=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_12;i++){_5.push("<li class='w2pageList_li_label' "+_10+"><a id='"+this.id+"_page_"+i+"' "+_7+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"'>"+this.getLabel(i)+"</a></li>");if(this.options.useDelim==true&&i<_12){_5.push("<li class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</li>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextButtonId+"' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+"'><a href='#'><img "+_e+" alt='"+_._z.getMessage("Pagelist_next_page")+"'/></a></li>");}_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+"'><a href='#' ><img "+_f+" alt='"+_._z.getMessage("Pagelist_last_page")+"'/></a></li>");_5.push("</ul>");}else{_5.push("<table class='w2pageList_table' cellpadding='0' cellspacing='0'><tr>");_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' "+_9+" role='button' aria-pressed='false' tabIndex='0' title='"+_._z.getMessage("Pagelist_first_page")+"'></td>");if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.prevButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' "+_8+" role='button' aria-pressed='false' tabIndex='0' title='"+_._z.getMessage("Pagelist_previous_page")+"'></td>");}var _12=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_12;i++){_5.push("<td class='w2pageList_col_label' "+_10+"><div id='"+this.id+"_page_"+i+"' class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"' role='button' aria-pressed='false'  tabindex='0' title='"+this.getLabel(i)+"'>"+this.getLabel(i)+"</div></td>");if(this.options.useDelim==true&&i<_12){_5.push("<td class='w2pageList_col_delimiter "+this.options.deliImageClass+"' "+_11+">"+this.options.delimiter+"</td>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_next "+this.options.rightPageImageClass+"' "+_c+" tabindex='0' title='"+_._z.getMessage("Pagelist_next_page")+"'></td>");}_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' "+_d+" tabindex='0' title='"+_._z.getMessage("Pagelist_last_page")+"'></td>");_5.push("</tr></table>");}_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setAction=function(){try{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.handleKeydownEvent=function(e){try{var _15=(e.charCode)?e.charCode:e.keyCode;if(_15!=13){return;}var el=e.srcElement||e.target;if(el.nodeName.toLowerCase()=="a"){if(el.getAttribute("href")==null){this.handleClickEvent(e);}}else{this.handleClickEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.getLabel=function(idx){try{var _18=idx+"";_18=_._B.formatCurrency(idx,this.options.displayFormat);return _18;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.getCount=function(){try{return this.pageCount;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setCount=function(_19,_1a){try{var _1b=_1a?_1a:false;if(_1a&&_19<this.selectedIndex){$l("range exception for "+this.id);_1b=false;}this.pageCount=(typeof _19=="string")?(parseInt(_19,10)||0):_19;if(_1b==false){this.displayIndex=1;}else{if(this.selectedIndex==-1){this.displayIndex=1;}}this.redraw();if(_1b==false){this.setSelectedIndex(1);}else{if(this.selectedIndex==-1){this.setSelectedIndex(1);}else{this.setSelectedIndex(this.selectedIndex);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setSelectedIndex=function(idx){try{if(this.pageCount==0){if(this.options.displayButtonType=="auto"||this.options.displayButtonType=="autoOver"){var _1d=document.getElementById(this.prevPageButtonId);var _1e=document.getElementById(this.prevButtonId);var _1f=document.getElementById(this.nextButtonId);var _20=document.getElementById(this.nextPageButtonId);if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}return;}if(_._G.isNull(idx)){return;}idx=parseInt(idx,10);if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var _21=this.selectedIndex;this.setDisplayIndex(idx);var _22=document.getElementById(this.id+"_page_"+this.selectedIndex);if(_22){this.changeClass(_22,this.options.selectedClass,this.options.defaultClass);}this.selectedIndex=idx;this.changeButtonCursor(idx);var _23=document.getElementById(this.id+"_page_"+idx);this.changeClass(_23,this.options.defaultClass,this.options.selectedClass);if(_21!=-1&&_21!=this.selectedIndex){_._F.fireEvent(this,"onchange",this.selectedIndex,_21);}var _24=this.options.displayButtonType;if(_24!="display"){var _1d=document.getElementById(this.prevPageButtonId);var _1e=document.getElementById(this.prevButtonId);var _1f=document.getElementById(this.nextButtonId);var _20=document.getElementById(this.nextPageButtonId);if(_24=="auto"||_24=="autoOver"){if(this.selectedIndex===1){if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="visible";}}else{if(this.selectedIndex==this.pageCount){if(_1d){_1d.style.visibility="visible";}if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}else{if(_1d){_1d.style.visibility="visible";}if(_1e){_1e.style.visibility="visible";}if(_1f){_1f.style.visibility="visible";}if(_20){_20.style.visibility="visible";}}}}if((_24=="displayOver"||_24=="autoOver")&&this.options.pageSize>=this.pageCount){if(_1d){_1d.style.visibility="hidden";}if(_1e){_1e.style.visibility="hidden";}if(_1f){_1f.style.visibility="hidden";}if(_20){_20.style.visibility="hidden";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setFocus=function(idx){try{if(this.pageCount==0){return;}if(_._G.isNull(idx)){return;}idx=idx.toString();if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var dom=document.getElementById(this.id+"_page_"+idx);if(dom){dom.focus();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setIdxClass=function(idx){try{this.setSelectedIndex(idx);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setValue=function(_28){try{if(_._G.isNull(_28)){return;}_28=_28.toString();this.setSelectedIndex(_28);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.moveLeft=function(){try{this.setSelectedIndex(this.selectedIndex-1);this.setFocus(this.selectedIndex);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.moveRight=function(){try{this.setSelectedIndex(this.selectedIndex+1);this.setFocus(this.selectedIndex);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.pageLeft=function(){try{var _29=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_29);this.setSelectedIndex(this.displayIndex);this.setFocus(this.selectedIndex);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.pageLeftLast=function(){try{if(this.displayIndex==1){this.setSelectedIndex(1);}else{var _2a=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_2a);var _2b=this.displayIndex+this.options.pageSize-1;this.setSelectedIndex(_2b);this.setFocus(this.selectedIndex);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.pageRight=function(){try{var _2c=this.selectedIndex+this.options.pageSize;this.setDisplayIndex(_2c);if(this.options.pagingType==1){if(_2c>=this.pageCount){this.setSelectedIndex(this.pageCount);}else{this.setSelectedIndex(this.displayIndex);}}else{this.setSelectedIndex(this.displayIndex);}this.setFocus(this.selectedIndex);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setDisplayIndex=function(idx){try{if(this.pageCount==0){return;}idx=parseInt(idx,10);var _2e=parseInt((idx-1)/this.options.pageSize)*this.options.pageSize+1;if(this.options.pagingType=="1"&&!(this.options.buttonShowType=="3")){if(idx+this.options.pageSize>this.pageCount){_2e=this.pageCount-this.options.pageSize+1;}}else{if(this.options.pagingType=="2"){}}if(this.options.buttonShowType=="2"&&this.options.naviType=="1"){_2e=idx;}if(_2e<1){_2e=1;}if(_2e>this.pageCount){_2e=this.pageCount;}if(this.displayIndex==_2e){return;}else{this.displayIndex=_2e;this.redraw();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.changeButtonCursor=function(idx){["WebSquare.uiplugin.pageList.changeButtonCursor "];try{if(this.options.buttonShowType=="3"||this.options.buttonShowType=="2"){if(this.displayIndex==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}if(idx==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(idx==this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}}else{if(this.displayIndex==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}if(idx==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(idx==this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.setPageSize=function(_30){try{this.options.pageSize=(typeof _30=="string")?(parseInt(_30,10)||this.options.pageSize):_30||this.options.pageSize;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.getPageSize=function(){try{return this.options.pageSize;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_pagePrev")){if(this.options.buttonShowType=="2"){this.moveLeft();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(1);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageLeft();}else{this.pageLeft();}}}_._F.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){_._F.stopEvent(e);}}if(it.match("w2pageList_control_prev")){if(this.options.buttonShowType=="3"){this.pageLeftLast();}else{this.moveLeft();}_._F.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){_._F.stopEvent(e);}}if(it.match("w2pageList_control_next")){if(this.options.buttonShowType=="3"){this.pageRight();}else{this.moveRight();}_._F.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){_._F.stopEvent(e);}}if(it.match("w2pageList_control_pageNext")){if(this.options.buttonShowType=="2"){this.moveRight();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(this.pageCount);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageRight();}else{this.pageRight();}}}_._F.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){_._F.stopEvent(e);}}if(it.match("w2pageList_control_label")){var _33=it.getElement().getAttribute("index");this.setSelectedIndex(_33);_._F.fireEvent(this,"onclick",_33);if(this.options.renderType=="list"){_._F.stopEvent(e);}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.addClass(it.getElement(),"w2pageList_label_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._c.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.removeClass(it.getElement(),"w2pageList_label_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.pageList=_._a._c;_._a.repeatAPI={};_._a.repeatAPI.getRepeatIndex=function(){return this.__repeat.repeatComponents[this.id].repeatIndex;};_._a.repeatAPI.getSiblingId=function(_1){var _2=this.getRepeatIndex();var _3=this.__repeat.repeatIds[_2];return _3.hashPreFix+_1;};_._a.repeatAPI.getSibling=function(_4){var _5=this.getRepeatIndex();var _6=this.__repeat.repeatIds[_5];return window[_6.hashPreFix+_4];};_._a.repeatAPI.getRepeatInstanceNode=function(){var _7=this.getRepeatIndex();var _8=this.__repeat.options.nodeset+"[@"+this.__repeat.options.repeatKey+"='"+_7+"']";var _9=_._C.findInstanceNode(_8);return _9;};_._a.repeatAPI.getInstanceValue=function(){var _a=_._C.getInstanceValue(this.options.ref);return _a;};_._a.repeatAPI.getRepeat=function(){return this.__repeat;};_._a.ab=function(id,_c,_d){_._q.call(this,id,_c,_d);};_.extend(_._a.ab.prototype,_._q.prototype);_._a.ab.prototype.defaultOptions={pluginType:"uiplugin.repeat",pluginName:"repeat",userEvents:["onrepeatdone"],nodeset:"",repeatKey:"index",cols:"",rows:"",autoCount:false,direction:"horizontal"};_._a.ab.prototype.initialize=function(_e){try{this.repeatComponents={};this.repeatIds=[];this.templateElement=_e;this.rowCount=undefined;this.colCount=undefined;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.toHTML=function(){try{var _f=[];var _10=(!this.options.style)?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2repeat "+this.options.className+"'>");_f.push("</div>");return _f.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.setAction=function(){try{this.refreshRepeat();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.refreshItemset=function(){try{this.refreshRepeat();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.drawContents=function(){try{var _11=[];_11.push("<table class='w2repeat_table' cellpadding='0' cellspacing='0'>");var _12=this.getChildren();var _13=_12.length;for(var row=0;row<this.rowCount;row++){_11.push("<tr class='w2repeat_row'>");for(var col=0;col<this.colCount;col++){var _16=row*this.colCount+col;if(this.options.direction=="vertical"){_16=row+this.rowCount*col;}if(_16<_13){_11.push("<td class=''>");_11.push(_12[_16].toHTML());_11.push("</td>");}else{_11.push("<td class=''></td>");}}_11.push("</tr>");}_11.push("</table>");this.render.innerHTML=_11.join("");for(var i=0;i<_12.length;i++){_12[i].activate();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.refreshRepeat=function(){try{if(this.options.nodeset!=""){var _18=_._C.findInstanceNodes(this.options.nodeset);this.initialize(this.templateElement);for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(_18.length>0){for(var i=0;i<_18.length;i++){this.parseChild(this,this.templateElement,i);}this.setTableCount();if(this.options.autoCount==true){for(var i=0;i<_18.length;i++){_18[i].setAttribute(this.options.repeatKey,i);}}this.drawContents();_._F.fireEvent(this,"onrepeatdone");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.setTableCount=function(){try{var _1a=this.getChildrenCount();this.rowCount=_1a;this.colCount=1;if(this.options.rows!=""){var _1b=parseInt(this.options.rows);this.rowCount=_1b;this.colCount=Math.ceil(_1a/_1b);}if(this.options.cols!=""){var _1c=parseInt(this.options.cols);this.colCount=_1c;this.rowCount=Math.ceil(_1a/_1c);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.parseChild=function(_1d,_1e,_1f){try{for(var _20=_1e.firstChild;_20!=null;_20=_20.nextSibling){if(_20.nodeType==1){var _21=_._t.getLocalName(_20);var _22=_20.getAttribute("id");var ref=_20.getAttribute("ref");if(_21=="repeat"){ref=_20.getAttribute("nodeset");}if(_22){var id=this.id+"_"+_1f+"_"+_22;if(ref){ref=this.options.nodeset+"[@"+this.options.repeatKey+"='"+_1f+"']/"+ref;}else{ref="";}var _25=null;if(_21=="repeat"){_25=_.controlFactory.create(id,{nodeset:ref},_20);}else{_25=_.controlFactory.createControl(id,{ref:ref},_20);this.parseChild(_25,_20,_1f);}_1d.addControl(_25);this.repeatComponents[id]={};this.repeatComponents[id].repeatIndex=_1f;this.repeatIds[_1f]={};this.repeatIds[_1f].hashPreFix=this.id+"_"+_1f+"_";window[id].__repeat=this;_.extend(window[id],_._a.repeatAPI);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.getRepeatChildren=function(_26){try{var arr=[];var _28=this.getChildrenCount();for(var i=0;i<_28;i++){var id=this.id+"_"+i+"_"+_26;arr.push(window[id]);}return arr;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.setInitValue=function(_2b){try{this.init(_2b);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.init=function(_2c){try{_2c=_.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2c||{});var _2d=this.getChildren();for(var i=0;i<_2d.length;i++){if(_2d[i].setInitValue){if((" "+_2c.excludePlugin+" ").indexOf(" "+_2d[i].options.pluginName+" ")==-1&&(" "+_2c.excludeId+" ").indexOf(" "+_2d[i].id+" ")==-1){_2d[i].setInitValue(_2c);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ab.prototype.invoke=function(_2f,_30,_31,_32){try{return _._q.prototype.invoke.call(this,_2f,_30,_31,_32);}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.repeat=_._a.ab;_._a.au=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.au.prototype,_._q.prototype);_._a.au.prototype.defaultOptions={useConfig:true,userEvents:["ondone","onInputValueChange"],pluginType:"uiplugin.upload",pluginName:"upload",className:"",imageStyle:"",inputStyle:"",imageClass:"",inputClass:"",type:"button",action:"",imagewidth:"",imageheight:"",empty:6,subDir:"",subSize:"",title:""};_._a.au.prototype.initialize=function(_4){try{this.type=this.options.type;this.style=this.options.style;this.className=this.options.className;this.imageStyle=this.options.imageStyle;this.imageClassName=this.options.imageClass;this.inputStyle=this.options.inputStyle;this.inputClassName=this.options.inputClass;this.imagewidth=this.options.imagewidth;this.imageheight=this.options.imageheight;this.empty=this.options.empty;this.inputClassName=this.options.inputClass;if(!this.options.action){this.action=_.baseServletURI+"upload.wq?callbackFunction="+this.id+".callback";}else{this.action=this.options.action;}if(_4){this.xmlEvents=_.WebSquareparser.parseEvent(_4);}this.disabled=this.options.disabled;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.title)?"":"title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";var _7=(!this.options.style)?"":"style='"+this.options.style+"'";var _8=(!this.action)?"":"action='"+this.action+"'";var _9=(!this.inputStyle)?"":"style='"+this.inputStyle+"'";var _a=(!this.imagewidth)?"":"width:"+this.imagewidth+"px;";var _b=(!this.imageheight)?"":"height:"+this.imagewidth+"px;";var _c="style='"+_a+_b+this.imageStyle+"'";_5.push("<div id='"+this.id+"' "+_7+" class='w2upload "+this.options.className+"'>");_5.push("<form id='"+this.id+"_form"+"' "+_8+" enctype='multipart/form-data' name='form1_upload1' method='post' target='__targetFrame__"+this.id+"'><fieldset>");if(this.options.type=="image"){_5.push("<input  name='tempFlie' readonly='true' id='"+this.id+"_inputFile' class='w2upload_input "+this.options.inputClass+"' "+_9+" type='text'/>");_5.push("<span id='"+this.id+"_span"+"' class='w2upload_image "+this.options.imageClass+"' "+_c+">");_5.push("<input  class='w2upload_fakeInput' style='margin: 0pt; padding: 0pt; width: "+this.imagewidth+"px"+"; height:"+this.imageheight+"px; opacity: 0.01; filter : alpha(opacity=1);' name='upload' id='"+this.id+"_fakeinput' type='file' "+_6+"/>");_5.push("</span>");}else{_5.push("<INPUT  id='"+this.id+"_inputFile' name='upload' type='file' _objId='2' class='w2upload_input_type' "+_9+" "+_6+"/>");}_5.push("</fieldset><input type='submit' class='w2upload_submit'/></form>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.setAction=function(){try{this.dom.input=document.getElementById(this.id+"_inputFile");this.dom.span=document.getElementById(this.id+"_span");this.dom.form=document.getElementById(this.id+"_form");this.dom.fakeinput=document.getElementById(this.id+"_fakeinput");this.styleObj={paddingTop:parseInt(_._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt(_._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,paddingLeft:parseInt(_._G.getStyleProperty(this.dom.input,"padding-left"))||0,paddingRight:parseInt(_._G.getStyleProperty(this.dom.input,"padding-right"))||0,borderTopWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0,borderLeftWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-left-width"))||0,borderRightWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-right-width"))||0,height:parseInt(_._G.getStyleProperty(this.dom.input,"height"))||0};if(this.options.type=="image"){var _d=this.dom.span.offsetWidth||parseInt(_._G.getStyleProperty(this.dom.span,"width"))+_._v.getSize(this.dom.span,"outerMarginWidth");if(!this.dom.span.style.left){this.dom.span.style.left=parseInt(this.render.style.width)-parseInt(_d)+"px";}if(!this.dom.input.style.width){var _e=parseInt(this.render.style.width)-(parseInt(_d))-(this.styleObj.borderLeftWidth+this.styleObj.borderRightWidth+this.styleObj.paddingLeft+this.styleObj.paddingRight);this.dom.input.style.width=_e-this.empty+6+"px";}if(!this.dom.input.style.height&&this.styleObj.height==0){var _f=parseInt(this.render.style.height)-(this.styleObj.borderBottomWidth+this.styleObj.borderTopWidth+this.styleObj.paddingBottom+this.styleObj.paddingTop);this.dom.input.style.height=_f+"px";}if(_d==0){this.dom.fakeinput.style.width=_d+100+"px";}else{this.dom.fakeinput.style.width=_d+"px";}}var _10=_.document.createElement("div");_10.style.width="0";_10.style.height="0";_10.style.visibility="hidden";_.document.body.appendChild(_10);var src=_._l.getSSLBlankPage();_10.innerHTML="<iframe frameborder='0' name='__targetFrame__"+this.id+"' scrolling='no' style='width:0; height:0' "+src+" title='\ud30c\uc77c \uc5c5\ub85c\ub4dc\ub97c \uc704\ud55c \uc784\uc2dc \ud504\ub808\uc784'></iframe>";try{}catch(err){$l(err);}if(this.options.type=="image"&&this.dom.fakeinput!=null){var _12=this;this.dom.fakeinput.onchange=function(){_12.dom.input.value=_12.dom.fakeinput.value;_._F.fireEvent(_12,"onInputValueChange",_12.dom.input.value);};}else{var _12=this;this.dom.input.onchange=function(){_._F.fireEvent(_12,"onInputValueChange",_12.dom.input.value);};}if(this.options.subDir){this.addParam("subDir",this.options.subDir);}if(this.options.subSize){this.addParam("subSize",this.options.subSize);}this.event.addListener(this.dom.form,"onsubmit",this.event.bindAsEventListener(this,this.onSubmitForm));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.onSubmitForm=function(e){try{_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.onInputValueChange=function(e){try{var _15=this;if(this.options.type=="image"&&this.dom.fakeinput!=null){this.dom.input.value=this.dom.fakeinput.value;}_._F.fireEvent(_15,"onInputValueChange",_15.dom.input.value);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.setCallback=function(obj){try{if(typeof obj=="function"){this.callbackFunction=obj;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.isEmpty=function(){try{var _17=this.getValue();if(typeof _17=="undefined"||_17==""){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getByte=function(){try{alert("\ubcf4\uc548\uc0c1\uc758 \ubb38\uc81c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.");var _18=_.document.getElementById(this.id+"_inputFile");if(_18){var fso=new ActiveXObject("Scripting.FileSystemObject");var f=fso.GetFile(_18.value);return f.size;}else{$l("input form is not exist");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getValue=function(){try{var _1b=_.document.getElementById(this.id+"_inputFile");if(_1b){return _1b.value;}else{$l("input form is not exist");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.reset=function(){try{this.dom.form.reset();if(this.options.type=="image"){this.dom.fakeinput.value="";this.dom.input.value="";}else{this.dom.input.value="";}if(this.options.subDir){var _1c=this.dom.form.firstChild;while(_1c){if(_1c.id=="subDir"){_1c.value=this.options.subDir;break;}else{_1c=_1c.nextSibling;}}}if(this.options.subSize){var _1d=this.dom.form.firstChild;while(_1d){if(_1d.id=="subSize"){_1d.value=this.options.subSize;return;}else{_1d=_1c.nextSibling;}}}var _1e=this.dom.form.getElementsByTagName("input");for(var i=0;i<_1e.length;i++){if(_1e[i].type=="hidden"){_1e[i].removeAttribute("value");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.setSubDir=function(_20){try{if(this.options.subDir){var _21=this.dom.form.firstChild;while(_21){if(_21.id=="subDir"){_21.value=_20;return;}else{_21=_21.nextSibling;}}}else{this.addParam("subDir",_20);}this.options.subDir=_20;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.submit=function(){try{if(_.domain){var _22=this.dom.form.action;if(_22.indexOf("?")>-1){_22+="&";}else{_22+="?";}_22+="domain="+_._B.URLEncoder(_.domain);this.dom.form.action=_22;}this.dom.form.submit();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getFileInputObject=function(){try{return this.dom.input;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.setFAction=function(url){try{this.dom.form.action=url;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.changeFormAction=function(url){try{this.dom.form.action=url;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.addParam=function(key,_26){try{var _27=false;var _28=this.dom.form.firstChild;while(_28){if(_28.id==key){_27=true;break;}else{_28=_28.nextSibling;}}if(_27){this.dom.form[key].value=_26;}else{var _29=_.document.createElement("input");_29.type="hidden";_29.value=_26;_29.id=key;_29.name=key;this.dom.form.appendChild(_29);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getDefaultStyle=function(){try{return " border:0px solid blue ";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.callback=function(_2a){try{if(this.callbackFunction){this.callbackFunction.apply(this,new Array(_._t.parse(_2a)));}else{_._F.fireEvent(this,"ondone",_._t.parse(_2a));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getActionUrl=function(){try{if(this.options.action){return this.options.action;}else{return this.action;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.getAccessibiltyId=function(){try{return this.options.type=="image"?this.id+"_fakeinput":this.id+"_inputFile";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.au.prototype.setDisabled=function(_2b){try{var _2c;if(this.options.type=="image"){_2c=document.getElementById(this.id+"_fakeinput");}else{_2c=document.getElementById(this.id+"_inputFile");}_2c.disabled=_2b;_._q.prototype.setDisabled.call(this,_2b);}catch(e){_.exception.printStackTrace(e);}return _2b;};;WebSquare.uiplugin.upload=_._a.au;_._a._d=function(_1,_2){try{this.mainParent=_1;this.options=_2;this.id=_1.id;this.mainLayer=null;this.defLayer=null;this.svgNS="http://www.w3.org/2000/svg";this.xlink="http://www.w3.org/1999/xlink";this.initSVGLayer();this.objectArr=[];this.rotateAngle=0;this.defCnt=0;}catch(e){_.exception.printStackTrace(e);}};_._a._d.prototype.initSVGLayer=function(){try{var _3=document.createElementNS(this.svgNS,"svg");_3.style.position="absolute";_3.style.left="0px";_3.style.top="0px";_3.style.width="100%";_3.style.height="100%";_3.setAttribute("class","w2graphicUtil");if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(_3,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(_3);}this.defLayer=document.createElementNS(this.svgNS,"defs");_3.appendChild(this.defLayer);this.mainLayer=document.createElementNS(this.svgNS,"g");_3.appendChild(this.mainLayer);}catch(e){_.exception.printStackTrace(e);}};_._a._d.prototype.rotate=function(_4,cx,cy){_4=_4||0;cx=cx||parseInt(this.mainParent.render.style.width)/2;cx+=0.5;cy+=0.5;this.mainLayer.setAttribute("transform","rotate("+_4+" "+cx+" "+cy+")");this.rotateAngle=_4;};_._a._d.prototype.getRotateAngle=function(){return this.rotateAngle;};_._a._d.prototype.createLine=function(id,_8,x1,y1,x2,y2,_d,_e,_f){var _10=document.createElementNS(this.svgNS,"line");_10.setAttribute("id",id);_10.setAttribute("stroke-linecap","round");_10.setAttribute("stroke-width",_8);_10.setAttribute("x1",x1);_10.setAttribute("y1",y1);_10.setAttribute("x2",x2);_10.setAttribute("y2",y2);_10.setAttribute("stroke",(_d||"#000000"));this.appendObj(id,_10,_e);return _10;};_._a._d.prototype.createCircle=function(id,_12,x1,y1,r,_16,_17,_18,_19){var _1a=document.createElementNS(this.svgNS,"circle");_1a.setAttribute("id",id);_1a.setAttribute("stroke-width",_12);_1a.setAttribute("cx",x1);_1a.setAttribute("cy",y1);_1a.setAttribute("r",r);_1a.setAttribute("stroke",(_16||"#000000"));_1a.setAttribute("fill",(_17||"#ffffff"));this.appendObj(id,_1a,_18);return _1a;};_._a._d.prototype.createEllipse=function(id,_1c,x1,y1,rx,ry,_21,_22,_23,_24){var _25=document.createElementNS(this.svgNS,"ellipse");_25.setAttribute("stroke-width",_1c);_25.setAttribute("cx",x1);_25.setAttribute("cy",y1);_25.setAttribute("rx",rx);_25.setAttribute("ry",ry);_25.setAttribute("stroke",(_21||"#000000"));_25.setAttribute("fill",(_22||"#ffffff"));this.appendObj(id,_25,_23);return _25;};_._a._d.prototype.createRectangleAnimation=function(id,_27,x,y,_2a,_2b,_2c,_2d,_2e,_2f){_2f=_2f||"bottom_top";var _30=null;var _31=this;if(_2f=="bottom_top"){_30=this.createRectangle(id,_27,x,y+_2b,_2a,0,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation1(_30,y,_2b,1,10);},1);}if(_2f=="left_right"){_30=this.createRectangle(id,_27,x,y,0,_2b,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation2(_30,y,_2a,1,10);},1);}return _30;};_._a._d.prototype.startRectangleAnimation1=function(obj,y,_34,idx,_36){idx=(idx>_36)?_36:idx;obj.setAttribute("y",y+_34-(_34*idx/_36));obj.setAttribute("height",_34*idx/_36);if(idx<_36){idx++;var _37=this;setTimeout(function(){_37.startRectangleAnimation1(obj,y,_34,idx,_36);},40);}};_._a._d.prototype.startRectangleAnimation2=function(obj,y,_3a,idx,_3c){idx=(idx>_3c)?_3c:idx;obj.setAttribute("width",_3a*idx/_3c);if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation2(obj,y,_3a,idx,_3c);},40);}};_._a._d.prototype.createRectangle=function(id,_3f,x,y,_42,_43,_44,_45,_46,_47){var _48=document.createElementNS(this.svgNS,"rect");_48.setAttribute("id",id);_48.setAttribute("stroke-width",_3f);_48.setAttribute("x",x);_48.setAttribute("y",y);_48.setAttribute("width",_42);_48.setAttribute("height",_43);_48.setAttribute("stroke",(_44||"#000000"));_48.setAttribute("fill",(_45||"#ffffff"));this.appendObj(id,_48,_46);return _48;};_._a._d.prototype.createRoundRect=function(id,_4a,x,y,_4d,_4e,_4f,_50,_51,_52,_53){_4a=parseInt(_4a)||0;var _54=document.createElementNS(this.svgNS,"rect");_54.setAttribute("stroke-width",_4a);_54.setAttribute("x",parseInt(x)+_4a/2);_54.setAttribute("y",parseInt(y)+_4a/2);_54.setAttribute("width",parseInt(_4d)-_4a);_54.setAttribute("height",parseInt(_4e)-_4a);_54.setAttribute("stroke",(_50||"#000000"));_54.setAttribute("fill",(_51||"#ffffff"));_54.setAttribute("rx",_4f);_54.setAttribute("ry",_4f);this.appendObj(id,_54,_52);return _54;};_._a._d.prototype.setStyle=function(id,_56,top,_58,_59){var obj=this.objectArr[id];var _5b=parseInt(obj.getAttribute("stroke-width"))||0;if(_56!=null){obj.setAttribute("x",parseInt(_56)+_5b);}if(top!=null){obj.setAttribute("y",parseInt(top)+_5b);}if(_58!=null){obj.setAttribute("width",parseInt(_58)-_5b);}if(_59!=null){obj.setAttribute("height",parseInt(_59)-_5b);}};_._a._d.prototype.createImage=function(id,_5d,x,y,_60,_61,_62,src,_64,_65){var img=document.createElementNS(this.svgNS,"image");img.setAttribute("x",x);img.setAttribute("y",y);img.setAttribute("width",_60);img.setAttribute("height",_61);img.setAttributeNS(this.xlink,"href",src);this.appendObj(id,img,_64);return img;};_._a._d.prototype.createArc=function(id,_68,cx,cy,r,_6c,_6d,_6e,_6f,_70,_71){var _72=document.createElementNS(this.svgNS,"path");if(_6c>_6d){var tmp=_6c;_6d=_6c;_6c=tmp;}var _74=(Math.abs(_6c-_6d)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_6c*(Math.PI/180)))+" "+(cy-r*Math.sin(_6c*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_74+", 0 ";d+=""+(cx+r*Math.cos(_6d*(Math.PI/180)))+" "+(cy-r*Math.sin(_6d*(Math.PI/180)));d+=" Z";_72.setAttribute("id",id);_72.setAttribute("d",d);_72.setAttribute("stroke-width",_68);_72.setAttribute("stroke",(_6e||"#000000"));_72.setAttribute("fill",(_6f||"#ffffff"));this.appendObj(id,_72,_70);return _72;};_._a._d.prototype.createPath=function(id,_77,_78,_79,_7a,_7b,_7c){var _7d=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_78.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_78[i].x+" "+_78[i].y;}d+=" Z";_7d.setAttribute("d",d);_7d.setAttribute("id",id);_7d.setAttribute("stroke-width",_77);_7d.setAttribute("stroke",(_79||"#000000"));_7d.setAttribute("fill",(_7a||"#ffffff"));this.appendObj(id,_7d,_7b);return _7d;};_._a._d.prototype.createPath2=function(id,_81,_82,_83,_84,_85,_86,_87,_88){var _89=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_82.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_82[i].x+" "+_82[i].y;}if(_86){d+=" Z";}_89.setAttribute("d",d);_89.setAttribute("id",id);_89.setAttribute("stroke-width",_81);_89.setAttribute("stroke",(_83||"#000000"));if(_85){_89.setAttribute("fill",_84||"#ffffff");}else{_89.setAttribute("fill","none");}this.appendObj(id,_89,_87);return _89;};_._a._d.prototype.modifyPath=function(id,_8d){var obj=this.objectArr[id];var d="";for(var i=0;i<_8d.pointList.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_8d.pointList[i].x+" "+_8d.pointList[i].y;}if(_8d.closeFlag){d+=" Z";}obj.setAttribute("d",d);};_._a._d.prototype.modifyRectangle=function(id,_92){var obj=this.objectArr[id];if(!obj){return;}if(_92.x!=null){obj.setAttribute("x",_92.x);}if(_92.y!=null){obj.setAttribute("y",_92.y);}if(_92.width!=null){obj.setAttribute("width",_92.width);}if(_92.height!=null){obj.setAttribute("height",_92.height);}};_._a._d.prototype.modifyArc=function(id,_95){var obj=this.objectArr[id];if(!obj){return;}if(_95.centerX!=null&&_95.centerY!=null&&_95.radius!=null&&_95.startAngle!=null&&_95.endAngle!=null){var cx=_95.centerX;var cy=_95.centerY;var r=_95.radius;var _9a=_95.startAngle;var _9b=_95.endAngle;var _9c=(Math.abs(_9a-_9b)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_9a*(Math.PI/180)))+" "+(cy-r*Math.sin(_9a*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_9c+", 0 ";d+=""+(cx+r*Math.cos(_9b*(Math.PI/180)))+" "+(cy-r*Math.sin(_9b*(Math.PI/180)));d+="";obj.setAttribute("d",d);}};_._a._d.prototype.modifyLine=function(id,_9f){var obj=this.objectArr[id];if(!obj){return;}};_._a._d.prototype.appendObj=function(id,obj,_a3){this.objectArr[id]=obj;_a3=(_a3!=null)?_a3:true;if(_._G.isChrome()){obj.style.visibility="hidden";}if(_a3){this.mainLayer.appendChild(obj);}if(_._G.isChrome()){setTimeout(function(){obj.style.visibility="";},100);}};_._a._d.prototype.addLinearGradient=function(id,_a5,_a6,_a7){var x1="0%";var y1="0%";var x2="0%";var y2="0%";if(typeof _a5!="number"){switch(_a5.toLowerCase()){case "left_right":x2="100%";break;case "right_left":x1="100%";break;case "top_bottom":y2="100%";break;case "bottom_top":y1="100%";break;}}else{x1="0%";y1="0%";x2="0%";y2="0%";var _ac=_a5%360;_ac=(_ac<0)?_ac+360:_ac;if(_ac>=0&&_ac<23){x2="100%";}else{if(_ac>360-23&&_ac<=360){x2="100%";}else{if(_ac>22&&_ac<68){y1="100%";x2="100%";}else{if(_ac>67&&_ac<113){y1="100%";}else{if(_ac>112&&_ac<158){x1="100%";y1="100%";}else{if(_ac>157&&_ac<203){x1="100%";}else{if(_ac>202&&_ac<248){x1="100%";y2="100%";}else{if(_ac>247&&_ac<293){y2="100%";}else{if(_ac>292&&_ac<338){y2="100%";x2="100%";}}}}}}}}}}this.defCnt++;var _ad=document.createElementNS(this.svgNS,"linearGradient");_ad.id=this.id+"_"+id+"def"+this.defCnt;_ad.setAttribute("x1",x1);_ad.setAttribute("y1",y1);_ad.setAttribute("x2",x2);_ad.setAttribute("y2",y2);var _ae=document.createElementNS(this.svgNS,"stop");_ae.setAttribute("offset","0%");_ae.setAttribute("style","stop-color:"+_a6+"; stop-opacity:1");var _af=document.createElementNS(this.svgNS,"stop");_af.setAttribute("offset","100%");_af.setAttribute("style","stop-color:"+_a7+"; stop-opacity:1");_ad.appendChild(_ae);_ad.appendChild(_af);this.defLayer.appendChild(_ad);this.objectArr[id].setAttribute("style","fill:url(#"+this.id+"_"+id+"def"+this.defCnt+")");};_._a._d.prototype.addRadialGradient=function(id,x,y,_b3,_b4){this.defCnt++;var _b5=this.id+"def"+this.defCnt;var _b6=document.createElementNS(this.svgNS,"radialGradient");_b6.id=_b5;_b6.setAttribute("cx",x);_b6.setAttribute("cy",y);_b6.setAttribute("fx",x);_b6.setAttribute("fy",y);var _b7=document.createElementNS(this.svgNS,"stop");_b7.setAttribute("offset","0%");_b7.setAttribute("style","stop-color:"+_b3+"; stop-opacity:1");var _b8=document.createElementNS(this.svgNS,"stop");_b8.setAttribute("offset","100%");_b8.setAttribute("style","stop-color:"+_b4+"; stop-opacity:1");_b6.appendChild(_b7);_b6.appendChild(_b8);this.defLayer.appendChild(_b6);this.objectArr[id].setAttribute("style","fill:url(#"+_b5+")");};_._a._d.prototype.addOpacity=function(id,_ba){var _bb=this.objectArr[id];_bb.setAttribute("opacity",_ba);};_._a._d.prototype.add3DEffect=function(id,_bd){var _be=this.objectArr[id];if(_be.tagName=="rect"){this.add3DEffectRectangle(id,_bd);}};_._a._d.prototype.add3DEffectRectangle=function(id,_c0){var _c1=this.objectArr[id];var _c2=null;var _c3=null;_c0=_c0/3;var _c4=parseInt(_c1.getAttribute("stroke-width")||0);var _c5=_c1.getAttribute("stroke");var _c6=_c1.getAttribute("fill");var _c7=(_c4>0)?_c4-1:0;var _c8=parseInt(_c1.getAttribute("x")||0)+_c7;var _c9=parseInt(_c1.getAttribute("y")||0)-_c7+1;var _ca=parseInt(_c1.getAttribute("width")||0);var _cb=parseInt(_c1.getAttribute("height")||0);var _cc=[];var _cd={};_cd.x=_c8;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_c0+_ca;_cf.y=_c9-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9;_cc.push(_d0);var _d1=this.mainParent.get3DColor(_c6,"dark",5);this.createPath(id+"_upper",_c4,_cc,_c5,_d1,true);var _cc=[];var _cd={};_cd.x=_c8+_ca;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_ca+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_ca+_c0;_cf.y=_c9+_cb-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9+_cb;_cc.push(_d0);var _d2=this.mainParent.get3DColor(_c6,"bright",5);this.createPath(id+"_right",_c4,_cc,_c5,_d2,true);};;WebSquare.uiplugin.svgToolkit=_._a._d;_._a._p=function(_1,_2){try{this.mainParent=_1;this.options=_2;this.mainLayer=null;this.objectArr=[];this.coordsize="";this.rotateAngle=0;this.initVMLLayer();}catch(e){_.exception.printStackTrace(e);}};_._a._p.prototype.initVMLLayer=function(){try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");try{}catch(e){$lobj(e);return;}this.mainLayer=this.createElement("group");this.mainLayer.style.position="absolute";this.mainLayer.className="w2graphicUtil";this.mainLayer.style.left="0px";this.mainLayer.style.top="0px";this.mainLayer.style.visibility="visible";var _3=this.mainParent.render.offsetWidth;var _4=this.mainParent.render.offsetHeight;if(_3==0||_4==0){_3=parseInt(_._G.getStyleProperty(this.mainParent.render,"width"));_4=parseInt(_._G.getStyleProperty(this.mainParent.render,"height"));}this.mainLayer.style.width=_3+"px";this.mainLayer.style.height=_4+"px";this.mainLayer.coordsize=parseInt(_3)+", "+parseInt(_4);this.coordsize=parseInt(_3)+", "+parseInt(_4);if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(this.mainLayer,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(this.mainLayer);}}catch(e){_.exception.printStackTrace(e);}};_._a._p.prototype.rotate=function(_5,_6,_7){_5=_5||0;this.mainLayer.rotation=_5;this.rotateAngle=_5;var w=2*_6+1;var h=2*_7+1;this.mainLayer.style.width=w+"px";this.mainLayer.style.height=h+"px";this.coordsize=w+" "+h;this.mainLayer.coordsize=this.coordsize;};_._a._p.prototype.getRotateAngle=function(_a){return this.rotateAngle;};_._a._p.prototype.getPxWidth=function(_b){if(_b+""==parseInt(_b)+""){return _b+"px";}return _b;};_._a._p.prototype.createLine=function(id,_d,x1,y1,x2,y2,_12,_13,_14){var _15=this.createElement("line");_15.setAttribute("id",id);_15.setAttribute("strokeweight",this.getPxWidth(_d));_15.style.zIndex=_14||0;var _16=this.createElement("stroke");_16.setAttribute("endcap","round");_15.appendChild(_16);_15.setAttribute("to",x1+","+y1);_15.setAttribute("from",x2+","+y2);_15.setAttribute("strokecolor",_12);this.appendObj(id,_15,_13);return _15;};_._a._p.prototype.createCircle=function(id,_18,x1,y1,r,_1c,_1d,_1e,_1f){var _20=this.createElement("oval");_20.setAttribute("id",id);_20.style.position="absolute";_20.style.left=x1-r;_20.style.top=y1-r;_20.style.width=r*2;_20.style.height=r*2;_20.setAttribute("stroke","true");_20.setAttribute("opacity","5.5");_20.setAttribute("strokecolor",_1c);_20.setAttribute("strokeweight",this.getPxWidth(_18));_20.setAttribute("fill","true");_20.setAttribute("fillcolor",_1d||"#ffffff");_20.style.zIndex=_1f||0;this.appendObj(id,_20,_1e);return _20;};_._a._p.prototype.createEllipse=function(id,_22,x1,y1,rx,ry,_27,_28,_29,_2a){var _2b=this.createElement("oval");_2b.style.position="absolute";_2b.style.left=x1-rx;_2b.style.top=y1-ry;_2b.style.width=rx*2;_2b.style.height=ry*2;_2b.setAttribute("stroke","true");_2b.setAttribute("strokecolor",_27);_2b.setAttribute("strokeweight",this.getPxWidth(_22));_2b.setAttribute("fill","true");_2b.setAttribute("fillcolor",_28||"#ffffff");_2b.style.zIndex=_2a||0;this.appendObj(id,_2b,_29);return _2b;};_._a._p.prototype.createRectangleAnimation=function(id,_2d,x,y,_30,_31,_32,_33,_34,_35){_35=_35||"bottom_top";var _36=null;var _37=this;if(_35=="bottom_top"){_36=this.createRectangle(id,_2d,x,y+_31,_30,0,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation1(_36,y,_31,1,10);},1);}if(_35=="left_right"){_36=this.createRectangle(id,_2d,x,y,0,_31,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation2(_36,y,_30,1,10);},1);}return _36;};_._a._p.prototype.startRectangleAnimation1=function(obj,y,_3a,idx,_3c){idx=(idx>_3c)?_3c:idx;obj.style.top=y+_3a-(_3a*idx/_3c);obj.style.height=_3a*idx/_3c;if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation1(obj,y,_3a,idx,_3c);},20);}};_._a._p.prototype.startRectangleAnimation2=function(obj,y,_40,idx,_42){idx=(idx>_42)?_42:idx;obj.style.width=_40*idx/_42;if(idx<_42){idx++;var _43=this;setTimeout(function(){_43.startRectangleAnimation2(obj,y,_40,idx,_42);},20);}};_._a._p.prototype.createRectangle=function(id,_45,x,y,_48,_49,_4a,_4b,_4c,_4d){var _4e=this.createElement("rect");_4e.id=id;_4e.setAttribute("stroke","true");_4e.setAttribute("strokecolor",_4a);_4e.setAttribute("strokeweight",this.getPxWidth(_45));_4e.style.position="absolute";_4e.style.left=x;_4e.style.top=y;_4e.style.width=_48;_4e.style.height=_49;_4e.setAttribute("fill","true");_4e.setAttribute("fillcolor",_4b||"#ffffff");_4e.style.zIndex=_4d||0;this.appendObj(id,_4e,_4c);return _4e;};_._a._p.prototype.createRoundRect=function(id,_50,x,y,_53,_54,_55,_56,_57,_58,_59){_50=parseInt(_50);_54-=_50;var _5a=this.createElement("roundrect");_5a.style.width=_53;_5a.style.height=_54;if(_50!==0){_5a.setAttribute("stroked","true");_5a.setAttribute("strokecolor",_56);_5a.setAttribute("strokeweight",this.getPxWidth(_50));}else{_5a.setAttribute("stroked","false");}_5a.setAttribute("arcsize",parseFloat(_55)/parseFloat(_54));_5a.style.position="absolute";_5a.style.left=x;_5a.style.top=y;_5a.setAttribute("fill","true");_5a.setAttribute("fillcolor",_57||"#ffffff");_5a.style.zIndex=_59||0;this.appendObj(id,_5a,_58);return _5a;};_._a._p.prototype.setStyle=function(id,_5c,top,_5e,_5f){var obj=this.objectArr[id];if(_5c!=null){obj.style.left=_5c;}if(top!=null){obj.style.top=top;}if(_5e!=null){obj.style.width=_5e;}if(_5f!=null){obj.style.height=_5f;}};_._a._p.prototype.createImage=function(id,_62,x,y,_65,_66,_67,src,_69,_6a){var img=this.createElement("image");img.src=src;img.style.position="absolute";img.style.left=x;img.style.top=y;img.style.width=_65;img.style.height=_66;img.style.zIndex=_6a||0;this.appendObj(id,img,_69);return img;};_._a._p.prototype.createArc=function(id,_6d,cx,cy,r,_71,_72,_73,_74,_75,_76){r=Math.round(r);if(_71>_72){var tmp=_71;_72=_71;_71=tmp;}var _78=parseInt(23600000*_71/360);var _79=parseInt((_72-_71)/360*23600000);var _7a=this.createElement("shape");_7a.setAttribute("id",id);_7a.style.position="absolute";_7a.style.left=cx;_7a.style.top=cy;_7a.style.width=r;_7a.style.height=r;_7a.setAttribute("strokeweight",this.getPxWidth(_6d));_7a.setAttribute("strokeColor",_73);_7a.setAttribute("coordsize",r+" "+r);_7a.setAttribute("path","M 0 0 AE 0 0 "+r+" "+r+" "+_78+" "+_79+" X E");_7a.style.zIndex=_76||0;_7a.setAttribute("fill","true");_7a.setAttribute("fillcolor",_74||"#ffffff");this.appendObj(id,_7a,_75);return _7a;};_._a._p.prototype.createPath=function(id,_7c,_7d,_7e,_7f,_80,_81){var _82=this.createElement("shape");_82.setAttribute("id",id);_82.style.position="absolute";_82.style.width=this.mainLayer.style.width;_82.style.height=this.mainLayer.style.height;_82.setAttribute("strokeColor",_7e);_82.setAttribute("strokeweight",this.getPxWidth(_7c));_82.setAttribute("fillcolor",_7f);_82.style.zIndex=_81||0;var _83=this.createElement("path");var _84="";for(var i=0;i<_7d.length;i++){if(i==0){_84+="M";}else{_84+=" L";}_84+=parseInt(_7d[i].x)+","+parseInt(_7d[i].y);}_84+=" X E";_83.setAttribute("v",_84);_82.appendChild(_83);this.appendObj(id,_82,_80);return _82;};_._a._p.prototype.createPath2=function(id,_87,_88,_89,_8a,_8b,_8c,_8d,_8e){var _8f=this.createElement("shape");_8f.setAttribute("id",id);_8f.style.position="absolute";_8f.style.width=this.mainLayer.style.width;_8f.style.height=this.mainLayer.style.height;_8f.setAttribute("strokeColor",_89);_8f.setAttribute("strokeweight",this.getPxWidth(_87));_8f.style.zIndex=_8e||0;if(_8b){_8f.fillcolor=_8a;}var _90=this.createElement("path");var _91="";for(var i=0;i<_88.length;i++){if(i==0){_91+="M";}else{_91+=" L";}_91+=parseInt(_88[i].x)+","+parseInt(_88[i].y);}if(_8c){_91+=" X E";}else{_91+=" E nf ";}_90.setAttribute("v",_91);_8f.appendChild(_90);this.appendObj(id,_8f,_8d);return _8f;};_._a._p.prototype.modifyPath=function(id,_94){var obj=this.objectArr[id];if(!obj){return;}var _96=null;var _97="";for(var _98=obj.firstChild;_98!=null;_98=_98.nextSibling){if(_98.nodeName=="path"){_96=_98;break;}}if(_96){for(var i=0;i<_94.pointList.length;i++){if(i==0){_97+="M";}else{_97+=" L";}_97+=parseInt(_94.pointList[i].x)+","+parseInt(_94.pointList[i].y);}if(_94.closeFlag){_97+=" X E";}else{_97+=" E nf";}_96.v=_97;}};_._a._p.prototype.modifyRectangle=function(id,_9b){var obj=this.objectArr[id];if(!obj){return;}if(_9b.x!=null){obj.style.left=_9b.x;}if(_9b.y!=null){obj.style.top=_9b.y;}if(_9b.width!=null){obj.style.width=_9b.width;}if(_9b.height!=null){obj.style.height=_9b.height;}};_._a._p.prototype.modifyArc=function(id,_9e){var obj=this.objectArr[id];if(!obj){return;}if(_9e.centerX!=null){obj.style.left=_9e.centerX;}if(_9e.centerY!=null){obj.style.top=_9e.centerY;}if(_9e.radius!=null&&_9e.startAngle!=null&&_9e.endAngle!=null){var r=parseInt(_9e.radius);var _a1=parseInt(23600000*_9e.startAngle/360);var _a2=parseInt((_9e.endAngle-_9e.startAngle)/360*23600000);obj.path="M 0 0 AE 0 0 "+r+" "+r+" "+_a1+" "+_a2+" X E";}};_._a._p.prototype.modifyLine=function(id,_a4){var obj=this.objectArr[id];if(!obj){return;}};_._a._p.prototype.appendObj=function(id,obj,_a8){this.objectArr[id]=obj;_a8=(_a8!=null)?_a8:true;obj.style.visibility="visible";obj.style.display="none";if(_a8){this.mainLayer.appendChild(obj);}this.mainLayer.style.visibility="";obj.style.display="";obj.style.visibility="";};_._a._p.prototype.addLinearGradient=function(id,_aa,_ab,_ac){var _ad="0";if(typeof _aa!="number"){switch(_aa.toLowerCase()){case "left_right":_ad="270";break;case "right_left":_ad="90";break;case "top_bottom":_ad="180";break;case "bottom_top":_ad="0";break;}}else{_ad=_aa%360;_ad-=90;_ad=(_ad<0)?_ad+360:_ad;}var _ae=this.createElement("fill");_ae.setAttribute("type","Gradient");_ae.setAttribute("angle",_ad);_ae.setAttribute("color",_ab);_ae.setAttribute("color2",_ac);this.objectArr[id].appendChild(_ae);};_._a._p.prototype.addRadialGradient=function(id,x,y,_b2,_b3){var _b4="0";gradientType=0;if(typeof gradientType!="number"){switch(gradientType.toLowerCase()){case "left_right":_b4="270";break;case "right_left":_b4="90";break;case "top_bottom":_b4="180";break;case "bottom_top":_b4="0";break;}}else{_b4=gradientType%360;_b4-=90;_b4=(_b4<0)?_b4+360:_b4;}var _b5=this.createElement("fill");_b5.setAttribute("type","Gradient");_b5.setAttribute("angle",_b4);_b5.setAttribute("color",_b2);_b5.setAttribute("color2",_b3);this.objectArr[id].appendChild(_b5);};_._a._p.prototype.add3DEffect=function(id,_b7){var _b8=this.createElement("extrusion");_b8.setAttribute("on","true");_b8.setAttribute("backdepth",_b7+"px");this.objectArr[id].appendChild(_b8);};_._a._p.prototype.addOpacity=function(id,_ba){var _bb=this.createElement("stroke");_bb.setAttribute("opacity","50%");this.objectArr[id].appendChild(_bb);};_._a._p.prototype.createElement=function(_bc){var _bd;_bd=document.createElement("v:"+_bc);if(_._G.isIE(8)&&navigator.userAgent.indexOf("MSIE 8.0")>-1){var _be=navigator.userAgent.indexOf("Trident");var _bf=navigator.userAgent.indexOf("/",_be);var _c0=navigator.userAgent.indexOf(".",_bf);var _c1=parseInt(navigator.userAgent.substring(_bf+1,_c0),10);if(_c1>=5){_bd=document.createElement("v:"+_bc);}else{_bd.style.BEHAVIOR="url(#default#VML)";}}else{_bd=document.createElement("v:"+_bc);}return _bd;};;WebSquare.uiplugin.vmlToolkit=_._a._p;_._a.ai=function(id,_2,_3,_4){this.id=id;this.platformType=_3||"";this.options=_.extend({appendMode:"append"},_4||{});if(this.platformType==""){this.platformType=_.graphicPlatformType;}this.makeMainLayer(_2);this.hasMainCanvas=false;this.drawToolkit=null;this.setDrawToolkit(this.options);};_._a.ai.prototype.setDrawToolkit=function(_5){try{switch(this.platformType){case "svg":imports("uiplugin/graphicUtil/svgToolkit.js");this.drawToolkit=new _._a._d(this,_5);break;case "vml":imports("uiplugin/graphicUtil/vmlToolkit.js");this.drawToolkit=new _._a._p(this,_5);break;case "silverlight":break;case "canvas":break;}}catch(e){_.exception.printStackTrace(e);}};_._a.ai.prototype.setSize=function(_6,_7){this.drawToolkit.setSize(_6,_7);};_._a.ai.prototype.makeMainLayer=function(_8){this.render=_8;};_._a.ai.prototype.rotate=function(_9){this.drawToolkit.rotate(_9);};_._a.ai.prototype.getRotateAngle=function(){return this.drawToolkit.getRotateAngle();};_._a.ai.prototype.get3DColor=function(_a,_b,_c){if(_b=="dark"){return this.getDarkColor(_a,_c);}else{return this.getBrightColor(_a,_c);}};_._a.ai.prototype.getDarkColor=function(_d,_e){var r;var g;var b;if(_d.indexOf("#")>-1){r=_._G.hexacodetoDbl(_d.substr(1,2));g=_._G.hexacodetoDbl(_d.substr(3,2));b=_._G.hexacodetoDbl(_d.substr(5,2));}else{r=255;g=255;b=255;}var _12=r-(r)/_e;if(_12<0){_12=0;}var _13=g-(g)/_e;if(_13<0){_13=0;}var _14=b-(b)/_e;if(_14<0){_14=0;}return "#"+this.getChangedHexacode(_12)+this.getChangedHexacode(_13)+this.getChangedHexacode(_14);};_._a.ai.prototype.getBrightColor=function(_15,_16){var r;var g;var b;if(_15.indexOf("#")>-1){r=_._G.hexacodetoDbl(_15.substr(1,2));g=_._G.hexacodetoDbl(_15.substr(3,2));b=_._G.hexacodetoDbl(_15.substr(5,2));}else{r=255;g=255;b=255;}var _1a=r+(r)/_16;if(_1a>255){_1a=255;}var _1b=g+(g)/_16;if(_1b>255){_1b=255;}var _1c=b+(b)/_16;if(_1c>255){_1c=255;}return "#"+this.getChangedHexacode(_1a)+this.getChangedHexacode(_1b)+this.getChangedHexacode(_1c);};_._a.ai.prototype.getChangedHexacode=function(_1d){_1d=_._G.dbltoHexacode(_1d);_1d="0000".substring(0,2-_1d.length)+_1d;return _1d;};_._a.ai.prototype.getRenderingObj=function(id){return this.drawToolkit.objectArr[id];};;WebSquare.uiplugin.graphicUtil=_._a.ai;requires("uiplugin/graphicUtil/graphicUtil.js");_._a.aD=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aD.prototype,_._q.prototype);_._a.aD.prototype.defaultOptions={pluginType:"uiplugin.rectangle",pluginName:"rectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:0,borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:"left_right"};_._a.aD.prototype.initialize=function(_4){try{this.mainGU=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aD.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2rectangle "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aD.prototype.setAction=function(){try{var x=0;var y=0;var _9=0;var _a=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}if(this.options.width!=null){_9=this.options.width;}else{_9=this.render.offsetWidth;}if(this.options.height!=null){_a=this.options.height;}else{_a=this.render.offsetHeight;}this.mainGU=new _._a.ai(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRectangle(this.id+"_graphic",this.options.borderWidth,x,y,_9,_a,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aD.prototype.refreshItemset=function(){};_._a.aD.prototype.refresh=function(){};_._a.aD.prototype.setSize=function(_b,_c){try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_b,_c);}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.rectangle=_._a.aD;requires("uiplugin/graphicUtil/graphicUtil.js");_._a._C=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._C.prototype,_._q.prototype);_._a._C.prototype.defaultOptions={pluginType:"uiplugin.roundRectangle",pluginName:"roundRectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:"1px",borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:""};_._a._C.prototype.initialize=function(_4){try{this.mainGU=null;this.gradientList=[];if(_4){this.gradientList=_._t.getElementsByTagName(_4,"gradient",_._h._XML_NAMESPACE.W2);if(this.gradientList.length>0){var _5=this.gradientList[0];this.options.color1=_.WebSquareparser.getAttribute(_5,"color1");this.options.color2=_.WebSquareparser.getAttribute(_5,"color2");this.options.gradientType=_.WebSquareparser.getAttribute(_5,"gradientType");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._C.prototype.toHTML=function(){try{var _6=[];var _7=(!this.options.style)?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' "+_7+" class='w2roundRectangle "+this.options.className+"'>");_6.push("</div>");return _6.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._C.prototype.setAction=function(){try{var x=0;var y=0;var _a=0;var _b=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}var _c=_._h.makeStyle(this.options.style);if(this.options.width!=null){_a=this.options.width;}else{_a=parseInt(_c.width);}if(this.options.height!=null){_b=this.options.height;}else{_b=parseInt(_c.height);}this.mainGU=new _._a.ai(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRoundRect(this.id+"_graphic",this.options.borderWidth,x,y,_a,_b,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);if(this.options.gradientType!=""){this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",this.options.gradientType,this.options.color1,this.options.color2);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._C.prototype.gradient=function(_d,_e,_f){try{this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",_d,_e,_f);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._C.prototype.setSize=function(_10,_11){try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_10,_11);}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.roundRectangle=_._a._C;_._a._t=function(_1){this.tableObj=_1;this.editRow=-1;this.editCol=-1;this.cursorRow=-1;this.cursorCol=-1;this.isFocused=false;this.editMode="select";this.editType="cell";this.tableObj.event.addListener(this.tableObj.render,"onclick",this.tableObj.event.bindAsEventListener(this,this.handleClickEvent));this.tableObj.event.addListener(this.tableObj.render,"onmouseover",this.tableObj.event.bindAsEventListener(this,this.handleMouseoverEvent));this.tableObj.event.addListener(this.tableObj.render,"onkeydown",this.tableObj.event.bindAsEventListener(this,this.handleKeydownEvent));this.tableObj.event.addListener(this.tableObj.render,"onfocus",this.tableObj.event.bindAsEventListener(this,this.confirmEditor));this.tableObj.event.addListener(document,"onclick",this.tableObj.event.bindAsEventListener(this,this.confirmEditor));};_._a._t.prototype.placeEditor=function(_2,_3){this.confirmEditor();var _4=this.tableObj.getCell(_2,_3);var _5=_4.innerHTML;var _6=_4.offsetWidth;var _7=document.createElement("input");_7.className="table_modify";_7.value=_5;_7.style.width=_4.offsetWidth+"px";_4.innerHTML="";_4.appendChild(_7);_7.select();this.editRow=_2;this.editCol=_3;};_._a._t.prototype.confirmEditor=function(){if(this.editRow!=-1||this.editCol!=-1){var _8=this.tableObj.getCell(this.editRow,this.editCol);_8.innerHTML=_8.firstChild.value;}this.editRow=-1;this.editCol=-1;};_._a._t.prototype.setCursorIndex=function(_9,_a){var _b=this.cursorRow;var _c=this.cursorCol;var _d=this.tableObj.getRow(this.cursorRow);var _e=this.tableObj.getCell(this.cursorRow,this.cursorCol);var _f=this.tableObj.getRow(_9);var _10=this.tableObj.getCell(_9,_a);if(!_f||!_10){return;}if(_d){this.tableObj.removeClass(_d,"w2table_row_over");}if(_e){this.tableObj.removeClass(_e,"w2table_col_over");}if(_f){this.tableObj.addClass(_f,"w2table_row_over");}if(_10){this.tableObj.addClass(_10,"w2table_col_over");}this.cursorRow=parseInt(_9);this.cursorCol=parseInt(_a);};_._a._t.prototype.handleClickEvent=function(e){_._F.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.tableObj.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");this.placeEditor(row,col);}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}it=null;};_._a._t.prototype.handleKeydownEvent=function(e){var _16=(e.charCode)?e.charCode:e.keyCode;$l("keyCode : "+_16);if(_16==13||_16==27||(_16>30&&_16<41)){_._F.stopEvent(e);}if(_16==37){this.setCursorIndex(this.cursorRow,this.cursorCol-1);}else{if(_16==38){this.setCursorIndex(this.cursorRow-1,this.cursorCol);}else{if(_16==39){this.setCursorIndex(this.cursorRow,this.cursorCol+1);}else{if(_16==40){this.setCursorIndex(this.cursorRow+1,this.cursorCol);}else{if(_16==13){this.confirmEditor();this.setCursorIndex(this.cursorRow+1,this.cursorCol);this.tableObj.render.focus();}else{if(_16==27){this.confirmEditor();}else{if(_16==33){}else{if(_16==34){}else{if(_16==35){}else{if(_16==36){}else{if(_16==113){this.placeEditor(this.cursorRow,this.cursorCol);}}}}}}}}}}}};_._a._t.prototype.handleMouseoverEvent=function(e){_._F.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");this.setCursorIndex(row,col);}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}};_._a._t.prototype.handleMouseoutEvent=function(e){_._F.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}};;WebSquare.uiplugin.editableTable=_._a._t;_._a._a=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._a.prototype,_._q.prototype);_._a._a.prototype.defaultOptions={pluginType:"uiplugin.itemTable",pluginName:"itemTable",row:"5",col:"1",submenuSize:"fixed",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",w2table:"w2table",w2table_main:"w2table_main",w2table_row:"w2table_row",w2table_col:"w2table_col",w2table_col_over:"w2table_col_over",w2table_col_checkbox:"w2table_col_checkbox",w2table_col_label:"w2table_col_label",defaultStyle:"",checkbox:false,escape:false};_._a._a.prototype.initialize=function(_4){this.rowCount=this.options.row;this.colCount=this.options.col;this.selectedCell=null;this.data=[];this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};this.inputBlurInside=false;};_._a._a.prototype.toHTML=function(){var _5=new Date();var _6=[];var _7=(!this.options.style)?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' aria-expanded='true' "+_7+" class='"+this.options.w2table+" "+this.options.className+"' tabIndex='0'>");_6.push("</div>");return _6.join("");};_._a._a.prototype.addClickEventListener=function(_8){this.clickFunc=_8;};_._a._a.prototype.addKeyDownEventListener=function(_9){this.keyDownFunc=_9;};_._a._a.prototype.setItemArr=function(_a){var _b=[];var _c=(this.options.submenuSize=="")?"style='width:0px'":"style='table-layout:"+this.options.submenuSize+"; width:0px;'";_b.push("<table id='"+this.id+"_main"+"' "+_c+" class='"+this.options.w2table_main+"' cellpadding='0' cellspacing='0'>");for(var _d=0;_d<_a.length;++_d){_b.push("<tr class='"+this.options.w2table_row+"' row='"+_d+"'>");for(var _e=0;_e<1;++_e){var _f=this.options.escape?_._t._encode(_a[_d].label):_a[_d].label;var _10=_a[_d].value;var _11=(this.options.defaultStyle=="")?"":"style='"+this.options.defaultStyle+"'";_b.push("<td id='"+this.id+"_"+_d+"' role='listitem option' aria-setsize='"+_a.length+"' aria-posinset='"+(_d+1)+"' "+_11+" class='"+this.options.w2table_col+"' col='"+_e+"' index='"+_d+"'>");if(this.options.checkbox==true){var _12=this.id+"_"+_d+"_checkbox";_b.push("<input type='checkbox' id='"+_12+"' class='"+this.options.w2table_col_checkbox+"' value='"+_10+"'/>");_b.push("<label type='checkbox' for='"+_12+"' class='"+this.options.w2table_col_label+"'>");_b.push(_f);_b.push("</label>");}else{_b.push(_f);}_b.push("</td>");}_b.push("</tr>");}_b.push("</table>");var _13=false;if(this.render.style.display=="none"){this.render.style.display="";_13=true;}this.render.innerHTML=_b.join("");this.mainTable=this.render.firstChild;this.dom["td"]=null;this.dom.tds=this.getDomList("td","td");if(this.dom.tds&&this.dom.tds.length>0){var _14=this.dom.tds[0].offsetHeight;var _15=(this.options.row>_a.length)?_a.length:this.options.row;this.setStyle("height",(_15*_14)+"px");this.setStyle("width",(this.dom.tds[0].offsetWidth)+"px");}if(_13){this.render.style.display="none";}};_._a._a.prototype.setAction=function(){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){try{_._F.stopPropagation(e);}catch(e){}}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;_._F.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{_._F.stopPropagation(e);}catch(e){}}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));};_._a._a.prototype.handleMouseOverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){var _1b=this.getElementById(this.id).firstChild.firstChild.childNodes;for(var i=0;i<_1b.length;i++){var _1d=_1b[i].firstChild;this.removeClass(_1d,this.options.w2table_col_over);}this.selectedCell=it.getElement();this.addClass(this.selectedCell,this.options.w2table_col_over);}}}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.handleMouseOutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.removeClass(it.getElement(),this.options.w2table_col_over);this.selectedCell=null;}}}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.handleClickEvent=function(e){try{_._F.stopPropagation(e);var _21=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.selectedCell=it.getElement();if(this.options.checkbox&&!_21){var _23=this.selectedCell.index||this.selectedCell.getAttribute("index");var _24=document.getElementById(this.id+"_"+_23+"_checkbox");_24.click();}else{this.fireClick(e);}}else{if(it.match(this.options.w2table_col_checkbox)||it.match(this.options.w2table_col_label)){_21=true;}}}}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.focus=function(){try{this.inputBlurInside=true;if(_._G.isIE()){this.render.firstChild.focus();}else{this.render.focus();}}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.handleKeydownEvent=function(e){try{var _26=(e.charCode)?e.charCode:e.keyCode;var _27=this.getSelectedIndex();_27=parseInt(_27);if(_26==38){if(_27>0){this.setSelectedIndex(_27-1);}}else{if(_26==40){if(_27+1<this.getItemCount()){this.setSelectedIndex(_27+1);}}else{if(_26==32){if(this.options.checkbox){var _28=document.getElementById(this.id+"_"+_27+"_checkbox");_28.click();}}else{if(_26==33){var _29=_27-this.rowCount;if(_29<0){_29=0;}this.setSelectedIndex(_29);}else{if(_26==34){var _29=_27+this.rowCount;if(_29>=this.getItemCount()){_29=this.getItemCount()-1;}this.setSelectedIndex(_29);}else{if(_26==35){this.setSelectedIndex(this.getItemCount()-1);}else{if(_26==36){this.setSelectedIndex(0);}else{if(_26==13){if(!this.options.checkbox){this.fireClick(e);}}else{this.findItemStartedWithKeyChar(_26);}}}}}}}}this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex());if(this.keyDownFunc){this.keyDownFunc(e);}_._F.stopEvent(e);}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.setSelectedIndex=function(idx){if(!this.dom.tds){return;}idx=(idx<0)?0:(idx>=this.dom.tds.length)?this.dom.tds.length-1:idx;this.removeClass(this.selectedCell,this.options.w2table_col_over);this.selectedCell=this.dom.tds[idx];this.addClass(this.selectedCell,this.options.w2table_col_over);if(this.selectedCell.offsetTop>this.render.offsetHeight/2){var _2b=Math.min(this.getItemCount(),this.rowCount);var _2c=this.dom.tds[idx-parseInt(_2b/2)];this.render.scrollTop=_2c.offsetTop;}else{this.render.scrollTop=0;}};_._a._a.prototype.getItemCount=function(){return this.dom.tds?this.dom.tds.length:0;};_._a._a.prototype.fireClick=function(e){try{var _2e=this.selectedCell.index;if(typeof _2e=="undefined"){_2e=this.selectedCell.getAttribute("index");}this.clickFunc.call(e,_2e);}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.findItemStartedWithKeyChar=function(_2f){try{var _30=this.keyCharHash[_2f];var _31=-1;if(_30){var _32=this.selectedCell.index;if(typeof selectedIndex=="undefined"){_32=this.selectedCell.getAttribute("index");}var _33=0;while(1){++_32;++_33;_32=_32%this.dom.tds.length;if(this.dom.tds[_32].innerHTML.toLowerCase().startsWith(_30)){_31=_32;break;}if(_33>this.dom.tds.length){break;}}if(_31>-1){this.setSelectedIndex(_31);}}}catch(ex){_.exception.printStackTrace(ex);}};_._a._a.prototype.getSelectedIndex=function(){try{var _34=-1;try{if(this.selectedCell){_34=this.selectedCell.index;if(typeof _34=="undefined"){_34=this.selectedCell.getAttribute("index");}}}catch(e){}return _34;}catch(e){_.exception.printStackTrace(e,null,this);}};requires("uiplugin.grid");_._a.gridItemTable=function(id,_36,_37){_._q.call(this,id,_36,_37);};_.extend(_._a.gridItemTable.prototype,_._q.prototype);_._a.gridItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridItemTable",pluginName:"gridItemTable"};_._a.gridItemTable.prototype.initialize=function(_38){try{var _39=[];_39.push("<w2:grid xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_39.push("id=\""+this.id+"_grid"+"\" style=\""+this.options.style+"\" class=\"w2gridItemTable_main\" readOnly=\"true\" ");_39.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.itemsetObj.rowMouseOver+"\" visibleRowNum=\""+this.options.itemsetObj.visibleRowNum+"\" autoFit=\""+this.options.itemsetObj.autoFit+"\" hideHeader=\""+this.options.itemsetObj.hideHeader+"\" rowMouseOverColor=\""+this.options.itemsetObj.rowMouseOverColor+"\" selectedRowColor=\""+this.options.itemsetObj.selectedRowColor+"\">");_39.push("<w2:header style=\"height:20px;\" id=\"header\">");_39.push("<w2:row>");var _3a=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _3c=this.options.itemsetObj.items[i].style.split(";");for(var j=0;j<_3c.length;j++){var _3e=_3c[j].split(":");if(_3e[0].wq_trim()=="width"){_3a.push(parseInt(_3e[1]));break;}}if(j==_3c.length){_3a.push(70);}}var _3f=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _3c=this.options.itemsetObj.items[i].style.split(";");for(var j=0;j<_3c.length;j++){var _3e=_3c[j].split(":");if(_3e[0].wq_trim()=="text-align"){_3f.push(_3e[1]);break;}}if(j==_3c.length){_3f.push("center");}}var _40=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _3c=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_3c.length;j++){var _3e=_3c[j].split(":");if(_3e[0].wq_trim()=="text-align"){_40.push(_3e[1]);break;}}if(j==_3c.length){_40.push("center");}}var _41=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _42=this.options.itemsetObj.items[i].hidden;if(_42=="true"){_41.push("true");}else{_41.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}for(var i=0;i<this.options.itemsetObj.items.length;i++){_39.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_3a[i]+"\" textAlign=\""+_40[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_39.push("</w2:column>");}_39.push("</w2:row>");_39.push("</w2:header>");_39.push("<w2:gBody id=\"gBody\">");_39.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_39.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_3a[i]+"\" textAlign=\""+_3f[i]+"\" id=\""+this.options.itemsetObj.items[i].id+"\" hidden=\""+_41[i]+"\">");_39.push("</w2:column>");}_39.push("</w2:row>");_39.push("</w2:gBody>");_39.push("</w2:grid>");var _43=_._t.parse(_39.join(""),true);this.grid=new _._a.al(this.id+"_grid",{},_43.firstChild);this.addControl(this.grid);this.inputBlurInside=false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.gridItemTable.prototype.toHTML=function(){var _44=[];var _45=(!this.options.style)?"":"style='"+this.options.style+"'";_44.push("<div id='"+this.id+"' aria-expanded='true' "+_45+" class='w2gridItemTable "+this.options.className+"'>");_44.push(this.grid.toHTML());_44.push("</div>");return _44.join("");};_._a.gridItemTable.prototype.setAction=function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{this.inputBlurInside=true;_._F.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{_._F.stopPropagation(e);}catch(e){}}));};_._a.gridItemTable.prototype.setFocusedCell=function(row,col){this.inputBlurInside=true;this.grid.setFocusedCell(row,col);};_._a.gridItemTable.prototype.setSelectedIndex=function(idx,_4b){var _4c=this.grid.getDataLength();if(_4c==0){return;}idx=(idx<0)?0:(idx>=_4c)?_4c-1:idx;var _4d=0;for(var i=0;i<this.grid.filteredRowIndexArr.length;i++){if(idx==this.grid.filteredRowIndexArr[i]){idx=i;break;}}var _4f=this.grid.getVisibleRowNum();var _50=idx-parseInt(_4f/2);this.grid.setTopRowIndex(_50);if(!_4b){this.setFocusedCell(idx,0);}};_._a.gridItemTable.prototype.hide=function(){try{this.inputBlurInside=false;_._v.hide(this.render);}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.itemTable=_._a._a;requires("uiplugin/table/editableTable.js");_._a._I=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._I.prototype,_._q.prototype);_._a._I.prototype.defaultOptions={pluginType:"uiplugin.table",pluginName:"table",row:"0",col:"0",showRowCount:"3",showColCount:"1",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",tdStyle:"",tdClass:""};_._a._I.prototype.initialize=function(_4){this.rowCount=parseInt(this.options.row);this.colCount=parseInt(this.options.col);this.data=[];};_._a._I.prototype.toHTML=function(){var _5=new Date();var _6=[];var _7=(!this.options.style)?"":"style='"+this.options.style+"'";_6.push("<div id='"+this.id+"' "+_7+" class='w2table "+this.options.className+"'>");_6.push("<table id='"+this.id+"_table' class='w2table_main' cellpadding='0' cellspacing='0'>");_6.push("<tbody>");for(var _8=0;_8<this.rowCount;++_8){_6.push("<tr class='w2table_row' row='"+_8+"'>");for(var _9=0;_9<this.colCount;++_9){_6.push("<td class='w2table_col' col='"+_9+"'>");_6.push("</td>");}_6.push("</tr>");}_6.push("</tbody>");_6.push("</table>");_6.push("</div>");return _6.join("");};_._a._I.prototype.setAction=function(){this.dom.table=document.getElementById(this.id+"_table");this.dom.tableBody=this.dom.table.firstChild;};_._a._I.prototype.getCell=function(_a,_b){var _c=null;var _d=null;var _e=this.dom.tableBody.childNodes;if(_a>-1&&_a<_e.length){_c=_e[_a];var _f=_c.childNodes;if(_b>-1&&_b<_f.length){_d=_f[_b];}}return _d;};_._a._I.prototype.getRow=function(row){var _11=null;var _12=this.dom.tableBody.childNodes;if(row>-1&&row<_12.length){_11=_12[row];}return _11;};_._a._I.prototype.getCellContents=function(row,col){var _15=this.getCell(row,col);if(_15){return _15.innerHTML;}else{return "";}};_._a._I.prototype.setCellContents=function(row,col,_18){var _19=this.getCell(row,col);if(_19){_19.innerHTML="";_19.appendChild(_18);}};_._a._I.prototype.setCellStyle=function(row,col,_1c){var _1d=this.getCell(row,col);if(_1d){_1d.style.cssText=_1d.style.cssText+";"+_1c;}};_._a._I.prototype.addRow=function(){try{var tr=_.document.createElement("tr");tr.className="w2table_row";var td=null;for(var col=0;col<this.colCount;col++){td=_.document.createElement("td");td.className="w2table_col";tr.appendChild(td);}this.dom.tableBody.appendChild(tr);this.rowCount++;}catch(e){_.exception.printStackTrace(e);}};_._a._I.prototype.addCol=function(){try{var tr=_.document.createElement("tr");tr.className="w2table_row";var td=null;for(var row=0;row<this.rowCount;row++){td=_.document.createElement("td");td.className="w2table_col";this.dom.tableBody.childNodes[row].appendChild(td);}this.colCount++;}catch(e){_.exception.printStackTrace(e);}};_._a._I.prototype.delRow=function(row){try{if(this.rowCount<1){return;}if(typeof row=="undefined"){row=this.rowCount-1;}this.dom.tableBody.removeChild(this.dom.tableBody.childNodes[this.rowCount-1]);this.rowCount--;}catch(e){_.exception.printStackTrace(e);}};_._a._I.prototype.delCol=function(col){try{if(this.colCount<1){return;}if(typeof col=="undefined"){col=this.colCount-1;}for(var row=0;row<this.rowCount;row++){var _27=this.dom.tableBody.childNodes[row];_27.removeChild(_27.childNodes[col]);}this.colCount--;}catch(e){_.exception.printStackTrace(e);}};_._a._I.prototype.refreshItemset=function(){};_._a._I.prototype.refresh=function(){};;WebSquare.uiplugin.table=_._a._I;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");_._a._J=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._J.prototype,_._q.prototype);_.extend(_._a._J.prototype,_.itemsetControl.prototype);_.extend(_._a._J.prototype,_.IValidate.prototype);_._a._J.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"component",userEvents:["onchange","onclose"],useOtherComponentId:"",useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",defaultStyle:"",activeStyle:"",defaultClass:"w2SelectDefault",activeClass:"w2SelectActive",disabledClass:"w2selectbox_disabled",useLocale:false,submenuSize:"auto",direction:"auto",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false};_._a._J.prototype.initialize=function(_4){try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=_._z.getMessage("SelectBox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=_._z.getMessage("SelectBox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}if(_4){var _5=_4.tagName.split(":")[0];var _6=_._t.findNode(_4,_5+":choices");if(_6){var _7=_._t.findNode(_6,_5+":gridItemset");if(_7&&_7.nodeName==_5+":gridItemset"){this.itemTableMode="grid";}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{this.initializeItemArr(_4);}this.setSelectItemArr();this.validator=new _._e.validateInvoker(this.id,this.options);this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.finalize=function(){try{if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.toHTML=function(){try{var _8=[];var _9=(!this.options.style)?"":"style='"+this.options.style+"'";var _a=(!this.options.title)?"":"title='"+this.options.title+"'";var _b=(!this.options.defaultStyle)?"":"style='"+this.options.defaultStyle+"'";var _c=(!this.options.textAlign)?_b:"style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_8.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_9+" class='w2selectbox "+this.options.className+"' tabIndex='0' "+_a+">");_8.push("<table class='w2selectbox_table_main'  cellpadding='0' cellspacing='0'>");_8.push("<tbody id='"+this.id+"_main_tbody'>");_8.push("<tr class='w2selectbox_row w2selectbox_row_main'>");_8.push("<td class='w2selectbox_col_label' "+_b+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2selectbox_label' "+_c+"></div></td>");_8.push("<td class='w2selectbox_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_8.push("</tr></tbody>");_8.push("</table>");_8.push("</div>");return _8.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");if(this.options.useOtherComponentId){_._h.setTimer(function(){this.otherComponent=window[this.options.useOtherComponentId];_.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;_.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){_._F.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){_.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";_.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{_.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _10=this.modelControl.getData();this.setValueNM(_10);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.refreshItemset=function(_11){try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw(false,_11);if(this.itemTableMode=="grid"){this.initializeGridItemArr(this.element);if(this.itemTable!=null&&this.itemTable.grid!=null){this.itemTable.grid.clearFilter();this.itemTable.grid.setData(this.gridItemArr);if(this.options.allOption&&this.gridItemArr.length>0){var _12=[];var _13=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_13==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_13=j;}_12.push("");}_12[_13==-1?0:_13]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_12,false);if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _15=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _17=this.itemTable.grid.getCellInfo(col).options.dataType;var _18=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_15[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_17=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_18;}else{if(a<b){return -1*_18;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_15});}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}if(this.modelControl.isBinded()){this.refresh();}else{if(this.options.submenuSize=="auto"){if(this.itemTable){var _1d=this.getMaxLabelSize();this.itemTable.setStyle("width",_1d+"px");}}if(this.getSelectedIndex()==-1&&this.getValue()==null){this.setSelectedIndexNM(0);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _1e=this.getValue();var _1f=this.modelControl.getData();if(this.setValueNM(_1f)==true){if(_1e!=this.getValue()){_._F.fireEvent(this,"onchange");}if(this.getValue()!=null&&_1f!=this.getValue()){this.modelControl.setData(this.getValue());}}else{this.setSelectedIndex(0);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.componentRedraw=function(_20,_21){try{this.setSelectItemArr();this.showRowIndex=0;if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}if(this.itemTableMode!="grid"){this.setSelectOptions();}if(this.itemArr.length>0){var _22=0;if(_21){if(_21!="replace"&&this.getSelectedIndex()>-1){_22=this.getSelectedIndex();}this.setSelectedIndexNM(_22);return;}var _23=this.itemArr[_22].label+"";if(_23.indexOf("&")>-1){_23=_23.wq_replaceAll("&","&amp;");}if(this.options.escape){_23=_._t._encode(_23);}this.dom.label.innerHTML=_23;}else{this.dom.label.innerHTML="";}this.setValueNM("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setLabelWidthByItemLength=function(){try{var _24=this.getMaxLabelSize();this.render.style.width=_24+"px";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getMaxLabelSize=function(){try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _25=0;for(var i=0;i<this.itemArr.length;i++){var _27=document.getElementById("selectbox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_25){_25=this.labelRuler.offsetWidth;}}var _28=document.getElementById(this.id+"_button");return _25+_28.offsetWidth+10;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSubLayer=function(){try{var _29=this;if(this.itemTable==null){if(this.itemTableMode=="grid"){this.itemTable=new _._a.gridItemTable(this.id+"_gridItemTable",{style:"position : absolute; width : "+this.itemsetObj.width+"; height : "+this.itemsetObj.height+";",itemsetObj:this.itemsetObj,className:this.options.className});this.itemTable.writeTo(_.getBody());this.itemTable.activate();this.itemTable.grid.setData(this.gridItemArr);this.itemTable.grid.addEvent("oncellclick",function(row,col){_29.focus();row=this.getRealRowIndex(row);_29.setSelectedIndex1(row);});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _2d=(e.charCode)?e.charCode:e.keyCode;if(_2d==13){_29.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_29.setSelectedIndex1(row);}}));if(this.options.allOption&&this.gridItemArr.length>0){var _2f=[];var _30=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_30==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_30=j;}_2f.push("");}_2f[_30==-1?0:_30]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_2f,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _32=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _34=this.itemTable.grid.getCellInfo(col).options.dataType;var _35=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_32[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_34=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_35;}else{if(a<b){return -1*_35;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_32});}}else{this.itemTable=new _._a._a(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_sb",w2table_main:"w2table_sb_main",w2table_row:"w2table_sb_row",w2table_col:"w2table_sb_col",w2table_col_over:"w2table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo(_.getBody());this.itemTable.activate();this.itemTable.addClickEventListener(function(_3a){_29.focus();_29.setSelectedIndex1(_3a);});this.setSelectOptions();this.setItemTable();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSelectOptions=function(){try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setItemTable=function(){try{var _3b=this.render.offsetWidth;var _3c=this.render.offsetHeight;var _3d=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _40=0;var _41=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_41;i++){_40+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_40+"px");}else{this.itemTable.setStyle("height","0px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_3b-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_3b)+"px";}else{this.itemTable.render.firstChild.style.width=(_3b-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _43=this.render.offsetWidth;var _44=this.itemTable.render.clientWidth;if(_44<_43-2){_44=_43-2;}this.itemTable.setStyle("width",_44+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_44+"px";}else{this.itemTable.render.firstChild.style.width=(_44-17)+"px";var _45=this.itemTable.render.firstChild.offsetWidth;if(_45>_44-17){this.itemTable.render.firstChild.style.width=_45+"px";this.itemTable.setStyle("width",(_45+17)+"px");}}if(this.getItemCount()===0){this.itemTable.setStyle("width","0px");this.itemTable.render.firstChild.style.width="0px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _46=this.options.direction;if(_46=="auto"){var _47=document.body.scrollTop;if(_47<document.documentElement.scrollTop){_47=document.documentElement.scrollTop;}var _48=top-_47;var _49=document.documentElement.clientHeight-(_48+this.render.offsetHeight);var _4a=this.itemTable.render.offsetHeight;if(_49<_4a&&_48>_4a){_46="up";}}if(_46=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_3d+this.itemTable.render.offsetWidth)){_3d=_3d+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTable.setPosition(_3d,top);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSelectItemArr=function(){try{if(this.options.sortOption!=""){var _4b=[];var _4c=null;if(this.options.sortOption=="label"){_4c=function(){return this.label;};}else{if(this.options.sortOption=="value"){_4c=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _4e=this.itemArr[i];_4e.toString=_4c;_4b.push(_4e);}_4b.sort();if(this.options.sortMethod=="descending"){_4b.reverse();}this.itemArr=_4b;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _4f=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_4f=_._t.decode(_4f).replace("&nbsp;"," ");this.itemArr=[{label:_4f,value:this.options.chooseOptionValue}].concat(this.itemArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getItemText=function(idx){try{var _51="";if(idx>-1&&idx<this.getItemCount()){_51=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_51=this.itemArr[idx].value+this.options.delimiter+_51;break;case "2":_51=_51+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _51;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.toggle=function(){try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.openSubLayer=function(){try{_.getBody().getLayerListener().show(this.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype._openSubLayer=function(){try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){_.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();if(this.selectedIndex!=-1){this.itemTable.setSelectedIndex(this.selectedIndex);}this.isOpen=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype._openOtherLayer=function(){try{var _52=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();_52=this.itemTable;}if(!this.isOpen){_52.show();var _53=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var _55=this.options.direction;if(_55=="auto"){var _56=document.body.scrollTop;if(_56<document.documentElement.scrollTop){_56=document.documentElement.scrollTop;}var _57=top-_56;var _58=document.documentElement.clientHeight-(_57+this.render.offsetHeight);var _59=_52.render.offsetHeight;if(_58<_59&&_57>_59){_55="up";}}if(_55=="up"){top=top-_52.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_53+_52.render.offsetWidth)){_53=_53+this.render.offsetWidth-_52.render.offsetWidth;}_52.setPosition(_53,top);this.isOpen=true;}if(this.itemTableMode=="grid"){var _5a;if(this.targetFocusedIndex!=null){_5a=this.targetFocusedIndex;}else{_5a=this.itemTable.grid.getFocusedRowIndex();if(_5a==-1){_5a=0;}}this.itemTable.grid.setFocusedCell(_5a,0);this.targetFocusedIndex=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.closeSubLayer=function(_5b){try{var _5c={"documentClick":_5b};if(this.itemTableMode=="grid"){this.itemTable.grid.applyFocusedCellOut(this.itemTable.grid.focusedCell[0]);}_.getBody().getLayerListener().hide(this.id,_5c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype._closeSubLayer=function(_5d){try{var _5d=_5d||{};var _5e=_5d.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){_.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;if(_5e===true){_._F.fireEvent(this,"onclose",true);}else{_._F.fireEvent(this,"onclose",false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype._closeOtherLayer=function(_5f){try{var _5f=_5f||{};var _60=_5f.documentClick;var _61=this.otherComponent;if(this.itemTableMode=="grid"){_61=this.itemTable;}if(this.isOpen&&_61!=null){_61.hide();this.isOpen=false;if(_60===true){_._F.fireEvent(this,"onclose",true);}else{_._F.fireEvent(this,"onclose",false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSelectedIndex=function(idx){try{if(_._G.isNull(idx)){return;}if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return;}idx=parseInt(idx);if(this.modelControl.isBinded()){var ret=true;if(this.modelControl.getData()!=this.itemArr[idx].value){ret=_._C.setInstanceValue(this.modelControl.ref,this.itemArr[idx].value);}if(!ret){var _64=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_64!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}}}else{var _64=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_64!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSelectedIndexNM=function(idx){try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _66=this.itemArr[idx].label+"";if(_66.indexOf("&")>-1){_66=_66.wq_replaceAll("&","&amp;");}if(this.options.escape){_66=_._t._encode(_66);}this.dom.label.innerHTML=_66;if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setValue=function(_67){try{if(_._G.isNull(_67)){return;}var _68=this.getValue();if(this.modelControl.isBinded()){var ret=true;if(this.modelControl.getData()!=_67){ret=_._C.setInstanceValue(this.modelControl.ref,_67);}if(!ret){var _68=this.getValue();if(this.setValueNM(_67)==true){if(_68!=this.getValue()){_._F.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}}else{var _68=this.getValue();if(this.setValueNM(_67)==true){if(_68!=this.getValue()){_._F.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setValueNM=function(_6a){try{if(_._G.isNull(_6a)){return;}_6a=_6a.toString();var _6b=this.getItemCount();for(var i=0;i<_6b;i++){if(this.itemArr[i].value==_6a){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getValue=function(){try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setText=function(_6d){try{var _6e=this.getItemCount();var _6f="";for(var i=0;i<_6e;i++){if(this.itemArr[i].label==_6d){_6f=this.itemArr[i].value;}}this.setValue(_6f);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.getText=function(){try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].label;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.addItemArr=function(_71,_72){try{this.itemArr.push({label:_71,value:_72});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.addItem=function(_73,_74,idx){try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _76={};_76.value=_73;_76.label=_74;this.itemArr.splice(idx,0,_76);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return idx;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.deleteItem=function(idx){try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _78=null;if(idx>=0&&idx<this.getItemCount()){_78=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return _78;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.removeAll=function(_79){try{var _7a=this.getValue();this.itemArr=new Array();if(_79){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _7b=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_7b=_._t.decode(_7b).replace("&nbsp;"," ");this.itemArr=[{label:_7b,value:this.options.chooseOptionValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.dom.label){if(this.itemArr.length>0){var _7b=this.itemArr[0].label+"";if(_7b.indexOf("&")>-1){_7b=_7b.wq_replaceAll("&","&amp;");}if(this.options.escape){_7b=_._t._encode(_7b);}this.dom.label.innerHTML=_7b;}else{this.dom.label.innerHTML="";}}if(this.options.setDataRemoveAll){if(_79){this.setSelectedIndex(0);}else{this.selectedIndex=-1;if(!this.dom.label){this.dom.select.selectedIndex=-1;}if(this.modelControl.isBinded()){this.modelControl.setData("");}if(_7a!=this.getValue()){_._F.fireEvent(this,"onchange");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.onPropertyChange=function(_7c,_7d){try{switch(_7c){case "disabled":if(this.options.renderType=="component"){if(_7d){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_7d){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _7e=this.dom.button;if(_7d==true){this.addClass(this.render,this.options.disabledClass);if(_7e!=null){this.addClass(_7e,"w2selectbox_button_disabled");}}else{this.removeClass(this.render,this.options.disabledClass);if(_7e!=null){this.removeClass(_7e,"w2selectbox_button_disabled");}}break;case "readOnly":var _7e=this.dom.button;if(_7d==true){this.addClass(this.render,"w2selectbox_readOnly");if(_7e!=null){this.addClass(_7e,"w2selectbox_button_readOnly");}}else{this.removeClass(this.render,"w2selectbox_readOnly");if(_7e!=null){this.removeClass(_7e,"w2selectbox_button_readOnly");}}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setSelectedIndex1=function(idx){try{this.setSelectedIndex(idx);this.closeSubLayer();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.validate=function(){try{var _80=this.validator.validate(this.getValue());if(!_80){this.focus();}return _80;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setInitValue=function(_81){try{var _82=this.getValue();if(this.options.initValue===""){if(this.itemArr&&this.itemArr[0]){this.options.initValue=this.itemArr[0].value;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_81.fireEvent){if(_82!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.hide=function(){try{this.closeSubLayer();_._r.prototype.hide.call(this);}catch(e){_.exception.printStackTrace(e);}};_._a._J.prototype.handleClickEvent=function(e){try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleKeydownEvent=function(e){try{var _85=(e.charCode)?e.charCode:e.keyCode;var _86=this.getSelectedIndex();if(_85==13){this.handleClickEvent(e);return;}if(this.isOpen){return;}if(_85==38){if(_86>0){if(this.itemTableMode=="grid"){var _87;var _88;var _89=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_89.length;i++){if(_86==_89[i]){_87=_89[i-1];_88=i-1;break;}}this.setSelectedIndex(_87);this.targetFocusedIndex=_88;}else{this.setSelectedIndex(_86-1);}}}else{if(_85==40){if(this.itemTableMode=="grid"){var _87;var _88;var _89=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_89.length;i++){if(_86==_89[i]){_87=_89[i+1];_88=i+1;break;}}if(_87<this.getItemCount()){this.setSelectedIndex(_87);this.targetFocusedIndex=_88;}}else{if(_86+1<this.getItemCount()){this.setSelectedIndex(_86+1);}}}else{if(_85==33){if(this.itemTableMode=="grid"){var _87;var _88;var _89=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_89.length;i++){if(_86==_89[i]){var _8b;if(this.itemTable.grid.options.visibleRowNum=="all"){_87=0;_88=0;}else{_87=_89[i-(this.itemTable.grid.options.visibleRowNum-0)];_88=i-(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_88<0){this.targetFocusedIndex=0;this.setSelectedIndex(_89[0]);}else{this.setSelectedIndex(_87);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_87);}}else{var _8c=_86-this.options.visibleRowNum;if(_8c<0){_8c=0;}this.setSelectedIndex(_8c);}}else{if(_85==34){if(this.itemTableMode=="grid"){var _87;var _88;var _89=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_89.length;i++){if(_86==_89[i]){var _8b;if(this.itemTable.grid.options.visibleRowNum=="all"){_87=_89[this.getItemCount()-1];_88=this.getItemCount();}else{_87=_89[i+(this.itemTable.grid.options.visibleRowNum-0)];_88=i+(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_88>=this.getItemCount()){this.setSelectedIndex(_89[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex(_87);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_87);}}else{var _8c=_86+this.options.visibleRowNum;if(_8c>=this.getItemCount()){_8c=this.getItemCount()-1;}this.setSelectedIndex(_8c);}}else{if(_85==35){if(this.itemTableMode=="grid"){var _89=this.itemTable.grid.filteredRowIndexArr;var _87=_89[this.getItemCount()-1];this.setSelectedIndex(_87);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex(this.getItemCount()-1);}}else{if(_85==36){if(this.itemTableMode=="grid"){var _89=this.itemTable.grid.filteredRowIndexArr;var _87=_89[0];this.setSelectedIndex(_87);this.targetFocusedIndex=0;}else{this.setSelectedIndex(0);}}else{this.findItemStartedWithKeyChar(_85);return;}}}}}}_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleMousewheelEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2selectbox_focus")){if(!this.isOpen){var _8f=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex(_8f-1);}else{this.setSelectedIndex(_8f+1);}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleFocusEvent=function(e){try{_._F.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_focus");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleBlurEvent=function(e){try{_._F.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_focus");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_over");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_over");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.findItemStartedWithKeyChar=function(_94){try{var _95=this.keyCharHash[_94];var _96=-1;if(_95){var _97=this.selectedIndex;var _98=0;while(1){++_97;++_98;_97=_97%this.itemArr.length;var _99=this.itemArr[_97].label.toLowerCase();if(_99.startsWith(_95)){_96=_97;break;}if(_98>this.itemArr.length){break;}}if(_96>-1){this.setSelectedIndex(_96);return true;}}if(_96==-1){return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._J.prototype.setRef=function(ref){["WebSquare.uiplugin.selectbox.prototype.setRef "];try{if(typeof ref=="string"&&ref.length>0){this.options.ref=ref;if(!this.modelControl.isBinded()){this.modelControl.ref=ref;this.modelControl.bindRef();}else{this.modelControl.setRef(ref);}this.refresh();}}catch(e){_.exception.printStackTrace(e);}};_._a.ar=function(id,_9c,_9d){_._q.call(this,id,_9c,_9d);};_.extend(_._a.ar.prototype,_._a._J.prototype);_._a.ar.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"native",userEvents:["onchange","onclose"],useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",displayMode:"0",delimiter:"\t",textAlign:"",useLocale:false,disabledClass:"w2selectbox_disabled",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:""};_._a.ar.prototype.initialize=function(_9e){try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=_._z.getMessage("SelectBox_all");this.defaultChooseOptionLabel=_._z.getMessage("SelectBox_choose");switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_9e);this.setSelectItemArr();this.validator=new _._e.validateInvoker(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.finalize=function(){};_._a.ar.prototype.toHTML=function(){try{var _9f=[];var _a0=(!this.options.style)?"":"style='"+this.options.style+"'";var _a1=(!this.options.title)?"":"title='"+this.options.title+"'";if(this.options.renderType=="select"){_9f.push("<select id='"+this.id+"' "+_a0+" class='w2selectbox_select "+this.options.className+"' "+_a1+">");for(var i=0;i<this.itemArr.length;i++){_9f.push("<option>"+this.itemArr[i].label+"</option>");}_9f.push("</select>");}else{_9f.push("<div id='"+this.id+"' "+_a0+" class='w2selectbox_native "+(_._G.isMobile()?"w2selectbox_native_mobile ":"")+(!this.options.labelWidthAuto?"fixedWidth ":"")+this.options.className+"'>");_9f.push("<div class='w2selectbox_native_innerDiv'>");_9f.push("<select class='w2selectbox_native_select' id='"+this.id+"_input_0' "+_a1+">");for(var i=0;i<this.itemArr.length;i++){_9f.push("<option>"+this.itemArr[i].label+"</option>");}_9f.push("</select>");_9f.push("</div>");_9f.push("</div>");}return _9f.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.setAction=function(){try{this.dom.select=this.options.renderType=="select"?this.render:this.render.firstChild.firstChild;var _a3=_._G.isIE(6)||_._G.isIE(7);if(!_a3&&this.options.renderType=="native"){var _a4=this.render.clientHeight-this.dom.select.offsetHeight;if(_a4>0){this.dom.select.style.marginTop=parseInt(_a4/2,10)+"px";}}if(this.options.labelWidthAuto===true){this.render.style.width="";}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _a5=this.modelControl.getData();this.setValueNM(_a5);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener2(this.dom.select,"onchange",this.event.bindAsEventListener(this,this.handleOnchange));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.componentRedraw=function(_a6){try{this.setSelectItemArr();this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){if(_a6){var _a7=0;if(_a6!="replace"&&this.getSelectedIndex()>-1){_a7=this.getSelectedIndex();}this.dom.select.selectedIndex=_a7;return;}this.dom.select.selectedIndex=0;}this.setValueNM("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.setSelectOptions=function(){try{for(var i=this.dom.select.options.length;i>=0;i--){this.dom.select.remove(i);}for(var i=0;i<this.itemArr.length;i++){var _a9=document.createElement("option");_a9.text=this.itemArr[i].label;this.dom.select.options[i]=_a9;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.setSelectedIndexNM=function(idx){try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;this.dom.select.selectedIndex=idx;return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ar.prototype.handleOnchange=function(e){var idx=this.dom.select.selectedIndex;var _ad=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);this.selectedIndex=idx;if(_ad!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}};_._a.ar.prototype.focus=function(){this.dom.select.focus();};_._a.ar.prototype.setDisabled=function(_ae){try{_ae=_._G.getBoolean(_ae);this.options.disabled=_ae;this.onPropertyChange("disabled",_ae);}catch(e){_.exception.printStackTrace(e);}return _ae;};;WebSquare.uiplugin.selectbox=_._a._J;;WebSquare.uiplugin.selectbox_native=_._a.ar;requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");_._a._m=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._m.prototype,_._q.prototype);_.extend(_._a._m.prototype,_.itemsetControl.prototype);_.extend(_._a._m.prototype,_.IValidate.prototype);_._a._m.prototype.defaultOptions={pluginType:"uiplugin.multiselect",pluginName:"multiselect",userEvents:["onchange"],initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,separator:" ",title:"",escape:false,maxItemNum:-1};_._a._m.prototype.initialize=function(_4){try{this.lastSelectedIndex=-1;this.initializeItemArr(_4);this.validator=new _._e.validateInvoker(this.id,this.options);this.separator=this.options.separator=this.options.separator||" ";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.toHTML=function(){try{var _5=(!this.options.disabled)?"":"disabled='true'";var _6=(!this.options.disabled)?"":"style='color:#848684'";var _7=(!this.options.style)?"":"style='"+this.options.style+"'";var _8=(!this.options.title)?"":"title='"+this.options.title+"'";var _9=[];_9.push("<div "+_5+" id='"+this.id+"' "+_7+" class='w2multiselect_div "+this.options.className+"' tabIndex='0' "+_8+" >");if(_._G.isIE(6)||_._G.isIE(7)||_._G.isOpera()){_9.push("<div style='overflow:visible;position:relative;height:0px'>");}_9.push("<table id='"+this.id+"_table' class='w2multiselect_table' cellpadding='0' cellspacing='0'>");for(var i=0;i<this.itemArr.length;i++){var _b=(this.options.escape)?_._t._encode(this.itemArr[i].label):this.itemArr[i].label;_9.push("<tr class='w2multiselect_tr' index='"+i+"' checked='false'>");_9.push("<td class='w2multiselect_td'>"+_b+"</td>");_9.push("</tr>");}_9.push("</table>");if(_._G.isIE(6)||_._G.isIE(7)||_._G.isOpera()){_9.push("</div>");}_9.push("</div>");return _9.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setAction=function(){try{this.dom.table=document.getElementById(this.id+"_table");if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setValueNM(_c);}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",function(e){_._F.stopEvent(e);});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _e=this.getValue();this.refreshItemArr();this.componentRedraw(_e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _f=this.getValue();var _10=this.modelControl.getData();this.setValueNM(_10);if(_f!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.componentRedraw=function(_11){try{this.redraw();this.dom.table=document.getElementById(this.id+"_table");this.setValueNM(_11);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setSelectedIndex=function(_12){try{var _13=_12.split(this.separator);for(var i=0;i<_13.length;i++){var _15=_13[i];_15=parseInt(_15);if(this.setSelectedIndexNM(_15)){this.setInstanceValue();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setSelectedIndexNM=function(_16,_17){try{_16=parseInt(_16);if(_16<0||_16>=this.getItemCount()){return false;}var _18=this.getMultiselectList();var _19=_18[_16];_17=(_17==null)?true:_17;_19.setAttribute("checked",_17);if(_17){this.addClass(_19,"w2multiselect_tr_over");}else{this.removeClass(_19,"w2multiselect_tr_over");}return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getText=function(_1a){try{if(!_1a){_1a=this.separator;}var ret=[];var _1c=this.getMultiselectList();for(var i=0;i<_1c.length;i++){if(_._G.getBoolean(_1c[i].getAttribute("checked"))){ret.push(this.itemArr[i].label);}}return ret.join(_1a).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getValue=function(_1e){try{if(!_1e){_1e=this.separator;}var ret=[];var _20=this.getMultiselectList();for(var i=0;i<_20.length;i++){if(_._G.getBoolean(_20[i].getAttribute("checked"))){ret.push(this.itemArr[i].value);}}return ret.join(_1e).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getAllValue=function(){try{var ret=[];var _23=this.getMultiselectList();for(var i=0;i<_23.length;i++){ret.push(this.itemArr[i].value);}return ret.join(this.separator).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getIdxValue=function(_25){try{if(_25<0||_25>=this.getItemCount()){return false;}return this.itemArr[_25].value;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setValue=function(_26){try{if(_._G.isNull(_26)){return;}var _27=this.getValue();this.setValueNM(_26);this.modelControl.setData(_26);if(_27!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setValueNM=function(_28){try{if(_._G.isNull(_28)){return;}_28=_28.toString();var _29=this.getValue();var _2a=_28.split(this.separator);var _2b=[];for(var i=0;i<_2a.length;i++){_2b[_2a[i]+""]="";}var _2d=this.getItemCount();for(var i=0;i<_2d;i++){var _28=this.itemArr[i].value;if(_2b[_28]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setText=function(_2e){try{var _2f=_2e.split(this.separator);var _30=this.getItemCount();var ret=[];for(var i=0;i<_2f.length;i++){for(var j=0;j<_30;j++){if(this.itemArr[j].label==_2f[i]){ret.push(this.itemArr[j].value);}}}var _34=ret.join(this.separator).wq_trim();this.setValue(_34);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getSelectedIndex=function(_35){try{if(!_35){_35=this.separator;}var ret=[];var _37=this.getMultiselectList();for(var i=0;i<_37.length;i++){if(_._G.getBoolean(_37[i].getAttribute("checked"))){ret.push(i);}}return ret.join(_35).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.deleteItem=function(_39){try{_39=parseInt(_39);var _3a=this.dom.table.childNodes[0];var _3b=null;for(var _3c=_3a.firstChild;_3c!=null;_3c=_3c.nextSibling){if(_3c.getAttribute("index")==_39){_3b=(this.itemArr.splice(_39,1))[0];_3c.parentNode.removeChild(_3c);this.refreshIndex();}}return _3b;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.deleteSelectedItems=function(){try{var _3d=this.dom.table.childNodes[0];for(var _3e=_3d.firstChild;_3e!=null;_3e=_3e.nextSibling){if(_._G.getBoolean(_3e.getAttribute("checked"))){var idx=_3e.getAttribute("index");this.itemArr.splice(idx,1);_3e.parentNode.removeChild(_3e);this.refreshIndex();this.deleteSelectedItems();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.refreshIndex=function(){try{var _40=this.dom.table.childNodes[0];var idx=0;for(var _42=_40.firstChild;_42!=null;_42=_42.nextSibling){_42.setAttribute("index",idx+"");++idx;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setInstanceValue=function(){try{var _43=this.getValue();this.modelControl.setData(_43);this.fireOnchange();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.getMultiselectList=function(){try{return this.getDomList("multiselectArr","tr");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.validate=function(){try{var _44=this.validator.validate(this.getValue());if(!_44){this.focus();}return _44;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setInitValue=function(_45){try{var _46=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_45.fireEvent){if(_46!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.setRef=function(ref){["WebSquare.uiplugin.multiselect.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._m.prototype.handleClickEvent=function(e){try{_._F.stopEvent(e);if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);var _4a=this.dom.table.childNodes[0].childNodes;if(!e.ctrlKey&&!e.shiftKey){for(var i=0;i<_4a.length;i++){this.setSelectedIndexNM(i,false);}}while(it.next()){if(it.match(null,this.id)){}if(it.match("w2multiselect_tr")){var _4c=it.getElement().getAttribute("index");if(e.shiftKey){var _4d=_4c;var _4e=-1;var _4f=-1;var _50=[];var _51="";if(this.lastSelectedIndex<_4d){_4e=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _52=(_4e>-1)?this.options.maxItemNum-1:this.options.maxItemNum;_4f=parseInt(this.lastSelectedIndex,10)+_52;}else{_4f=_4d;}}else{_4f=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _52=(this.options.maxItemNum-1);_4e=parseInt(this.lastSelectedIndex,10)-_52;}else{_4e=_4d;}}for(var i=_4e;i<=_4f;i++){_50.push(i);}_51=_50.join(this.separator).wq_trim();this.setSelectedIndex(_51);}else{if(e.ctrlKey&&_._G.getBoolean(it.getElement().getAttribute("checked"))){this.lastSelectedIndex=_4c;this.setSelectedIndexNM(_4c,false);this.setInstanceValue();}else{var _53;var _54=this.getValue();_53=(_54=="")?0:_54.split(" ").length;if(_53>=this.options.maxItemNum&&this.options.maxItemNum>-1){break;}this.lastSelectedIndex=_4c;this.setSelectedIndex(_4c);}}}}it=null;this.focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._m.prototype.fireOnchange=function(){try{_._F.fireEvent(this,"onchange");}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.multiselect=_._a._m;requires("uiplugin.selectbox");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");_._a._w=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._w.prototype,_._q.prototype);_.extend(_._a._w.prototype,_._r.prototype);_._a._w.prototype.defaultOptions={pluginType:"uiplugin.calendar",pluginName:"calendar",userEvents:["ondateselect","onconfirm","oncancel","onchange"],useConfig:true,dateFormat:"",delimiter:"",calendarClass:"class1",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",wmode:false,holiday:"",holidayRef:"",keepFocusSelect:false,minYear:1978,maxYear:2030,serverSync:false,useUnlimitedYear:true,initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,title:"",wmode:false,renderType:"component",backlink:"",useYearSelect:true,useMonthSelect:true,displayFormat:"",visibleRowNum:5,weekStartsOn:0};_._a._w.prototype.initialize=function(_4){try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;this.options.dateFormat=this.options.dateFormat||"yyyyMMdd";if(!this.options.displayFormat){if(this.options.delimiter){this.options.displayFormat="yyyy"+this.options.delimiter+"MM";}else{this.options.displayFormat="yyyy/MM";}if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonthDateTime"){if(this.options.delimiter){this.options.displayFormat+=this.options.delimiter+"dd";}else{this.options.displayFormat+="/dd";}}}this.todayHelper=new _._a.ag(this.options.serverSync);this.selectedDateHelper=new _._a.ag(this.options.serverSync);this.holidayXpath();this.formatter=_._g.createFormatter("date",this.options.dateFormat);this.objCellClass={};if(this.options.calendarValueType=="yearMonth"){this.options.calendarClass="classYearMonth_"+this.options.calendarClass;}this.minYear=this.options.minYear;this.maxYear=this.options.maxYear;if(_._G.isMobile()){this.options.renderType="native";}this.dayIndexArray=[0,1,2,3,4,5,6];this.shiftDay=0-this.options.weekStartsOn;this.shiftDayIndex(this.shiftDay);if(this.options.renderType=="native"){this.selectboxYearHTMLstr=[];if(this.options.useYearSelect){this.selectboxYearHTMLstr.push("<select id='"+this.id+"_selectbox_year' class='w2calendar_selectbox_year' title='"+_._z.getMessage("Calendar_select_year")+"' >");for(var _5=this.minYear;_5<this.maxYear+1;_5++){this.selectboxYearHTMLstr.push("\t<option value='"+_5+" '>"+_5+this.options.yearSuffix+"</option>");}this.selectboxYearHTMLstr.push("</select>");}else{var _6=new _._a._J(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}this.addControl(_6);}this.selectboxMonthHTMLstr=[];if(this.options.useMonthSelect){this.selectboxMonthHTMLstr.push("<select id='"+this.id+"_selectbox_month' class='w2calendar_selectbox_month'  title='"+_._z.getMessage("Calendar_select_month")+"' >");var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _9=_8+1;var _a=_7[_8]||(_8+1);this.selectboxMonthHTMLstr.push("\t<option value='"+_9+" '>"+_a+"</option>");}this.selectboxMonthHTMLstr.push("</select>");}else{var _b=new _._a._J(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}this.addControl(_b);}this.selectboxHourHTMLstr=[];this.selectboxHourHTMLstr.push("<select id='"+this.id+"_selectbox_hour' class='w2calendar_selectbox_hour_mobile'  title='"+_._z.getMessage("Calendar_select_hour")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _c=0;_c<24;_c++){this.selectboxHourHTMLstr.push("\t<option value='"+_c+" '>"+_c+"</option>");}this.selectboxHourHTMLstr.push("</select>");this.selectboxMinuteHTMLstr=[];this.selectboxMinuteHTMLstr.push("<select id='"+this.id+"_selectbox_minute' class='w2calendar_selectbox_minute_mobile' title='"+_._z.getMessage("Calendar_select_minute")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _d=0;_d<60;_d++){this.selectboxMinuteHTMLstr.push("\t<option value='"+_d+" '>"+_d+"</option>");}this.selectboxMinuteHTMLstr.push("</select>");}else{var _6=new _._a._J(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:_._z.getMessage("Calendar_select_year"),readOnly:!this.options.useYearSelect,visibleRowNum:this.options.visibleRowNum});var _b=new _._a._J(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:_._z.getMessage("Calendar_select_month"),readOnly:!this.options.useMonthSelect,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}_6.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoYear(this.getValue());}}}];_b.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoMonth(this.getValue());}}}];this.addControl(_6);this.addControl(_b);if(this.options.calendarValueType=="yearMonthDateTime"){var _10=new _._a._J(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:_._z.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum});var _11=new _._a._J(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:_._z.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum});for(var _c=0;_c<24;_c++){_10.addItemArr(_c,_c);}for(var _d=0;_d<60;_d++){_11.addItemArr(_d,_d);}_10.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){_._F.fireEvent(this.getParent(),"onchange");}}}];_11.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){_._F.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_10);this.addControl(_11);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.toHTML=function(){try{var _14=[];var _15=(!this.options.title)?"":"title='"+this.options.title+"'";var _16=(!this.options.style)?"":"style='"+this.options.style+"'";_14.push("<div id='"+this.id+"' name='"+this.id+"' "+_16+" class='w2calendar w2calendar_"+this.options.calendarClass+" "+this.options.className+"' role='calendar' "+_15+">");_14.push("<div class='w2calendar_wrap'>");_14.push("<div class='w2calendar_header'>");if(this.options.renderType=="native"){_14.push("<button id='"+this.id+"_last_year' class='w2calendar_header_last_year'>"+_._z.getMessage("Calendar_previous_year")+"</button>");_14.push("<button class='w2calendar_header_last_month' >"+_._z.getMessage("Calendar_previous_month")+"</button>");}else{_14.push("<div id='"+this.id+"_last_year' name='"+this.id+"_last_year' class='w2calendar_header_last_year' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_previous_year")+"'></div>");_14.push("<div class='w2calendar_header_last_month' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_previous_month")+"'></div>");}if(this.options.renderType=="native"){_14.push(this.options.useYearSelect?this.selectboxYearHTMLstr.join(""):this.getChild(this.id+"_selectbox_year").toHTML());_14.push(this.options.useMonthSelect?this.selectboxMonthHTMLstr.join(""):this.getChild(this.id+"_selectbox_month").toHTML());}else{_14.push(this.getChild(this.id+"_selectbox_year").toHTML());_14.push(this.getChild(this.id+"_selectbox_month").toHTML());}if(this.options.renderType=="native"){_14.push("<button class='w2calendar_header_next_month' >"+_._z.getMessage("Calendar_next_month")+"</button>");_14.push("<button class='w2calendar_header_next_year' >"+_._z.getMessage("Calendar_next_year")+"</button>");}else{_14.push("<div class='w2calendar_header_next_month' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_next_month")+"'></div>");_14.push("<div class='w2calendar_header_next_year' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_next_year")+"'></div>");}if(this.options.calendarValueType=="yearMonth"){_14.push("<div class='w2calendar_header_btn_ok' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_ok")+"'></div>");_14.push("<div class='w2calendar_header_btn_close' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_close")+"'></div>");}_14.push("</div>");_14.push("<div id='"+this.id+"_content' class='w2calendar_content'>");_14.push("<table class='w2calendar_content_table' cellpadding='0' cellspacing='0' summary='"+_._z.getMessage("Calendar_summary")+"'>");_14.push("<caption>"+_._z.getMessage("Calendar_caption")+"</caption>");_14.push("<tr>");for(var i=0;i<7;i++){if(this.options.renderType=="native"){_14.push("<th class='w2calendar_col_day w2calendar_day"+this.dayIndexArray[i]+"' scope='col'>"+_._z.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"</th>");}else{_14.push("<td class='w2calendar_col_day'><div class='w2calendar_day w2calendar_day"+this.dayIndexArray[i]+"' title='"+_._z.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"' ></div></td>");}}_14.push("</tr>");var _18=6;var _19=7;for(var row=0;row<_18;row++){_14.push("<tr>");for(var col=0;col<_19;col++){_14.push("<td id='"+this.id+"_cell_"+row+"_"+col+"' role='button'  aria-pressed='false' ></td>");}_14.push("</tr>");}_14.push("</table>");_14.push("</div>");if(!this.options.footerDiv){_14.push("<table class='w2calendar_footer' cellpadding='0' cellspacing='0'><tr>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_14.push("<td><button class='w2calendar_go_today'>"+_._z.getMessage("Calendar_today")+"</button></td>");}else{_14.push("<td><div class='w2calendar_go_today' role='button' title='"+_._z.getMessage("Calendar_today")+"' tabindex='0'></div></td>");}_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");if(this.options.cancleButtonShow==true){_14.push("<td class='w2calendar_blank' ></td>");if(this.options.renderType=="native"){_14.push("<td><a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel' >"+_._z.getMessage("Calendar_cancel")+"</a></td>");}else{_14.push("<td><div class='w2calendar_date_cancel' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_cancel")+"' ></div></td>");}}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_14.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_14.push("<td> : </td>");_14.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");}else{_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_14.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_14.push("<td> : </td>");_14.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");}_14.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+_._z.getMessage("Calendar_ok")+"' ></div></td>");_14.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+_._z.getMessage("Calendar_cancel")+"' ></div></td>");}}_14.push("</tr></table>");}else{_14.push("<div class='w2calendar_footer'>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_14.push("<button class='w2calendar_go_today w2calendar_go_today_div'>"+_._z.getMessage("Calendar_today")+"</button>");}else{_14.push("<div class='w2calendar_go_today w2calendar_go_today_div' role='button' title='"+_._z.getMessage("Calendar_today")+"' tabindex='0'></div>");}_14.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");if(this.options.cancleButtonShow==true){_14.push("<div class='w2calendar_blank w2calendar_blank_div'></div>");if(this.options.renderType=="native"){_14.push("<a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel w2calendar_date_cancel_div'>"+_._z.getMessage("Calendar_cancel")+"</a>");}else{_14.push("<div class='w2calendar_date_cancel w2calendar_date_cancel_div' role='button' tabindex='0' title='"+_._z.getMessage("Calendar_cancel")+"' ></div>");}}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_14.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile w2calendar_footer_date_mobile_div'></span>");_14.push("<div class='w2calendar_footer_hour_div'>"+this.selectboxHourHTMLstr.join("")+"</div>");_14.push("<span class='w2calendar_footer_colon'> : </span>");_14.push("<div class='w2calendar_footer_min_div'>"+this.selectboxMinuteHTMLstr.join("")+"</div>");_14.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0'>"+_._z.getMessage("Calendar_ok")+"</a>");_14.push("<a href='#"+this.options.backlink+"' class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0'>"+_._z.getMessage("Calendar_cancel")+"</a>");}else{_14.push("<span id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date w2calendar_footer_date_div'></span>");_14.push("<div class='w2calendar_footer_hour_div'>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</div>");_14.push("<span class='w2calendar_footer_colon'> : </span>");_14.push("<div class='w2calendar_footer_min_div'>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</div>");_14.push("<div class='w2calendar_time_confirm w2calendar_time_confirm_div' tabindex='0' title='"+_._z.getMessage("Calendar_ok")+"' ></div>");_14.push("<div class='w2calendar_time_cancel w2calendar_time_cancel_div' tabindex='0' title='"+_._z.getMessage("Calendar_cancel")+"' ></div>");}}}_14.push("</div>");}_14.push("</div></div>");return _14.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setAction=function(){try{this.render.style.width="";this.render.style.height="";this.dom.content=document.getElementById(this.id+"_content");this.dom.currentDate=document.getElementById(this.id+"_currentDate");this.dom.selectboxYear=document.getElementById(this.id+"_selectbox_year");this.dom.selectboxMonth=document.getElementById(this.id+"_selectbox_month");this.dom.selectboxHour=document.getElementById(this.id+"_selectbox_hour");this.dom.selectboxMinute=document.getElementById(this.id+"_selectbox_minute");this.refresh();if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener2(this.dom.selectboxYear,"onchange",this.event.bindAsEventListener(this,this.selectboxYearEvent));this.event.addListener2(this.dom.selectboxMonth,"onchange",this.event.bindAsEventListener(this,this.selectboxMonthEvent));this.event.addListener2(this.dom.selectboxYear,"onmousewheel",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));this.event.addListener2(this.dom.selectboxMonth,"onmousewheel",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));if(this.dom.selectboxHour){this.event.addListener2(this.dom.selectboxHour,"onmousewheel",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}if(this.dom.selectboxMinute){this.event.addListener2(this.dom.selectboxMinute,"onmousewheel",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.selectboxYearEvent=function(e){this.gotoYear(e.srcElement?e.srcElement.value:e.originalTarget.value);};_._a._w.prototype.selectboxMonthEvent=function(e){this.gotoMonth(e.srcElement?e.srcElement.value:e.originalTarget.value);};_._a._w.prototype.refresh=function(){try{this.holidayXpath();this.updateCalendar();if(this.options.calendarValueType!="yearMonth"){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);if(!_._G.isMobile()&&this.getStyle("display")!="none"){for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _26=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_26){continue;}if(this.__hasClass(_26,"w2calendar_selected")){_26.setAttribute("tabIndex","0");if(this.options.renderType=="native"){if(this.options.keepFocusSelect==false){_26.firstChild.focus();}}else{_26.focus();}}else{_26.setAttribute("tabIndex","-1");}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.updateCalendar=function(){try{var _27=this.selectedDateHelper.getYear();var _28=this.selectedDateHelper.getMonth();var _29=this.selectedDateHelper.getDate();if(this.options.renderType=="native"){if(this.options.useYearSelect){for(var i=0;i<this.dom.selectboxYear.options.length;i++){if(this.dom.selectboxYear.options[i].value==_27){this.dom.selectboxYear.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_year").setValue(_27);}if(this.options.useMonthSelect){for(var i=0;i<this.dom.selectboxMonth.options.length;i++){if(this.dom.selectboxMonth.options[i].value==_28){this.dom.selectboxMonth.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_month").setValue(_28);}}else{this.getChild(this.id+"_selectbox_year").setValue(_27);this.getChild(this.id+"_selectbox_month").setValue(_28);}var _2b=this.selectedDateHelper.getMonthCount();var _2c=this.selectedDateHelper.getFirstDay();_2c=_2c+(this.shiftDay);if(_2c<=0){_2c+=7;}var _2d=6;var _2e=7;var _2f=0;var _30=new _._a.ag();_30.setDateAllByString(this.selectedDateHelper.getDateAll());_30.setLastMonth();var _31=_30.getMonthCount();var _32=_28==1?_27-1:_27;var _33=_28==1?12:_28-1;var _34=_28==12?_27+1:_27;var _35=_28==12?1:_28+1;for(var row=0;row<_2d;row++){for(var col=0;col<_2e;col++){_2f++;var _38=_2f-_2c;var day=(_2c+_38-1)%7;var _3a="";var _3b=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_3b){continue;}if(_38<1){_3a=_31+_38;_3b.innerHTML=_3a;_3b.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_lastmonth";_3b.setAttribute("index",_3a);_3b.setAttribute("title",_._z.getMessage("Calendar_tooltip",_32,(_33<10?"0"+_33:_33),_3a));if(this.options.renderType!="native"){_3b.setAttribute("tabindex","-1");}}else{if(_38>_2b){_3a=_38-_2b;_3b.innerHTML=_3a;_3b.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_nextmonth";_3b.setAttribute("index",_3a);_3b.setAttribute("title",_._z.getMessage("Calendar_tooltip",_34,(_35<10?"0"+_35:_35),_3a));if(this.options.renderType!="native"){_3b.setAttribute("tabindex","-1");}}else{_3a=_38;var _3c;if(_38<10){_3c="0"+_3a;}else{_3c=_3a;}var _3d;if(_28<10){_3d="0"+_28;}else{_3d=_28;}var _3e=_27+""+_3d+""+_3c;if(_29==_38){if(this.options.holiday.indexOf(_3e)!=-1){_3b.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_38+" w2calendar_holiday"+" w2calendar_selected "+(this.objCellClass[_3e]||"");}else{_3b.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_38+" w2calendar_day_"+this.dayIndexArray[day]+" w2calendar_selected "+(this.objCellClass[_3e]||"");}_3b.setAttribute("aria-pressed","true");if(this.options.renderType!="native"){_3b.setAttribute("tabindex","0");}}else{if(this.options.holiday.indexOf(_3e)!=-1){_3b.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_38+" w2calendar_holiday "+(this.objCellClass[_3e]||"");}else{_3b.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_38+" w2calendar_day_"+this.dayIndexArray[day]+" "+(this.objCellClass[_3e]||"");}if(this.options.renderType!="native"){_3b.setAttribute("tabindex","-1");}}if(this.options.renderType=="native"&&!_._G.isMobile()){_3b.innerHTML="<button>"+_3a+"</button>";}else{_3b.innerHTML=_3a;}_3b.setAttribute("title","");_3b.setAttribute("index",_38);}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.holidayXpath=function(){try{if(this.options.holidayRef!=""){var _3f=_._C.findInstanceNodes(this.options.holidayRef);for(var i=0;i<_3f.length;i++){var _41=_._t.serialize(_3f[i]);if(this.options.holiday.indexOf(_41)==-1){this.options.holiday=this.options.holiday+" "+_41;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoCalendar=function(_42){try{if(_._G.isNull(_42)){return;}_42=_42.toString();var _43=this.getValue();this.selectedDateHelper.setDateAllByString(_42);var _44=this.selectedDateHelper.getYear();if(_44<this.minYear){this._gotoYear(this.minYear,false);}if(_44>this.maxYear&&_44!=9999){this._gotoYear(this.maxYear,false);}if(this.options.renderType=="native"&&_43.substring(0,6)==this.getValue().substring(0,6)){this.setSelectedDay(this.selectedDateHelper.getDate());if(this.dom.currentDate){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}}else{this.refresh();}if(this.getValue()!=_43){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoToday=function(){try{var _45=this.todayHelper.getYear();var _46=this.todayHelper.getMonth();var _47=this.todayHelper.getDate();this.gotoCalendar(this.getDateString(_45,_46,_47));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoNextYear=function(){try{var _48=this.getValue();this.selectedDateHelper.setNextYear();this.refresh();if(this.getValue()!=_48){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoNextMonth=function(){try{var _49=this.getValue();this.selectedDateHelper.setNextMonth();this.refresh();if(this.getValue()!=_49){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoLastYear=function(){try{var _4a=this.getValue();this.selectedDateHelper.setLastYear();this.refresh();if(this.getValue()!=_4a){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoLastMonth=function(){try{var _4b=this.getValue();this.selectedDateHelper.setLastMonth();this.refresh();if(this.getValue()!=_4b){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoYear=function(_4c){try{this._gotoYear(_4c,true);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype._gotoYear=function(_4d,_4e){try{var _4e=_4e===undefined?true:_4e;var _4f=this.getValue();this.selectedDateHelper.setYear(_4d);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_4f&&_4e){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoMonth=function(_50){try{var _51=this.getValue();this.selectedDateHelper.setMonth(_50);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_51){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.gotoTime=function(_52,_53,_54){try{if(this.options.renderType=="native"){var _55=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value;this.dom.selectboxHour.value=_52;this.dom.selectboxMinute.value=_53;if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value)!=_55){_._F.fireEvent(this,"onchange");}}else{var _56=this.getChild(this.id+"_selectbox_hour");var _57=this.getChild(this.id+"_selectbox_minute");var _55=_56.getValue()+"_"+_57.getValue();_56.setValue(_52);_57.setValue(_53);if((_56.getValue()+"_"+_57.getValue())!=_55){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getValue=function(){try{var _58="";if(this.options.calendarValueType=="yearMonthDate"){_58=this.getDate();}else{if(this.options.calendarValueType=="yearMonth"){_58=this.getDate();}else{if(this.options.calendarValueType=="yearMonthDateTime"){_58=this.getDate()+""+this.getTime();}}}return _58;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getDate=function(){try{var _59="";if(this.options.calendarValueType=="yearMonthDate"){_59=this.selectedDateHelper.getDateAll();}else{if(this.options.calendarValueType=="yearMonth"){var _5a=this.selectedDateHelper.getYear();var _5b=this.selectedDateHelper.getMonth();if(parseInt(_5b)<10){_5b="0"+_5b;}_59=_5a+""+_5b;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_59=this.selectedDateHelper.getDateAll();}}}return _59;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getTime=function(){try{var _5c="";if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){var _5d=this.dom.selectboxHour.value.wq_trim();var _5e=this.dom.selectboxMinute.value.wq_trim();}else{var _5d=this.getChild(this.id+"_selectbox_hour").getValue();var _5e=this.getChild(this.id+"_selectbox_minute").getValue();}if(parseInt(_5d,10)<10){_5d="0"+_5d;}if(parseInt(_5e,10)<10){_5e="0"+_5e;}_5c=_5d+""+_5e;}return _5c;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getDateFormat=function(){try{return this.options.dateFormat;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getFormattedValue=function(){try{var _5f=this.getValue();if(this.options.calendarValueType=="yearMonthDate"){_5f=this.formatter.format(_5f);}else{if(this.options.calendarValueType=="yearMonth"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _61=_5f.substring(0,4);var _62=_5f.substring(4);_5f=fmt.replace(/yyyy/gi,_61);_5f=_5f.replace(/mm/gi,_62);}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var _63=_._B.formatDate(this.getDate(),this.getDateFormat());_5f=_63+this.getTime();}}}return _5f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getSelectedDay=function(){try{return this.selectedDateHelper.getDayStr(this.selectedDateHelper.getDay());}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setDateFormat=function(_64){try{this.options.dateFormat=_64;this.formatter.setMasking(_64);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setSkin=function(_65){try{this.changeClass(this.render,"w2calendar_"+this.options.calendarClass,"w2calendar_"+_65);this.options.calendarClass=_65;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setInitValue=function(_66){try{if(this.options.initValue===""){this.gotoToday();}else{this.gotoCalendar(this.options.initValue);}if(_66.fireEvent){var _67=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());_._F.fireEvent(this,"ondateselect",this.getFormattedValue(),_67);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setDisabled=function(_68){try{_68=_._G.getBoolean(_68);this.options.disabled=_68;this.setProperty("disabled",_68);this.render.disabled=_68;if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonth"){this.getChild(this.id+"_selectbox_year").setDisabled(_68);this.getChild(this.id+"_selectbox_month").setDisabled(_68);}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.getChild(this.id+"_selectbox_year").setDisabled(_68);this.getChild(this.id+"_selectbox_month").setDisabled(_68);this.getChild(this.id+"_selectbox_hour").setDisabled(_68);this.getChild(this.id+"_selectbox_minute").setDisabled(_68);}}}catch(e){_.exception.printStackTrace(e);}return _68;};_._a._w.prototype.handleFocusEvent=function(e){try{var elm=e.srcElement?e.srcElement:e.originalTarget;if(elm==this.render){if(this.options.calendarValueType=="yearMonth"){var _6b=this.getElementById(this.id+"_selectbox_year");_6b.focus();return;}else{var row,col,cell;for(row=0;row<6;row++){for(col=0;col<7;col++){cell=this.getElementById(this.id+"_cell_"+row+"_"+col);if(this.__hasClass(cell,"w2calendar_selected")){cell.focus();return;}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.handleKeydownEvent=function(e){try{var _6e=(e.charCode)?e.charCode:e.keyCode;if(!(_6e==13||_6e==37||_6e==38||_6e==39||_6e==40)){return;}if(_6e==13){this.handleClickEvent(e);return;}if(this.options.renderType=="native"){return;}var it=this.event.getTargetIterator(e,this.render);var elm,dayClicked=false;while(it.next()){elm=it.getElement();if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="td"&&elm.getAttribute("index")){dayClicked=true;break;}}if(dayClicked==false){return;}var id=elm.id.substr((this.id+"_cell_").length);var _72=-1,focusedRow=-1;focusedRow=parseInt(id.substr(0,id.indexOf("_")),10);_72=parseInt(id.substr(id.indexOf("_")+1),10);if(_72<0||focusedRow<0){_72=focusedRow=0;}if(_6e==37){_72--;if(_72<0){if(focusedRow>0){_72=6;focusedRow--;}else{_72=0;}}}else{if(_6e==38){if(focusedRow>0){focusedRow--;}}else{if(_6e==39){_72++;if(_72>6){if(focusedRow<7){_72=0;focusedRow++;}else{_72=6;}}}else{if(_6e==40){if(focusedRow<7){focusedRow++;}}}}}cell=document.getElementById(this.id+"_cell_"+focusedRow+"_"+_72);if(cell==null){return;}elm.setAttribute("tabIndex",-1);cell.setAttribute("tabIndex",0);cell.focus();_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setSelectedDay=function(_73){try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _76=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_76){continue;}if(!this.hasClass(_76,"w2calendar_date_on")){continue;}if(_76.getAttribute("index")==_73){this.addClass(_76,"w2calendar_selected");}else{this.removeClass(_76,"w2calendar_selected");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.setFocus=function(_77){try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _7a=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_7a){continue;}if(!this.hasClass(_7a,"w2calendar_date_on")){continue;}if(_7a.getAttribute("index")==_77){_7a.setAttribute("aria-pressed","true");_7a.focus();return;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.hide=function(){try{_._r.prototype.hide.call(this);for(var i=0;i<this.childControlList.length;i++){var _7c=this.childControlList[i];_7c.hide();}}catch(e){_.exception.printStackTrace(e);}};_._a._w.prototype.show=function(_7d){try{_._r.prototype.show.call(this,_7d);for(var i=0;i<this.childControlList.length;i++){var _7f=this.childControlList[i];_7f.show(_7d);}}catch(e){_.exception.printStackTrace(e);}};_._a._w.prototype.getDateString=function(_80,_81,_82){try{if(_80===undefined){_80=this.selectedDateHelper.getYear();}if(_81===undefined){_81=this.selectedDateHelper.getMonth();}if(_82===undefined){_82=this.selectedDateHelper.getDate();}var _83=_80+"";var _84=_81+"";var _85=_82+"";if(_84.length==1){_84="0"+_84;}if(_85.length==1){_85="0"+_85;}var _86=_83+_84+_85;return _86;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2calendar_header_last_year")){if(this.selectedDateHelper.getYear()>this.minYear){this.selectedDateHelper.setDate(1);this.gotoLastYear();}it.stop();}if(it.match("w2calendar_header_next_year")){if(this.selectedDateHelper.getYear()<this.maxYear){this.selectedDateHelper.setDate(1);this.gotoNextYear();}it.stop();}if(it.match("w2calendar_header_last_month")){if(this.selectedDateHelper.getYear()>=this.minYear){if(this.selectedDateHelper.getYear()==this.minYear&&this.selectedDateHelper.getMonth()==1){}else{this.selectedDateHelper.setDate(1);this.gotoLastMonth();}}it.stop();}if(it.match("w2calendar_header_next_month")){if(this.selectedDateHelper.getYear()<=this.maxYear){if(this.selectedDateHelper.getYear()==this.maxYear&&this.selectedDateHelper.getMonth()==12){}else{this.selectedDateHelper.setDate(1);this.gotoNextMonth();}}it.stop();}if(it.match("w2calendar_date_lastmonth")){var _89=this.selectedDateHelper.getYear();var _8a=this.selectedDateHelper.getMonth();var _8b=it.getElement().getAttribute("index");if(_89>=this.minYear){if(_89==this.minYear&&_8a==1){}else{if(_8a>1){_8a=_8a-1;}else{_89=_89-1;_8a=12;}this.gotoCalendar(this.getDateString(_89,_8a,_8b));this.setFocus(_8b);}}it.stop();}if(it.match("w2calendar_date_nextmonth")){var _89=this.selectedDateHelper.getYear();var _8a=this.selectedDateHelper.getMonth();var _8b=it.getElement().getAttribute("index");if(_89<=this.maxYear){if(_89==this.maxYear&&_8a==12){}else{if(_8a<12){_8a=_8a+1;}else{_89=_89+1;_8a=1;}this.gotoCalendar(this.getDateString(_89,_8a,_8b));this.setFocus(_8b);}}it.stop();}if(it.match("w2calendar_header_btn_ok")){_._F.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_header_btn_close")){_._F.fireEvent(this,"oncancel");it.stop();}if(it.match("w2calendar_time_confirm")){_._F.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_time_cancel")){_._F.fireEvent(this,"oncancel");_._F.stopEvent(e);it.stop();}if(it.match("w2calendar_date_cancel")){_._F.fireEvent(this,"oncancel");_._F.stopEvent(e);it.stop();}if(it.match("w2calendar_go_today")){this.gotoToday();if(this.options.renderType=="native"){var _89=this.todayHelper.getYear();var _8a=this.todayHelper.getMonth();var _8b=this.todayHelper.getDate();var _8c=new Date(_89,_8a-1,_8b);_._F.fireEvent(this,"ondateselect",this.getFormattedValue(),_8c);}it.stop();}if(it.match("w2calendar_date_on")){var _89=this.selectedDateHelper.getYear();var _8a=this.selectedDateHelper.getMonth();var _8b=it.getElement().getAttribute("index");this.gotoCalendar(this.getDateString(_89,_8a,_8b));var _8c=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());_._F.fireEvent(this,"ondateselect",this.getFormattedValue(),_8c);it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.addClass(it.getElement(),"w2calendar_go_today_over");}if(it.match("w2calendar_date_on")){this.addClass(it.getElement(),"w2calendar_date_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.removeClass(it.getElement(),"w2calendar_go_today_over");}if(it.match("w2calendar_date_on")){this.removeClass(it.getElement(),"w2calendar_date_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._w.prototype.getServerDate=function(){return _._u.getCurrentServerDate();};_._a._w.prototype.shiftDayIndex=function(_91){if(_91>0){for(var i=0;i<_91;i++){this.dayIndexArray.unshift(this.dayIndexArray.pop());}}else{for(var i=0;i<Math.abs(_91);i++){this.dayIndexArray.push(this.dayIndexArray.shift());}}};_._a._w.prototype.setCellClass=function(_93,_94){try{this.objCellClass[_93]=_94;this.updateCalendar();}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.calendar=_._a._w;requires("uiplugin.calendar");requires("uiplugin/control/historyManager.js");requires("engine/formatter.js");requires("engine/validator.js");_._a.aA=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aA.prototype,_._q.prototype);_.extend(_._a.aA.prototype,_.IValidate.prototype);_._a.aA.prototype.defaultOptions={pluginType:"uiplugin.inputCalendar",pluginName:"inputCalendar",userEvents:["onfocus","onblur","onchange","oniconclick","ondateselect"],useConfig:true,delimiter:"-",ioFormat:"",calendarDisplayFormat:"",displayFormat:"",displayFormatter:"",applyFormat:"display",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",calendarImage:"uiplugin/inputCalendar/images/icon_calendar.gif",calendarImageOver:"uiplugin/inputCalendar/images/icon_calendar_over.gif",calendarClass:"class1",direction:"auto",holiday:"",holidayRef:"",validCheck:false,dateValidCheck:"",wmode:false,readOnlyClass:"w2inputCalendar_readOnly",imageReadOnlyClass:"w2inputCalendar_img_readOnly",handleIconClick:null,setCurrentDate:false,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessageFunc:"",displaymessage:false,keepFocusSelect:false,innerHeight:"17px",inputReadOnly:false,useUnlimitedYear:true,defaultDate:"",initValue:"",cancleButtonShow:false,cancelButtonShow:false,footerDiv:false,setCurrentDate:false,focusOnDateSelect:false,title:"",alt:"",renderType:"component",useYearSelect:true,useMonthSelect:true,useAnchor:false,useCalendarTabIndex:true,maxYear:2030,minYear:1978,weekStartsOn:0,fixedDate:""};_._a.aA.prototype.initialize=function(_4){try{this.options.cancleButtonShow=this.options.cancleButtonShow||this.options.cancelButtonShow;if(this.options.alt==""){this.options.alt=_._z.getMessage("Calendar_open");}this.calendar=null;this.evented=false;this.formatter=null;this.validator=null;this.sub_validator=null;if(this.options.yearSuffix===""){this.options.yearSuffix="$blank";}if(this.options.ioFormat){this.options.ioFormat=this.options.ioFormat.match(/([yMdHm]+)/g).join("");}if(this.options.calendarValueType=="yearMonthDate"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMdd";}}else{if(this.options.calendarValueType=="yearMonth"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM";if(!this.options.ioFormat){this.options.ioFormat="yyyyMM";}}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmm";}}}}this.formatter=_._g.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.validator=new _._e.validateInvoker(this.id,this.options);this.sub_validator=new _._e.validateInvoker(this.id,{});this.sub_validator.addCommand(new _._e.dateCommand());this.sub_validator.addCommand(new _._e.ignoreCharCommand(" -/:-~"));var _5=0;if(this.options.calendarValueType=="yearMonthDate"){_5=8;}else{if(this.options.calendarValueType=="yearMonth"){_5=6;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_5=12;}}}this.options.maxlength=_5;this.options.minlength=_5;this.invalidMessage=_._z.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(this.options.applyFormat=="all"){if(this.options.calendarValueType=="yearMonthDate"){_5+=(2*this.options.delimiter.length);}else{if(this.options.calendarValueType=="yearMonth"){_5+=this.options.delimiter.length;}else{if(this.options.calendarValueType=="yearMonthDateTime"){}}}}this.sub_validator.addCommand(new _._e.maxLengthCommand(_5));this.sub_validator.addCommand(new _._e.minLengthCommand(_5));var _6=this.options["style"];var _7=_._h.makeStyle(_6);var _8=[];var _9=[];for(var _a in _7){if("position width height left top right bottom display visibility".indexOf(_a.toLowerCase())>-1){_8.push(_a+":"+_7[_a]);}else{_9.push(_a+":"+_7[_a]);}}_.cssManager.addConvertedCSS("#"+this.id+" input",_9.join(";"));this.options["style"]=_8.join(";");if(this.options.validCheck&&this.options.dateValidCheck===""){this.options.dateValidCheck="true";}else{if(this.options.dateValidCheck===""){this.options.dateValidCheck="false";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.toHTML=function(){try{var _b="";if(this.options.inputReadOnly){_b=" readOnly ";}var _c=[];var _d=(!this.options.style)?"":"style='"+this.options.style+"'";var _e=(!this.options.title)?"":"title='"+this.options.title+"'";var _f=(!this.options.innerHeight)?"":"style='height:"+this.options.innerHeight+"'";var _10=(!this.options.alt)?"":"alt='"+this.options.alt+"'";_c.push("<div id='"+this.id+"' "+_d+" class='w2inputCalendar'>");_c.push("<table cellpadding='0' cellspacing='0' class='w2inputCalendar_table'><tr>");_c.push("<td class='w2inputCalendar_col_input'><input "+_f+" id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_input "+this.options.className+"' "+_b+" "+_e+" /></td>");_c.push("<td class='w2inputCalendar_col_img'>");if(this.options.useAnchor==true){_c.push("<a id='"+this.id+"_a' href='#' class='w2inputCalendar_a' role='button' aria-haspopup='true' aria-owns='"+this.id+"_calendar' >");}_c.push("<img id='"+this.id+"_img' class='w2inputCalendar_img' src='"+this.options.calendarImage+"' "+_10+" "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" />");if(this.options.useAnchor==true){_c.push("</a>");}_c.push("</td></tr></table>");_c.push("</div>");return _c.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setAction=function(){try{this.dom.input=this.getElementById(this.id+"_input");this.dom.img=this.getElementById(this.id+"_img");this.setInputSize();this.setVerticalAlign();if(this.modelControl.isBinded()){var _11=this.modelControl.getData();if(this.options.validCheck){_11=this.validator.validateString(_11);_11=this.sub_validator.validateString(_11);}this.setValueNM(_11);}if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _14=_.getBody().getLayerListener();var _15=_14.layers[this.id].component;var _16={};if(_15.id){_16[_15.id]=true;}_.getBody().getLayerListener().hideAll(_16);_._F.stopPropagation(e);}));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}_.getBody().getLayerListener().addListener({component:this,fnShow:this._showCalendar,fnHide:this._hideCalendar,event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.options.inputReadOnly){if(_._h.browserCheck.ie){this.event.addListener(this.dom.input,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusEvent));}else{this.event.addListener(this.dom.input,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));}}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));if(this.options.handleIconClick){var _17=null;try{_17=eval(this.options.handleIconClick);}catch(e){$l("no function for handleIconClick : "+this.options.handleIconClick);}if(_17){this.addEvent("oniconclick",_17);}}if(this.options.setCurrentDate){if(this.options.calendarValueType=="yearMonthDate"){this.setValue(_._u.getFormattedDate(new Date(),"yyyyMMdd"));}else{if(this.options.calendarValueType=="yearMonth"){this.setValue(_._u.getFormattedDate(new Date(),"yyyyMM"));}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.setValue(_._u.getFormattedDate(new Date(),"yyyyMMddHHmm"));}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _18=this.getValue();var _19=this.modelControl.getData();this.setValueNM(_19);if(_18!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setInputSize=function(){try{var _1a=this.getStyle("height");var _1b={paddingTop:parseInt(_._G.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt(_._G.getStyleProperty(this.dom.input,"padding-bottom"))||0,borderTopWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt(_._G.getStyleProperty(this.dom.input,"border-bottom-width"))||0};if(_1a.indexOf("px")>-1){_1a=parseInt(_1a);var _1c=_1a-(_1b.paddingTop+_1b.paddingBottom+_1b.borderTopWidth+_1b.borderBottomWidth);this.dom.input.style.height=_1c+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setSkin=function(_1d){try{this.options.calendarClass=_1d;if(this.calendar){this.calendar.changeClass(this.calendar.render,"w2calendar_"+this.calendar.options.calendarClass,"w2calendar_"+_1d);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setVerticalAlign=function(){try{if(_._h.browserCheck.ie){var _1e=parseInt(_._G.getStyleProperty(this.dom.input,"height"))||0;this.dom.input.style.lineHeight=_1e+"px";}else{if(_._h.browserCheck.moz){var _1e=parseInt(_._G.getStyleProperty(this.dom.input,"height"))||0;var _1f=parseInt(_._G.getStyleProperty(this.dom.input,"padding-top"))||0;var _20=parseInt(_._G.getStyleProperty(this.dom.input,"font-size"))||0;var _21=Math.floor((_1e-2-_20)/2);if(_21>0&&(_1e-_21)>0){this.dom.input.style.paddingTop=_21+_1f+"px";this.dom.input.style.height=(_1e-_21)+"px";}}else{}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setValue=function(_22){try{var _23=this.getValue();if(_22!=""&&this.options.validCheck){var _24=this.validator.validate(_22);if(_24&&_._G.getBoolean(this.options.dateValidCheck)){_24=this.sub_validator.validate(_22);}if(!_24){alert(this.invalidMessage);this.setValue("");this.focus();return;}}this.setValueNM(_22);this.modelControl.setData(_22);if(_23!=this.getValue()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setValueNM=function(_25){try{if(_._G.isNull(_25)){return;}_25=_25.toString();_25=this.formatter.format(_25);this.dom.input.value=_25;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype._setValue=function(_26){try{this.setValue(_26);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getValue=function(){try{var _27=this.dom.input.value;_27=this.formatter.unformat(_27);return _27;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getTitle=function(){return this.dom.input.getAttribute("title");};_._a.aA.prototype.makeCalendar=function(){try{var _28=this;var _29=this.options.ioFormat.match(/([yMd]+)/g).join("");var _2a=new _._a._w(this.id+"_calendar",{className:"w2inputCalendar_calendar",calendarClass:this.options.calendarClass,monthNames:this.options.monthNames,yearSuffix:this.options.yearSuffix,calendarValueType:this.options.calendarValueType,holiday:this.options.holiday,holidayRef:this.options.holidayRef,wmode:this.options.wmode,delimiter:this.options.delimiter,dateFormat:_29,displayFormat:this.options.calendarDisplayFormat,useUnlimitedYear:this.options.useUnlimitedYear,cancleButtonShow:this.options.cancleButtonShow,footerDiv:this.options.footerDiv,wmode:this.options.wmode,renderType:this.options.renderType,title:this.options.title+" "+_._z.getMessage("Calendar_name"),backlink:(this.options.useAnchor==true?this.id+"_input":""),useYearSelect:this.options.useYearSelect,useMonthSelect:this.options.useMonthSelect,maxYear:this.options.maxYear,minYear:this.options.minYear,weekStartsOn:this.options.weekStartsOn,keepFocusSelect:this.options.keepFocusSelect});_2a.options.xmlEvents=[{name:"ondateselect",action:"script",param:{handler:function(e){var _2c=this.getFormattedValue();if(_28.options.calendarValueType!="yearMonthDateTime"){_28.toggle();_28._setValue(_2c);_28.hideCalendar();if(!_._G.isMobile()||_28.options.focusOnDateSelect){_28.dom.input.focus();if(_28.options.editType=="select"){_28.dom.input.select();}}}var _2d=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());_._F.fireEvent(_28,"ondateselect",this.getFormattedValue(),_2d);}}},{name:"onconfirm",action:"script",param:{handler:function(e){var _2f=this.getFormattedValue();_28._setValue(_2f);_28.hideCalendar();_28.dom.input.focus();if(_28.options.editType=="select"){_28.dom.input.select();}}}},{name:"oncancel",action:"script",param:{handler:function(e){_28.hideCalendar();document.getElementById(_28.id+"_a").focus();}}}];_2a.writeTo(_.getBody());_2a.activate();this.event.addListener(_2a.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.addControl(_2a);return _2a;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.showCalendar=function(){try{_.getBody().getLayerListener().show(this.id);if(this.options.fixedDate=="today"){this.calendar.setInitValue(this.getValue());}_._F.fireEvent(this,"onafteropen");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype._showCalendar=function(){try{if(!this.calendar){this.calendar=this.makeCalendar();}if(this.calendar){var _31=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render)+this.render.offsetHeight+5;var _33=document.documentElement.scrollLeft||document.body.scrollLeft;var _34=document.documentElement.scrollTop||document.body.scrollTop;var _35=parseInt(this.calendar.getStyle("width"))+parseInt(this.calendar.getStyle("border-right-width"))+parseInt(this.calendar.getStyle("border-left-width"));if(_31+_35>_33+document.documentElement.clientWidth){_31=_33+document.documentElement.clientWidth-_35-10;}this.calendar.show();var _36=document.documentElement.scrollHeight||document.body.scrollHeight;var _37=_36-this.calendar.render.offsetHeight;if(top>_37){top=_37;}this.calendar.setPosition(_31,top);var _38=this.options.direction;if(_38=="auto"){var _39=_._v.getAbsoluteTop(this.render)-_34;var _3a=document.documentElement.clientHeight-(_39+this.render.offsetHeight);var _3b=this.calendar.render.offsetHeight;if(_3a<_3b&&_39>_3b){_38="up";}}if(_38=="up"){top=_._v.getAbsoluteTop(this.render)-this.calendar.render.offsetHeight-5;this.calendar.setPosition(_31,top);}if(this.options.wmode==true){_.getBody().showWModeFrame(this.getPluginName(),this.calendar.render);}var _3c=this.getValue();var _3d="";if(_3c!=""){if(this.options.calendarValueType=="yearMonthDate"){_3d=_._B.unformatDate(this.options.ioFormat,_3c);}else{if(this.options.calendarValueType=="yearMonth"){_3d=_._B.unformatDate(this.options.ioFormat,_3c)+"01";}else{if(this.options.calendarValueType=="yearMonthDateTime"){_3d=_._B.unformatDate(this.options.ioFormat,_3c);var _3e=_._B.unformatTime(this.options.ioFormat,_3c);var _3f=_3e.substr(0,2);var min=_3e.substr(2);this.calendar.gotoTime(_3f,min);}}}this.calendar.gotoCalendar(_3d);}else{if(this.options.defaultDate!==""){this.calendar.gotoCalendar(this.options.defaultDate);}else{this.calendar.gotoToday();}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.hideCalendar=function(){try{_.getBody().getLayerListener().hide(this.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype._hideCalendar=function(){try{if(this.calendar){this.calendar.hide();if(this.options.wmode==true){_.getBody().hideWModeFrame(this.getPluginName(),this.calendar.id);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.toggle=function(){try{if(this.calendar){if(this.calendar.getStyle("display")!="none"){this.hideCalendar();}else{this.showCalendar();}}else{this.showCalendar();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.focus=function(){try{this.dom.input.focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.blur=function(){try{this.dom.input.blur();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.select=function(){try{this.dom.input.select();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.onPropertyChange=function(_41,_42){try{switch(_41){case "disabled":this.dom.input.disabled=_42;break;case "readOnly":this.dom.input.readOnly=_42;if(_42==true){this.addClass(this.dom.input,this.options.readOnlyClass);this.addClass(this.dom.img,this.options.imageReadOnlyClass);}else{this.removeClass(this.dom.input,this.options.readOnlyClass);this.removeClass(this.dom.img,this.options.imageReadOnlyClass);}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.validate=function(){try{var _43=this.getValue();var _44=this.validator.validate(_43);if(_44&&_43!=""&&_._G.getBoolean(this.options.dateValidCheck)){_44=this.sub_validator.validate(_43);}if(_44==false){this.focus();}return _44;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setInitValue=function(_45){try{var _46=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_45.fireEvent){if(_46!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleClickEventDocument=function(e){try{if(this.event&&!this.event.isMine(e,this.render)){this.hideCalendar();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_input")){if(this.options.editType==="select"){it.getElement().select();}break;}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_a")){var ret=_._F.fireEvent(this,"oniconclick");if(ret==false){continue;}if(this.options.renderType=="native"){this.showCalendar();}else{this.toggle();}if(this.options.useAnchor==true){_._F.stopEvent(e);}break;}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")){this.addClass(it.getElement(),"w2inputCalendar_img_over");it.getElement().src=this.options.calendarImageOver;}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")){this.removeClass(it.getElement(),"w2inputCalendar_img_over");it.getElement().src=this.options.calendarImage;}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleFocusEvent=function(e){try{if(this.evented==false){this.evented=true;this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.dom.input,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));}this.addClass(this.dom.input,"w2inputCalendar_focus");var _50=this.getValue();if(this.options.applyFormat=="all"){this.dom.input.value=this.formatter.format(_50);}else{this.dom.input.value=_50;}var _51=this;_.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_52){_51.setValue(_52.value);}});_._F.fireEvent(this,"onfocus");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleBlurEvent=function(e){try{this.removeClass(this.dom.input,"w2inputCalendar_focus");var _54=this.getValue();_54=this.validator.validateString(_54);_54=this.sub_validator.validateString(_54);this.setValue(_54);var _55=_.historyManager.get(this.options.pluginName,this.id);if(_55.value!=this.getValue()){_._F.fireEvent(this,"onchange");}this.hideCalendar();_._F.fireEvent(this,"onblur");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleKeypressEvent=function(e){try{var _57=e.charCode?e.charCode:e.keyCode;if(_57==9){return;}if(_57==e.which||e.which==undefined){var _58=this.getValue();if(!this.validator.validateKeyPress(this.dom.input,_58,e)||!this.sub_validator.validateKeyPress(this.dom.input,_58,e)){_._F.stopEvent(e);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleKeyupEvent=function(e){try{var _5a=(e.charCode)?e.charCode:e.keyCode;if(_5a==9){return;}if(_5a==37){}else{if(_5a==38){}else{if(_5a==39){}else{if(_5a==40){}else{if(_5a==13||_5a==9){}else{if(_5a==27){this.dom.input.value="";}else{if(_5a==33){}else{if(_5a==34){}else{if(_5a==35){}else{if(_5a==36){}else{if(_5a==113){}else{if(this.options.applyFormat=="all"){var _5b=this.getValue();var pos=_._B.getCaretPos(this.dom.input);var _5d=0;var _5e=0;_5d=_5b.length;_5b=this.formatter.unformat(_5b);_5b=this.validator.validateString(_5b);_5b=this.formatter.format(_5b);_5b=this.validator.validateString(_5b);_5b=this.formatter.format(_5b);_5e=_5b.length;this.dom.input.value=_5b;_._B.setCaretPos(this.dom.input,pos+_5e-_5d);}}}}}}}}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.handleKeyEvent=function(e){try{var _60=(e.charCode)?e.charCode:e.keyCode;if(this.calendar&&this.calendar.getStyle("display")!="none"){if(_60==27){this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();}else{if(_60==9&&e.shiftKey!=1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if((this.options.cancleButtonShow==false&&it.match("w2calendar_go_today"))||(this.options.cancleButtonShow==true&&it.match("w2calendar_date_cancel"))||(this.options.calendarValueType=="yearMonthDateTime"&&it.match("w2calendar_time_cancel"))){_._F.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}else{if(_60==9&&e.shiftKey==1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if(it.match("w2calendar_header_last_year")){_._F.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}}}}else{if(_60==13){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_img")){_._F.stopEvent(e);this.showCalendar();break;}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setDisplayFormat=function(_62){try{this.options.displayFormat=_62;this.formatter.setMasking(_62);this.setValueNM(this.getValue());}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getDisplayFormat=function(){try{return this.options.displayFormat;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getDefaultDate=function(){try{return this.options.defaultDate;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setDefaultDate=function(_63){try{if(typeof _63!=="string"){return;}if(_63.length!==8){return;}this.hideCalendar();this.options.defaultDate=_63;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getAccessibiltyId=function(){try{return this.id+"_input";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setFormat=function(){try{if(typeof arguments[0]=="object"){var _64=arguments[0].ioFormat||this.options.ioFormat;var _65=arguments[0].displayFormat||this.options.displayFormat;var _66=arguments[0].displayFormatter||this.options.displayFormatter;}else{var _64=arguments[0]||this.options.ioFormat;var _65=arguments[1]||this.options.displayFormat;var _66=this.options.displayFormatter;}this.options.displayFormat=_65;this.options.displayFormatter=_66;if(_64!=this.options.ioFormat){_64=_64.match(/([yMdHm]+)/g).join("");var _67=this.getFormattedValue(_64);this.options.ioFormat=_64;this.formatter=_._g.createFormatter("date",_65,_66,_64);this.setValue(_67);if(this.calendar){this.calendar.remove();delete this.calendar;}}else{var _67=this.getValue();this.formatter=_._g.createFormatter("date",_65,_66,_64);this.setValueNM(_67);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getIoFormat=function(){try{return this.options.ioFormat;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.getFormattedValue=function(_68){try{_68=_68||this.options.displayFormat;var _69=this.getValue();var _6a=_._g.createFormatter("date",_68,"",this.options.ioFormat);return _6a.format(_69);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aA.prototype.setRef=function(ref){["WebSquare.uiplugin.inputCalendar.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.inputCalendar=_._a.aA;requires("uiplugin.group");_._a._s=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._s.prototype,_._q.prototype);_._a._s.prototype.defaultOptions={pluginType:"uiplugin.Switch",pluginName:"Switch",userEvents:["onSelectedIndexChange"],alwaysDraw:true,caseStyle:"",caseClass:"",slide:false,animationDuration:0.5,motionDisplay:true,detectionRange:10,rotation:true,useSelect:false,touchMove:true,hidePosition:"center"};_._a._s.prototype.initialize=function(_4){try{this.selectedIndex=0;this.caseArr=[];this.slide={};this.centerInitLeft;this.isSliding=false;this.startEventLayer={};this.lastEventLayer={};this.leftPosition;this.topPosition;if(this.options.slide==true){this.options.alwaysDraw=true;}var _5="xf";var _6=_._t.findNodes(_4,_5+":case");if(_6){for(var i=0;i<_6.length;i++){var _8=_6[i];var id=_8.getAttribute("id");var _a=_8.getAttribute("selected");var _b=_.controlFactory.create(null,{pluginName:"group"},_8);_b.options.style=_b.options.style+";"+this.options.caseStyle;_b.options.className="w2switch_case "+_b.options.className+" "+this.options.caseClass;if(_a=="true"){this.selectedIndex=i;}this.caseArr.push({caseID:id,caseComp:_b});this.addControl(_b);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.toHTML=function(){try{var _c=[];var _d=(!this.options.style)?"":"style='"+this.options.style+"'";_c.push("<div id='"+this.id+"' "+_d+" class='w2Switch "+this.options.className+"'>");if(this.options.alwaysDraw==true){var _e=this.getChildren();for(var i=0;i<_e.length;i++){_c.push(_e[i].toHTML());}}_c.push("</div>");return _c.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.setAction=function(){try{this.isMobile=_._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.slide==true&&this.options.touchMove==true){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"ondrag",this.event.bindAsEventListener(this,function(e){this.isSliding=false;}));this.event.addListener(this.render,"ondragend",this.event.bindAsEventListener(this,this.handleDragEnd));if(this.options.useSelect!=true){this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){_._F.preventDefault(e);}));}}}this.setSelectedIndex(this.selectedIndex);for(var i=0;i<this.caseArr.length;i++){var _13=this.caseArr[i];_13["caseElement"]=document.getElementById(_13.caseID);}this.leftPosition=_._v.getAbsoluteLeft(this.render);this.topPosition=_._v.getAbsoluteTop(this.render);this.centerInitLeft=this.caseArr[this.selectedIndex].caseElement.offsetLeft;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.setSelectedIndex=function(idx,_15){try{if(_._G.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(typeof _15=="undefined"){_15=true;}var _16=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _18=this.getChild(this.caseArr[i].caseID);if(i==idx){if(!_18.render){_18.writeTo(this);_18.activate();}if(_15){_18.setStyle("left",this.centerInitLeft||0+"px");_18.setStyle("zIndex",110);_18.setStyle("visibility","visible");}this.selectedIndex=i;}else{if(_15){if(_18.getStyle("visibility")!="hidden"){_18.setStyle("visibility","hidden");}if(this.options.hidePosition=="left"){_18.setStyle("left",(_18.render.offsetLeft-this.getElementWidth(_18.render))+"px");}else{if(this.options.hidePosition=="right"){_18.setStyle("left",(_18.render.offsetLeft+this.getElementWidth(_18.render))+"px");}}}_18.setStyle("zIndex",100);}}if(_16!=this.getSelectedIndex()){_._F.fireEvent(this,"onSelectedIndexChange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.setSelectedID=function(id){try{var _1a=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _1c=this.getChild(this.caseArr[i].caseID);if(_1c.id==id){if(!_1c.render){_1c.writeTo(this);_1c.activate();}_1c.setStyle("left",this.centerInitLeft+"px");_1c.setStyle("zIndex",110);_1c.setStyle("visibility","visible");this.selectedIndex=i;}else{if(_1c.getStyle("visibility")!="hidden"){_1c.setStyle("zIndex",100);_1c.setStyle("visibility","hidden");}}}if(_1a!=this.getSelectedIndex()){_._F.fireEvent(this,"onSelectedIndexChange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.getSelectedID=function(){try{for(var i=0;i<this.caseArr.length;i++){if(i==this.selectedIndex){var _1e=this.caseArr[i];return _1e.caseID;}}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.moveToLeft=function(){try{if(this.options.slide==true){this.combineSlideElement();var _1f="right";if(this.options.rotation==false){if(this.selectedIndex<=0){this.setSelectedIndex(this.selectedIndex,false);_1f="center";}else{this.setSelectedIndex(this.slide.leftIndex,false);}}else{this.setSelectedIndex(this.slide.leftIndex,false);}var _20=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_1f,_20);}else{this.setSelectedIndex(this.selectedIndex-1);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.moveToRight=function(){try{if(this.options.slide==true){var _21="left";this.combineSlideElement();if(this.options.rotation==false){if(this.selectedIndex>=(this.caseArr.length-1)){this.setSelectedIndex(this.slide.centerIndex,false);_21="center";}else{this.setSelectedIndex(this.slide.rightIndex,false);}}else{this.setSelectedIndex(this.slide.rightIndex,false);}var _22=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_21,_22);}else{this.setSelectedIndex(this.selectedIndex+1);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.setInitValue=function(_23){try{this.init(_23);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.init=function(_24){try{_24=_.extend({excludePlugin:"",excludeId:"",fireEvent:false},_24||{});var _25=this.getChildren();for(var i=0;i<_25.length;i++){if(_25[i].setInitValue){if((" "+_24.excludePlugin+" ").indexOf(" "+_25[i].options.pluginName+" ")==-1&&(" "+_24.excludeId+" ").indexOf(" "+_25[i].id+" ")==-1){_25[i].setInitValue(_24);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.invoke=function(_27,_28,_29,_2a){try{return _._q.prototype.invoke.call(this,_27,_28,_29,_2a);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.getElementWidth=function(_2b){var _2c;if(_2b){_2c=_2b.offsetWidth;var _2d=parseInt(_._G.getStyleProperty(_2b,"border-left-width"),10)||0;var _2e=parseInt(_._G.getStyleProperty(_2b,"border-right-width"),10)||0;var _2f=parseInt(_._G.getStyleProperty(_2b,"padding-left"),10)||0;var _30=parseInt(_._G.getStyleProperty(_2b,"padding-right"),10)||0;_2c=_2c-_2d-_2e-_2f-_30;}return _2c;};_._a._s.prototype.combineSlideElement=function(){try{_._h.clearTimer(this.id+"_slider_slide");this.slide={};this.slide.leftIndex=(this.selectedIndex-1>=0)?this.selectedIndex-1:this.caseArr.length-1;this.slide.centerIndex=this.selectedIndex;this.slide.rightIndex=(this.selectedIndex+1==this.caseArr.length)?0:this.selectedIndex+1;this.slide.leftElement=this.caseArr[this.slide.leftIndex].caseElement;this.slide.rightElement=this.caseArr[this.slide.rightIndex].caseElement;this.slide.centerElement=this.caseArr[this.slide.centerIndex].caseElement;if(!_._G.isNumber(this.centerInitLeft)){this.centerInitLeft=this.slide.centerElement.offsetLeft;}this.slide.leftElement.style.left="-"+(this.getElementWidth(this.slide.leftElement)+this.centerInitLeft)+"px";this.slide.rightElement.style.left=(this.getElementWidth(this.slide.rightElement)-this.centerInitLeft)+"px";if(this.slide.leftElement.style["visibility"]!="visibility"){this.slide.leftElement.style["zIndex"]=110;this.slide.leftElement.style["visibility"]="visible";}if(this.slide.rightElement.style["visibility"]!="visibility"){this.slide.rightElement.style["zIndex"]=110;this.slide.rightElement.style["visibility"]="visible";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.slideAnimation=function(_31,_32){try{var _33=this.options.animationDuration*1000;var _34=5;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_3a){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_3f){return 1/(200*_3f);}function solve(x,_41){return sampleCurveY(solveCurveX(x,_41));}function solveCurveX(x,_43){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_43){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_43){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_3a));}var t=new Date().getTime()-(_32-_33);var cp=[0.25,0.1,0.25,1];var _48="ease";switch(_48){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _49=CubicBezierAtTime(t/_33,cp[0],cp[1],cp[2],cp[3],_33/1000);var _4a;if(_31=="right"){_4a=Math.round((this.getElementWidth(this.slide.centerElement)-this.slide.centerElement.offsetLeft)*(_49));this.slide.leftElement.style.left=(this.slide.leftElement.offsetLeft+_4a)+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft+_4a+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft+_4a+"px";}else{if(_31=="left"){_4a=Math.round((this.getElementWidth(this.slide.centerElement)+this.slide.centerElement.offsetLeft)*(_49));this.slide.leftElement.style.left=this.slide.leftElement.offsetLeft-_4a+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft-_4a+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft-_4a+"px";}else{}}if(t>=_33){this.stopSlideAnimation(_31);return;}_._h.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_34,args:[_31,_32]});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.stopSlideAnimation=function(_4b){try{this.slide.leftElement.style.left=this.centerInitLeft+"px";this.slide.rightElement.style.left=this.centerInitLeft+"px";this.slide.centerElement.style.left=this.centerInitLeft+"px";if(_4b==="right"){this.setSelectedIndex(this.slide.leftIndex);}else{if(_4b==="left"){this.setSelectedIndex(this.slide.rightIndex);}else{this.setSelectedIndex(this.slide.centerIndex);}}_._h.clearTimer(this.id+"_slider_slide");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.setIsSliding=function(_4c){var _4d=this.lastEventLayer.x-this.startEventLayer.x;var _4e=this.lastEventLayer.y-this.startEventLayer.y;var _4f=3;if(_4d<_4f&&_4e<_4f){this.isSliding=_4c;}};_._a._s.prototype.handleTouchStart=function(e){try{_.getBody().getLayerListener().hideAll();_._F.stopPropagation(e);this.isSliding=true;this.startEventLayer.x=_._F.getMouseX(e)-(this.leftPosition||0);this.startEventLayer.y=_._F.getMouseY(e)-(this.topPosition||0);this.lastEventLayer.x=_._F.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=_._F.getMouseY(e)-(this.topPosition||0);this.combineSlideElement();if(this.options.useSelect==true){_._h.clearTimer(this.id+"_setSlidingFlag");_._h.setTimer(this.setIsSliding,{key:this.id+"_setSlidingFlag",caller:this,delay:1000,args:[false]});}}catch(e){this.isSliding=false;_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.handleTouchEnd=function(e,_52){try{_._F.stopPropagation(e);if(!this.isSliding){if(_52&&this.slide.centerElement){this.stopSlideAnimation("center");}return;}this.isSliding=false;var _53=new Date().getTime()+this.options.animationDuration*1000;var _54=this.lastEventLayer.x-this.startEventLayer.x;if(Math.abs(_54)<this.options.detectionRange){destination="center";}else{if(_54>0){destination="right";}else{if(_54<0){destination="left";}}}if(this.options.rotation==false){if(destination==="left"){if(this.selectedIndex>=this.caseArr.length-1){destination="center";}}else{if(destination==="right"){if(this.selectedIndex<=0){destination="center";}}}}if(destination==="center"){this.setSelectedIndex(this.slide.centerIndex);return;}else{if(destination==="left"){this.setSelectedIndex(this.slide.rightIndex,false);}else{if(destination==="right"){this.setSelectedIndex(this.slide.leftIndex,false);}}}this.slideAnimation(destination,_53);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.handleTouchMove=function(e){try{_._F.stopPropagation(e);if(!this.isSliding||this.options.motionDisplay!=true){this.lastEventLayer.x=_._F.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=_._F.getMouseY(e)-(this.topPosition||0);return;}if(!e.touches||e.touches.length==1){var _56=_._F.getMouseX(e)-(this.leftPosition||0);var _57=_56-this.startEventLayer.x;this.slide.leftElement.style.left=_57-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_57+"px";this.slide.rightElement.style.left=_57+this.getElementWidth(this.slide.rightElement)+"px";this.lastEventLayer.x=_56;this.lastEventLayer.y=_._F.getMouseY(e)-(this.topPosition||0);_._F.stopEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._s.prototype.handleMouseOut=function(e){if(_._F.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};_._a._s.prototype.handleDragEnd=function(e){this.handleTouchEnd(e,true);};_._a._s.prototype.setDisabled=function(_5a){try{_5a=_._q.prototype.setDisabled.call(this,_5a);for(var i=0;i<this.childControlList.length;i++){var _5c=this.childControlList[i];if(_5c.setDisabled&&_5c.activeStatus!="stop"){_5c.setDisabled(_5a);}}}catch(e){_.exception.printStackTrace(e);}return _5a;};;WebSquare.uiplugin.Switch=_._a._s;_._a.aF=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aF.prototype,_._q.prototype);_._a.aF.prototype.defaultOptions={pluginType:"uiplugin.tabContainer",pluginName:"tabContainer",userEvents:["onchange","ontabclick","onbeforeselect","ontabselect"],tabClass:"",tabStyle:"",selectedIndex:0,alwaysDraw:true,contentsClass:"w2tabContainer_contents_layer",tabPosition:"auto left",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};_._a.aF.prototype.defaultOptionsTab={id:"",value:"",localeRef:"",style:"",className:"",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};_._a.aF.prototype.defaultOptionsContents={id:"",style:"",src:null};_._a.aF.prototype.initialize=function(_4){try{this.selectedIndex=0;this.tabArr=[];var _5="w2:";var _6=_._t.findNodes(_4,_5+"tab");var _7=_._t.findNodes(_4,_5+"contents");if(_6&&_7&&_6.length==_7.length){for(var i=0;i<_6.length;i++){var _9=_6[i];var _a=_7[i];var _b=this.parseTabOption(_9);var _c=_.extendKeepingType(_.extendKeepingType({},this.defaultOptionsContents),_.WebSquareparser.parseAttribute(_a));_c.id=this.id+"_"+_c.id;if(_b.useMultipleImage=="none"){_b.useMultipleImage=true;}if(_b.useDefaultImage=="none"){_b.useDefaultImage="true";}var _d=null;if(_c.src){requires("uiplugin.wframe");_d=new _._a.aI(_c.id,null,_a);}else{_d=_.controlFactory.create(_c.id,null,_a);}_d.options.className=_d.options.className+" "+this.options.contentsClass;this.addControl(_d);if(_b.localeRef!=""){_b.value=this.getLocaleValue(_b.localeRef);}this.tabArr.push(new _._a.as(_b.id,{contentsID:_c.id,tabValue:_b.value,optionsTab:_b,optionsContents:_c}));}}for(var _e in this.options){if(_e.indexOf("ImageStyle")>-1){this.options[_e]=this.options[_e].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}this.options=_.cssManager.styleToClass(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.toHTML=function(){try{var _f=[];var _10=(!this.options.style)?"":"style='"+this.options.style+"'";_f.push("<div id='"+this.id+"' "+_10+" class='w2tabContainer "+this.options.className+"'>");_f.push("<div id='"+this.id+"_tabLayer' class='w2tabContainer_tab_layer'></div>");if(this.options.alwaysDraw==true){for(var i=0;i<this.tabArr.length;i++){var _12=this.getChild(this.tabArr[i].contentsID);_f.push(_12.toHTML());}}_f.push("<div id='"+this.id+"_wrap' class='w2tabContainer_wrap'></div>");_f.push("</div>");return _f.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setAction=function(){try{this.dom.tabLayer=document.getElementById(this.id+"_tabLayer");this.drawTab();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.setSelectedIndexNM(this.options.selectedIndex);var _13=document.getElementById(this.id+"_wrap");if(_13){_13.style.display="none";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.onPropertyChange=function(_14,_15){try{switch(_14){case "disabled":for(var i=0;i<this.getCount();i++){var _17=document.getElementById(this.id+"_tab_left_"+i);var _18=document.getElementById(this.id+"_tab_center_"+i);var _19=document.getElementById(this.id+"_tab_right_"+i);if(_15==true){this.addClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.addClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.addClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}else{this.removeClass(_17,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.removeClass(_18,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.removeClass(_19,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}}break;case "readOnly":break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype._getTabIndex=function(idx){try{var _1b=-1;if(typeof idx=="number"){_1b=idx;}else{if(typeof idx=="string"){for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==idx){_1b=i;break;}}}}if(_1b<0||_1b>=this.tabArr.length){_1b=-1;}return _1b;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.getCount=function(){try{return this.tabArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.parseTabOption=function(_1d){try{var _1e={};for(var idx in this.options){if(idx.indexOf("ImageStyle")>-1||idx.indexOf("ImageClass")>-1){_1e[idx]=this.options[idx];}}var _20={};_20=_.extendKeepingType(_20,this.defaultOptionsTab);_20=_.extendKeepingType(_20,_1e);_20=_.extendKeepingType(_20,_.WebSquareparser.parseAttribute(_1d));for(var idx in _20){if(idx.indexOf("ImageStyle")>-1){_20[idx]=_20[idx].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}if(this.options.tabPosition.indexOf("manual")==-1){var _21=_20["style"];_21=_21.replace(/(?:^|;)\s*left\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*right\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*top\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*bottom\s*:\s*(\d*)px\s*/ig,"");_21=_21.replace(/(?:^|;)\s*position\s*:\s*([A-z]*)\s*/ig,"");_20["style"]=_21;}_20=_.cssManager.styleToClass(_20.id,_20);return _20;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.drawTab=function(){try{var _22=[];for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabValue==""){this.tabArr[i].tabValue="&nbsp;";}if(i==this.selectedIndex){_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_selected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabSelectedLeftImageClass+"' ></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabSelectedCenterImageClass+"' >"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabSelectedRightImageClass+"' ></td>");_22.push("\t</tr></table>");}else{_22.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_deselected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_22.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabDefaultLeftImageClass+"'></td>");_22.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabDefaultCenterImageClass+"'>"+this.tabArr[i].tabValue+"</td>");_22.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabDefaultRightImageClass+"'></td>");_22.push("\t</tr></table>");}}this.dom.tabLayer.innerHTML=_22.join("");for(var idx=0;idx<this.tabArr.length;idx++){var _25=document.getElementById(this.tabArr[idx].tabID);var _26=document.getElementById(this.id+"_tab_left_"+idx);var _27=document.getElementById(this.id+"_tab_center_"+idx);var _28=document.getElementById(this.id+"_tab_right_"+idx);if(this.tabArr[idx].disabled==true){_25.disabled=true;this.addClass(_26,this.tabArr[idx].optionsTab.tabDisabledLeftImageClass);this.addClass(_27,this.tabArr[idx].optionsTab.tabDisabledCenterImageClass);this.addClass(_28,this.tabArr[idx].optionsTab.tabDisabledRightImageClass);}if(this.tabArr[idx].visible==false){this.addClass(_25,"w2tabContainer_none");}if(this.options.tabPosition.indexOf("right")>-1){this.addClass(_25,"w2tabContainer_tab_rightalign");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setSelectedIndexNM=function(idx){try{idx=parseInt(idx);if(idx<0||idx>=this.tabArr.length){return;}if(this.tabArr[idx].disabled==true){return;}for(var i=0;i<this.tabArr.length;i++){var _2b=this.getChild(this.tabArr[i].contentsID);if(i==idx){if(!_2b.render){_2b.writeTo(this);_2b.activate();}_2b.setStyle("zIndex",110);_2b.setStyle("visibility","visible");this.addClass(_2b.render,"w2tabContainer_contents_selected");this.selectedIndex=i;}else{_2b.setStyle("zIndex",100);_2b.setStyle("visibility","hidden");this.removeClass(_2b.render,"w2tabContainer_contents_selected");}}this.drawTab();_._F.fireEvent(this,"ontabselect",idx);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setSelectedIndex=function(idx){try{var ret=_._F.fireEvent(this,"onbeforeselect",this.getSelectedIndex(),idx);if(ret==false){return;}var _2e=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_2e!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.getSelectedID=function(){try{var idx=this.selectedIndex;if(idx<0||idx>=this.tabArr.length){return "";}return this.tabArr[idx].tabID;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setLabelText=function(idx,_31){try{var _32=this._getTabIndex(idx);if(_32!=-1){this.tabArr[_32].tabValue=_31;this.drawTab();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.getLabelText=function(idx){try{var _34=this._getTabIndex(idx);if(_34!=-1){return this.tabArr[_34].tabValue;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.addTab=function(id,_36){try{_36=_.extend({label:"",src:"",frameMode:"iframe"},_36||{});var _37=id+"_contents";for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==id){this.setSelectedIndex(i);return;}}this.tabArr.push(new _._a.as(id,{contentsID:_37,tabValue:_36.label,optionsTab:_.extendKeepingType({},this.defaultOptions)}));var _39=null;if(_36.frameMode=="wframe"){requires("uiplugin.wframe");_39=new _._a.aI(_37,{className:"w2tabContainer_contents"});}else{if(_36.frameMode=="iframe"){requires("uiplugin.iframe");_39=new _._a._O(_37,{className:"w2tabContainer_contents"});}}_39.writeTo(this);_39.activate();_39.setSrc(_36.src);this.setSelectedIndex(this.tabArr.length-1);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.deleteTab=function(idx){try{var _3b=this._getTabIndex(idx);if(_3b!=-1){var _3c=this.getChild(this.tabArr[_3b].contentsID);if(_3c){_3c.remove();this.tabArr.splice(_3b,1);}this.drawTab();if(_3b<this.selectedIndex){this.setSelectedIndex(this.selectedIndex-1);}else{if(_3b==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setSelectedIndex(this.selectedIndex);}else{this.setSelectedIndex(this.selectedIndex-1);}}else{if(_3b>this.selectedIndex){this.setSelectedIndex(this.selectedIndex);}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.disableTab=function(idx){try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=true;var _3e=this.getChild(this.tabArr[idx].contentsID);_3e.setDisabled(true);if(this.getSelectedIndex()==idx){var _3f=false;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].disabled==false){this.setSelectedIndex(i);_3f=true;break;}}if(_3f==false){this.enableTab(idx);alert("you should enable at least 1 tab!");return false;}}this.drawTab();return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.enableTab=function(idx){try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=false;var _42=this.getChild(this.tabArr[idx].contentsID);_42.setDisabled(false);this.drawTab();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setTabVisible=function(idx,_44){try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].visible=_44;if(_44==true){this.enableTab(idx);}else{var _45=this.disableTab(idx);if(_45==false){this.setTabVisible(idx,true);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setInitValue=function(_46){try{this.init(_46);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.init=function(_47){try{_47=_.extend({excludePlugin:"",excludeId:"",fireEvent:false},_47||{});var _48=this.getChildren();for(var i=0;i<_48.length;i++){if(_48[i].setInitValue){if((" "+_47.excludePlugin+" ").indexOf(" "+_48[i].options.pluginName+" ")==-1&&(" "+_47.excludeId+" ").indexOf(" "+_48[i].id+" ")==-1){_48[i].setInitValue(_47);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.invoke=function(_4a,_4b,_4c,_4d){try{return _._q.prototype.invoke.call(this,_4a,_4b,_4c,_4d);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.getWindow=function(idx){try{var _4f;var _50=idx||this.selectedIndex;if(_50<0){return _4f;}for(var i=0;i<this.tabArr.length;i++){var _52=this.getChild(this.tabArr[i].contentsID);if(i==_50){if(_52.getPluginName()=="iframe"){_4f=_52.getWindow();}else{_4f=window;}}}return _4f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _55=it.getElement().getAttribute("index");if(this.event.isMe(e,this.dom.tabLayer)){if(this.tabArr[_55].disabled==false){this.setSelectedIndex(_55);_._F.fireEvent(this,"ontabclick");}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _58=it.getElement().getAttribute("index");if(this.tabArr[_58].disabled==false){this.addClass(it.getElement(),"w2tabContainer_tab_over");if(_58!=this.selectedIndex){var _59=document.getElementById(this.id+"_tab_left_"+_58);var _5a=document.getElementById(this.id+"_tab_center_"+_58);var _5b=document.getElementById(this.id+"_tab_right_"+_58);this.changeClass(_59,this.tabArr[_58].optionsTab.tabDefaultLeftImageClass,this.tabArr[_58].optionsTab.tabHoverLeftImageClass);this.changeClass(_5a,this.tabArr[_58].optionsTab.tabDefaultCenterImageClass,this.tabArr[_58].optionsTab.tabHoverCenterImageClass);this.changeClass(_5b,this.tabArr[_58].optionsTab.tabDefaultRightImageClass,this.tabArr[_58].optionsTab.tabHoverRightImageClass);}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _5e=it.getElement().getAttribute("index");if(this.tabArr[_5e].disabled==false){this.removeClass(it.getElement(),"w2tabContainer_tab_over");if(_5e!=this.selectedIndex){var _5f=document.getElementById(this.id+"_tab_left_"+_5e);var _60=document.getElementById(this.id+"_tab_center_"+_5e);var _61=document.getElementById(this.id+"_tab_right_"+_5e);this.changeClass(_5f,this.tabArr[_5e].optionsTab.tabHoverLeftImageClass,this.tabArr[_5e].optionsTab.tabDefaultLeftImageClass);this.changeClass(_60,this.tabArr[_5e].optionsTab.tabHoverCenterImageClass,this.tabArr[_5e].optionsTab.tabDefaultCenterImageClass);this.changeClass(_61,this.tabArr[_5e].optionsTab.tabHoverRightImageClass,this.tabArr[_5e].optionsTab.tabDefaultRightImageClass);}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aF.prototype.setSize=function(_62,_63){try{_._r.prototype.setSize.call(this,_62,_63);}catch(e){_.exception.printStackTrace(e);}};_._a.as=function(id,_65){_65=_.extend({tabID:id,contentsID:"",tabValue:"",optionsTab:{},optionsContents:{},disabled:false,visible:true},_65||{});_.extend(this,_65);};;WebSquare.uiplugin.tab=_._a.as;;WebSquare.uiplugin.tabContainer=_._a.aF;_.korHelper=function(){this.font_cho=new Array("\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314a","\u314b","\u314c","\u314d","\u314e");this.font_jung=new Array("\u314f","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157","\u3158","\u3159","\u315a","\u315b","\u315c","\u315d","\u315e","\u315f","\u3160","\u3161","\u3162","\u3163");this.font_jong=new Array("","\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3139","\u313a","\u313b","\u313c","\u313d","\u313e","\u313f","\u3140","\u3141","\u3142","\u3144","\u3145","\u3146","\u3147","\u3148","\u314a","\u314b","\u314c","\u314d","\u314e");};_.korHelper.prototype={getCho:function(_1){return this.font_cho[parseInt((_1-44032)/(21*28))];},getJung:function(_2){return this.font_jung[parseInt((_2-44032)%(21*28)/28)];},getJong:function(_3){return this.font_jong[parseInt((_3-44032)%(21*28)%28)];},getChoArr:function(_4){var _5=[];var _6=_4.length;for(var i=0;i<_6;i++){var _8=_4.charCodeAt(i);var _9=_8-44032;if(_9>=0){_5.push(this.getCho(_8));}else{_5.push(_4.charAt(i));}}return _5;},getJungArr:function(_a){var _b=[];var _c=_a.length;for(var i=0;i<_c;i++){var _e=_a.charCodeAt(i);var _f=_e-44032;if(_f>=0){_b.push(this.getJung(_e));}else{_b.push("");}}return _b;},getJongArr:function(str){var arr=[];var _12=str.length;for(var i=0;i<_12;i++){var _14=str.charCodeAt(i);var _15=_14-44032;if(_15>=0){arr.push(this.getJong(_14));}else{arr.push("");}}return arr;},matchArr:function(_16,_17,_18){var _19=true;if(_16.length!=_17.length){_19=false;}else{var _1a=_16.length;for(var i=0;i<_1a;i++){if(!_18){if(_17[i]==""){continue;}}if(_16[i]!=_17[i]){_19=false;break;}}}return _19;},containArr:function(_1c,_1d,_1e,_1f,end){var _21=[];var _22=_1c.length;var _23=false;var _24;myresult=function(_25,_26,_27,_28){if(_26.length-1>_28){if(_26[_28+1]==0){_23=true;}else{if(_25[_27+1]==_26[_28+1]){this.myresult(_25,_26,_27+1,_28+1,_23);}else{_23=false;}}}};for(var i=_1e;i<_22;i++){if(_1d.length==1&&_1d[0]==""){_23=true;return {"result":_23};}if(_1c[i]==_1d[0]){if(_1f){_24=i;_1f=false;}_23=true;myresult(_1c,_1d,i,0);break;}}return {"result":_23,"first":_24};},matchStr:function(_2a,_2b,_2c){if(this.matchArr(this.getChoArr(_2a),this.getChoArr(_2b),_2c)&&this.matchArr(this.getJungArr(_2a),this.getJungArr(_2b),_2c)&&this.matchArr(this.getJongArr(_2a),this.getJongArr(_2b),_2c)){return true;}else{return false;}},containStr:function(_2d,_2e,_2f){var _30=this.containArr(this.getChoArr(_2d),this.getChoArr(_2e),0,true,false);var _31=this.containArr(this.getJungArr(_2d),this.getJungArr(_2e),_30.first,false);var _32=this.containArr(this.getJongArr(_2d),this.getJongArr(_2e),_30.first,false,true);if(_30.result&&_31.result&&_32.result){return true;}else{return false;}},startWith:function(_33,_34){if(_34.length>_33.length){return false;}return this.matchStr(_33.substr(0,_34.length),_34);},containWith:function(_35,_36){if(_36.length>_35.length){return false;}return this.containStr(_35,_36);}};_._a._M=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._M.prototype,_._q.prototype);_._a._M.prototype.defaultOptions={pluginType:"uiplugin.slideHide",pluginName:"slideHide",userEvents:["onSlideEnd","onHideEnd","onSlideStart","onHideStart"],parseChild:true,showSize:20,moveSize:10,slideDirection:"right",slideEvent:"",hideEvent:"",firstStatus:"hide",eventArea:"full"};_._a._M.prototype.initialize=function(_4){try{this.slideStatus=(this.options.firstStatus=="slide")?true:false;this.slideDist=0;this.slideTime=0;this.nowMove=(this.slideStatus)?2:0;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+""+((this.options.firstStatus=="hide")?";display:none":"")+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2slideHide "+this.options.className+"'>");_5.push("<div style='position:absolute;' id='"+this.id+"_slideHideMain' class='w2slideHide_slideHideMain'>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_5.push(_7[i].toHTML());}_5.push("</div>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setAction=function(){try{this.originStyle={};this.originStyle["left"]=this.render.style.left;this.originStyle["top"]=this.render.style.top;this.originStyle["width"]=this.render.style.width;this.originStyle["height"]=this.render.style.height;this.main=this.getElementById(this.id+"_slideHideMain");var _9=this.options.firstStatus=="hide"?this.render.style.width:_._v.getSize(this.render,"innerwidth")+"px";var _a=this.options.firstStatus=="hide"?this.render.style.height:_._v.getSize(this.render,"innerheight")+"px";this.main.style.width=_9;this.main.style.height=_a;switch(this.options.slideDirection){case "right":this.setRight(_9,_a);break;case "left":this.setLeft(_9,_a);break;case "up":this.setUp(_9,_a);break;case "down":this.setDown(_9,_a);break;}if(this.options.slideEvent==this.options.hideEvent){if(this.options.slideEvent!=""&&this.options.hideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}}else{if(this.options.slideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleSlideEvent));}if(this.options.hideEvent!=""){this.event.addListener(this.render,this.options.hideEvent,this.event.bindAsEventListener(this,this.handleHideEvent));}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setRight=function(_b,_c){try{this.main.style.right="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";}this.render.style.display="";var _d=(parseInt(_b)-this.options.showSize)/this.options.moveSize*0.015;var _e=this;this.slideOption={width:parseInt(_b),height:parseInt(_c),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_c),fromLeft:true,fromTop:true,mode:"absolute",duration:_d,finish:function(){_e.endHide();}};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setLeft=function(_f,_10){try{this.main.style.left="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";this.render.style.left=(parseInt(this.render.style.left)+parseInt(_f)-this.options.showSize)+"px";}this.render.style.display="";var _11=(parseInt(_f)-this.options.showSize)/this.options.moveSize*0.015;var _12=this;this.slideOption={width:parseInt(_f),height:parseInt(_10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_10),fromLeft:false,fromTop:true,mode:"absolute",duration:_11,finish:function(){_12.endHide();}};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setDown=function(_13,_14){try{this.main.style.bottom="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";}this.render.style.display="";var _15=(parseInt(_14)-this.options.showSize)/this.options.moveSize*0.015;var _16=this;this.slideOption={width:parseInt(_13),height:parseInt(_14),fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endSlide();}};this.hideOption={width:parseInt(_13),height:this.options.showSize,fromLeft:true,fromTop:true,mode:"absolute",duration:_15,finish:function(){_16.endHide();}};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setUp=function(_17,_18){try{this.main.style.top="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";this.render.style.top=(parseInt(this.render.style.top)+parseInt(_18)-this.options.showSize)+"px";}this.render.style.display="";var _19=(parseInt(_18)-this.options.showSize)/this.options.moveSize*0.015;var _1a=this;this.slideOption={width:parseInt(_17),height:parseInt(_18),fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endSlide();}};this.hideOption={width:parseInt(_17),height:this.options.showSize,fromLeft:true,fromTop:false,mode:"absolute",duration:_19,finish:function(){_1a.endHide();}};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.endSlide=function(){try{this.nowMove=2;this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}_._F.fireEvent(this,"onSlideEnd");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.endHide=function(e){try{this.nowMove=0;this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}_._F.fireEvent(this,"onHideEnd");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.isMouseInRender=function(e){try{var _1d=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var _1f=this.render.offsetWidth;var _20=this.render.offsetHeight;var x=_._F.getMouseX(e);var y=_._F.getMouseY(e);if(x>_1d&&x<_1d+_1f&&y>top&&y<top+_20){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.isMouseInShownArea=function(e){try{var _24;var top;var _26;var _27;switch(this.options.slideDirection){case "right":_24=_._v.getAbsoluteLeft(this.render)+this.render.offsetWidth-this.options.showSize;top=_._v.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "left":_24=_._v.getAbsoluteLeft(this.render);top=_._v.getAbsoluteTop(this.render);_26=this.options.showSize;_27=this.render.offsetHeight;break;case "up":_24=_._v.getAbsoluteLeft(this.render);top=_._v.getAbsoluteTop(this.render);_26=this.render.offsetWidth;_27=this.options.showSize;break;case "down":_24=_._v.getAbsoluteLeft(this.render);top=_._v.getAbsoluteTop(this.render)+this.render.offsetHeight-this.options.showSize;_26=this.render.offsetWidth;_27=this.options.showSize;break;}var x=_._F.getMouseX(e);var y=_._F.getMouseY(e);if(x>_24&&x<_24+_26&&y>top&&y<top+_27){return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.startSlide=function(){try{if(this.nowMove==1||this.nowMove==2){return;}if(this.nowMove==3){_._m.effectManager.remove(this.slideEffect);}this.nowMove=1;_._F.fireEvent(this,"onSlideStart");this.slideEffect=new _._m.resize(this.render,this.slideOption);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.startHide=function(){try{if(this.nowMove==0||this.nowMove==3){return;}if(this.nowMove==1){_._m.effectManager.remove(this.slideEffect);}this.nowMove=3;_._F.fireEvent(this,"onHideStart");this.slideEffect=new _._m.resize(this.render,this.hideOption);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.isOpen=function(){try{return this.slideStatus;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.handleSlideEvent=function(e){try{this.startSlide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.handleHideEvent=function(e){try{if(this.options.hideEvent=="onmouseout"&&this.isMouseInRender(e)){return;}if(this.options.eventArea=="partial"&&!this.isMouseInShownArea(e)){return;}this.startHide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.handleToggleEvent=function(e){try{if(this.slideStatus==false){this.handleSlideEvent(e);}else{this.handleHideEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._M.prototype.setHeight=function(_2d){if(!this.render){return;}if(this.options.slideDirection=="left"||this.options.slideDirection=="right"){_2d=parseInt(_2d);if(_2d!=null&&!isNaN(_2d)&&_2d>=0){this.render.style.height=_2d+"px";this.main.style.height=_2d+"px";this.slideOption.height=_2d;this.hideOption.height=_2d;}}};_._a._M.prototype.setWidth=function(_2e){if(!this.render){return;}if(this.options.slideDirection=="up"||this.options.slideDirection=="down"){_2e=parseInt(_2e);if(_2e!=null&&!isNaN(_2e)&&_2e>=0){this.render.style.width=_2e+"px";this.main.style.width=_2e+"px";this.slideOption.width=_2e;this.hideOption.width=_2e;}}};;WebSquare.uiplugin.slideHide=_._a._M;_._a._j=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._j.prototype,_._q.prototype);_._a._j.prototype.defaultOptions={pluginType:"uiplugin.taskManager",pluginName:"taskManager",id:"",style:""};_._a._j.prototype.initialize=function(_4){};_._a._j.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2taskManager "+this.options.className+"'>");_5.push("<div class='w2taskManager_title'>task</div>");_5.push("<div id='"+this.id+"_bar' class='w2taskManager_bar'>");_5.push("<table class='w2taskManager_bar_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");for(var i=0;i<5;i++){_5.push("<td class='w2taskManager_bar_col'><div class='w2taskManager_task' index='"+i+"'>bar_"+i+"<div></td>");}_5.push("</tr>");_5.push("</table>");_5.push("</div>");_5.push("</div>");return _5.join("");};_._a._j.prototype.setAction=function(){this.dom.bar=document.getElementById(this.id+"_bar");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));};_._a._j.prototype.refreshItemset=function(){};_._a._j.prototype.refresh=function(){};_._a._j.prototype.minimize=function(id){var _9=document.getElementById(id);_9.style.display="none";var _a=document.getElementById(this.id+"_taskBar");_a.innerHTML+="<div id='"+id+"_task' style='width:100px;'>"+id+"</div>";var _b=document.getElementById(id+"_task");this.event.addListener(_b,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));};_._a._j.prototype.restore=function(id){var _d=document.getElementById(id);var _e=document.getElementById(id+"_task");if(_e){_d.style.display="block";_e.innerHTML="";}};_._a._j.prototype.drawBar=function(id){this.dom.bar.innerHTML="abc";};_._a._j.prototype.handleClickEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){var _12=it.getElement().getAttribute("index");alert(_12);}}it=null;};_._a._j.prototype.handleMouseoverEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.addClass(it.getElement(),"w2taskManager_task_over");}}it=null;};_._a._j.prototype.handleMouseoutEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.removeClass(it.getElement(),"w2taskManager_task_over");}}it=null;};_._a._j.prototype.handleDblClickEvent=function(e){_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _19=e.srcElement.id;_19=_19.replace("_task","");this.restore(_19);};;WebSquare.uiplugin.taskManager=_._a._j;_.tag=function(id,_2,_3){this.parentControl=null;this.childControlList=[];this.element=_3;this.options={};if(_3.nodeType==1){this.id=_3.getAttribute("id");var _4=_._G.getBoolean(_._h.getConfiguration("/WebSquare/parseHtml/@value")||"true");this.options.parseChild=this.element.tagName=="w2:tag"||_4;}};_.extend(_.tag.prototype,_.htmlControl.prototype);_.tag.idCounter=0;_.tag.prototype.toHTML=function(){var _5=this.element.tagName;var _6=_._h.getEmptyTag();var _7=false;var _8=null;if(_5=="w2:tag"){_7=true;_5=this.element.getAttribute("tagname")||"div";if(this.element.getAttribute("tagname")){this.element.removeAttribute("tagname");_8=_._t.noNameSpaceSerialize(this.element);this.element.setAttribute("tagname",_5);}else{_8=_._t.noNameSpaceSerialize(this.element);}_8=_8.replace("w2:tag",_5);if(this.options.parseChild&&!this.id){this.id="w2tag_"+_.tag.idCounter++;this.element.setAttribute("id",this.id);}}else{_8=_._t.noNameSpaceSerialize(this.element);}if(this.options.parseChild&&!_6[_5.toLowerCase()]){var _9="";var _a="";if(this.element.nodeType==1){var _b=_8.substring(0,_8.indexOf(">"));if(_b.endsWith("/")){_b=_b.substring(0,_b.length-1)+">";}else{_b+=">";}_9=_b;_a="</"+_5+">";}else{if(this.element.nodeType==3){_9=this.element.nodeValue;_a="";}}var _c=[_9];if(_9.toLowerCase().wq_trim().indexOf("<script ")==0){var _d="";if(this.element.parentElement){_d=this.element.parentElement.tagName||"";}else{if(this.element.parentNode){_d=this.element.parentNode.tagName||"";}}if(_d.indexOf("xf")<0&&_d.indexOf("w2")<0){var _e=this.element.firstChild||{};if(_e.nodeType===3||_e.nodeType===4){_.scriptSection+=";"+_e.data;_c.push(_e.data);}}}else{var _f=this.getChildren();for(var i=0;i<_f.length;i++){_c.push(_f[i].toHTML());}}_c.push(_a);return _c.join("");}else{if(_7){if(!_8.endsWith("/>")){_8=_8.substring(0,_8.indexOf(">"));if(_8.endsWith(" ")){_8+="/>";}else{_8+=" />";}}}if(this.element.nodeType==3){return this.element.nodeValue;}return _8;}};_.tag.prototype.activate=function(){if(this.options.parseChild){var _11=this.getChildren();for(var i=0;i<_11.length;i++){_11[i].activate();}}};_.tag.prototype.setAction=function(){};_.tag.prototype.remove=function(){try{this.destroy();_.removeNode(this.render);window[this.id]=null;for(var i in _.getBody().childControlList){if(_.getBody().childControlList[i]==this){_.getBody().childControlList.splice(i,1);}}for(var i in this){delete this[i];}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ao=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ao.prototype,_._q.prototype);_._a.ao.prototype.defaultOptions={pluginType:"uiplugin.xhtml",pluginName:"xhtml",src:""};_._a.ao.prototype.initialize=function(_4){};_._a.ao.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xhtml "+this.options.className+"'>");_5.push("</div>");return _5.join("");};_._a.ao.prototype.setAction=function(){this.dom.mydiv=document.getElementById(this.id);var _7=_._h.load(_._h.getURL(this.options.src));this.dom.mydiv.innerHTML=_7;};;WebSquare.uiplugin.xhtml=_._a.ao;_._a.aa=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aa.prototype,_._q.prototype);_._a.aa.prototype.defaultOptions={pluginType:"uiplugin.xsl",pluginName:"xsl",xsl:"",xpath:""};_._a.aa.prototype.initialize=function(_4){};_._a.aa.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2xsl "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.setAction=function(){try{if(this.options.xsl!=""){this.transform();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.setXSL=function(_7){try{this.options.xsl=_7;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.getXSL=function(){try{return this.options.xsl;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.setXPath=function(_8){try{this.options.xpath=_8;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.getXPath=function(){try{return this.options.xpath;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aa.prototype.transform=function(){try{if(this.options.xpath!=""){var _9=_._C.findInstanceNode(this.options.xpath);if(_9!=null){var _a=_._t.serialize(_9);if(_a==null||_a==""){return;}var _b=_._h.getURL(this.options.xsl);var _c=_._t.transform(_a,_b);if(typeof _c!="undefined"){if(_._G.isFF()){this.render.innerHTML=_._t.decode(_c);}else{this.render.innerHTML=_c;}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.xsl=_._a.aa;_._s.node=function(){this.index=-1;this.id="";this.label="";this.value="";this.element=null;this.depth=-1;this.parentNode=null;this.childNodes=[];this._isRoot=null;this._hasChild=null;this._isLastChild=null;this.image="";this.selectedImage="";this.expandedImage="";this.checked=false;this.folder=null;};_._s.node.prototype.appendChild=function(_1){if(!_1){return false;}var _2=this;do{if(_1==_2){return false;}_2=_2.parentNode;}while(_2);if(_1.parentNode){_1.parentNode.removeChild(_1);}_1.parentNode=this;this.childNodes.push(_1);return true;};_._s.node.prototype.removeChild=function(_3){if(!_3){return;}var _4=[];for(var i=0;i<this.childNodes.length;i++){var _6=this.childNodes[i];if(_6!=_3){_4.push(_6);}}this.childNodes=_4;};_._s.node.prototype.isRoot=function(){this._isRoot=null;this._isRoot=this.parentNode==null?true:false;return this._isRoot;};_._s.node.prototype.hasChild=function(){this._hasChild=null;if(this.folder){return this.folder;}else{this._hasChild=this.childNodes.length!=0;}return this._hasChild;};_._s.node.prototype.isLeaf=function(){return !this.hasChild();};_._s.node.prototype.isLastChild=function(){this._isLastChild=null;if(!this.parentNode){return true;}var _7=this.parentNode.childNodes;for(var i=0;i<_7.length;i++){if(_7[i]==this&&i==_7.length-1){this._isLastChild=true;}}if(this._isLastChild!=true){this._isLastChild=false;}return this._isLastChild;};_._s.node.prototype.isFirstChildByRoot=function(){var _9=false;if(!this.parentNode){return _9;}if(this.parentNode.depth!=0){return _9;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_9=true;}}return _9;};_._s.nodeIterator=function(_a,_b){this.node=_a;this.status=0;this.options=_.extend({type:"dfs",pruning:null},_.extend({},_b));this.stack=[];};_._s.nodeIterator.prototype.next=function(){if(!this.node){return false;}if(this.status==0){this.status=1;return true;}if(this.options.type=="dfs"){this.stack=this.node.childNodes.concat(this.stack);this.node=this.stack.shift();}else{if(this.options.type=="bfs"){this.stack=this.stack.concat(this.node.childNodes);this.node=this.stack.shift();}}if(this.node){return true;}else{return false;}};_._s.nodeIterator.prototype.stop=function(){this.status=2;};_._s.nodeIterator.prototype.getNode=function(){return this.node;};_._s.tree=function(){this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.useXPath=false;this.useCheckbox=false;this.useImage=false;var _c="w2:";this.xpath={nodeset:"",label:_c+"label",value:_c+"value",depth:_c+"depth",nodeName:_c+"node",checkbox:"",folder:_c+"folder"};this.imageXPath={image:"",iconImage:"",leafImage:"",selectedImage:"",expandedImage:""};this.checkbox={xpath:"",trueValue:"",falseValue:"",checkboxDisabled:"",checkboxDisabledTrueValue:"",checkboxDisabledFalseValue:"",checkboxDisabledAll:""};this.displayMode="0";this.delimiter="\t";this.customFormatter="";this.treeView="";};_._s.tree.prototype.getNodeset=function(){if(this.xpath.nodeset!=""){return this.xpath.nodeset;}};_._s.tree.prototype.setXPath=function(_d,_e,_f,_10,_11,_12,_13){if(_d!=""){this.useXPath=true;this.xpath.nodeset=_d;this.xpath.label=_e;this.xpath.value=_f;this.xpath.depth=_10;this.xpath.nodeName=_11;this.xpath.folder=_12;this.xpath.auth=_13;}};_._s.tree.prototype.setCheckbox=function(_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d){if(_14!=""){this.useCheckbox=true;this.checkbox.xpath=_14;this.checkbox.trueValue=_15;this.checkbox.falseValue=_16;this.checkbox.checkboxDisabled=_17;this.checkbox.checkboxDisabledTrueValue=_18;this.checkbox.checkboxDisabledFalseValue=_19;this.checkbox.checkboxDisabledAll=_1a;this.checkbox.refreshCheckboxModel=_1b;this.checkbox.refreshCheckboxDisableModel=_1c;this.checkbox.hierarchy=_1d;}};_._s.tree.prototype.setDisplayMode=function(_1e,_1f){this.displayMode=_1e;this.delimiter=_1f;};_._s.tree.prototype.setImage=function(_20,_21,_22,_23,_24,_25){this.useImage=true;this.imageXPath.image=_20||"";this.imageXPath.iconImage=_21||"";this.imageXPath.leafImage=_22||"";this.imageXPath.selectedImage=_23||"";this.imageXPath.expandedImage=_24||"";this.imageXPath.imageTitle=_25||"";};_._s.tree.prototype.setXML=function(_26){if(!_26){return;}this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.rootNode=this.parseNode(_26,0,0);if(this.useImage==true){this.parseImage(this.rootNode);}};_._s.tree.prototype.appendXML=function(_27,_28){if(!_27){return;}var _29=this.findNodeByIndex(_28);var _2a=_29.element;var _2b=1;for(var _2c=_27.firstChild;_2c!=null;_2c=_27.firstChild){if(_2c.nodeType==1&&_2c.tagName==this.xpath.nodeName){_29.appendChild(this.parseNode(_2c,_29.depth+1,_2b++,_29));}_2a.appendChild(_27.removeChild(_2c));}if(this.useImage==true){this.parseImage(_29);}return _29;};_._s.tree.prototype.parseNode=function(_2d,_2e,_2f,_30){if(!_2d){return null;}var _31=_._t.getValue(_2d,this.xpath.label).wq_trim();var _32=null;var _33=this.xpath.auth&&_._t.getValue(_2d,this.xpath.auth).wq_trim();if(this.xpath.folder){_32=_._G.getBoolean(_._t.getValue(_2d,this.xpath.folder).wq_trim());}var _34="";var _35=this.xpath.value.split(" ");for(var i=0;i<_35.length;i++){if(i!=0){_34+="$$";}_34+=_._t.getValue(_2d,_35[i]).wq_trim();}var _37=new _._s.node();_37.index=this.nodeCount++;_37.depthIndex=_2f;switch(this.displayMode){case "0":_37.label=_31;break;case "1":_37.label=_34+this.delimiter+_31;break;case "2":_37.label=_31+this.delimiter+_34;break;default:_37.label=_31;break;}_37.value=_34;_37.element=_2d;_37.depth=_2e;_37.folder=_32;_37.auth=_33;if(_2e==1){_37.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_37.value+"']";}else{if(_2e>1){if(this.dataType=="recursive"){_37.xpath=_30.xpath+"/"+this.xpath.nodeName+"["+this.xpath.value+"='"+_37.value+"']";}else{_37.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_37.value+"']";}}}if(this.useCheckbox==true){var _38=_._t.getValue(_2d,this.checkbox.xpath).wq_trim();_37.checkboxXPath=_37.xpath+"/"+this.checkbox.xpath;if(_38==this.checkbox.trueValue){_37.checked=true;if(this.checkbox.refreshCheckboxModel==true){_._C.setInstanceValue(_37.checkboxXPath,this.checkbox.trueValue);}}else{_37.checked=false;if(this.checkbox.refreshCheckboxModel==true){_._C.setInstanceValue(_37.checkboxXPath,this.checkbox.falseValue);}}if(this.checkbox.checkboxDisabled){_37.checkboxDisableXPath=_37.xpath+"/"+this.checkbox.checkboxDisabled;var _39=_._t.getValue(_2d,this.checkbox.checkboxDisabled).wq_trim();if(this.checkbox.checkboxDisabledAll==true){_37.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){_._C.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{_37.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){_._C.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}if(_39==this.checkbox.checkboxDisabledTrueValue){_37.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){_._C.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{if(_39==this.checkbox.checkboxDisabledFalseValue){_37.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){_._C.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}}}}var _3a=1;for(var _3b=_2d.firstChild;_3b!=null;_3b=_3b.nextSibling){if(_3b.nodeType==1&&_3b.tagName==this.xpath.nodeName){_37.appendChild(this.parseNode(_3b,_2e+1,_3a++,_37));}}if(this.useCheckbox==true&&this.checkbox.hierarchy==true){var _3c=0;var _3d=false;for(var i=0;i<_37.childNodes.length;i++){var _3e=_37.childNodes[i];if(_3e.checked==true){_3c++;}else{if(_3e.partial==true){_3d=true;}}}if(_3d==true||(0<_3c&&_3c<_37.childNodes.length)){_37.partial=true;}else{if(_3c>0&&_3c==_37.childNodes.length){_37.checked=true;if(!_37.checkboxDom){_37.checkboxDom=document.getElementById(this.treeview.id+"_checkbox_"+_37.index);}if(_37.checkboxDom){_37.checkboxDom.checked=true;}}else{_37.partial=false;}}}this.hash_index_node[_37.index]=_37;if(typeof this.customFormatter==="function"){var _3f=this.customFormatter;var _40=this.getCloneNode(_37);var _41=_3f.call(this.treeview,_37.label,_37.label,_40)||_37.label;_37.label=_41;}return _37;};_._s.tree.prototype.parseNodeByNode=function(_42,_43,_44,_45){if(!_42){return null;}var _46=new _._s.node();_46.index=this.nodeCount++;_46.depthIndex=_44;_46.label=_42.label;_46.value=_42.value;_46.element=_42.element.cloneNode(true);_46.depth=_43;_46.folder=_42.folder;_46.xpath="";_46.checkboxXPath="";_46.imageTitle=_42.imageTitle;_46.labelStyle=_42.labelStyle;if(typeof _42.checked!="undefined"){_46.checked=_42.checked;}_46.checkboxDisableXPath="";if(typeof _42.checkboxDisabled!="undefined"){_46.checkboxDisabled=_42.checkboxDisabled;}var _47=1;for(var i=0;i<_42.childNodes.length;i++){_46.appendChild(this.parseNodeByNode(_42.childNodes[i],_43+1,_47++,_46));}this.hash_index_node[_46.index]=_46;return _46;};_._s.tree.prototype.parseImage=function(_49){var _4a="";var _4b="";var _4c="";var _4d="";var _4e="";var _4f=/\.[a-zA-Z][a-zA-Z][a-zA-Z][\s]*$/;if(this.imageXPath.image!=""){if(this.imageXPath.image.match(_4f)){_4a=this.imageXPath.image;}else{_4a=_._t.getValue(_49.element,this.imageXPath.image).wq_trim()||"";}}if(this.imageXPath.iconImage!=""){if(this.imageXPath.iconImage.match(_4f)){_4b=this.imageXPath.iconImage;}else{_4b=_._t.getValue(_49.element,this.imageXPath.iconImage).wq_trim()||"";}}if(this.imageXPath.selectedImage!=""){if(this.imageXPath.selectedImage.match(_4f)){_4c=this.imageXPath.selectedImage;}else{_4c=_._t.getValue(_49.element,this.imageXPath.selectedImage).wq_trim()||"";}}if(this.imageXPath.expandedImage!=""){if(this.imageXPath.expandedImage.match(_4f)){_4d=this.imageXPath.expandedImage;}else{_4d=_._t.getValue(_49.element,this.imageXPath.expandedImage).wq_trim()||"";}}if(this.imageXPath.leafImage!=""){if(this.imageXPath.leafImage.match(_4f)){_4e=this.imageXPath.leafImage;}else{_4e=_._t.getValue(_49.element,this.imageXPath.leafImage).wq_trim()||"";}}if(_4e!=""&&_49.isLeaf()==true){_4a=_4e;}if(_4b!=""){_4a=_4b;_4c=_4b;_4d=_4b;}if(_4c==""){_4c=_4a;}if(_4d==""){_4d=_4a;}_49.image=_4a;_49.selectedImage=_4c;_49.expandedImage=_4d;_49.imageTitle=this.imageXPath.imageTitle&&_._t.getValue(_49.element,this.imageXPath.imageTitle);for(var i=0;i<_49.childNodes.length;i++){this.parseImage(_49.childNodes[i]);}};_._s.tree.prototype.parseListToTree=function(_51){var _52=_._t.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _53=_52.documentElement;var _54=0;this.dataType="list";for(var i=0;i<_51.length;i++){var _56=_51[i];var _57=_56.cloneNode(true);var _58=parseInt(_._t.getValue(_57,this.xpath.depth))||0;var _54=parseInt(_._t.getValue(_53,this.xpath.depth))||0;if(_54<_58){_57=_._t.appendChild(_53,_57);_54=_58;}else{if(_54==_58&&i==0){_57=_._t.appendChild(_53,_57);}else{if(_54==_58){var _59=_53.parentNode;_57=_._t.appendChild(_59,_57);}else{if(_54>_58){_53=_53.parentNode;for(j=0;j<_54-_58;j++){if(_53.parentNode!=null){_53=_53.parentNode;}}_57=_._t.appendChild(_53,_57);}}}}_53=_57;}return _52.documentElement;};_._s.tree.prototype.parseRecursiveToTree=function(_5a){this.dataType="recursive";var _5b=_._t.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);for(var i=0;i<_5a.length;i++){var _5d=null;if(_._G.isOpera()){_5d=(_._t.parse(_5a[i])).firstChild;}else{_5d=_5a[i].cloneNode(true);}_._t.appendChild(_5b.documentElement,_5d);}return _5b.documentElement;};_._s.tree.prototype.parseTreeToList=function(){var _5e=this.xpath.nodeset;if(_5e.indexOf("/")>-1){var arr=_5e.split("/");_5e=arr[arr.length-2];}if(!_5e||_5e==""){_5e="Treeview";}var _60=_._t.parse("<"+_5e+" xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _61=_60.documentElement;var ni=this.getNodeIterator({type:"dfs"});ni.next();while(ni.next()){var _63=ni.getNode();_61.appendChild(_63.element);}return _60.documentElement;};_._s.tree.prototype.getNodeIterator=function(_64){_64=_.extend({rootNode:null},_64||{});var ni=new _._s.nodeIterator(_64.rootNode||this.rootNode,_64);return ni;};_._s.tree.prototype.size=function(){return this.nodeCount;};_._s.tree.prototype.findNodeByValue=function(_66){var _67=null;var ni=this.getNodeIterator();while(ni.next()){if(ni.getNode().value==_66){_67=ni.getNode();break;}}ni=null;return _67;};_._s.tree.prototype.findNodeByIndex=function(idx){var _6a=this.hash_index_node[idx];if(_6a){return _6a;}else{return null;}};_._s.tree.prototype.setRender=function(_6b,_6c){_6b.rendered=_6c;for(var i=0;i<_6b.childNodes.length;i++){this.setRender(_6b.childNodes[i],_6c);}};_._s.tree.prototype.getCloneNode=function(_6e){var _6f={};_6f["checkboxDisabled"]=_6e["checkboxDisabled"];_6f["checked"]=_6e["checked"];_6f["folder"]=_6e["folder"];_6f["image"]=_6e["image"];_6f["imageTitle"]=_6e["imageTitle"];_6f["rendered"]=_6e["rendered"];_6f["id"]=_6e["id"];_6f["index"]=_6e["index"];_6f["value"]=_6e["value"];_6f["label"]=_6e["label"];_6f["labelStyle"]=_6e["labelStyle"];return _6f;};requires("uiplugin/treeview/tree.js");requires("uiplugin/group/group.js");_._a.ae=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ae.prototype,_._q.prototype);_._a.ae.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.treeview",pluginName:"treeview",userEvents:["onclick","ondblclick","onchange","onrightbuttonclick","ondrop","oncheckboxclick","onlabelclick","ontoggleclick"],repeatNode:"",useDrag:false,dataType:"recursive",lineShow:true,alwaysDraw:false,imgclass:"",labelclass:"",labelonClickClass:"w2treeview_select_node",defaultImage:"",iconImage:"",selectedImage:"",expandedImage:"",leafImage:"",showTreeDepth:1000,showCheckbox:false,trueValue:"true",falseValue:"false",checkAllChildNodes:false,checkboxDisabled:"",checkboxDisabledTrueValue:"true",checkboxDisabledFalseValue:"false",checkboxDisabledAll:false,rowHeight:-1,toggleEvent:"ondblclick",tooltipDisplay:false,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,hierarchy:false,refreshCheckboxModel:false,refreshCheckboxDisableModel:false,accessibility:undefined,title:"",accordion:false,dynamicAppend:false,displayMode:"0",delimiter:"\t",folderOpenToggleImage:"uiplugin/treeview/images/plus.gif",folderCloseToggleImage:"uiplugin/treeview/images/minus.gif",leafToggleImage:"uiplugin/treeview/images/middle.gif",lastToggleImage:"uiplugin/treeview/images/last.gif",middleToggleImage:"uiplugin/treeview/images/middle.gif",escape:false,toggleButtonEvent:"onclick"};_._a.ae.prototype.initialize=function(_4){try{this.inlineElement=false;if(this.options.hierarchy==true){this.options.checkAllChildNodes=true;}this.tree=new _._s.tree();this.tree.treeview=this;this.selectedInfo={groupDom:null,dom:null,node:null};this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.openedNodes={};this.originalBackgroundColor="";this.originalColor="";this.options.accessibility=_._G.getBoolean(_4.getAttribute("accessibility"))||false;if(this.options.accessibility){this.options.lineShow=false;}if(this.options.accordion==true){this.options.showTreeDepth=0;}switch(this.options.displayMode){case "0":break;case "1":break;case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";break;}this.tree.setDisplayMode(this.options.displayMode,this.options.delimiter);if(_4){var _5=_.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);if(this.options.modelBinding==false){this.options.refreshCheckboxModel=false;this.options.refreshCheckboxDisableModel=false;}var _6="w2:";var _7=null;var _8=_._t.findNode(_4,_6+"itemset");if(_8){var _9=_._t.getValue(_8,"@nodeset");var _a=_9.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_a){_a=_a[0];}var _b=_._t.getValue(_8,_6+"label/@ref");var _c=_._t.getValue(_8,_6+"value/@ref");var _d=_._t.getValue(_8,_6+"depth/@ref");var _e=_._t.getValue(_8,_6+"folder/@ref");var _f=_._t.getValue(_8,_6+"image/@ref");var _10=_._t.getValue(_8,_6+"iconImage/@ref");var _11=_._t.getValue(_8,_6+"selectedImage/@ref");var _12=_._t.getValue(_8,_6+"expandedImage/@ref");var _13=_._t.getValue(_8,_6+"leafImage/@ref");var _14=_._t.getValue(_8,_6+"checkboxDisabled/@ref");var _15=_._t.getValue(_8,_6+"imageTitle/@ref");if(this.options.defaultImage!=""){_f=this.options.defaultImage;}if(this.options.iconImage!=""){_10=this.options.iconImage;}if(this.options.selectedImage!=""){_11=this.options.selectedImage;}if(this.options.expandedImage!=""){_12=this.options.expandedImage;}if(this.options.leafImage!=""){_13=this.options.leafImage;}if(this.options.checkboxDisabled!=""){_14=this.options.checkboxDisabled;}var _16=_._t.getValue(_8,_6+"checkbox/@ref");this.tree.setXPath(_9,_b,_c,_d,_a,_e);this.tree.setCheckbox(_16,this.options.trueValue,this.options.falseValue,_14,this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);this.tree.setImage(_f,_10,_13,_11,_12,_15);var _17=_._C.findInstanceNodes(_9);if(this.options.dataType=="recursive"){_7=this.tree.parseRecursiveToTree(_17);}else{if(this.options.dataType=="listed"){_7=this.tree.parseListToTree(_17);}}}else{this.inlineElement=true;_7=_4;var _6="w2:";var _f=_6+"image";var _10=_6+"iconImage";var _11=_6+"selectedImage";var _12=_6+"expandedImage";var _13=_6+"leafImage";if(this.options.defaultImage!=""){_f=this.options.defaultImage;}if(this.options.iconImage!=""){_10=this.options.iconImage;}if(this.options.selectedImage!=""){_11=this.options.selectedImage;}if(this.options.expandedImage!=""){_12=this.options.expandedImage;}if(this.options.leafImage!=""){_13=this.options.leafImage;}this.tree.setImage(_f,_10,_13,_11,_12,_6+"imageTitle");this.tree.setCheckbox(_6+"checkbox",this.options.trueValue,this.options.falseValue,_6+"checkboxDisabled",this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);}if(_7){this.tree.setXML(_7);}}this.options=_.cssManager.styleToClass(this.id,this.options);if(this.options.showCheckbox==true){if(_._G.isOpera()==true){this.checkboxStyle="left:-1px;top:-1px";}else{this.checkboxStyle="left:0px;top:0px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.appendData=function(_18,_19,_1a){try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}if(typeof _18=="undefined"||_18==null||!_19){return;}_1a=(typeof _1a=="undefined")?false:_1a;var _1b=this.tree.findNodeByIndex(_18);if(!_1a){if(_1b.childNodes&&_1b.childNodes[0]&&_1b.childNodes[0].rendered){return;}}var _1c=null;if(this.options.dataType=="recursive"){_1c=this.tree.parseRecursiveToTree(_19);}else{if(this.options.dataType=="listed"){_1c=this.tree.parseListToTree(_19);}}this.tree.appendXML(_1c,_18);if(_18==0){_1b.hasChild();this.drawContents();}else{this.refreshNaviIcon(_1b);if(_1b.childNodes.length>0){_1b.childNodes[0].rendered=false;this.toggleChild(null,_1b.index,true);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.toHTML=function(){try{var _1d=[];var _1e=(!this.options.style)?"":"style='"+this.options.style+"'";var _1f=(!this.options.title)?"":"title='"+this.options.title+"'";_1d.push("<div tabindex='0' id='"+this.id+"' index='0' "+_1e+" class='w2treeview "+this.options.className+"' "+_1f+">");_1d.push("</div>");return _1d.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.setAction=function(){try{this.drawContents();if(this.options.toggleEvent!="none"){this.event.addListener(this.render,this.options.toggleEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onselectstart",function(e){_._F.stopEvent(e);});this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,this.handleContextmenuEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.activateDrag));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.refreshStop=false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()&&!this.refreshStop){this.refreshStop=true;var _21=null;var _22=this.tree.getNodeset();var _23=_._C.findInstanceNodes(_22);if(this.options.dataType=="recursive"){_21=this.tree.parseRecursiveToTree(_23);}else{if(this.options.dataType=="listed"){_21=this.tree.parseListToTree(_23);}}this.tree.setXML(_21);this.drawContents();this.refreshStop=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.drawContents=function(){try{this.selectedInfo={dom:null,node:null};this.initRenderStatus();var _24=[];for(var i=0;i<this.tree.rootNode.childNodes.length;i++){_24.push(this.nodeToHTML(this.tree.rootNode.childNodes[i]));}this.render.innerHTML=_24.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.selectNode=function(_26,idx,_28,_29){try{var _28=(typeof _28=="undefined")?true:_28;if(this.selectedInfo.dom){this.removeClass(this.selectedInfo.dom,this.options.labelonClickClass);this.selectedInfo.dom.style.backgroundColor=this.originalBackgroundColor;this.selectedInfo.dom.style.color=this.originalColor;}if(this.selectedInfo.node!=null){if((_26!=null&&this.selectedInfo.node.value!=_26)||(idx!=null&&this.selectedInfo.node.index!=idx)){_._F.fireEvent(this,"onchange");}}else{_._F.fireEvent(this,"onchange");}if(_26!=null){this.selectedInfo.node=this.tree.findNodeByValue(_26);}else{if(idx!=null){this.selectedInfo.node=this.tree.findNodeByIndex(idx);}}if(this.selectedInfo.node!=null&&_28){var _2a=this.selectedInfo.node.parentNode;var _2b=[];while(_2a){var idx=_2a.index;_2b.push(idx);_2a=_2a.parentNode;}_2b.reverse();for(var i in _2b){this.toggleChild(null,_2b[i],true);}}this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";if(_29!==true){this.selectedInfo.groupDom.setAttribute("tabindex",0);this.selectedInfo.groupDom.focus();this.selectedInfo.groupDom.setAttribute("tabindex",-1);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.findNode=function(_2d,_2e){try{if(typeof _2e=="undefined"){_2e=true;}if(_2e===true){this.selectNode(_2d,null);var _2f=_._v.getAbsoluteTop(this.selectedInfo.dom);var _30=_._v.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_30<_2f){this.render.scrollTop=(_2f-_30+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_2d);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.findNodeByValue=function(_31){try{return this.tree.findNodeByValue(_31);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.findNodeByIndex=function(_32){try{return this.tree.findNodeByIndex(_32);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedNode=function(){try{if(this.selectedInfo){return this.selectedInfo.node;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedDom=function(){try{if(this.selectedInfo){return this.selectedInfo.dom;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedLabel=function(){try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.label;}else{return "";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedValue=function(){try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.value;}else{return "";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedIndex=function(){try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.index;}else{return "";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getSelectedElement=function(){try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.element;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.isLeaf=function(){try{if(this.selectedInfo&&this.selectedInfo.node){return !this.selectedInfo.node.hasChild();}else{return true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.setLabelStyle=function(idx,_34,_35,_36){var _37;if(typeof idx==="object"&&typeof idx.index==="number"){_37=idx;}else{if(typeof idx==="number"){_37=this.tree.findNodeByIndex(idx);}else{if(typeof idx==="string"){_37=this.tree.findNodeByValue(idx);}}}this._setLabelStyle(_37,_34,_35,_36);};_._a.ae.prototype.setCustomFormatter=function(_38){if(typeof _38==="function"){var ni=this.tree.getNodeIterator();while(ni.next()){var _3a=ni.getNode();if(_3a.isRoot()){continue;}var _3b=this.tree.getCloneNode(_3a);var _3c=_38.call(this,_3a.label,_3a.label,_3b)||_3a.label;_3a.label=_3c;if(_3a.rendered){var _3d=document.getElementById(this.id+"_label_"+_3a.index);_3d.firstChild.nodeValue=_3a.label;}}ni=null;this.tree.customFormatter=_38;}};_._a.ae.prototype._setLabelStyle=function(_3e,_3f,_40,_41){if(_3e==null){return;}if(_3e.labelStyle==undefined){_3e.labelStyle={};}_3e.labelStyle[_3f]=_40;this.originalBackgroundColor=_3e.labelStyle["background-color"]||this.originalBackgroundColor;this.originalColor=_3e.labelStyle["color"]||this.originalColor;if(_3e.rendered){var _42=document.getElementById(this.id+"_label_"+_3e.index);if(_42){var _43="";var _44=0;for(var i=0;i<_3f.length;i++){if(_3f.charAt(i)==="-"){_43+=_3f.charAt(i+1).capitalize();i++;}else{_43+=_3f.charAt(i);}}_42.style[_43]=_40;}}if(_41===true){for(var i=0;i<_3e.childNodes.length;i++){var _46=_3e.childNodes[i];this._setLabelStyle(_46,_3f,_40,_41);}}};_._a.ae.prototype.checkNode=function(idx,_48,_49,_4a){try{var _4b=this.tree.findNodeByIndex(idx);_4b.checked=_48;if(!_4b.checkboxDom){_4b.checkboxDom=document.getElementById(this.id+"_checkbox_"+idx);}if(_4b.checkboxDom){_4b.checkboxDom.checked=_48;}if(this.options.refreshCheckboxModel==true){this.stopRefresh(true);if(_48==true){if(_4b.checkboxXPath&&_._C.findInstanceNode(_4b.checkboxXPath)!=null){_._C.setInstanceValue(_4b.checkboxXPath,this.options.trueValue);}}else{if(_4b.checkboxXPath&&_._C.findInstanceNode(_4b.checkboxXPath)!=null){_._C.setInstanceValue(_4b.checkboxXPath,this.options.falseValue);}}this.stopRefresh(false);}if(_49!==false&&(_49==true||this.options.hierarchy==true||this.options.checkAllChildNodes==true)){for(var i=0;i<_4b.childNodes.length;i++){var _4d=_4b.childNodes[i];this.checkNode(_4d.index,_48,true,false);}}if(this.options.hierarchy==true){this.partialSelection(_4b);}if(_4a!==false&&_4b.parentNode.parentNode&&this.options.hierarchy==true){var _4e=true;var _4f=0;for(var i=0;i<_4b.parentNode.childNodes.length;i++){var _4d=_4b.parentNode.childNodes[i];if(_4d.checked!=true){_4e=false;break;}}if(_4e==true){this.checkNode(_4b.parentNode.index,true,false);}else{this.checkNode(_4b.parentNode.index,false,false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.partialSelection=function(_50){try{var _51=0;var _52=false;if(_50.childNodes.length==0){return;}for(var i=0;i<_50.childNodes.length;i++){var _54=_50.childNodes[i];if(_54.checked==true){_51++;}else{if(_54.partial==true){_52=true;}}}if(_52==true||(0<_51&&_51<_50.childNodes.length)){_50.partial=true;this.addClass(_50.checkboxDom,"w2treeview_partialselect");_50.checkboxDom.checked=true;}else{_50.partial=false;this.removeClass(_50.checkboxDom,"w2treeview_partialselect");if(_50.checked==true){_50.checkboxDom.checked=true;}else{_50.checkboxDom.checked=false;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.disableCheckboxByValue=function(_55,_56,_57){try{var _58=this.tree.findNodeByValue(_55);this.disableCheckbox(_58,_56,_57);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.setLabelByIndex=function(_59,_5a){this.setLabel(this.tree.findNodeByIndex(_59),_5a);};_._a.ae.prototype.setLabelByValue=function(_5b,_5c){this.setLabel(this.tree.findNodeByValue(_5b),_5c);};_._a.ae.prototype.setLabel=function(_5d,_5e){try{if(_5d){var _5f=this.refreshStop;this.refreshStop=true;if(this.modelControl.useItemset){_._C.setInstanceValue(_5d.xpath+"/"+this.tree.xpath.label,_5e);}_._t.setValue(_5d.element,"label",_5e);if(typeof this.tree.customFormatter==="function"){var _60=this.tree.getCloneNode(_5d);_5e=this.tree.customFormatter.call(this,_5e,_5e,_60);}_5d.label=_5e;if(_5d.rendered){var _61=document.getElementById(this.id+"_label_"+_5d.index);_61.firstChild.nodeValue=_5e;}this.refreshStop=_5f;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.disableCheckbox=function(_62,_63,_64){try{if(!_62.checkboxDom){_62.checkboxDom=document.getElementById(this.id+"_checkbox_"+_62.index);}if(_62.checkboxDom){_62.checkboxDom.disabled=_63;_62.checkboxDisabled=_63;}if(this.options.refreshCheckboxDisableModel==true){this.stopRefresh(true);if(_63==true){if(_._C.findInstanceNode(_62.checkboxDisableXPath)!=null){_._C.setInstanceValue(_62.checkboxDisableXPath,this.options.checkboxDisabledTrueValue);}}else{if(_._C.findInstanceNode(_62.checkboxDisableXPath)!=null){_._C.setInstanceValue(_62.checkboxDisableXPath,this.options.checkboxDisabledFalseValue);}}this.stopRefresh(false);}if(_64===true){for(var i=0;i<_62.childNodes.length;i++){var _66=_62.childNodes[i];this.disableCheckbox(_66,_63,_64);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.checkByValue=function(_67,_68,_69){try{var _6a=this.tree.findNodeByValue(_67);this.checkNode(_6a.index,_68,_69);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getParentValue=function(_6b){try{var _6c="";var _6d=this.tree.findNodeByValue(_6b);if(_6d&&!_6d.ParentNode){_6c=_6d.parentNode.value;}return _6c;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getChildData=function(_6e){try{var _6f=this.tree.findNodeByValue(_6e);var _70=[];for(var i=0;i<_6f.childNodes.length;i++){_70.push(_._C.findInstanceNode(_6f.childNodes[i].xpath));}return _70;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getXPathByValue=function(_72){try{var _73=this.tree.findNodeByValue(_72);return _73.xpath;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.nodeToHTML=function(_74){try{if(!_74){return "";}_74.rendered=true;var _75=[];var _76=this.options.accessibility;var _77=(this.options.escape)?_._t._encode(_74.label):_74.label;var _78=(this.options.escape)?_._t._encode(_74.value):_74.value;if(!_76){_75.push("<div tabindex='-1' id='"+this.id+"_group_"+_74.index+"' class='w2treeview_group' index='"+_74.index+"' label='"+_77+"'>");}else{_75.push("<ol tabindex='-1' id='"+this.id+"_group_"+_74.index+"' class='w2treeview_group' aria-expanded='true' index='"+_74.index+"' label='"+_77+"'>");}_75.push("<table id='"+this.id+"_node_"+_74.index+"' treeNodeValue='"+_78+"' index='"+_74.index+"' cellpadding='0' cellspacing='0'");if(_74.hasChild()){if(_74.depth>this.options.showTreeDepth){_75.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_close_child'>");}else{_75.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_open_child' opened='true'>");}}else{if(_74.isFirstChildByRoot()){if(_74.parentNode.childNodes.length==1){_75.push("class='w2treeview_node w2treeview_table_node w2treeview_root_single_leaf w2treeview_open_child'>");}else{_75.push("class='w2treeview_node w2treeview_table_node w2treeview_root_multi_leaf w2treeview_open_child'>");}}else{if(_74.isLastChild()){_75.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_last_leaf w2treeview_open_child'>");}else{_75.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_open_child'>");}}}_75.push("<tr class='w2treeview_row_parent w2treeview_row_depth"+_74.depth+"'>");if(this.options.lineShow==true){_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_74.isLeaf()){if(!_76){_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_none'></div></td>");}else{_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'></td>");}}else{if(!_76){_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_74.depth>this.options.showTreeDepth){_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_74.index+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}else{_75.push("<td id='"+this.id+"_col_icon_navi_"+_74.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_74.index+"' src='"+this.options.folderCloseToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}}}}if(_74.image!=""){var _79=_74.image;if(_74.hasChild()==true&&_74.depth<=this.options.showTreeDepth){_79=_74.expandedImage;}var _7a=_74.imageTitle?"title='"+_74.imageTitle+"'":"";_75.push("<td class='w2treeview_col_icon_label'>");_75.push("<div id='"+this.id+"_icon_"+_74.index+"' class='w2treeview_icon_label'"+_7a+" style='background-image:url("+_79+")'></div>");_75.push("</td>");}else{_75.push("<td class='w2treeview_none'></td>");}if(this.options.showCheckbox==true){_75.push("<td class='w2treeview_col w2treeview_col_icon_checkbox'>");if(_._G.isIE()){_75.push("<div style='left:0px;top:-1px;' class='w2treeview_partialdiv'>");}else{_75.push("<div style='left:4px;top:-1px;' class='w2treeview_partialdiv'>");}if(_74.checked==true){if(_74.checkboxDisabled==true){_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox' />");}else{_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox' />");}}else{if(_74.checkboxDisabled==true){if(_74.partial==true){_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' disabled='true' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox' /></div>");}}else{if(_74.partial==true){_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_75.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' id='"+this.id+"_checkbox_"+_74.index+"' class='w2treeview_checkbox' />");}}}_75.push("\t\t\t</div>");_75.push("\t\t</td>");}var _7b="";if(typeof _74.labelStyle==="object"){var _7c="";for(var key in _74.labelStyle){_7c+=key+":"+_74.labelStyle[key]+";";}_7b=" style='"+_7c+"'";}if(this.options.rowHeight!=-1){_75.push("<td class='w2treeview_col_label' style='height:"+this.options.rowHeight+"px;'><span id='"+this.id+"_label_"+_74.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_7b+">"+_77+"</span></td>");}else{_75.push("<td class='w2treeview_col_label'><span id='"+this.id+"_label_"+_74.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_7b+">"+_77+"</span></td>");}_75.push("</tr>");if(_74.hasChild()||this.options.dynamicAppend==true){_75.push("<tr class='w2treeview_row_child'>");if(this.options.lineShow==false||_74.isLastChild()){_75.push("<td id='"+this.id+"_guideline_"+_74.index+"' class='w2treeview_noguideline w2treeview_col_depth"+_74.depth+"'></td>");}else{_75.push("<td id='"+this.id+"_guideline_"+_74.index+"' class='w2treeview_guideline w2treeview_row_depth"+_74.depth+"'></td>");}if(this.options.showCheckbox==true){_75.push("<td colspan='3'>");}else{_75.push("<td colspan='2'>");}if(_74.depth>this.options.showTreeDepth){_75.push("<div id='"+this.id+"_child_"+_74.index+"' class='w2treeview_child w2treeview_none'>");}else{_75.push("<div id='"+this.id+"_child_"+_74.index+"' class='w2treeview_child'>");}if(this.options.alwaysDraw==true||_74.depth<=this.options.showTreeDepth){for(var i=0;i<_74.childNodes.length;i++){_75.push(this.nodeToHTML(_74.childNodes[i]));}}_75.push("</div>");_75.push("</td>");_75.push("</tr>");}_75.push("</table>");if(!_76){_75.push("</div>");}else{_75.push("</ol>");}return _75.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.toggleChild=function(_7f,idx,_81){try{if(idx==null){idx=-1;}if(_7f!=null){var _82=this.tree.findNodeByValue(_7f);if(_82){idx=_82.index;}}var _82=this.tree.findNodeByIndex(idx);if(_82&&_82.depth>0&&_82.hasChild()){var _83=document.getElementById(this.id+"_node_"+idx);var _84=document.getElementById(this.id+"_child_"+idx);var _85=document.getElementById(this.id+"_icon_"+idx);if(_83&&_84){var _86=(_82.childNodes&&_82.childNodes[0]&&_82.childNodes[0].rendered)?true:false;if(!_86||this.options.accessibility){var _87=[];for(var i=0;i<_82.childNodes.length;i++){_87.push(this.nodeToHTML(_82.childNodes[i]));}_84.innerHTML=_87.join("");}var _89=_._G.getBoolean(_83.getAttribute("opened"));if(typeof _81=="undefined"||_81==null){_81=(_89==false)?true:false;}if(_81==true){if(this.options.accordion==true){var _8a={};var _8b=_82;while(_8b.parentNode){_8b=_8b.parentNode;_8a[_8b.index]=_8b.depth;}for(var i in this.openedNodes){if(this.openedNodes[i]!=_82&&!_8a[this.openedNodes[i].index]){if(this.openedNodes[i].depth<=_82.depth){this.toggleChild(null,i,false);}}}this.openedNodes[idx]=_82;}_83.setAttribute("opened","true");_84.style.display="block";this.changeClass(_83,"w2treeview_close_child","w2treeview_open_child");if(_85){_85.style.backgroundImage="url("+_82.expandedImage+")";}if(this.options.accessibility){var _8c=document.getElementById(this.id+"_toggle_"+idx);if(_8c){_8c.src=this.options.folderCloseToggleImage;}}}else{if(_81==false){_83.setAttribute("opened","false");if(this.openedNodes[idx]){delete this.openedNodes[idx];}_84.style.display="none";this.changeClass(_83,"w2treeview_open_child","w2treeview_close_child");if(_85){_85.style.backgroundImage="url("+_82.image+")";}if(this.options.accessibility){var _8c=document.getElementById(this.id+"_toggle_"+idx);if(_8c){_8c.src=this.options.folderOpenToggleImage;}_.removeChildren(_84);}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.spanAll=function(_8d){try{if(this.options.accordion==true){$l("treeview\uc758 accordion \ubaa8\ub4dc\uc5d0\uc11c\ub294 spanAll API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}if(_8d==true){for(var idx=0;idx<this.tree.size();idx++){this.toggleChild(null,idx,_8d);}}else{if(_8d==false){for(var idx=this.tree.size()-1;idx>=0;idx--){this.toggleChild(null,idx,_8d);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.showTooltip=function(_8f,top,_91){try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new _._a._z(this.id+"_tooltip",{className:"w2treeview_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(_.getBody());this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_8f+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_91=_._t._encode(_91);}this.tooltip.render.innerHTML=_91;}),this.options.tooltipTime*1000);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.hideTooltip=function(){try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.setXML=function(_92){try{var _93=null;var _94=this.tree.getNodeset();var _95=_._t.findNodes(_92,_94);if(this.options.dataType=="recursive"){_93=this.tree.parseRecursiveToTree(_95);}else{if(this.options.dataType=="listed"){_93=this.tree.parseListToTree(_95);}}this.tree.setXML(_93);this.drawContents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.activateDrag=function(e){try{_._F.stopEvent(e);var _97=this;var it=this.event.getTargetIterator(e,this.render);if(it.element.id===this.id){return;}var _99=false;var _9a=false;var _9b=false;var _9c=false;while(it.next()){if(it.match("w2treeview_label")){_9c=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_99=true;}if(it.match("w2treeview_icon_label")){_9a=true;}if(it.match("w2treeview_checkbox")){_9b=true;}if(it.match("w2treeview_node")){var _9d=it.getElement().getAttribute("index");if(_9d==null){it.stop();break;}if(this.options.toggleButtonEvent=="onmousedown"){var _9e=this.tree.findNodeByIndex(_9d);if(_99&&!_9e.isLeaf()){this.toggleChild(null,_9d);var _9f=(_9e.childNodes&&_9e.childNodes[0]&&_9e.childNodes[0].rendered)?true:false;if(!this.inlineElement){_._F.fireEvent(this,"ontoggleclick",_9e.element,_9d,_9f);}else{_._F.fireEvent(this,"ontoggleclick",null,_9d,_9f);}}}if(_9c||_9b||_9a||_99){this.selectNode(null,_9d,false,true);}if(this.options.useDrag==true){var _a0=this.getSelectedLabel();_._A.gDragManager.activate(e,it.getElement(),{id:this.id+"_drag",className:"w2treeview_drag",contents:_a0,delay:15,dropClass:"w2treeview_node",dragoverClass:"w2treeview_label",applyMousePosition:true,onDrop:function(_a1,_a2,x,y,dx,dy,e){if(!_a1){return;}var _a8=null;var it2={};if(_a2){it2=new _.targetIterator(_a2,_97.render);}else{it2=_97.event.getTargetIterator(e);}while(it2.next()){if(it2.match("w2treeview")){var _aa=it2.getElement().id;if(window[_aa]){_a8=window[_aa];}it2.stop();}}it2=null;if(_a8&&!_a2){_a2=document.getElementById(_a8.id+"_node_0");}if(_a1&&_a2&&_a8){var _ab=_a1.getAttribute("index");var _ac=_a2.getAttribute("index");var _ad=_97.tree.findNodeByIndex(_ab);var _ae=_a8.tree.findNodeByIndex(_ac);_._F.fireEvent(_a8,"ondrop",_ad,_ae,_97,_a8,e);}},onDragover:function(_af,_b0,x,y,dx,dy,e){if(!_af){return;}if(!_b0){_._F.fireEvent(_97,"ondragleave",e);return;}var _b6=null;var it2=new _.targetIterator(_b0,_97.render);while(it2.next()){if(it2.match("w2treeview")){var _b8=it2.getElement().id;if(window[_b8]){_b6=window[_b8];}it2.stop();}}it2=null;if(_b6){var _b9=_af.getAttribute("index");var _ba=_b0.getAttribute("id");var _bb=_ba.substring(_ba.lastIndexOf("_")+1,_ba.length);var _bc=_97.tree.findNodeByIndex(_b9);var _bd=_b6.tree.findNodeByIndex(_bb);_._F.fireEvent(_b6,"ondragover",_bc,_bd,_97,_b6,e);}}});}it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.appendXmlNodes=function(_be,_bf){try{this.appendData(_be.index,_bf,true);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.appendNode=function(_c0,_c1){try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}var _c2=_c0.index;if(this.options.dynamicAppend==true){var _c3=(_c0.childNodes)?_c0.childNodes.length+1:1;_c0.appendChild(this.tree.parseNodeByNode(_c1,(_c0.depth+1),_c3,_c0));for(var i=0;i<_c0.childNodes.length;i++){this.tree.setRender(_c0.childNodes[i],false);}this.refreshNaviIcon(_c0);if(_c0.childNodes.length>0){_c0.childNodes[0].rendered=false;this.toggleChild(null,_c0.index,true);}}else{_c0.appendChild(_c1);this.drawContents();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.refreshNaviIcon=function(_c5){try{if(!_c5){return;}var _c6=_c5.index;var _c7=document.getElementById(this.id+"_node_"+_c6);var _c8=document.getElementById(this.id+"_col_icon_navi_"+_c6);if(_c5.childNodes.length>0){if(!this.options.accessibility){if(_c7){this.removeClass(_c7,"w2treeview_leaf");}if(_c7){this.removeClass(_c7,"w2treeview_last_leaf");}if(_c7){this.removeClass(_c7,"w2treeview_root_single_leaf");}if(_c7){this.removeClass(_c7,"w2treeview_root_multi_leaf");}if(_c5.isFirstChildByRoot()){if(_c5.parentNode.childNodes.length==1){if(_c8){this.changeClass(_c8,"w2treeview_first_leaf","w2treeview_icon_navi");}}else{if(_c8){this.changeClass(_c8,"w2treeview_root_multi_leaf","w2treeview_icon_navi");}}}else{if(_c5.isLastChild()){if(_c8){this.changeClass(_c8,"w2treeview_last_leaf","w2treeview_icon_navi");}}else{if(_c8){this.changeClass(_c8,"w2treeview_leaf","w2treeview_icon_navi");}}}}else{if(_c8){_c8.innerHTML="<img id='"+this.id+"_toggle_"+_c6+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' />";}}}else{if(!this.options.accessibility){if(_c7){this.changeClass(_c7,"w2treeview_notleaf","w2treeview_leaf");}}else{if(_c8){_c8.innerHTML="<img id='"+this.id+"_toggle_"+_c6+"' src='"+this.options.leafToggleImage+"' class='w2treeview_icon_navi_img' />";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.removeNode=function(_c9){try{if(!_c9){return;}var _ca=_c9.parentNode;if(_ca){var _cb=_ca.index;_ca.removeChild(_c9);if(this.options.dynamicAppend==true){var _cc=_c9.index;var _cd=document.getElementById(this.id+"_group_"+_cc);if(_cd){_.removeChildren(_cd);}if(_cb==0){_ca._hasChild=_ca.folder?null:(_ca.childNodes.length!=0);this.drawContents();}else{this.refreshNaviIcon(_ca);}}else{this.drawContents();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.removeNodeList=function(_ce){try{for(var i=0;i<_ce.length;i++){if(!_ce[i]){continue;}var _d0=_ce[i].parentNode;if(_d0){var _d1=_d0.index;_d0.removeChild(_ce[i]);}}this.drawContents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.initRenderStatus=function(){try{var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d3=ni.getNode();_d3.rendered=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getCheckedValues=function(){try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d6=ni.getNode();if(_d6.checked==true){arr.push(_d6.value);}}return arr;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getCheckedLabels=function(){try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d9=ni.getNode();if(_d9.checked==true){arr.push(_d9.label);}}return arr;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getCheckedIndexes=function(){try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _dc=ni.getNode();if(_dc.checked==true){arr.push(_dc.index);}}return arr;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.expandNode=function(_dd){try{this.toggleChild(_dd,null,true);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.collapseNode=function(_de){try{this.toggleChild(_de,null,false);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getAllXML=function(){try{var _df=null;if(this.options.dataType=="recursive"){_df=this.tree.rootNode.element;}else{if(this.options.dataType=="listed"){_df=this.tree.parseTreeToList();}}return _df;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.stopRefresh=function(_e0){try{this.refreshStop=_._G.getBoolean(_e0);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.getNextNode=function(_e1){var _e2=null;var _e3=_e1.index;var _e4=_e1.depth;var _e5=document.getElementById(this.id+"_node_"+_e3);var _e6=_._G.getBoolean(_e5.getAttribute("opened"));var ni=this.tree.getNodeIterator({type:"dfs"});var _e8=false;while(ni.next()){var _e9=ni.getNode();if(!_e8){if(_e9.index==_e3){_e8=true;}}else{if(!_e6){if(_e9.depth<=_e4){break;}}else{break;}}}_e2=ni.getNode();return _e2;};_._a.ae.prototype.getPreviousNode=function(_ea){var _eb=null;var _ec=_ea.index;var ni=this.tree.getNodeIterator({type:"dfs"});var _ee={};while(ni.next()){var _ef=ni.getNode();if(_ef.index==_ec){return _eb;}if(!this.options.accessibility){var _f0=document.getElementById(this.id+"_node_"+_ef.index);var _f1=_f0?_._G.getBoolean(_f0.getAttribute("opened")):false;var _f2=_ef.parentNode?_ef.parentNode.depth:0;if(_ee[_f2]||_ef.depth==0){if(_ef.depth==0){_f1=true;}_ee[_ef.depth]=_f1;_eb=_ef;}else{_ee[_ef.depth]=false;}}else{if(document.getElementById(this.id+"_group_"+_ef.index)){_eb=_ef;}}}return _eb;};_._a.ae.prototype.handleToggleEvent=function(e){try{var _f4=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_f4=true;}if(_f4&&it.match("w2treeview_node")){var _f6=it.getElement().getAttribute("treeNodeValue");var _f7=it.getElement().getAttribute("index");this.toggleChild(null,_f7);it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleDblclickEvent=function(e){try{var _f9=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_f9=true;}if(_f9&&it.match("w2treeview_node")){_._F.fireEvent(this,"ondblclick");it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleClickEvent=function(e){try{var _fc=false;var _fd=false;var _fe=false;var _ff=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_ff=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_fc=true;}if(it.match("w2treeview_icon_label")){_fd=true;}if(it.match("w2treeview_checkbox")){_fe=true;}if(it.match("w2treeview_node")){var _101=it.getElement().getAttribute("treeNodeValue");var _102=it.getElement().getAttribute("index");var node=this.tree.findNodeByIndex(_102);if(_fc&&!node.isLeaf()&&this.options.toggleButtonEvent!="onmousedown"){this.toggleChild(null,_102);var _104=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){_._F.fireEvent(this,"ontoggleclick",node.element,_102,_104);}else{_._F.fireEvent(this,"ontoggleclick",null,_102,_104);}}if(_fe){if(!node.checkboxDisabled){var _105=!node.checked;this.checkNode(_102,_105);if(!this.inlineElement){if(this.options.dynamicAppend==true){_._F.fireEvent(this,"oncheckboxclick",_101,node.element,_102);}else{_._F.fireEvent(this,"oncheckboxclick",_101,_._C.findInstanceNode(node.xpath),_102);}}else{_._F.fireEvent(this,"oncheckboxclick",_101,null,_102);}}}if(_ff){if(!this.inlineElement){if(this.options.dynamicAppend==true){_._F.fireEvent(this,"onlabelclick",_101,node.element,_102);}else{_._F.fireEvent(this,"onlabelclick",_101,_._C.findInstanceNode(node.xpath),_102);}}else{_._F.fireEvent(this,"onlabelclick",_101,null,_102);}}var _106=_._h.getConfiguration("/WebSquare/treeview/useClickEventToggleButton/@value");if(_ff||_fe||_fd||(_fc&&_106!="false")){this.selectNode(null,_102,false);_._F.fireEvent(this,"onclick");}it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.addClass(it.getElement(),"w2treeview_over");if(this.options.tooltipDisplay==true){var _109=it.getElement();var left=_._v.getAbsoluteLeft(_109);var top=_._v.getAbsoluteTop(_109);var _10c=_109.innerHTML;var _10d=_._v.getAbsoluteLeft(this.render);if(left+_109.offsetWidth>_10d+this.render.clientWidth+this.render.scrollLeft){this.showTooltip(left,top,_10c);}else{if(!_._G.isIE(6)&&!_._G.isIE(7)){var _10e=_109.style.display;_109.style.display="block";if(_109.clientWidth<_109.scrollWidth){this.showTooltip(left,top,_10c);}_109.style.display=_10e;}else{this.hideTooltip();}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.removeClass(it.getElement(),"w2treeview_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleContextmenuEvent=function(e){try{_._F.stopEvent(e);var _112=false;var _113=false;var _114=false;var _115=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_115=true;}if(it.match("w2treeview_icon_navi")){_112=true;}if(it.match("w2treeview_icon_label")){_113=true;}if(it.match("w2treeview_checkbox")){_114=true;}if(it.match("w2treeview_node")){var _117=it.getElement().getAttribute("treeNodeValue");var _118=it.getElement().getAttribute("index");if(_112){this.toggleChild(null,_118);}if(_114){var _119=document.getElementById(this.id+"_checkbox_"+_118).checked;this.checkNode(_118,_119);}if(_115||_114||_113){this.selectNode(null,_118);_._F.fireEvent(this,"onrightbuttonclick",this.findNodeByIndex(_118),_._F.getMouseX(e),_._F.getMouseY(e));}it.stop();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.handleKeydownEvent=function(e){try{var _11b=(e.charCode)?e.charCode:e.keyCode;var _11c=0;var _11d=null;if(this.selectedInfo.node){_11d=this.selectedInfo.groupDom;_11c=this.selectedInfo.node.index;}else{_11d=e.srcElement||e.target;_11c=_11d.getAttribute("index");}var node=this.tree.findNodeByIndex(_11c);if(_11b===37||_11b===39||_11b===13){var _11f=(_11b===37)?false:true;if(_11b===13){this.toggleChild(null,_11c,null);}else{this.toggleChild(null,_11c,_11f);}var _120=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){_._F.fireEvent(this,"ontoggleclick",node.element,_11c,_120);}else{_._F.fireEvent(this,"ontoggleclick",null,_11c,_120);}_._F.stopEvent(e);}else{if(_11b===38){var _121=null;if(_11c==0){_11c=1;_121=this.tree.findNodeByIndex(_11c);}else{if(_11d.id.indexOf("_group_")>-1){_121=this.getPreviousNode(node);}}if(_121){var _122=_121.index;var _123=document.getElementById(this.id+"_group_"+_122);if(_123){this.selectNode(null,_122,false);}_._F.stopEvent(e);}}else{if(_11b===40){var _121=null;if(_11c==0){_11c=1;_121=this.tree.findNodeByIndex(_11c);}else{if(_11d.id.indexOf("_group_")>-1){_121=this.getNextNode(node);}}if(_121){var _122=_121.index;var _123=document.getElementById(this.id+"_group_"+_122);if(_123){this.selectNode(null,_122,false);}_._F.stopEvent(e);}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ae.prototype.setDisabled=function(_124){_124=_._G.getBoolean(_124);var ret=_._q.prototype.setDisabled.call(this,_124);this.disableCheckbox(this.tree.rootNode,_124,true);return ret;};;WebSquare.uiplugin.treeview=_._a.ae;requires("uiplugin.group");requires("uiplugin/treeview/tree.js");requires("uiplugin/graphicUtil/graphicUtil.js");_._a.aH=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aH.prototype,_._q.prototype);_._a.aH.prototype.defaultOptions={pluginType:"uiplugin.menu",pluginName:"menu",userEvents:["onleafclick","onbranchclick"],isVertical:false,dataType:"recursive",repeatNode:"",menuHide:true,firstOpenEvent:"onmouseover",menuWidthType:"byWidth",firstMenuGap:10,menuPosition:"manual",keepFirstSelectedMenu:false,hoverOneDepthMenuId:undefined,nowSelectedOneDepthMenuIndex:-1,beforeSelectedOneDepthMenuIndex:-1,selectedMenuIndex:-1,overlapHeight:0,overlapWidth:0,wmode:false};_._a.aH.prototype.initialize=function(_4){try{this.tree=new _._s.tree();this.childMenuLayerArr=[];this.timeHide=null;this.mainMenuInfo={defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""}};this.childMenuInfo={roundStyle:{borderWidth:"0",borderColor:"#ffffff",fillColor:"#ffffff",arcSize:"0"},defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""},childDefaultStyle:{style:"",className:""},childHoverStyle:{style:"",className:""},childSelectedStyle:{style:"",className:""},childStyle:{style:"",className:""},containerStyle:{style:"",className:""}};this.selectedChildNodeList=[];this.directionObject={"direction":-1};this.oneDepthMenuId="";this.selectedMenuDepth=-1;this.maxChildMenuDepth=-1;if(_4){var _5=_.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);var _6="w2:";var _7=_._t.findNode(_4,_6+"mainMenu");if(_7){for(var _8=_7.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=_._t.getLocalName(_8);this.mainMenuInfo[_9]=_.WebSquareparser.parseAttribute(_8);}}}var _a=_._t.findNode(_4,_6+"childMenu");if(_a){this.childMenuInfo["onclick"]=_._t.getValue(_a,"@onclick");try{this.childMenuInfo["onclickFunc"]=null;}catch(e){}for(var _8=_a.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=_._t.getLocalName(_8);this.childMenuInfo[_9]=_.WebSquareparser.parseAttribute(_8);}}}var _b=null;var _c=_._t.findNode(_4,_6+"itemset");if(_c){var _d=_._t.getValue(_c,"@nodeset");var _e=_d.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_e){_e=_e[0];}var _f=_._t.getValue(_c,_6+"label/@ref");var _10=_._t.getValue(_c,_6+"value/@ref");var _11=_._t.getValue(_c,_6+"depth/@ref");var _12=_._t.getValue(_c,_6+"auth/@ref");this.tree.setXPath(_d,_f,_10,_11,_e,false,_12);var _13=_._C.findInstanceNodes(_d);if(this.options.dataType=="recursive"){_b=this.tree.parseRecursiveToTree(_13);}else{if(this.options.dataType=="listed"){_b=this.tree.parseListToTree(_13);}}}else{_b=_4;}if(_b){this.tree.setXML(_b);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.toHTML=function(){try{var _14=[];var _15=(!this.options.style)?"":"style='"+this.options.style+"'";if(this.options.isVertical==true){_14.push("<div id='"+this.id+"' "+_15+" class='w2menu w2menu_vertical "+this.options.className+"'>");}else{_14.push("<div id='"+this.id+"' "+_15+" class='w2menu "+this.options.className+"'>");}_14.push("</div>");return _14.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.setAction=function(){try{this.drawContents();this.event.addListener(document.documentElement,"onclick",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,this.options.firstOpenEvent,this.event.bindAsEventListener(this,this.handleFirstOpenEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _16=null;var _17=this.tree.getNodeset();var _18=_._C.findInstanceNodes(_17);if(this.options.dataType=="recursive"){_16=this.tree.parseRecursiveToTree(_18);}else{if(this.options.dataType=="listed"){_16=this.tree.parseListToTree(_18);}}this.tree.setXML(_16);this.removeMenuLayer();this.drawContents();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.setXML=function(_19){try{var _1a=null;var _1b=this.tree.getNodeset();this.removeMenuLayer();var _1c=_._t.findNodes(_19,_1b);if(this.options.dataType=="recursive"){_1a=this.tree.parseRecursiveToTree(_1c);}else{if(this.options.dataType=="listed"){_1a=this.tree.parseListToTree(_1c);}}this.tree.setXML(_1a);this.drawContents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.drawContents=function(){try{this.render.innerHTML=this.mainNodeToHTML(this.tree.rootNode);if(this.options.menuPosition=="manual"){this.setMainMenuPosition();}if(this.options.keepFirstSelectedMenu&&this.options.selectedMenuIndex>-1&&this.options.selectedMenuIndex<this.tree.rootNode.childNodes.length){this.options.nowSelectedOneDepthMenuIndex=this.options.selectedMenuIndex;var _1d=this.tree.rootNode.childNodes[this.options.selectedMenuIndex].nodeDom;this.addClass(_1d,"w2menu_node_selected");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.setMainMenuPosition=function(){try{if(this.tree.rootNode){var _1e=this.tree.rootNode.childNodes.length;var _1f=Math.floor(this.render.offsetWidth/_1e)-3;var _20=Math.floor(this.render.offsetHeight/_1e)-3;var _21=0;var _22=0;var _23=0;var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _25=ni.getNode();if(_25.depth>1){ni.stop();}if(_25.depth==1){_25.nodeDom=document.getElementById(this.id+"_node_"+_25.index);if(this.options.menuWidthType=="byEverage"){if(this.options.isVertical==true){_25.nodeDom.style.height=_20+"px";_25.nodeDom.style.top=(_21*_20)+"px";}else{_25.nodeDom.style.width=_1f+"px";_25.nodeDom.style.left=(_21*_1f)+"px";}_21++;}else{if(this.options.menuWidthType=="byWidth"){if(this.options.isVertical==true){_25.nodeDom.style.top=_23+"px";_23+=(_25.nodeDom.offsetHeight+this.options.firstMenuGap);}else{_25.nodeDom.style.left=_22+"px";_22+=(_25.nodeDom.offsetWidth+this.options.firstMenuGap);}}else{if(this.options.menuWidthType=="custom"){}}}}}ni=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.setChildMenuPosition=function(_26,_27,e,_29){try{var _2a=this.getChild(this.id+"_subLayer");if(_2a&&_26){if(_27.depth==1){if(this.options.isVertical==true){_2a.render.style.top=_._v.getAbsoluteTop(_29)+"px";}else{_2a.render.style.left=_._v.getAbsoluteLeft(_29)+"px";}this.directionObject={"direction":-1};}else{var _2b=-1;var _2c=0;var _2d=1;var _2e=_._v.getAbsoluteLeft(_2a.render);var _2f=_._v.getAbsoluteTop(_2a.render);var _30=_._v.getRelativeLeft(_29,_2a.render);var _31=_._v.getRelativeTop(_29,_2a.render);var _32=_29.offsetWidth;var _33=(_26.render.children[0])?_26.render.children[0].scrollWidth:0;var _34=document.body.clientWidth;if(this.directionObject[_26.render.id]==undefined){this.directionObject[_26.render.id]=this.directionObject["direction"];}else{this.directionObject["direction"]=this.directionObject[_26.render.id];}switch(this.directionObject["direction"]){case _2b:if(_2e+_32+_33>_34){_30-=_33;this.directionObject["direction"]=_2d;}else{_30+=_32;this.directionObject["direction"]=_2c;}break;case _2c:_2e=_._v.getAbsoluteLeft(_29.parentElement);if(_2e+_32+_33>_34){_30-=_33;this.directionObject["direction"]=_2d;}else{_30+=_32;}break;case _2d:_2e=_._v.getAbsoluteLeft(_29.parentElement);if(_2e-_33<0){_30+=_32;this.directionObject["direction"]=_2c;}else{_30-=_33;}break;}if(this.directionObject["direction"]==_2c){_30-=this.options.overlapWidth;}else{if(this.directionObject["direction"]==_2d){_30+=this.options.overlapWidth;}}_31+=this.options.overlapHeight;_26.render.style.left=_30+"px";_26.render.style.top=_31+"px";}}if(this.options.wmode){_.getBody().showWModeFrame("menu",_26.render);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.mainNodeToHTML=function(_35){try{if(!_35){return "";}if(_35.rendered==true){return "";}_35.rendered=true;var _36=[];if(_35.depth==0){_36.push("<div class='w2menu_main'>");for(var i=0;i<_35.childNodes.length;i++){var _38=_35.childNodes[i];if(this.authorization){var _39=this.authFunction(_38.label,_38.value,_38.depth,_38.auth);if(!_39){continue;}}_36.push("<span class='w2menu_node "+this.mainMenuInfo.defaultStyle.className+"' id='"+this.id+"_node_"+_38.index+"' index='"+_38.index+"'>");_36.push("<span class='w2menu_label'>"+_38.label+"</span>");_36.push("</span>");}_36.push("</div>");}return _36.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.childNodeToHTML=function(_3a){try{if(!_3a){return "";}if(_3a.rendered==true){return "";}_3a.rendered=true;var _3b=[];if(_3a.childNodes.length>0){_3b.push("<div class='w2menu_depth"+(_3a.depth+1)+" w2menu_child'>");_3b.push("<div class='w2menu_child_container "+this.childMenuInfo.containerStyle.className+"'>");for(var i=0;i<_3a.childNodes.length;i++){var _3d=_3a.childNodes[i];if(this.authorization){var _3e=this.authFunction(_3d.label,_3d.value,_3d.depth,_3d.auth);if(!_3e){continue;}}var _3f="";if(_3d.hasChild()){_3f=this.childMenuInfo.childDefaultStyle.className;}else{_3f=this.childMenuInfo.defaultStyle.className;}if(_3d.hasChild()){_3b.push("<div class='w2menu_node w2menu_hasChild w2menu_node_icon "+_3f+"' id='"+this.id+"_node_"+_3d.index+"' index='"+_3d.index+"'>");}else{_3b.push("<div class='w2menu_node w2menu_node_icon "+_3f+"' id='"+this.id+"_node_"+_3d.index+"' index='"+_3d.index+"'>");}_3b.push("<span class='w2menu_label'>"+_3d.label+"</span>");_3b.push("</div>");}_3b.push("</div>");_3b.push("</div>");}return _3b.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.showAll=function(){try{var _40=this.getChildren();for(var i=0;i<_40.length;i++){if(_40[i].id.indexOf("menuLayer")>-1){_40[i].show();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.hideAll=function(_42){try{var _43=this.getChildren();for(var i=0;i<_43.length;i++){if(_43[i].id.indexOf("menuLayer")>-1){if(this.options.wmode&&_42){var _45=_43[i].render.childNodes;if(_45.length==0){continue;}var _46=_45[0].className.split(" ")[0];_.getBody().removeWModeFrame("menu",_46);}_43[i].hide();}}var _47=this.tree.rootNode.childNodes;for(var idx in _47){if(_47[idx].nodeDom){this.removeClass(_47[idx].nodeDom,this.mainMenuInfo.selectedStyle.className);this.removeClass(_47[idx].nodeDom,this.childMenuInfo.childSelectedStyle.className);this.removeClass(_47[idx].nodeDom,this.childMenuInfo.childHoverStyle.className);this.removeClass(_47[idx].nodeDom,this.childMenuInfo.hoverStyle.className);if(this.hoverOneDepthMenuId&&this.hoverOneDepthMenuId===_47[idx].nodeDom.id){if(this.options.keepFirstSelectedMenu&&this.options.nowSelectedOneDepthMenuIndex>-1){if(_47[idx].nodeDom.id===_47[this.options.nowSelectedOneDepthMenuIndex].nodeDom.id){break;}}this.removeClass(_47[idx].nodeDom,"w2menu_node_selected");}}}for(var idx in this.selectedChildNodeList){this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childSelectedStyle.className);this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childHoverStyle.className);}this.selectedChildNodeList=[];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.showChildMenu=function(_49,e,_4b){try{var _4c=this.getChild(this.id+"_"+"menuLayer"+_49.index);if(!_4c){_4c=this.makeMenuLayer(_49,e,_4b);}if(!this.options.wmode){this.hideAll();}else{if(_49.depth==1){if(this.oneDepthMenuId==_4b.id||this.oneDepthMenuId==""){this.hideAll();}else{this.hideAll(true);}this.oneDepthMenuId=_4b.id;}else{if(this.selectedMenuDepth>_49.depth){for(var i=_49.depth+1;i<=this.selectedMenuDepth;i++){_.getBody().removeWModeFrame("menu","w2menu_depth"+i);}}this.hideAll();}}_4c.show();var _4e=_49.parentNode;while(_4e&&_4e.depth>0){var _4f=this.getChild(this.id+"_menuLayer"+_4e.index);if(_4f){_4f.show();if(this.options.wmode){_.getBody().showWModeFrame("menu",_4f.render);}var _50=document.getElementById(this.id+"_node_"+_4e.index);if(_50){if(_4e.depth==1){this.addClass(_50,this.mainMenuInfo.selectedStyle.className);}else{if(_4e.depth>1){this.selectedChildNodeList.push(_50);this.addClass(_50,this.childMenuInfo.childSelectedStyle.className);}}}}_4e=_4e.parentNode;}if(this.options.wmode){var _51=_49.depth;if(this.selectedMenuDepth==_51){var _52="w2menu_depth"+(_51+1);var _53;if(_._G.isIE(8)||_._G.isIE(7)||_._G.isIE(6)){var _54=document.getElementsByTagName("div");for(var i=0;i<_54.length;i++){if(_54[i].className.split(" ")[0]==_52){_53=_54[i];}}}else{_53=document.getElementsByClassName(_52)[0];}var _55=document.getElementById(_52+"_wmode_frame");if(!!_53){if(_53.parentElement.style.display=="none"){if(!!_55){_.getBody().removeWModeFrame("menu",_52);}}}}if(this.maxChildMenuDepth!=-1){if(this.maxChildMenuDepth>_51){if(this.maxChildMenuDepth-_51!=1){var _56="w2menu_depth"+this.maxChildMenuDepth;var _57=document.getElementById(_56+"_wmode_frame");if(!!_57){_.getBody().removeWModeFrame("menu",_56);this.maxChildMenuDepth=_51;}}}}this.selectedMenuDepth=_51;if(_49.childNodes.length>0){if(this.maxChildMenuDepth<(_51+1)){this.maxChildMenuDepth=_51+1;}}else{this.maxChildMenuDepth=_51;}}this.setChildMenuPosition(_4c,_49,e,_4b);this.addRoundRect(_4c,_49);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.hideChildMenu=function(_58){try{var _59=this.getChild(this.id+"_menuLayer"+_58.index);if(_59){_59.hide();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.addRoundRect=function(_5a,_5b){try{if(_5b.rounded==true){return;}_5b.rounded=true;if(_5a&&_5a.render.firstChild){var _5c=_5a.render.firstChild;var idx=_5b.index;_5c.style.display="block";var gu=new _._a.ai(this.id+"_gu_"+idx,_5c,null,{appendMode:"insert"});var _5f=_5c.offsetWidth-3;var _60=_5c.offsetHeight-3;if(this.childMenuInfo.roundStyle.borderWidth>0){gu.drawToolkit.createRoundRect(this.id+"_back_round_"+idx,this.childMenuInfo.roundStyle.borderWidth,1,1,_5f,_60,this.childMenuInfo.roundStyle.arcSize,this.childMenuInfo.roundStyle.borderColor,this.childMenuInfo.roundStyle.fillColor,true);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.makeSubLayer=function(e,_62){try{var _63="w2menu_sub";if(this.options.isVertical==true){_63+=" w2menu_vertical";}var _64=new _._a._z(this.id+"_subLayer",{className:_63});_64.writeTo(_.getBody());_64.activate();var _65=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var _67=this.render.offsetWidth;var _68=this.render.offsetHeight;if(this.options.isVertical==true){var _65=_._v.getAbsoluteLeft(_62);var top=_._v.getAbsoluteTop(this.render);var _67=_62.offsetWidth;_64.setStyle("left",_65+_67+"px");_64.setStyle("top",top+"px");}else{var _65=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(_62);var _68=_62.offsetHeight;_64.setStyle("left",_65+"px");_64.setStyle("top",top+_68+"px");}_64.event.addListener(_64.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));_64.event.addListener(_64.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_64.event.addListener(_64.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_64);return _64;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.makeMenuLayer=function(_69,e,_6b){try{var _6c=null;var _6d=this.getChild(this.id+"_subLayer");if(!_6d){_6d=this.makeSubLayer(e,_6b);}if(_6d){_6c=new _._a._z(this.id+"_menuLayer"+_69.index,{className:"w2menu_menuLayer"});_6c.writeTo(_6d);_6c.activate();var _6e=this.childNodeToHTML(_69);if(_6e!=""){_6c.render.innerHTML=_6e;}this.addControl(_6c);}return _6c;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.removeMenuLayer=function(){try{this.clearChildren();var _6f=document.getElementById(this.id+"_subLayer");if(!_6f){return;}else{this.removeChildren(_6f);document.body.removeChild(_6f);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.removeChildren=function(_70){try{while(_70.hasChildNodes()){if(_70.firstChild!=""){_70.removeChild(this.removeChildren(_70.firstChild));}else{_70.removeChild(_70.firstChild);}}return _70;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.handleFirstOpenEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _73=it.getElement();var _74=_73.getAttribute("index");var _75=this.tree.findNodeByIndex(_74);if(_75.depth>1){break;}if(_75.depth==1){this.showChildMenu(_75,e,_73);var _76=document.getElementById(this.id+"_node_"+_74);if(_76){this.addClass(_76,this.mainMenuInfo.selectedStyle.className);}this.hoverOneDepthMenuId=this.id+"_node_"+_74;}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.handleClickEventDocument=function(e){try{if(!this.event.isMine(e,this.render)){this.hideAll(true);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _7a=it.getElement().getAttribute("index");var _7b=this.tree.findNodeByIndex(_7a);var _7c=_7b.value.split("$$");if(_7b.isLeaf()){try{if(this.options.keepFirstSelectedMenu){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}var _7d=this.tree.rootNode.childNodes;while(_7b){if(_7b.parentNode&&_7b.parentNode.index!=0){_7b=_7b.parentNode;}else{break;}}for(var i=0;i<_7d.length;i++){if(_7d[i].index===_7b.index){this.options.nowSelectedOneDepthMenuIndex=i;}}if(this.options.beforeSelectedOneDepthMenuIndex>-1&&this.options.nowSelectedOneDepthMenuIndex!==this.options.beforeSelectedOneDepthMenuIndex){var _7f=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_7f,"w2menu_node_selected");}}this.hideAll(true);if(this.options.keepFirstSelectedMenu){var _80=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_80,"w2menu_node_selected");}if(!this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"]=eval(this.childMenuInfo["onclick"]);}}catch(e){}if(this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"].apply(this,_7c);}_._F.fireEvent(this,"onleafclick",_7c[0],_7c[1],_7c[2]);it.stop();}else{_._F.fireEvent(this,"onbranchclick",_7c[0],_7c[1],_7c[2]);}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);if(this.options.menuHide==true&&this.timeHide){clearTimeout(this.timeHide);this.timeHide=null;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.addClass(it.getElement(),"w2menu_node_over");var _83=it.getElement();var _84=it.getElement().getAttribute("index");var _85=this.tree.findNodeByIndex(_84);if(_85.depth==1){}else{if(_85.depth>1){this.showChildMenu(_85,e,_83);if(_85.hasChild()){this.addClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.addClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var _87=this;if(this.options.menuHide==true){this.timeHide=setTimeout(function(){_87.hideAll(true);},500);}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.removeClass(it.getElement(),"w2menu_node_over");var _89=it.getElement();var _8a=it.getElement().getAttribute("index");var _8b=this.tree.findNodeByIndex(_8a);if(_8b.depth==1){}else{if(_8b.depth>1){if(_8b.hasChild()){this.removeClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.removeClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.closeMenu=function(){this.hideAll();};_._a.aH.prototype.setSelectedMenuIndex=function(_8c){if(!this.options.keepFirstSelectedMenu){return;}if(isNaN(_8c)){return;}if(_8c>-1&&_8c<this.tree.rootNode.childNodes.length){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}if(this.options.beforeSelectedOneDepthMenuIndex>-1){var _8d=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_8d,"w2menu_node_selected");}this.options.nowSelectedOneDepthMenuIndex=_8c;var _8e=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_8e,"w2menu_node_selected");}};_._a.aH.prototype.authorize=function(_8f){try{this.authorization=true;this.authFunction=_8f;this.hideAll();this.removeMenuLayer();this.removeMainMenuLayer();this.removeChildMenuLayer(this.tree.rootNode);this.drawContents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.removeMainMenuLayer=function(){try{if(this.render){this.render.removeChild(this.render.childNodes[0]);this.tree.rootNode.rendered=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aH.prototype.removeChildMenuLayer=function(_90){try{_90.rendered=false;var _91=_90.childNodes;if(_91.length>0){for(var i=0;i<_91.length;i++){this.removeChildMenuLayer(_91[i]);}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.menu=_._a.aH;requires("uiplugin.group");requires("uiplugin/wframe/wframeDocument.js");requires("uiplugin/wframe/wframeParser.js");_._a.aI=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aI.prototype,_._q.prototype);_._a.aI.prototype.defaultOptions={pluginType:"uiplugin.wframe",pluginName:"wframe",src:"",tagname:"div",mode:"async",scope:false,xmlCacheMax:200};_._a.aI.prototype.initialize=function(_4){["WebSquare.uiplugin.wframe.initialize "];this.createFlag=false;if(_4&&_4.tagName==="w2:wframe"){this.createFlag=true;}this.wframeDoc=null;this.wframeScript=[];this.lazyImportsArr=[];this.xmlCache={};this.xmlCacheList=[];};_._a.aI.html5={"footer":"div","header":"div","nav":"div","section":"div"};_._a.aI.prototype.toHTML=function(){try{var _5=[];var _6=this.options.tagname;var _7=(!this.options.style)?"":"style='"+this.options.style+"'";if(_._h.browserCheck.ie){var _8=_._h.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if(_._a.aI.html5[_6]){_6=_._a.aI.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' "+_7+" class='w2wframe "+this.options.className+"'>");if(this.createFlag){var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}}_5.push("</"+_6+">");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.setAction=function(){try{if(!this.createFlag){this.setSrc(this.options.src);}else{if(this.wframeDoc&&this.wframeDoc.scriptSection.wq_trim()!=""){var _b=this.wframeDoc.scriptSection;if(this.options.scope){_b="WebSquare.scope_obj="+this.id+";\nwith("+this.id+".scope){\n"+_b+"\n};\nWebSquare.scope_obj=null;\n";}if(_.scriptSectionExcuteFlag&&_.scriptSectionExcuteFlag==="executed"){var _c=this.parentControl.parentControl;if(_c.options.pluginName=="wframe"){_c.wframeScript.push(_b);this.wframeDoc.scriptSection="";_c.lazyImportsArr=_c.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{_.BootLoader.globalEval(_b);}}else{if(!_.wframeScript){_.wframeScript=[];}_.wframeScript.push(_b);this.wframeDoc.scriptSection="";}}}for(var i=0;i<this.childControlList.length;i++){var _e=this.childControlList[i];if(_e.activeStatus=="stop"){_e.setUserAction();}_._F.fireEvent(_e,"oncreated",_e.options);_._F.fireEvent(_e,"onwframeload",this.getSrc());}if(this.options.scope){this.makeScope(this);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.setSrc=function(_f,_10){try{_10=_10||{};var _11=this.getSrc();if(!_f||_f==""){return;}this.options.src=_f;_f=this.getSrc();var _12=null;var _13=(this.xmlCache[_f]!=undefined);if(_13&&this.xmlCache[_f]){_12=this.xmlCache[_f];}else{_12=_._t.load(_._h.getURL(_f),null);}if(_12){for(var i=0;i<this.childControlList.length;i++){_._F.fireEvent(this.childControlList[i],"onwframeunload",_11);}if(!_13){if(_10.xmlCache){if(this.options.xmlCacheMax<=this.xmlCacheList.length){var _15=this.xmlCacheList.shift();this.xmlCache[_15]=null;delete this.xmlCache[_15];}this.xmlCacheList.push(_f);this.xmlCache[_f]=_12;}else{this.xmlCache[_f]="";}}if(_10.removeAll){_10.appendModel="replace";this.removeAll();}else{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(this.render!=null){_.removeChildren(this.render);}this.removeCommon();}this.wframeDoc=new _.wframeDocument(_12,this.options);this.wframeDoc.renderStartTime=new Date();var _16=new _.wframeParser(this.wframeDoc,this);_16.parse(this.wframeDoc.xmlDocument);if(_10.appendModel==undefined){_10.appendModel=!_13;}this.appendModels(this.wframeDoc.models,null,_10);this.wframeDoc.renderBody2(this);this.wframeDoc.cssList=_.cssManager.executeImport();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.makeFrame=function(){try{var src=this.getSrc();if(src){var _18=_._t.load(_._h.getURL(src),null);if(_18){this.wframeDoc=new _.wframeDocument(_18,this.options);this.wframeDoc.renderStartTime=new Date();var _19=new _.wframeParser(this.wframeDoc,this);_.cssManager.executeImport();_19.parse(this.wframeDoc.xmlDocument);this.appendModels(this.wframeDoc.models,null,{"appendModel":true});this.wframeDoc.renderBody(this);this.wframeDoc.cssList=_.cssManager.executeImport();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.getSrc=function(){try{var _1a=this.options.src;if(_.pageURLPrefix!==""&&_.pageURLPrefixType=="function"){if(_.pageURLPrefix.indexOf("()")==-1){urlFunc=_.pageURLPrefix+"()";}_1a=eval(urlFunc)+encodeURIComponent(_1a);}else{if(_.pageURLPrefix!==""&&_.pageURLPrefixType!="function"){_1a=_.pageURLPrefix+encodeURIComponent(_1a);}}return _1a;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.appendModels=function(_1b,_1c,_1d){try{_1d=_1d||{};if(_1d.appendModel=="replace"){this.replaceModels(_1b);return;}var _1e=_._C.getModelByID(_1c);if(_1e){for(var i=0;i<_1b.length;i++){if(_1d.appendModel){var _20=_1e.instances[0].document;var _21=_1b[i].instances[0].document.childNodes;for(var j=0;j<_21.length;j++){_20.appendChild(_21[j].cloneNode(true));}}_1e.binds=_1e.binds.concat(_1b[i].binds);while(_1b[i].submissions.length>0){var _23=_1b[i].submissions.pop();_23.parentElement=_1e.element;_1e.submissions.push(_23);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.replaceModels=function(_24){try{_.WebSquaredoc.models.splice(0,_.WebSquaredoc.models.length);_.WebSquaredoc.models=_.WebSquaredoc.models.concat(_24);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.removeAll=function(){try{_.dragdrop2.clearComp();for(var key in _.idCache){var _26=_.idCache[key];if(typeof _26.unbind=="function"){_26.unbind();}_.isPrintLog=false;_26.finalize();_.isPrintLog=true;if(_26.event){_26.event.clearCache();}_26.childControlList=[];var _27=_26.bindAsEventList;for(var i=0,len=_27.length;i<len;i++){_[_27[i]].context=null;_[_27[i]].handler=null;delete _[_27[i]];}var _29=_26.bindAsUserEventList;for(var i=0,len=_29.length;i<len;i++){_[_29[i]].context=null;_[_29[i]].handler=null;delete _[_29[i]];}if(typeof window[key]!="undefined"&&window[key]!=this){window[key]=null;}}for(var i in _.getBody().childControlList){if(_.getBody().childControlList[i]==this){_.getBody().childControlList.splice(i,1);}}if(this.render!=null){_.removeChildren(this.render);}this.childControlList=[];_.idCache={};_.idCache[this.id]=this;_.WebSquaredoc.itemsetElement=[];_.WebSquaredoc.refElement=[];_.renderCache={};_.renderCache[this.id]=this;_.WebSquareDocument.componentsCache={};_.WebSquareDocument.componentsCache[this.options.pluginName]=[this];_.getBody().getLayerListener().removeAll();this.removeCommon();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aI.prototype.removeCommon=function(){try{this.wframeScript=[];if(this.wframeDoc!=null){var _2a=_.document.getElementsByTagName("head")[0];for(var i=0;i<this.wframeDoc.cssList.length;i++){_2a.removeChild(this.wframeDoc.cssList[i]);this.wframeDoc.cssList[i]=null;}_2a=null;var _2c=this.wframeDoc.models[0].xmlNode.getElementsByTagName("submission");var _2d=_.WebSquaredoc.models[0].submissions;for(var i=0;i<_2c.length;i++){for(var j=0;j<_2d.length;j++){if(_2c[i].getAttribute("id")===_2d[j].id){_2d[j].parentElement=null;_2d.splice(j,1);continue;}}}}this.wframeDoc=null;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.wframe=_._a.aI;_.wframeDocument=function(_1,_2){this.options=_2;_.WebSquareDocument.call(this,_1);this.cssList=[];this.scriptSection="";};_.wframeDocument.inherit(_.WebSquareDocument);_.wframeDocument.prototype.renderBody=function(_3){var _4=_._t.getElementsByTagName(this.xmlDocument,"body",_._h._XML_NAMESPACE.XHTML);_.cssManager.startCache();var _5=_.controlFactory.create(null,null,_4[0],_3.options.scope?_3:null);_.cssManager.endCache();_3.addControl(_5);};_.wframeDocument.prototype.renderBody2=function(_6){var _7=_._t.getElementsByTagName(this.xmlDocument,"body",_._h._XML_NAMESPACE.XHTML);_.cssManager.startCache();var _8=_.controlFactory.create(null,null,_7[0],_6.options.scope?_6:null);_.cssManager.endCache();_6.addControl(_8);if(_8){var _9=this;var _a=function(){_8.activate();_8.render=null;_6.wframeScript.push(_9.scriptSection);_9.scriptSection=_6.wframeScript.reverse().join("");_9.wframeScript=[];if(_9.scriptSection.wq_trim()!=""){_.BootLoader.globalEval(_9.scriptSection);}if(_6.lazyImportsArr.length>0){_._G.js.apply(null,_6.lazyImportsArr);_6.lazyImportsArr=[];}_._F.fireEvent(_8,"onwframeload",_6.getSrc());};var _b=function(){_6.render.innerHTML=_8.toHTML();if(_9.options.mode=="async"){setTimeout(_a,1);}else{_a();}};if(_.externalScriptArr.length>0){_.externalScriptArr.push(_b);_._G.js.apply(null,_.externalScriptArr);}else{_b();}_.externalScriptArr=[];return true;}else{return false;}};_.wframeDocument.prototype.addBodyEvents=function(_c,_d){try{if(typeof _d!="undefined"){var s1=_._h.makeStyle(_d);_._h.applyStyle(this.render,s1);}var _f=_.WebSquareparser.parseEvent(_c);_._F.addEvents(this.render,_f);}catch(e){_.exception.printStackTrace(e);}};_.wframeParser=function(_1,_2){_._J.WebSquareParser.call(this);this.wframeDoc=_1;this.wframeComponent=_2;};_.wframeParser.inherit(_._J.WebSquareParser);_.wframeParser.prototype.parse=function(_3){try{if(_._h.browserCheck.ieAllVersion&&_.BootLoader.useActiveXObject){var _4=_._h.getNamespaces(_3);var _5="";for(var i in _4){if(i!=""){_5+="xmlns:"+i+"=\""+_4[i]+"\" ";}}_3.setProperty("SelectionLanguage","XPath");_3.setProperty("SelectionNamespaces",_5);}_._x.importCSS(_3,true);this.parseModels(_3.documentElement);return this.parseScript(_3.documentElement);}catch(e){_.exception.printStackTrace(e);}};_.wframeParser.prototype.parseModels=function(_7){try{var _8=_._t.getElementsByTagName(_7,"model",_._h._XML_NAMESPACE.XFORMS);for(var i=0;i<_8.length;i++){this.wframeDoc.models.push(this.parseModel(_8[i]));if(this.wframeComponent.options.scope){for(var j=0;j<this.wframeDoc.models[i].submissions.length;j++){this.wframeDoc.models[i].submissions[j].scope_obj=this.wframeComponent;}}}}catch(e){_.exception.printStackTrace(e);}};_.wframeParser.prototype.parseScript=function(_b){try{this.wframeDoc.scriptSection="";var _c=_._t.getElementsByTagName(_b,"head",_._h._XML_NAMESPACE.XHTML);if(_c.length==1){for(var _d=_c[0].firstChild;_d!=null;_d=_d.nextSibling){if((_d.nodeType==1)&&_._t.matchNode(_d,"script",_._h._XML_NAMESPACE.XHTML)){var _e=_d.getAttribute("src");if(_e!=null&&_e!=""){var _f=_d.getAttribute("defer");if(_f=="defer"){if(_.scriptSectionExcuteFlag=="executed"){this.wframeComponent.lazyImportsArr.push(_._h.getURL(_e));}else{_.lazyImportsArr.push(_._h.getURL(_e));}}else{_.externalScriptArr.push(_._h.getURL(_e));}}else{for(var _10=_d.firstChild;_10!=null;_10=_10.nextSibling){if(_10.nodeType==4||_10.nodeType==3){var _11=_10.nodeValue;if(this.wframeComponent.options.scope){_11="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith("+this.wframeComponent.id+".scope){\n"+_11+"\n};\nWebSquare.scope_obj=null;\n";}this.wframeDoc.scriptSection+=_11;}}}}}}else{alert(_._z.getMessage("E_Parser_MoreThanOneHeadError",_c.length));return false;}}catch(e){_.exception.printStackTrace(e);}return true;};_._a._E=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._E.prototype,_._q.prototype);_._a._E.prototype.defaultOptions={pluginType:"uiplugin.window",pluginName:"window",parseChild:true,userEvents:["onclose","onminimize","onmaximize","onrestore","ondragstart","ondragend","onwindowkeyup","onwindowmousedown"],defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",windowTitle:"",statusMsg:"",src:"",wmode:false,useStatusMsg:true,windowTooltipDisplay:true,title:"",dragResizable:true};_._a._E.prototype.initialize=function(_4){try{this.frame=null;this.modal=null;this.windowInfo={status:this.options.parent?"maximized":"restored",drag:this.options.parent?false:true,top:this.options.defaultTop,left:this.options.defaultLeft,width:this.options.defaultWidth,height:this.options.defaultHeight,minWidth:(parseInt(this.options.minimumWidth,10)<150)?(150+"px"):this.options.minimumWidth,minHeight:(parseInt(this.options.minimumHeight,10)<150)?(150+"px"):this.options.minimumHeight,minimized:false,setInfo:function(_5){this.top=_5.style.top;this.left=_5.style.left;this.width=_5.style.width;this.height=_5.style.height;},getInfo:function(_6){_6.style.top=this.top;_6.style.left=this.left;_6.style.width=this.width;_6.style.height=this.height;}};if(this.options.frameMode=="iframe"){requires("uiplugin.iframe");}else{if(this.options.frameMode=="wframe"){requires("uiplugin.wframe");}}if(this.options.parent&&this.options.parent.options.hideTitleOnMaximize){this.hideTitleOnMaximize=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.toHTML=function(){try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=[];var _9="";var _a="";var _b=(!this.options.style)?"":"style='"+this.options.style+"'";if(this.options.windowTooltipDisplay){_a="title='"+this.options.windowTitle+"'";}_8.push("<div "+_7+" id='"+this.id+"' "+_b+" class='w2window w2window_maximized "+this.options.className+"' tabindex='0' role='application' "+_a+">");if(this.options.wmode==true){_9=_._l.getSSLBlankPage();_8.push("<iframe frameBorder='no' class='w2window_wmode' "+_9+"></iframe>");}var _c="w2window_header";var _d="w2window_body";if(this.hideTitleOnMaximize==true&&this.windowInfo.status=="maximized"){_c+=" w2window_header_extend";_d+=" w2window_body_extend";}_8.push("<div id='"+this.id+"_header' class='"+_c+"'>");_8.push("<div id='"+this.id+"_header_icon' class='w2window_header_icon'></div>");_8.push("<div id='"+this.id+"_header_title' class='w2window_header_title'>"+this.options.windowTitle+"</div>");_8.push("<div id='"+this.id+"_header_control' class='w2window_header_control'>");_8.push("<div id='"+this.id+"_minimize' class='w2window_minimize' title='"+_._z.getMessage("Window_minimize")+"'></div>");_8.push("<div id='"+this.id+"_restore' class='w2window_restore' title='"+_._z.getMessage("Window_restore")+"' ></div>");_8.push("<div id='"+this.id+"_close' class='w2window_close' title='"+_._z.getMessage("Window_close")+"' ></div>");_8.push("</div>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_body' class='"+_d+"'>");}else{_8.push("<div id='"+this.id+"_body' class='"+_d+" w2window_no_status'>");}_8.push("<div id='"+this.id+"_content' class='w2window_content'>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_status' class='w2window_status'>");_8.push("<div id='"+this.id+"_msg' class='w2window_msg'>"+this.options.statusMsg+"</div>");_8.push("</div>");}_8.push("</div>");if(this.options.dragResizable){_8.push("<div id='"+this.id+"_resize' class='w2window_resize'></div>");}_8.push("</div>");return _8.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.setAction=function(){try{this.dom.header=document.getElementById(this.id+"_header");this.dom.statusMsg=document.getElementById(this.id+"_msg");this.dom.resize=document.getElementById(this.id+"_resize");this.dom.body=document.getElementById(this.id+"_body");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(this.options.useMaximize){this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));}this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStartEvent));this.drawFrame(this.options.src);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.drawFrame=function(_e){try{if(this.frame){this.removeControl(this.frame);this.frame.remove();this.frame=null;}this.options.src=_e||"";if(this.options.frameMode=="iframe"){this.frame=new _._a._O(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||""});}else{if(this.options.frameMode=="wframe"){this.frame=new _._a.aI(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||""});}}var _f=this.getElementById(this.id+"_content");this.frame.writeTo(_f);this.frame.activate();this.addControl(this.frame);if(this.options.frameMode=="iframe"){try{if(_._G.isIE()){if(this.frame.render.contentWindow.document){this.frame.event.addListener(this.frame.render.contentWindow.document,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow.document,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}else{if(this.frame.render.contentWindow){this.frame.event.addListener(this.frame.render.contentWindow,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}}catch(e){_.logger.printLog("[window.drawFrame]addListener in iframe exception:"+e.message);}}else{if(this.options.frameMode=="wframe"){}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.resizeForIE6=function(_10,_11,_12){try{if(_._G.isIE(6)){if(!_12){_12="windowContainer";}_10=parseInt(_10,10);_11=parseInt(_11,10);var _13=this.options.useStatusMsg?0:20;if(_12=="windowContainer"){this.setSize(_10-3,_11-2);}this.dom.windowBody=document.getElementById(this.id+"_body");this.dom.windowContent=document.getElementById(this.id+"_content");this.dom.windowStatus=document.getElementById(this.id+"_status");this.dom.header.style.setAttribute("width",(_10-5)+"px");this.dom.windowBody.style.setAttribute("width",(_10-5)+"px");this.dom.windowBody.style.setAttribute("height",(_11-27)+"px");this.dom.windowContent.style.setAttribute("width",(_10-11)+"px");if(_12=="popup"){this.dom.windowContent.style.setAttribute("height",(_11-31+_13)+"px");}else{this.dom.windowContent.style.setAttribute("height",(_11-50+_13)+"px");}if(_12=="popup"){this.frame.setSize(_10-11,_11-31+_13);}else{this.frame.setSize(_10-11,_11-50+_13);}if(this.options.useStatusMsg){this.dom.windowStatus.style.setAttribute("width",(_10-11)+"px");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.resizeParentGroup=function(){try{if(this.parentControl&&this.parentControl.parentControl&&this.parentControl.parentControl.options.pluginName=="windowContainer"){width=_._v.getSize(this.parentControl.parentControl.render,"width");height=_._v.getSize(this.parentControl.parentControl.render,"height")-25;return {"width":width,"height":height};}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.close=function(){try{var _14=this;setTimeout(function(){if(_14.options.closeAction){if(eval(_14.options.closeAction+"('"+_14.options.title+"')")===true){if(_14.options.frameMode=="iframe"){_14.frame.setSrc("about:blank");}var _15={"src":_14.options.src,"title":_14.options.windowTitle};_._F.fireEvent(_14,"onclose",_15);_14.remove();}}else{if(_14.options.frameMode=="iframe"){_14.frame.setSrc("about:blank");}var _15={"src":_14.options.src,"title":_14.options.windowTitle};_._F.fireEvent(_14,"onclose",_15);_14.remove();}},100);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.minimize=function(){try{if(this.windowInfo.minimized==false){this.setStyle("display","none");this.windowInfo.minimized=true;}else{this.setStyle("display","block");this.windowInfo.minimized=false;}_._F.fireEvent(this,"onminimize");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.maximize=function(){try{this.removeClass(this.render,"w2window_restored");this.addClass(this.render,"w2window_maximized");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header w2window_header_extend";var _16="w2window_body w2window_body_extend";if(!this.options.useStatusMsg){_16+=" w2window_no_status";}this.dom.body.className=_16;}this.windowInfo.status="maximized";this.windowInfo.drag=false;this.windowInfo.minimized=false;this.windowInfo.setInfo(this.render);this.render.style.left="0px";this.render.style.top="0px";this.render.style.width="";this.render.style.height="";_._F.fireEvent(this,"onmaximize");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.restore=function(){try{this.removeClass(this.render,"w2window_maximized");this.addClass(this.render,"w2window_restored");if(this.hideTitleOnMaximize){this.dom.header.className="w2window_header";var _17="w2window_body";if(!this.options.useStatusMsg){_17+=" w2window_no_status";}this.dom.body.className=_17;}this.windowInfo.status="restored";this.windowInfo.drag=true;this.windowInfo.minimized=false;this.windowInfo.getInfo(this.render);_._F.fireEvent(this,"onrestore");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.toggleResize=function(){try{if(this.windowInfo.status=="restored"){this.maximize();}else{this.restore();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.setStatusMsg=function(msg){try{if(this.options.useStatusMsg){this.dom.statusMsg.innerHTML=msg;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.setSrc=function(url){try{if(this.frame!=null){if(this.options.frameMode=="iframe"){this.drawFrame(url);}else{if(this.options.frameMode=="wframe"){this.frame.setSrc(url);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.movable=function(_1a){try{_1a=_._G.getBoolean(_1a);this.windowInfo.drag=_1a;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.showModal=function(){try{_._F.fireEvent(this,"ondragstart");if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";if(_._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}this.render.appendChild(this.modal);_._v.setOpacity(this.modal,0.3);}if(this.modal){this.modal.style.display="block";if(_._G.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.hideModal=function(){try{_._F.fireEvent(this,"ondragend");if(this.modal){this.modal.style.display="none";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.setFocus=function(){try{if(this.options.frameMode=="iframe"){if(this.frame.render.contentWindow){this.frame.render.contentWindow.focus();}}else{if(this.options.frameMode=="wframe"){}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.getMaxSize=function(){var _1b;var _1c;if(this.parentControl){_1b=_._v.getSize(this.parentControl.render,"width");_1c=_._v.getSize(this.parentControl.render,"height");}else{_1b=this.options.width;_1c=this.options.height;}if(this.render){var _1d=parseInt(_._G.getStyleProperty(this.render,"border-left-width"),10)||0;var _1e=parseInt(_._G.getStyleProperty(this.render,"border-right-width"),10)||0;var _1f=parseInt(_._G.getStyleProperty(this.render,"padding-left"),10)||0;var _20=parseInt(_._G.getStyleProperty(this.render,"padding-right"),10)||0;_1b=_1b-_1d-_1e-_1f-_20;var _21=parseInt(_._G.getStyleProperty(this.render,"border-top-width"),10)||0;var _22=parseInt(_._G.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _23=parseInt(_._G.getStyleProperty(this.render,"padding-top"),10)||0;var _24=parseInt(_._G.getStyleProperty(this.render,"padding-bottom"),10)||0;_1c=_1c-_21-_22-_23-_24;}return {"width":_1b,"height":_1c};};_._a._E.prototype.getElementSize=function(_25){var _26;var _27;if(!_25){_25=this.render;}if(_25){_26=_25.offsetWidth;_27=_25.offsetHeight;var _28=parseInt(_._G.getStyleProperty(_25,"border-left-width"),10)||0;var _29=parseInt(_._G.getStyleProperty(_25,"border-right-width"),10)||0;var _2a=parseInt(_._G.getStyleProperty(_25,"padding-left"),10)||0;var _2b=parseInt(_._G.getStyleProperty(_25,"padding-right"),10)||0;_26=_26-_28-_29-_2a-_2b;var _2c=parseInt(_._G.getStyleProperty(_25,"border-top-width"),10)||0;var _2d=parseInt(_._G.getStyleProperty(_25,"border-bottom-width"),10)||0;var _2e=parseInt(_._G.getStyleProperty(_25,"padding-top"),10)||0;var _2f=parseInt(_._G.getStyleProperty(_25,"padding-bottom"),10)||0;_27=_27-_2c-_2d-_2e-_2f;}return {"width":_26,"height":_27};};_._a._E.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2window_close")){this.close();}if(it.match("w2window_minimize")){_._F.stopEvent(e);this.minimize();}if(it.match("w2window_restore")){this.toggleResize();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleFrameMouseDownEvent=function(e){try{_._F.fireEvent(this,"onwindowmousedown",e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleDblclickEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){this.toggleResize();}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.addClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.addClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.addClass(it.getElement(),"w2window_close_on");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.removeClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.removeClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.removeClass(it.getElement(),"w2window_close_on");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleMousedownEvent=function(e){try{_._F.stopEvent(e);this.resizeParentGroup();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){if(this.windowInfo.drag==true){var _3b=_._F.getTarget(e);if(!_3b||_3b.id==this.id+"_minimize"||_3b.id==this.id+"_restore"||_3b.id==this.id+"_close"){return;}var _3c=this;_._A.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:5,mode:"move",makeGhostLayer:function(_3d){var _3e=_._v.getAbsoluteLeft(_3c.render);var top=_._v.getAbsoluteTop(_3c.render);var _40=_3c.getElementSize(_3c.render);var _41=_40.width;var _42=_40.height;var _43=parseInt(_._G.getStyleProperty(_3d.render,"border-left-width"),10)||0;var _44=parseInt(_._G.getStyleProperty(_3d.render,"border-right-width"),10)||0;var _45=parseInt(_._G.getStyleProperty(_3d.render,"border-top-width"),10)||0;var _46=parseInt(_._G.getStyleProperty(_3d.render,"border-bottom-width"),10)||0;_41=_41-_43-_44;_42=_42-_45-_46;_3d.show();_3d.setSize(_41,_42);_3d.setPosition(_3e,top);_3d.hide();return _3d;},handleStart:function(){_3c.showModal.call(_3c);},handleFinish:function(x,y,dx,dy){_3c.hideModal.call(_3c);var _4b=_3c.render.offsetLeft;var top=_3c.render.offsetTop;var _4d=_3c.render.clientWidth;var _4e=_3c.render.clientHeight;var _4f=_3c.getMaxSize();var _50=_4f.width;var _51=_4f.height;var _52=_4b+dx;var _53=top+dy;if(_4b+dx<0){_52=0;}if(_4b+_4d+dx>_50){if(_4d<=_50){_52=_50-_4d;}else{_52=0;}}if(top+dy<0){_53=0;}if(top+_4e+dy>_51){if(_4e<=_51){_53=_51-_4e;}else{_53=0;}}_3c.setPosition(_52,_53);}});}}if(it.match("w2window_resize")){if(this.windowInfo.drag==true){var _3c=this;_._A.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_54){var _55=_._v.getAbsoluteLeft(_3c.render);var top=_._v.getAbsoluteTop(_3c.render);var _57=_3c.getElementSize(_3c.render);var _58=_57.width;var _59=_57.height;var _5a=parseInt(_._G.getStyleProperty(_54.render,"border-left-width"),10)||0;var _5b=parseInt(_._G.getStyleProperty(_54.render,"border-right-width"),10)||0;var _5c=parseInt(_._G.getStyleProperty(_54.render,"border-top-width"),10)||0;var _5d=parseInt(_._G.getStyleProperty(_54.render,"border-bottom-width"),10)||0;_58=_58-_5a-_5b;_59=_59-_5c-_5d;_54.setSize(_58,_59);_54.setPosition(_55,top);return _54;},handleStart:function(){_3c.showModal.call(_3c);},handleFinish:function(x,y,dx,dy,e){_3c.hideModal.call(_3c);var _63=parseInt(_3c.getStyle("width"),10);var _64=parseInt(_3c.getStyle("height"),10);var _65=_63+dx;var _66=_64+dy;if(_65<parseInt(_3c.windowInfo.minWidth,10)){_65=parseInt(_3c.windowInfo.minWidth,10);}if(_66<parseInt(_3c.windowInfo.minHeight,10)){_66=parseInt(_3c.windowInfo.minHeight,10);}var _67=_3c.getMaxSize();var _68=_67.width-_3c.render.offsetLeft;var _69=_67.height-_3c.render.offsetTop;var _6a=_3c.render.clientWidth+dx;var _6b=_3c.render.clientHeight+dy;if(_68<_6a){_65=_68;}if(_69<_6b){_66=_69;}_3c.setSize(_65,_66);}});}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleMouseupEvent=function(e){try{_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleFrameKeyupEvent=function(e){try{_._F.fireEvent(this,"onwindowkeyup",e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._E.prototype.handleSelectStartEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")||it.match("w2window_status")){_._F.preventDefault(e);}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.window=_._a._E;requires("uiplugin.window");requires("uiplugin.group");_._a.ay=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ay.prototype,_._q.prototype);_._a.ay.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.windowContainer",pluginName:"windowContainer",userEvents:["onCloseWindow","onwindowkeyup","onwindowchange","onbeforecloseall","onverticalarrange","onhorizontalarrange","oncascadearrange","onsequentialarrange","onselectedmaximize","onselectedrestore"],useConfirmMessage:true,confirmTrueAction:"existWindow",confirmFalseAction:"newWindow",windowMaxNum:5,confirmMessage:"#title \ud654\uba74\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",lineBreakNum:4,useNameScroll:false,useCloseButton:false,useFixButton:false,fixArrangeFullScreen:false,verticalArrangeNum:2,horizontalArrangeNum:2,sequentialArrangeRowNum:2,sequentialArrangeColNum:2,windowAutoResize:false,toolbarPosition:"bottom",windowMaximizeAll:false,stopMinimizeOnNameLayer:false,defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",hideTitleOnMaximize:false,tooltipDisplay:true,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,tooltipGroupClass:true,windowTooltipDisplay:true,confirmMessageLocaleRef:"",wmode:false,selectedIndex:-1,useStatusMsg:true,statusMsg:"",nameScrollMode:"",useControlIconTitle:false};_._a.ay.prototype.initialize=function(_4){try{this.windows=[];this.fixedWindowArr=[];this.beforeWindow=null;this.nowWindow=null;this.selectedWindowHistory=[];this.selectedIndex=-1;this.windowIdx=0;this.maxZIndex=0;this.currentWindowNum=0;this.tooltip=null;this.timeShowTooltip=null;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}var _5="w2windowContainer_window";if(this.options.toolbarPosition=="top"){_5+="_top";}var _6=new _._a._z(this.id+"_window",{className:_5,style:"background-color : transparent"});this.addControl(_6);this.options=_.cssManager.styleToClass(this.id,this.options);if(_4&&_4.getAttribute("statusMsg")=="$blank"){this.defaultStatusMsg="";}else{this.defaultStatusMsg=this.options.statusMsg||_._z.getMessage("Window_statusMsg");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.toHTML=function(){try{var _7=(this.options.disabled=="")?"":"disabled='true'";var _8=(this.options.disabled="")?"":"style='color:#848684'";var _9=[];var _a={vertical:"",horizontal:"",cascade:"",sequential:"",closeAll:"",maximize:""};var _b=(!this.options.style)?"":"style='"+this.options.style+"'";var _c=(!this.options.tabIndex)?"":"tabIndex='"+this.options.tabIndex+"'";if(this.options.useControlIconTitle){function makeTitle(_d){return " title='"+_d+"'";}_a.maximize=makeTitle(_._z.getMessage("WindowContainer_controlIcon_maximize"));_a.vertical=makeTitle(_._z.getMessage("WindowContainer_controlIcon_vertical"));_a.horizontal=makeTitle(_._z.getMessage("WindowContainer_controlIcon_horizontal"));_a.cascade=makeTitle(_._z.getMessage("WindowContainer_controlIcon_cascade"));_a.sequential=makeTitle(_._z.getMessage("WindowContainer_controlIcon_sequential"));_a.closeAll=makeTitle(_._z.getMessage("WindowContainer_controlIcon_closeAll"));}var _e="w2windowContainer_windowToolbar";if(this.options.toolbarPosition=="top"){_e+="_top";}var _f="w2windowContainer_controlIconLayer";var _10="w2windowContainer_scrollLeftBtn";if(this.options.hideTitleOnMaximize){_f+=" w2windowContainer_controlIconLayer_extend";_10+=" w2windowContainer_scrollLeftBtn_extend";}_9.push("<div id='"+this.id+"' "+_b+" class='w2windowContainer "+this.options.className+"' "+_c+">");_9.push(this.getChild(this.id+"_window").toHTML());_9.push("<div id='"+this.id+"_toolbar' class='"+_e+"'>");_9.push("<div id='"+this.id+"_controlIcon' class='"+_f+"'>");_9.push("<span id='"+this.id+"_vertical' class='w2windowContainer_controlIcon_vertical'"+_a.vertical+"></span>");_9.push("<span id='"+this.id+"_horizontal' class='w2windowContainer_controlIcon_horizontal'"+_a.horizontal+"></span>");_9.push("<span id='"+this.id+"_cascade' class='w2windowContainer_controlIcon_cascade'"+_a.cascade+"></span>");_9.push("<span id='"+this.id+"_sequential' class='w2windowContainer_controlIcon_sequential'"+_a.sequential+"></span>");_9.push("<span id='"+this.id+"_closeAll' class='w2windowContainer_controlIcon_closeAll'"+_a.closeAll+"></span>");if(this.options.hideTitleOnMaximize){_9.push("<span id='"+this.id+"_maximize' class='w2windowContainer_controlIcon_maximize'"+_a.maximize+"></span>");}_9.push("</div>");_9.push("<div id='"+this.id+"_left' style='display:none;' class='"+_10+"'></div>");_9.push("<div id='"+this.id+"_name' class='w2windowContainer_name'></div>");_9.push("<div id='"+this.id+"_right' style='display:none;' class='w2windowContainer_scrollRightBtn'></div>");_9.push("</div>");_9.push("</div>");return _9.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setAction=function(){try{this.dom.toolBar=this.getElementById(this.id+"_toolbar");this.dom.nameBar=this.getElementById(this.id+"_name");this.dom.window=this.getElementById(this.id+"_window");this.dom.control=this.getElementById(this.id+"_controlIcon");this.dom.leftScrollBtn=this.getElementById(this.id+"_left");this.dom.rightScrollBtn=this.getElementById(this.id+"_right");this.dom.iconVertical=this.getElementById(this.id+"_vertical");this.dom.iconHorizontal=this.getElementById(this.id+"_horizontal");this.dom.iconCascade=this.getElementById(this.id+"_cascade");this.dom.iconSequential=this.getElementById(this.id+"_sequential");this.dom.iconCloseAll=this.getElementById(this.id+"_closeAll");if(this.options.hideTitleOnMaximize){this.dom.iconMaximize=this.getElementById(this.id+"_maximize");}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));this.checkResize();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.createWindow=function(_11,_12,src,_14,_15,_16,_17,_18){try{var _14=_14||_11;var _15=_15||_11;var _19=null;for(var i=0;i<this.windows.length;i++){var _1b=this.windows[i];if(_15==_1b.windowId){_19=_1b;}}if(_19!=null){if(_16!=null&&_16!=""){this.performAction(_16,_19,_11,_12,src,_14,_15,_18);}else{var _1c=this.options.confirmMessage;while(_1c.indexOf("#title")!=-1){_1c=_1c.replace("#title",_11);}var _1d=true;if(this.options.useConfirmMessage==true){_1d=confirm(_1c);}if(_1d){this.performAction(this.options.confirmTrueAction,_19,_11,_12,src,_14,_15,_18);}else{this.performAction(this.options.confirmFalseAction,_19,_11,_12,src,_14,_15,_18);}}}else{this._createWindow(_11,_12,src,_14,_15,_17,_18);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.performAction=function(_1e,_1f,_20,_21,src,_23,_24,_25){try{if(_1e=="selectWindow"){this.selectNameLayer(_1f.id);}else{if(_1e=="existWindow"){if(_1f.isFix){_1f.isFix=false;for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_1f.id){this.fixedWindowArr.splice(i,1);break;}}}this.selectNameLayer(_1f.id);_1f.window.setStatusMsg(this.defaultStatusMsg);_1f.window.setSrc(src);var _25=_25||_23;this.setWindowLabel(_24,"toolbar",_20);this.setWindowLabel(_24,"window",_23);this.setWindowLabel(_24,"tooltip",_25);}else{if(_1e=="newWindow"){this._createWindow(_20,_21,src,_23,_24,_25);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype._createWindow=function(_27,_28,src,_2a,_2b,_2c,_2d){try{if(this.currentWindowNum>this.options.windowMaxNum-1){alert(_._z.getMessage("WindowContainer_maxNum_warning",this.options.windowMaxNum));return;}var _2e=this.id+"_subWindow"+(this.windowIdx++);var _2f=new _._a._E(_2e,{windowTitle:_2a,src:src,useStatusMsg:this.options.useStatusMsg,statusMsg:(this.defaultStatusMsg=="")?"":this.defaultStatusMsg,defaultTop:this.options.defaultTop,defaultLeft:this.options.defaultLeft,defaultWidth:this.options.defaultWidth,defaultHeight:this.options.defaultHeight,minimumWidth:this.options.minimumWidth,minimumHeight:this.options.minimumHeight,frameMode:this.options.frameMode,wmode:this.options.wmode,width:(this.render.offsetWidth),height:(this.render.offsetHeight-25),closeAction:_2c,title:_27,parent:this,windowTooltipDisplay:this.options.windowTooltipDisplay});var _30=this;_2f.options.xmlEvents=[{name:"onclose",action:"script",param:{handler:function(e){try{_._F.fireEvent(_30,"onCloseWindow",e);_30.removeNameLayer(this.id);for(var i=0;i<_30.fixedWindowArr.length;i++){if(_30.fixedWindowArr[i].id==this.id){_30.fixedWindowArr.splice(i,1);break;}}_30.createNameLayer();_30.selectWindow();var _33=_30.nowWindow?_30.getWinInfoObj(_30.nowWindow).windowId:null;_._F.fireEvent(_30,"onwindowchange",_30.closedWindowId,_33);_30.setFocus(_30.getSelectedIndex());}catch(ee){_.exception.printStackTrace(ee,null,_30);}}}},{name:"onwindowkeyup",action:"script",param:{handler:function(e){try{_._F.fireEvent(_30,"onwindowkeyup",e);}catch(ee){_.exception.printStackTrace(ee,null,_30);}}}},{name:"onwindowmousedown",action:"script",param:{handler:function(e){try{_30.selectNameLayer(this.id);}catch(ee){_.exception.printStackTrace(ee,null,_30);}}}},{name:"onminimize",action:"script",param:{handler:function(e){_30._onminimize(this.id);}}},{name:"onmaximize",action:"script",param:{handler:function(e){_30._onmaximize(this.id);}}},{name:"ondragstart",action:"script",param:{handler:function(e){_30.selectNameLayer(this.id);_30.handleDragStartEvent();}}},{name:"ondragend",action:"script",param:{handler:function(e){_30.handleDragEndEvent();}}}];_2f.writeTo(this.getChild(this.id+"_window"));_2f.activate();this.currentWindowNum++;var _3a={};_3a.id=_2e;_3a.windowId=_2b;_3a.windowTitle=_2a;_3a.title=_27;_3a.window=_2f;_3a.tooltip=_2d||_2a;_3a.isFix=false;this.windows.push(_3a);this.createNameLayer();this.beforeWindow=this.nowWindow;this.nowWindow=_2e;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _3b=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _3c=this.getWinInfoObj(this.nowWindow).windowId;_._F.fireEvent(this,"onwindowchange",_3b,_3c);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setWindowLabel=function(_3d,_3e,_3f){try{if(!_3d||!_3e||!_3f){return;}var _40;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_3d){_40=this.windows[i];break;}}if(!_40){return;}_3e=_3e.toLowerCase();var _42=_3e==="all";if(_3e==="window"||_42){_40.windowTitle=_3f;_40.window.options.windowTitle=_3f;if(this.options.windowTooltipDisplay){var _43=_40.window.getElementById(_40.id);_43.setAttribute("title",_3f);}var _44=_40.window.getElementById(_40.id+"_header_title");_44.innerHTML=_3f;}if(_3e==="tooltip"||_42){_40.tooltip=_3f;}if(_3e==="toolbar"||_42){var _45=document.getElementById(this.id+"_nameLayer_"+_40.id);_45.setAttribute("windowTitle",_3f);_40.title=_3f;if(this.options.useFixButton){var _46="w2windowContainer_nameLayer_fixOff";if(_40.isFix){_46+=" w2windowContainer_nameLayer_fixOn";}_3f="<div class='"+_46+"' refId='"+_40.id+"'></div>"+_3f;}if(this.options.useCloseButton){_3f+="<div class='w2windowContainer_nameLayer_close' refId='"+_40.id+"'></div>";}_45.innerHTML=_3f;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.getWindowLabel=function(_47,_48){try{if(!_47||!_48){return;}var _49;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_47){_49=this.windows[i];break;}}if(!_49){return;}_48=_48.toLowerCase();if(_48==="toolbar"){return _49.title;}else{if(_48==="window"){return _49.windowTitle;}else{if(_48==="tooltip"){return _49.tooltip;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.createNameLayer=function(){try{var _4b=[];this.dom.nameBar.innerHTML="";var _4c="w2windowContainer_nameLayer";if(this.options.useFixButton){_4c+=" w2windowContainer_nameLayer_fix";}for(var i=0;i<this.windows.length;i++){var _4e=this.windows[i];_4b.push("<div id='"+this.id+"_nameLayer_"+_4e.id+"' class='"+_4c+"' refId='"+_4e.id+"' windowTitle='"+_4e.title+"'>");if(this.options.useFixButton){var _4f="w2windowContainer_nameLayer_fixOff";if(_4e.isFix){_4f+=" w2windowContainer_nameLayer_fixOn";}_4b.push("<div class='"+_4f+"' refId='"+_4e.id+"'>");_4b.push("</div>");}_4b.push(_4e.title);if(this.options.useCloseButton){_4b.push("<div class='w2windowContainer_nameLayer_close' refId='"+_4e.id+"'>");_4b.push("</div>");}_4b.push("</div>");}this.dom.nameBar.innerHTML=_4b.join("");if(this.windows.length>0){this.dom.nameBar.style.width=(this.dom.nameBar.firstChild.offsetWidth*this.windows.length)+"px";}else{this.dom.nameBar.style.width="0px";}if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.display="";this.dom.leftScrollBtn.style.display="";}else{this.options.useNameScroll=false;this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.useNameScroll==true){this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.removeNameLayer=function(id){try{this.closedWindowId=this.getWinInfoObj(id).windowId;for(var i=0;i<this.windows.length;i++){var _52=this.windows[i];if(_52.id==id){this.windows.splice(i,1);}}this.addHistory(id);this.closedWindow=this.selectedWindowHistory.pop();this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-2]||null;this.nowWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1]||null;this.currentWindowNum--;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.clickNameLayer=function(_53,_54){try{var _55=_53;var _54=_._G.getBoolean(_54);if(this.nowWindow==_55){if(_54==true){return;}this.minimizeWindow(_55);}else{this.beforeWindow=this.nowWindow;this.nowWindow=_55;this.selectWindow();var _56=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _57=this.getWinInfoObj(this.nowWindow).windowId;_._F.fireEvent(this,"onwindowchange",_56,_57);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.getWinInfoObj=function(_58){try{for(var i=0;i<this.windows.length;i++){if(this.windows[i].id==_58){return this.windows[i];}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.minimizeWindow=function(_5a){try{var _5b=this.getWinInfoObj(_5a);_5b.window.minimize();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype._onminimize=function(_5c){try{var _5d=_5c;this.prevWindow=this.nowWindow;if(this.nowWindow==_5d){this.minimizedWindow=this.selectedWindowHistory.pop();this.nowWindow=this.selectedWindowHistory.pop()||null;this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1];}this.selectWindow();if(this.prevWindow==_5d){var _5e=this.getWinInfoObj(this.minimizedWindow).windowId;var _5f=this.nowWindow?this.getWinInfoObj(this.nowWindow).windowId:null;_._F.fireEvent(this,"onwindowchange",_5e,_5f);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.maximizeWindow=function(_60){try{var _61=this.getWinInfoObj(_60);_61.window.maximize();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype._onmaximize=function(_62){try{var _63=_62;this.prevWindow=this.nowWindow;if(this.prevWindow!=_63){this.nowWindow=_63;this.selectWindow();var _64=this.getWinInfoObj(this.prevWindow).windowId;var _65=this.getWinInfoObj(_63).windowId;_._F.fireEvent(this,"onwindowchange",_64,_65);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.selectWindow=function(){try{for(var i=0;i<this.windows.length;i++){var _67=this.windows[i].id;var _68=document.getElementById(this.id+"_nameLayer_"+_67);this.removeClass(_68,"w2windowContainer_selectedNameLayer");}if(this.nowWindow!=null){var _69=this.getWinInfoObj(this.nowWindow);_69.window.windowInfo.minimized=false;_69.window.setStyle("display","block");this.increaseZIndex(_69.window);var _68=document.getElementById(this.id+"_nameLayer_"+this.nowWindow);this.addClass(_68,"w2windowContainer_selectedNameLayer");if(this.options.nameScrollMode=="hide"){var _6a=0;var _6b=this.dom.nameBar.offsetWidth;var _6c=this.selectedIndex;this.addHistory(this.nowWindow);this.refreshSelectedIndex();if(_6c>this.selectedIndex){for(var i=_6c;i>=0;i--){var _6d=this.windows[i].id;var _6e=document.getElementById(this.id+"_nameLayer_"+_6d);if(_6e.style.display!="block"){_6e.style.display="block";}}}for(var i=this.selectedIndex;i>=0;i--){var _6d=this.windows[i].id;var _6e=document.getElementById(this.id+"_nameLayer_"+_6d);if(_6e.style.display!="none"){var _6f=_._v.getStyle(_6e,"margin-left");_6f=_6f==="auto"?"0":_6f;var _70=_._v.getStyle(_6e,"margin-right");_70=_70==="auto"?"0":_70;var _71=_6e.offsetWidth+parseInt(_6f,10)+parseInt(_70,10);if(_6a+_71>=_6b){_6e.style.display="none";}else{_6a+=_71;}}}}else{if(this.options.useNameScroll){var _72=this.dom.leftScrollBtn.offsetLeft+this.dom.leftScrollBtn.offsetWidth;var _73=this.dom.rightScrollBtn.offsetLeft;var _74=parseInt(this.dom.nameBar.style.left)+_68.offsetLeft;var _75=parseInt(this.dom.nameBar.style.left)+_68.offsetLeft+_68.offsetWidth;if(_74>_73||_75>_73){this.dom.nameBar.style.left=(parseInt(this.dom.nameBar.style.left)-(_75-_73))+"px";}else{if(_74<_72||_75<_72){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth-_68.offsetLeft)+"px";}}this.addHistory(this.nowWindow);this.refreshSelectedIndex();}else{this.addHistory(this.nowWindow);this.refreshSelectedIndex();}}}else{this.selectedIndex=-1;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.addHistory=function(_76){try{var idx=null;for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_76){idx=i;}}if(idx!=null){this.selectedWindowHistory.splice(idx,1);}this.selectedWindowHistory.push(_76);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.increaseZIndex=function(_79){try{this.maxZIndex+=2;_79.setStyle("zIndex",this.maxZIndex);this.dom.toolBar.style.zIndex=this.maxZIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.selectNameLayer=function(_7a){try{for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_7a){this.prevWindow=this.nowWindow;var _7c=_7a;if(_7c!=this.nowWindow){this.beforeWindow=this.nowWindow;this.nowWindow=_7c;}this.selectWindow();if(this.prevWindow!=_7c){var _7d=this.getWinInfoObj(this.prevWindow).windowId;var _7e=this.getWinInfoObj(_7c).windowId;_._F.fireEvent(this,"onwindowchange",_7d,_7e);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doVerticalArrange=function(){try{var _7f=0;var _80=2;var _81=[];for(var i=0;i<this.windows.length;i++){var _83=this.windows[i];if(_83.window.windowInfo.minimized==false){_81.push(_83);}}var _84=_81.length;if(_84<this.options.lineBreakNum){_80=1;_7f=_84;}else{_80=2;_7f=Math.ceil(_84/_80);}var _85="";var x=0;var y=0;var _88;var _89;for(var i=0;i<_84;i++){var _8a=_81[i];var _8b=_8a.window;var _8c=_8b.resizeParentGroup();_88=parseInt(_8c.width/_7f,10);_89=parseInt(_8c.height/_80,10);_8b.restore();_8b.setSize(_88,_89);_8b.setPosition(x*_88,y*_89);x++;if(x==_7f){x=0;y++;}_85=_8a.id;}this.selectNameLayer(_85);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doVerticalFixArrange=function(){try{var _8d=this;var _8e=function(_8f){_8d.prevWindow=_8d.nowWindow;var _90=_8f;if(_90!=_8d.nowWindow){_8d.beforeWindow=_8d.nowWindow;_8d.nowWindow=_90;}_8d.selectWindow();};var _91={};for(var i=0;i<this.windows.length;i++){var _93=this.windows[i];if(!_93.isFix){if(_93.window.windowInfo.minimized){_8e(_93.id);}else{_91[_93.id]=_93;}}}var _94=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _95=_94[i];if(typeof _91[_95]!="undefined"){_8e(_91[_95].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _93=this.fixedWindowArr[i];_8e(_93.id);}var _96=1;var _97=this.options.verticalArrangeNum;var _98=this.windows.length;if(this.options.fixArrangeFullScreen){_97=_97>_98?_98:_97;}var x=0;var y=0;var _9b=0;var _9c=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _93=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _9d=_93.window;var _9e=_9d.resizeParentGroup();_9b=parseInt(_9e.width/_97,10);_9c=parseInt(_9e.height/_96,10);_9d.restore();_9d.setSize(_9b,_9c);_9d.setPosition(x*_9b,y*_9c);x++;if(x==_97){x=0;}}this.selectNameLayer(this.selectedWindowHistory[_98-1]);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doHorizontalArrange=function(){try{var _9f=2;var _a0=0;var _a1=[];for(var i=0;i<this.windows.length;i++){var _a3=this.windows[i];if(_a3.window.windowInfo.minimized==false){_a1.push(_a3);}}var _a4=_a1.length;if(_a4<this.options.lineBreakNum){_a0=_a4;_9f=1;}else{_a0=Math.ceil(_a4/_9f);_9f=2;}var _a5="";var x=0;var y=0;var _a8;var _a9;for(var i=0;i<_a4;i++){var _aa=_a1[i];var _ab=_aa.window;var _ac=_ab.resizeParentGroup();_a8=parseInt(_ac.width/_9f,10);_a9=parseInt(_ac.height/_a0,10);_ab.restore();_ab.setSize(_a8,_a9);_ab.setPosition(x*_a8,y*_a9);x++;if(x==_9f){x=0;y++;}_a5=_aa.id;}this.selectNameLayer(_a5);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doHorizontalFixArrange=function(){try{var _ad=this;var _ae=function(_af){_ad.prevWindow=_ad.nowWindow;var _b0=_af;if(_b0!=_ad.nowWindow){_ad.beforeWindow=_ad.nowWindow;_ad.nowWindow=_b0;}_ad.selectWindow();};var _b1={};for(var i=0;i<this.windows.length;i++){var _b3=this.windows[i];if(!_b3.isFix){if(_b3.window.windowInfo.minimized){_ae(_b3.id);}else{_b1[_b3.id]=_b3;}}}var _b4=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _b5=_b4[i];if(typeof _b1[_b5]!="undefined"){_ae(_b1[_b5].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _b3=this.fixedWindowArr[i];_ae(_b3.id);}var _b6=this.options.horizontalArrangeNum;var _b7=1;var _b8=this.windows.length;if(this.options.fixArrangeFullScreen){_b6=_b6>_b8?_b8:_b6;}var x=0;var y=0;var _bb=0;var _bc=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _b3=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _bd=_b3.window;var _be=_bd.resizeParentGroup();_bb=parseInt(_be.width/_b7,10);_bc=parseInt(_be.height/_b6,10);_bd.restore();_bd.setSize(_bb,_bc);_bd.setPosition(x*_bb,y*_bc);y++;if(y==_b6){y=0;}}this.selectNameLayer(this.selectedWindowHistory[_b8-1]);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doCascadeArrange=function(){try{var _bf;var _c0;var _c1="";var _c2=[];for(var i=0;i<this.windows.length;i++){var _c4=this.windows[i];if(_c4.window.windowInfo.minimized==false){_c2.push(_c4);}}var _c5=_c2.length;for(var i=0;i<_c5;i++){var _c6=_c2[i];var _c7=_c6.window;if(i==0){var _c8=_c7.resizeParentGroup();_bf=parseInt(_c8.width-200,10);_c0=parseInt(_c8.height-200,10);}_c7.restore();_c7.setSize(_bf,_c0);_c7.setPosition((i%10)*20,(i%10)*20);_c1=_c6.id;}this.selectNameLayer(_c1);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doCascadeFixArrange=function(){try{var _c9=this;var _ca=function(_cb){_c9.prevWindow=_c9.nowWindow;var _cc=_cb;if(_cc!=_c9.nowWindow){_c9.beforeWindow=_c9.nowWindow;_c9.nowWindow=_cc;}_c9.selectWindow();};var _cd={};for(var i=0;i<this.windows.length;i++){var _cf=this.windows[i];if(!_cf.isFix){if(_cf.window.windowInfo.minimized){_ca(_cf.id);}else{_cd[_cf.id]=_cf;}}}var _d0=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _d1=_d0[i];if(typeof _cd[_d1]!="undefined"){_ca(_cd[_d1].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _cf=this.fixedWindowArr[i];_ca(_cf.id);}var _d2=this.windows.length;var _d3=0;var _d4=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _cf=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _d5=_cf.window;if(i==this.selectedWindowHistory.length){var _d6=_d5.resizeParentGroup();_d3=parseInt(_d6.width-200,10);_d4=parseInt(_d6.height-200,10);}_d5.restore();_d5.setSize(_d3,_d4);_d5.setPosition(((i-1)%10)*20,((i-1)%10)*20);}this.selectNameLayer(this.selectedWindowHistory[_d2-1]);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doSequentialArrange=function(){try{var _d7=1;var _d8=1;var _d9=true;var _da=[];for(var i=0;i<this.windows.length;i++){var _dc=this.windows[i];if(_dc.window.windowInfo.minimized==false){_da.push(_dc);}}var _dd=_da.length;while(_d9){if(_d7*_d8<_dd){if(_d7==_d8){_d7++;}else{_d8++;}}else{_d9=false;}}var _de;var _df;var _e0="";var x=0;var y=0;for(var i=0;i<_dd;i++){var _e3=_da[i];var _e4=_e3.window;if(i==0){var _e5=_e4.resizeParentGroup();_de=parseInt(_e5.width/_d7,10);_df=parseInt(_e5.height/_d8,10);}_e4.restore();_e4.setSize(_de,_df);_e4.setPosition(x*_de,y*_df);x++;if(x==_d7){x=0;y++;}_e0=_e3.id;}this.selectNameLayer(_e0);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doSequentialFixArrange=function(){try{var _e6=this;var _e7=function(_e8){_e6.prevWindow=_e6.nowWindow;var _e9=_e8;if(_e9!=_e6.nowWindow){_e6.beforeWindow=_e6.nowWindow;_e6.nowWindow=_e9;}_e6.selectWindow();};var _ea={};for(var i=0;i<this.windows.length;i++){var _ec=this.windows[i];if(!_ec.isFix){if(_ec.window.windowInfo.minimized){_e7(_ec.id);}else{_ea[_ec.id]=_ec;}}}var _ed=this.selectedWindowHistory.slice();for(var i=0;i<this.selectedWindowHistory.length;i++){var _ee=_ed[i];if(typeof _ea[_ee]!="undefined"){_e7(_ea[_ee].id);}}for(var i=0;i<this.fixedWindowArr.length;i++){var _ec=this.fixedWindowArr[i];_e7(_ec.id);}var _ef=this.options.sequentialArrangeRowNum;var _f0=this.options.sequentialArrangeColNum;var _f1=this.windows.length;if(this.options.fixArrangeFullScreen){_f0=_f0>_f1?_f1:_f0;_ef=_f0>_f1?1:_ef;}var x=0;var y=0;var _f4=0;var _f5=0;for(var i=this.selectedWindowHistory.length;i>0;i--){var _ec=this.getWinInfoObj(this.selectedWindowHistory[i-1]);var _f6=_ec.window;var _f7=_f6.resizeParentGroup();_f4=parseInt(_f7.width/_f0,10);_f5=parseInt(_f7.height/_ef,10);_f6.restore();_f6.setSize(_f4,_f5);_f6.setPosition(x*_f4,y*_f5);x++;if(x==_f0){x=0;y++;if(y==_ef){y=0;}}}this.selectNameLayer(this.selectedWindowHistory[_f1-1]);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.doCloseAll=function(){var ret=_._F.fireEvent(this,"onbeforecloseall");if(ret!==false){for(var i=this.windows.length-1;i>=0;i--){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}this.selectedIndex=-1;}};_._a.ay.prototype.doMaximizeAll=function(){var _fa=[];for(var i=0;i<this.selectedWindowHistory.length;i++){for(var n=0;n<this.selectedWindowHistory.length;n++){if(this.selectedWindowHistory[i]==this.windows[n].id){_fa.push(this.windows[n]);break;}}}for(var i=0;i<_fa.length;i++){_fa[i].window.maximize();}};_._a.ay.prototype.isExistWindow=function(_fd){try{for(var i=0;i<this.windows.length;i++){var _ff=this.windows[i];if(_fd==_ff.title){return true;}}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setSize=function(_100,_101){try{if(parseInt(_100)<450){_100=450;}if(parseInt(_101)<150){_101=150;}var _102=this.getSize("width");var _103=this.getSize("height");var _104=_100/_102;var _105=_101/_103;this.setStyle("width",_100+"px");this.setStyle("height",_101+"px");for(var i=0;i<this.windows.length;i++){var _107=this.windows[i];_107.window.resizeParentGroup();if(this.options.windowAutoResize&&_107.window.windowInfo.status!="maximized"){var _108=_107.window;var _109=_108.getSize("width");var _10a=_108.getSize("height");var _10b=parseInt(_108.getStyle("left"),10);var _10c=parseInt(_108.getStyle("top"),10);var _10d=Math.ceil(_109*_104);var _10e=Math.ceil(_10a*_105);var _10f=Math.ceil(_10b*_104);var _110=Math.ceil(_10c*_105);_107.window.setSize(_10d,_10e);_107.window.setStyle("left",_10f+"px");_107.window.setStyle("top",_110+"px");}if(this.options.useNameScroll){this.dom.rightScrollBtn.style.left=parseInt(this.render.offsetWidth)-20+"px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.checkResize=function(){try{var _111=this.render?this.render.offsetWidth:null;if(this.bWidth!=null&&_111!=this.bWidth){this.nameLayerResize();}this.bWidth=_111;_._h.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.nameLayerResize=function(e){try{if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}else{this.options.useNameScroll=false;this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.nameScrollMode=="hide"){for(var i=0;i<this.windows.length;i++){var _114=this.windows[i].id;var _115=document.getElementById(this.id+"_nameLayer_"+_114);if(_115.style.display=="none"){_115.style.display="block";}}}this.selectWindow();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.showTooltip=function(_116,_117){try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new _._a._z(this.id+"_tooltip",{className:"w2windowContainer_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(_.getBody());this.tooltip.activate();if(!this.options.tooltipGroupClass){this.tooltip.removeClass("w2group");}}if(this.tooltip.render.style.display!="block"){this.tooltip.setStyle("display","block");this.tooltip.render.innerHTML=_117;var left=_._v.getAbsoluteLeft(_116)+(_116.offsetWidth/2);var top;if(this.options.toolbarPosition==="bottom"){top=_._v.getAbsoluteTop(_116)-this.tooltip.render.offsetHeight;}else{top=_._v.getAbsoluteTop(_116)+this.tooltip.render.offsetHeight;}this.tooltip.setStyle("zIndex",this.maxZIndex);this.tooltip.setStyle("left",left+"px");this.tooltip.setStyle("top",top+"px");}}),this.options.tooltipTime*1000);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.hideTooltip=function(){try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.tooltip){this.tooltip.setStyle("display","none");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setWindowSize=function(_11a,_11b){try{for(var i=0;i<this.windows.length;i++){var _11d=this.windows[i];var _11e=_11d.window;if(_11d.id==this.nowWindow){_11e.windowInfo.width=_11a;_11e.windowInfo.height=_11b;_11e.windowInfo.status="restored";_11e.windowInfo.minimized=false;_11e.windowInfo.getInfo(_11e.render);break;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setWindowPosition=function(left,top){try{for(var i=0;i<this.windows.length;i++){var _122=this.windows[i];var _123=_122.window;if(_122.id==this.nowWindow){_123.windowInfo.left=left;_123.windowInfo.top=top;_123.windowInfo.status="restored";_123.windowInfo.minimized=false;_123.windowInfo.getInfo(_123.render);break;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.closeWindow=function(){try{for(var i=0;i<this.windows.length;i++){var _125=this.windows[i];var _126=_125.window;if(_125.id==this.nowWindow){_126.close();break;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setWindowStatusMsg=function(msg,_128){try{for(var i=0;i<this.windows.length;i++){var _12a=this.windows[i];var _12b=_12a.window;if(_128){if(_12a.title==_128){_12b.setStatusMsg(msg);break;}}else{if(_12a.id==this.nowWindow){_12b.setStatusMsg(msg);break;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setAllWindowStatusMsg=function(msg){try{for(var i=0;i<this.windows.length;i++){var _12e=this.windows[i];var _12f=_12e.window;_12f.setStatusMsg(msg);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.getWindow=function(_130){try{for(var i=0;i<this.windows.length;i++){var _132=this.windows[i];if(_130==_132.title){this.beforeWindow=this.nowWindow;this.nowWindow=_132.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _133=this.getWinInfoObj(this.beforeWindow).windowId;var _134=this.getWinInfoObj(this.nowWindow).windowId;_._F.fireEvent(this,"onwindowchange",_133,_134);}return _132.window.frame.getWindow();}}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.getWindowByWindowId=function(_135,_136){try{var _136=_._G.getBoolean(_136);for(var i=0;i<this.windows.length;i++){var _138=this.windows[i];if(_135==_138.windowId){if(_136==true){this.beforeWindow=this.nowWindow;this.nowWindow=_138.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _139=this.getWinInfoObj(this.beforeWindow).windowId;var _13a=this.getWinInfoObj(this.nowWindow).windowId;_._F.fireEvent(this,"onwindowchange",_139,_13a);}}return _138.window.frame.getWindow();}}return null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.showModal=function(){try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";this.render.appendChild(this.modal);}if(this.modal){this.modal.style.display="block";this.modal.style.zIndex=this.maxZIndex-1;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.hideModal=function(){try{if(this.modal){this.modal.style.display="none";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.moveNameLayerScroll=function(_13b){try{if(this.options.nameScrollMode=="hide"){var _13c=0;for(var i=0;i<this.windows.length;i++){var _13e=this.windows[i].id;var _13f=document.getElementById(this.id+"_nameLayer_"+_13e);var _140=_._v.getStyle(_13f,"margin-left");_140=_140==="auto"?"0":_140;var _141=_._v.getStyle(_13f,"margin-right");_141=_141==="auto"?"0":_141;var _142=_13f.offsetWidth+parseInt(_140,10)+parseInt(_141,10);if(_13f.style.display!="none"){_13c+=_142;}}if(_13b=="right"){if(this.dom.nameBar.offsetWidth>_13c){return;}for(var i=0;i<this.windows.length;i++){var _13e=this.windows[i].id;var _13f=document.getElementById(this.id+"_nameLayer_"+_13e);if(_13f.style.display=="none"||i==this.windows.length-1){continue;}else{_13f.style.display="none";break;}}}else{for(var i=this.windows.length-1;i>=0;i--){var _13e=this.windows[i].id;var _13f=document.getElementById(this.id+"_nameLayer_"+_13e);if(_13f.style.display!="none"){continue;}else{_13f.style.display="block";break;}}}}else{var _143=110;if(_13b=="right"){var _144=this.windows[this.windows.length-1].id;var _145=document.getElementById(this.id+"_nameLayer_"+_144);var _146=this.dom.rightScrollBtn.offsetLeft-this.dom.nameBar.offsetWidth;if(parseInt(this.dom.nameBar.style.left)-_143<_146){this.dom.nameBar.style.left=_146+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)-_143+"px";}}else{if(parseInt(this.dom.nameBar.style.left)+_143>(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_143+"px";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.setFocus=function(_147){try{if(!this.windows[_147]){return;}if(this.windows[_147].id!==this.nowWindow){this.selectNameLayer(this.windows[_147].id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.getSelectedIndex=function(){return this.selectedIndex;};_._a.ay.prototype.getSelectedWindowId=function(){return this.windows[this.selectedIndex].windowId;};_._a.ay.prototype.refreshSelectedIndex=function(_148){try{var _149=_148||this.nowWindow;for(var i=0;i<this.windows.length;i++){var _14b=this.windows[i];var _14c=this.nowWindow;if(_14b.id==_149){this.selectedIndex=i;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_controlIcon_vertical")){if(this.options.useFixButton&&this.options.verticalArrangeNum>0){this.doVerticalFixArrange();}else{this.doVerticalArrange();}_._F.fireEvent(this,"onverticalarrange");}if(it.match("w2windowContainer_controlIcon_horizontal")){if(this.options.useFixButton&&this.options.horizontalArrangeNum>0){this.doHorizontalFixArrange();}else{this.doHorizontalArrange();}_._F.fireEvent(this,"onhorizontalarrange");}if(it.match("w2windowContainer_controlIcon_cascade")){if(this.options.useFixButton){this.doCascadeFixArrange();}else{this.doCascadeArrange();}_._F.fireEvent(this,"oncascadearrange");}if(it.match("w2windowContainer_controlIcon_sequential")){if(this.options.useFixButton&&this.options.sequentialArrangeRowNum>0&&this.options.sequentialArrangeColNum>0){this.doSequentialFixArrange();}else{this.doSequentialArrange();}_._F.fireEvent(this,"onsequentialarrange");}if(it.match("w2windowContainer_controlIcon_closeAll")){this.doCloseAll();}if(it.match("w2windowContainer_controlIcon_maximize")){var _14f=this.getSelectedIndex();if(_14f>-1&&_14f<this.windows.length){var _150=this.windows[_14f];if(_150.window.windowInfo.status=="maximized"){_150.window.toggleResize();_._F.fireEvent(this,"onselectedrestore");}else{_._F.fireEvent(this,"onselectedmaximize");_150.window.toggleResize();}}}if(it.match("w2windowContainer_nameLayer")){var _151=it.getElement().getAttribute("refId");this.clickNameLayer(_151,this.options.stopMinimizeOnNameLayer);}if(it.match("w2windowContainer_nameLayer_close")){var _151=it.getElement().getAttribute("refId");var _152=this.getWinInfoObj(_151);_152.window.close();return;}if(it.match("w2windowContainer_nameLayer_fixOff")){var _151=it.getElement().getAttribute("refId");var _152=this.getWinInfoObj(_151);_152.isFix=!_152.isFix;if(_152.isFix){it.getElement().className="w2windowContainer_nameLayer_fixOff w2windowContainer_nameLayer_fixOn";this.fixedWindowArr.push(_152);}else{it.getElement().className="w2windowContainer_nameLayer_fixOff";for(var i=0;i<this.fixedWindowArr.length;i++){if(this.fixedWindowArr[i].id==_152.id){this.fixedWindowArr.splice(i,1);break;}}}return;}if(it.match("w2window")){this.selectNameLayer(it.getElement().id);}if(it.match("w2window_restore")){if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}}if(it.match("w2windowContainer_scrollLeftBtn")){this.moveNameLayerScroll("left");}if(it.match("w2windowContainer_scrollRightBtn")){this.moveNameLayerScroll("right");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.handleMouseOverEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){var _156=it.getElement();var _157=it.getElement().getAttribute("refId");var _158="";for(var i=0;i<this.windows.length;i++){var _15a=this.windows[i];if(_157==_15a.id){_158=_15a.tooltip;break;}}if(it.getElement().id.indexOf(this.nowWindow)==-1){this.addClass(_156,"w2windowContainer_selectedNameLayer");}if(this.options.tooltipDisplay){this.showTooltip(_156,_158);}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.addClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.addClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.addClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.addClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.addClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.addClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.addClass(this.dom.rightScrollBtn,"w2windowContainer_scrollRightBtn_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.addClass(this.dom.leftScrollBtn,"w2windowContainer_scrollLefteBtn_over");}}}}}}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.handleMouseOutEvent=function(e){try{_._F.stopEvent(e);this.hideTooltip();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){if(it.getElement().id.indexOf(this.nowWindow)==-1){this.removeClass(it.getElement(),"w2windowContainer_selectedNameLayer");}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.removeClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.removeClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.removeClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.removeClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.removeClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}else{if(it.match("w2windowContainer_controlIcon_maximize")){this.removeClass(this.dom.iconMaximize,"w2windowContainer_controlIcon_maximize_over");}else{if(it.match("w2windowContainer_scrollRightBtn")){this.removeClass(this.dom.rightScrollBtn,"w2windowContainer_scrollRightBtn_over");}else{if(it.match("w2windowContainer_scrollLeftBtn")){this.removeClass(this.dom.leftScrollBtn,"w2windowContainer_scrollLefteBtn_over");}}}}}}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.handleDragStartEvent=function(){try{this.showModal();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ay.prototype.handleDragEndEvent=function(){try{this.hideModal();}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.windowContainer=_._a.ay;_._a._f=function(){try{}catch(e){$l(e.message);_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.toHTML=function(){var _1=[];var _2=this.options.overflowY==="scroll";var _3=this.options.title?" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _4=this.options.focusMode=="none"||this.options.focusFlow=="linear"?"":" tabIndex='0'";var _5=(!this.options.style)?"style='overflow:hidden;'":"style='"+this.options.style+";overflow:hidden;'";_1.push("<div id='"+this.id+"' class='w2grid "+this.options.className+"' "+_5+" role='application' "+_3+_4+">");if(this.options.groupbyZone){_1.push("<div id='"+this.id+"_groupbyZone_div' class='w2grid_groupbyZone' style='width:0px; height:0px;'></div>");}_1.push("<div id='"+this.id+"_main_div' style='z-index:10;overflow:hidden;position:absolute;left:0px; right:"+(_2?this.scrollLayerWidthSize:"0")+"px; top:0px; bottom:"+this.scrollLayerWidthSize+"px;float:left;'>");_1.push(this.mainDataGridLayout());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollX_div' style='z-index:20;overflow-x:hidden;overflow-y:hidden;position:absolute; height:0px; left:0px; right:"+(_2?this.scrollWidthSize:"0")+"px; bottom:0px;'>");_1.push(this.getScrollX());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollY_div' style='z-index:15;position:absolute; overflow-x:hidden;overflow-y:scroll;width:"+(_2?this.scrollLayerWidthSize:"0")+"px; height: 100%;right:0px;'>");_1.push(this.getScrollY());_1.push("</div>");_1.push("<div id='"+this.id+"_iScrollX' class='w2grid_iScrollX' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_iScrollY' class='w2grid_iScrollY' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_resize_line' style='display:none;position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;'></div>");_1.push("<div id='"+this.id+"_noresult' style='display:none;position:absolute;"+this.options.noResultMessageStyle+"' class='"+this.options.noResultMessageClass+"'>"+this.options.noResultMessage+"</div>");_1.push("</div>");return _1.join("");};_._a._f.prototype.getScrollY=function(){var _6="<div id='"+this.id+"_size_y' style='height:0px; position:absolute; top:0px; left:0px; width:18px;"+this.test_border+"'></div>";return _6;};_._a._f.prototype.getScrollX=function(){var _7=this.getFixedColumnLastIndex();var _8=0;for(var i=0;i<_7;i++){if(!this.hiddenList[i]){_8+=this.colWidthList[i];}}var _a=[];_a.push("<table id='"+this.id+"_scrollX_table' style='height:18px;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:100%'>");_a.push("<tr>");_a.push("<td id='"+this.id+"_scrollX_left' style='border:0px solid red;padding:0px 0px 0px 0px;height:"+this.scrollLayerWidthSize+"px;width:"+_8+"px;vertical-align:bottom;'>");_a.push("<div style='height:"+this.scrollLayerWidthSize+"px;overflow-x:scroll;overflow-y:hidden'></div>");_a.push("</td>");_a.push("<td style='border:0px solid orange;padding:0px 0px 0px 0px;height:18px;'>");_a.push("<div id='"+this.id+"_scrollX_right' style='height:18px;border:0px solid blue; overflow-x:scroll;overflow-y:hidden;padding:0px 0px 0px 0px;padding-top:-5px;' tabIndex='-1'>");_a.push("<div id='"+this.id+"_scroll_size' style='height:1px;width:"+parseInt(this.gridWidth-_8)+"px'></div>");_a.push("</div>");_a.push("</td>");_a.push("</tr>");_a.push("</table>");return _a.join("");};_._a._f.prototype.mainDataGridLayout=function(){this.setTableStruct();var _b=[];_b.push(this.getBodyTable());_b.push(this.getFooterTable());this.setInitialCSS();return _b.join("");};_._a._f.prototype.setColArr=function(){this.colGroupArr=[];this.setColWidth();this.gridWidth=0;var _c=-1;if(this.options.rowStatusVisible){var _d=40;if(this.options.rowStatusWidth.length>0){if(this.options.rowStatusWidth.indexOf("*")>-1){_d=this.options.rowStatusWidth;_c++;}else{if((this.options.rowStatusWidth-0)>-1){_d=this.options.rowStatusWidth-0;}}}this.colWidthList.unshift(_d);this.hiddenList.unshift(false);}if(this.options.rowNumVisible){var _d=40;if(this.options.rowNumWidth.length>0){if(this.options.rowNumWidth.indexOf("*")>-1){_d=this.options.rowNumWidth;_c++;}else{if((this.options.rowNumWidth-0)>-1){_d=this.options.rowNumWidth-0;}}}this.colWidthList.unshift(_d);this.hiddenList.unshift(false);}if(_c>-1){this.autofitColumn=true;for(var i=0;i<2;i++){if(this.colWidthList[i]&&typeof this.colWidthList[i]=="string"){if(this.colWidthList[i].indexOf("*")>-1){this.autofitColumnIndexArr.push(i);this.autofitColumnWidthArr[i]=this.colWidthList[i];}}}}var _f;var _10;if(this.isIE6or7){_f=[];_10=this.colIndexes.bodyColInfo.colSpanArr;var len=this.colIndexes.bodyColInfo.colIndexArr.length;for(var i=0;i<len;i++){if(_10[i]){for(var j=0;j<_10[i];j++){_f[j]=true;}}}}this.colGroupArr.push("<colgroup>");for(var i=0;i<this.colWidthList.length;i++){if(this.colWidthList[i]==null){this.colWidthList[i]=70;}var _13=(isNaN(this.colWidthList[i]))?0:this.colWidthList[i];if(!this.hiddenList[i]){this.gridWidth+=_13;if(this.isIE6or7&&(i<this.defaultColCnt||!_f[i])){_13--;if(i==this.defaultColCnt){_13--;}}}else{_13=0;}this.colGroupArr.push("<col id='colGroupID_"+i+"' style='width:"+_13+"px;white-space:nowrap' />");}this.colGroupArr.push("</colgroup>");};_._a._f.prototype.setCss=function(){this.options.headerTableClass=this.struct.head.attr["class"]||"gridHeaderTableDefault";this.options.headerTrClass=this.struct.head.attr.rowClass||"gridHeaderTRDefault";this.options.headerTdClass=this.struct.head.attr.columnClass||"gridHeaderTDDefault";this.options.bodyTableClass=this.struct.body.attr["class"]||"gridBodyTableDefault";this.options.bodyTrClass=this.struct.body.attr.rowClass||"gridBodyTRDefault";this.options.bodyTdClass=this.struct.body.attr.columnClass||"gridBodyDefault";if(this.hasFooter){this.options.footerTableClass=this.struct.foot.attr["class"]||"gridFooterTableDefault";this.options.footerTrClass=this.struct.foot.attr.rowClass||"gridFooterTRDefault";this.options.footerTdClass=this.struct.foot.attr.columnClass||"gridFooterTDDefault";}if(this.hasSubtotal){this.options.subtotalTrClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.rowClass||"gridSubtotalTRDefault";this.options.subtotalTdClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.columnClass||"gridSubtotalDefault";}};_._a._f.prototype.setInitialCSS=function(){if(this.options.oddEvenColorDisplay){_.cssStyleSheet.addRule("#"+this.id+" .evenTd","background-color:"+this.options.evenRowBackgroundColor);_.cssStyleSheet.addRule("#"+this.id+" .oddTd","background-color:"+this.options.oddRowBackgroundColor);}this.rowStyleIndex=0;this.cellStyleIndex=0;this.readOnlyTdStyle="";this.disabledTdStyle="";this.rowOverStyle="";if(this.options.readOnlyBackgroundColor!=""){this.readOnlyTdStyle="background-color:"+this.options.readOnlyBackgroundColor;}if(this.options.disabledBackgroundColor!=""){this.disabledTdStyle="background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){this.disabledTdStyle=(this.disabledTdStyle!="")?this.disabledTdStyle+";":"";this.disabledTdStyle+="color:"+this.options.disabledFontColor;}if(this.options.rowNumBackgroundColor!=""){_.cssStyleSheet.addRule("#"+this.id+" ."+this.options.bodyTdClass+"_rowNumber","background-color:"+this.options.rowNumBackgroundColor);}if(this.options.rowMouseOver){this.rowOverStyle="background-color:"+this.options.rowMouseOverColor;}if(this.options.defaultCellHeight!=-1){_.cssStyleSheet.addRule("#"+this.id+" td."+this.options.bodyTdClass,"height:"+this.options.defaultCellHeight+"px");_.cssStyleSheet.addRule("#"+this.id+" th."+this.options.headerTdClass,"height:"+this.options.defaultCellHeight+"px");}};_._a._f.prototype.getGridClassName=function(_14,_15){if(_14==null||_14==""){return _15;}return _14;};_._a._f.prototype.grid2TableXml=function(_16){var _17=_._t.getElementsByTagName(this.element,_16,_._h._XML_NAMESPACE.W2);if(_17.length>0){return this.oneGrid2TableXml(_17[0]);}else{return null;}};_._a._f.prototype.xml2JSON=function(_18){var obj={attr:{},rowArr:[]};for(var i=0;i<_18.attributes.length;i++){obj.attr[_18.attributes[i].nodeName]=_18.attributes[i].nodeValue;}var _1b=_._t.getElementsByTagName(_18,"row",_._h._XML_NAMESPACE.W2);for(var i=0;i<_1b.length;i++){var _1c=_._t.getElementsByTagName(_1b[i],"column",_._h._XML_NAMESPACE.W2);var _1d=[];for(var j=0;j<_1c.length;j++){var _1f=_1c[j];var col={"@xml":_1f};for(var k=0;k<_1f.attributes.length;k++){col[_1f.attributes[k].nodeName]=_1f.attributes[k].nodeValue;}_1d.push(col);}obj.rowArr.push(_1d);}return obj;};_._a._f.prototype.oneGrid2TableXml=function(_22){var _23=_._t.serialize(_22);var _24=_23.indexOf("w2:header")>=0?"th":"td";_23=_23.wq_replaceAll("w2:header",this.options.fixPrint?"tbody":"thead");_23=_23.wq_replaceAll("w2:gBody","tbody");_23=_23.wq_replaceAll("w2:footer","tbody");_23=_23.wq_replaceAll("w2:row","tr");_23=_23.wq_replaceAll("w2:column",_24);var _25=_._t.parse(_23);return _25;};_._a._f.prototype.setColWidth=function(){var _26=this.getColCnt();this.colWidthList=[];this.autoFitColWidthList=null;this.hiddenList=[];for(var i=0;i<_26;i++){this.colWidthList[i]=null;this.hiddenList[i]=false;}this.initializeTableInfo();};_._a._f.prototype.getColCnt=function(){try{var _28=0;var row=this.htmlInfo?this.htmlInfo.head.rowArr[0]:this.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _2b=row[i];_28+=parseInt(_2b.colSpan,10)||1;}return _28;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.initializeTableInfo=function(){try{var _2c=this;var _2d=function(_2e){if(_2e==null){return null;}var _2f=[];var _30=[];var _31=[];var _32=[];var _33=[];var _34=_2e.rowArr;var _35=[];for(var i=0;i<_34.length;i++){var _37=[];for(var j=0;j<_2c.colWidthList.length;j++){_37.push(false);}_35.push(_37);}var _39=0;if(_2c.options.rowNumVisible){_2f.push(0);_31.push(0);_32.push(_34.length);_33.push([_39++]);}if(_2c.options.rowStatusVisible){_2f.push((_2c.options.rowNumVisible===true)?1:0);_31.push(0);_32.push(_34.length);_33.push([_39++]);}for(var i=0;i<_34.length;i++){var _3a=_34[i];var x=0;for(var j=0;j<_3a.length;j++){var _3c=_3a[j];var _3d=parseInt(_3c.colSpan||1);var _3e=parseInt(_3c.rowSpan||1);while(typeof _35[i][x]!="undefined"&&_35[i][x]){x++;}_3c.colIndex=x+_2c.defaultColCnt;_2f.push(x+_2c.defaultColCnt);_31.push(i);_32.push(_3e);var _3f=_3c.width||"";if(_3d>1){if(_3f.indexOf("*")>-1){_2c.autofitColumn=true;for(var _40=0;_40<_3d;_40++){var _41=x+_40;_2c.colWidthList[_41]=_3f;_2c.autofitColumnWidthArr[_41+_2c.defaultColCnt]=_3f;_2c.autofitColumnIndexArr.push(_41+_2c.defaultColCnt);}}_30[_2f.length-1]=_3d;}if(_3d==1&&_2c.colWidthList[x]==null){if(_3f.indexOf("*")>-1){_2c.autofitColumn=true;var _41=x;_2c.colWidthList[_41]=_3f;_2c.autofitColumnIndexArr.push(_41+_2c.defaultColCnt);_2c.autofitColumnWidthArr[_41+_2c.defaultColCnt]=_3f;}else{_2c.colWidthList[x]=parseInt(_3f||0);}}for(var k=0;k<_3d;k++){if(!_33[x+_2c.defaultColCnt+k]){_33[x+_2c.defaultColCnt+k]=[];}_33[x+_2c.defaultColCnt+k].push(_39);_35[i][x+k]=true;if(_3c.hidden=="true"){_2c.hiddenList[x+k]=true;}for(var l=1;l<_3e;l++){_35[i+l][x+k]=true;}}_39++;delete _3c.hidden;}}return {colIndexArr:_2f,colSpanArr:_30,trIndexArr:_31,rowSpanArr:_32,colIndexMatch:_33};};this.colIndexes={headerColInfo:_2d(this.struct.head),bodyColInfo:_2d(this.struct.body),footerColInfo:_2d(this.struct.foot)};if(this.hasSubtotal){this.colIndexes.subtotalColInfo=[];for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=_2d(this.struct.subtotalArr[i]);this.colIndexes.subtotalColInfo.push(obj);this.colIndexes.subtotalColInfo[this.struct.subtotalArr[i].attr.targetColumnID]=obj;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getFooterTable=function(){if(!this.hasFooter){return "";}this.hasFooter=true;var str="";str="<table id='"+this.id+"_foot_table' class='"+this.options.footerTableClass+"' style='position:absolute; bottom:0px; table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px;'>";str+=this.getColGroup(this.id+"_col_footer");if(_._G.isSafari()||_._G.isChrome()){str+="<thead><tr></tr></thead>";}else{if(_._G.isIE()){var _47="";for(var i=0;i<this.getColCnt();i++){_47+="<td></td>";}str+="<thead style='visibility:collapse;'><tr>"+_47+"</tr></thead>";}}str+=this.getTableHtml(this.htmlInfo.foot,"tbody","td",this.options.footerTdClass);str+="</table>";str=str.wq_replaceAll("width=","or_wd=");str=str.wq_replaceAll("disabled=","dis=");return str;};_._a._f.prototype.getBodyTable=function(){var _49="width:"+this.gridWidth+"px;";if(this.isIE6or7){_49="";}var _4a=(this.element.getAttribute("summary")||"").wq_replaceAll("'","&#39;");var str="";str="<div id='"+this.id+"_dataLayer' style='position:absolute; width:100%; top:0px;bottom:0px;overflow:hidden;'>";str+=this.getGridHeaderFillerTable(this.headerXml,this.options.headerTdClass,this.options.headerTrClass,this.id+"_head_table",this.options.headerTableClass);str+="<table id='"+this.id+"_body_table' class='"+this.options.headerTableClass+"' style='position:absolute;left:0px;top:0px;table-layout:fixed; border-collapse:collapse; border-spacing:0px;"+_49+"' summary='"+_4a+"' role='grid'>";str+=this.getColGroup(this.id+"_col_body");if(this.captionXml){var _4c=_._t.parse("<caption/>");var _4d=null;for(var i=0;i<this.captionXml.attributes.length;i++){_4c.documentElement.setAttribute(this.captionXml.attributes[i].nodeName,this.captionXml.attributes[i].nodeValue);if(this.captionXml.attributes[i].nodeName=="value"){_4d=this.captionXml.attributes[i].nodeValue;}}if(_4d){_4c.documentElement.appendChild(_4c.createTextNode(_4d));}else{for(var i=0;i<this.captionXml.childNodes.length;i++){_4c.documentElement.appendChild(this.captionXml.childNodes[i].cloneNode(true));}}str+=_._t.noNameSpaceSerialize(_4c);}if(this.isWebKit){if(!this.captionXml){var _4f="transparent";var _50="0";for(var i=0;i<document.styleSheets.length;i++){var _51=document.styleSheets[i];for(var j=0;j<_51.cssRules.length;j++){var _53=_51.cssRules[j];if(_53.selectorText=="."+this.options.headerTableClass){_4f=_53.style["border-top-color"];_50=parseInt(_53.style["border-top-width"])/2;i=document.styleSheets.length;break;}}}str+="<caption style='height:"+_50+"px;background-color:"+_4f+";'></caption>";}str+="<thead><tr></tr></thead>";}str+=this.getTableHtml(this.htmlInfo.head,"thead","th",this.options.headerTdClass);str+="<tbody id='"+this.id+"_body_tbody'></tbody>";str+="</table>";str+="</div>";str=str.wq_replaceAll("width=","or_wd=");return str;};_._a._f.prototype.getTableInfo=function(_54,_55,_56){var _57=_.extend({},_54.attr);var _58=[];var _59=[];var _5a=_54.rowArr;_57.id=this.id+"_"+_55+"_tbody";_57.style="";for(var i=0;i<_5a.length;i++){_59[i]={role:"row"};_58.push([]);for(var j=0;j<_5a[i].length;j++){var _5d=_.extend({},_5a[i][j]);_5d.role="gridcell";_5d["class"]=_55+" "+_55+"_data";if(this.isIE6or7){var _5e=parseInt(_5d.colSpan||"1");var _5f=parseInt(_5d.colIndex);if(_5e>1){for(var k=1;k<_5e;k++){if(this.hgap[_56+"_"+_5f]!=false){this.hgap[_56+"_"+(_5f+k)]=true;}}this.hgap[_56+"_"+_5f]=true;}else{this.hgap[_56+"_"+_5f]=false;}}var _61=_5d.textAlign;var _62=_5d.style;_62=_62+";text-align:"+(_61||"center");_5d.style=_62;_58[i].push(_5d);}}return {attr:_57,rowArr:_58,rowAttrArr:_59};};_._a._f.prototype.getBodyHtmlInfo=function(){var _63=this.options.bodyTdClass;var _64=this.options.bodyTrClass;var _65=this.getTableInfo(this.struct.body,_63,_64);var _66=_65.attr;var _67=_65.rowArr;var _68=_65.rowAttrArr;this.oneRowLength=_67.length;this.oneRowDataLength=0;this.tdIdList=[];this.bodyIdColIndexMap={};this.colMoveIndexMap={};var _69=0;for(var i=0;i<_67.length;i++){_68[i].trIndex=i;this.oneRowDataLength+=_67[i].length;for(var j=0;j<_67[i].length;j++){var _6c=_67[i][j];var _6d=_6c.style;var _6e=_6d.split(";");if(_6e.length>0){var _6f=this.id+"_columnstyle_"+_69+"_";for(var k=0;k<_6e.length;k++){if(_6e[k].indexOf(":")>-1){try{var _71=_6e[k].split(":")[0].wq_trim();var _72=_6e[k].split(":")[1].wq_trim();this.setColumnStyle(_69,_71,_72);}catch(e){}break;}}}var _73=_6c.inputType;if(_73=="textarea"){if(_6c.displayType=="all"){_6c.style+=";word-break:break-all;white-space:normal;";}}var _74=_6c.id;if(_6c.col_id==null){_6c.col_id=_74;_6c.id=this.id+"_"+_74;_6c["@xml"].setAttribute("col_id",_74);_6c["@xml"].setAttribute("id",this.id+"_"+_74);}else{_74=_6c.col_id;}this._setCellInfo(_74,_6c["@xml"]);this.bodyIdColIndexMap[_74]=_69;if(i==0){this.colMoveIndexMap[_74]=_69;}this.tdIdList.push(_74);_69++;}}return {attr:_66,rowArr:_67,rowAttrArr:_68};};_._a._f.prototype.getHeaderHtmlInfo=function(){var _75=this.options.headerTdClass;var _76=this.options.headerTrClass;var _77=this.getTableInfo(this.struct.head,_75,_76);var _78=_77.attr;var _79=_77.rowArr;var _7a=_77.rowAttrArr;var _7b=[];var _7c=this.struct.head.rowArr;this.thIdList=[];_78.id=this.id+"_head_table";_78["class"]=this.options.headerTableClass;var _7d=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _7e=_7d.exec(this.struct.head.attr.style);if(_7e&&_7e.length==2){this.headerHeight=parseInt(_7e[1]);}_78.style=this.options.hideHeader?"display:none":"";this.headCellInfoHash={};for(var i=0;i<_79.length;i++){_7b.push([]);for(var j=0;j<_79[i].length;j++){var _81=_79[i][j];var _82=null;var _83=_81.inputType;var _84=_81.dataType;var _85=_81.value;if(typeof _85=="undefined"||_85==null){_85=_81.defaultValue;if(typeof _85=="undefined"||_85==null){_85="";}}if(_83=="checkbox"){_82="<input type='checkbox' style='border:0px solid blue;background-color:transprent;' />";}else{if(_83=="select"){var _86="";var _87="";if(this.options.chooseOption){_86=_._G.getBoolean(this.options.useLocale)?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel;}else{if(this.options.allOption){_86="-\uc804\uccb4-";}else{var _88=_._t.serialize(_81["@xml"]);var _89=(_88.match(/label\s*>[^<]+<\//)||"").toString();if(_89!==""){_86=_89.slice(_89.toString().indexOf(">")+1,-2);}}}_82="<div style='width:100%;height:20px;top:0px;left:0px;position:relative;background-color:#ffffff' class='w2selectbox "+this.options.headerTdClass+" "+this.options.headerTdClass+"_data'>"+"<span style='display:none'></span>"+"<table class='w2selectbox_table_main' cellSpacing='0' cellPadding='0'>"+"<tr class='w2selectbox_row w2selectbox_row_main'>"+"<td class='w2selectbox_col_label'>"+"<div class='w2selectbox_label'>"+_86+"</div></td>"+"<td class='w2selectbox_col_button'></td>"+"</tr></table></div>";}else{if(_83=="text"&&_84=="own"){_82="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";}else{var _8a=_81.localeRef;if(_8a!=null){_85=this.getLocaleValue(_8a);}else{if(_85==null){_85="";}}_82="<nobr style='padding-top:0px; padding-left:4px;padding-right:4px' >"+_85+"</nobr>";}}}_7b[i].push(_82);this.thIdList.push(_81.id);this.headCellInfoHash[_81.id]=_81["@xml"];this._setHeaderInfo(_81.id,_81["@xml"]);if(_81.col_id==null){_81.col_id=_81.id;}}}return {attr:_78,rowArr:_79,rowAttrArr:_7a,headerTdHtml:_7b};};_._a._f.prototype.getFooterHtmlInfo=function(){var _8b=this.options.footerTdClass;var _8c=this.options.footerTrClass;var _8d=this.getTableInfo(this.struct.foot,_8b,_8c);var _8e=_8d.attr;var _8f=_8d.rowArr;var _90=_8d.rowAttrArr;var _91=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _92=_91.exec(this.struct.foot.attr.style);if(_92&&_92.length==2){this.footerHeight=parseInt(_92[1]);}return {attr:_8e,rowArr:_8f,rowAttrArr:_90};};_._a._f.prototype.getSubtotalHtmlInfo=function(_93){var _94=this.options.subtotalTdClass;var _95=this.options.subtotalTrClass;var _96=this.getTableInfo(_93,_94,_95);var _97=_96.attr;var _98=_96.rowArr;var _99=_96.rowAttrArr;for(var i=0;i<_98.length;i++){_99[i].trIndex=i;_99[i].targetColumnID=_97.targetColumnID;for(var j=0;j<_98[i].length;j++){_98[i][j]["class"]+=_98[i][j]["class"]+" "+this.id+"_subtotal__column"+i;delete _98[i][j].hidden;}}return {attr:_97,rowArr:_98,rowAttrArr:_99};};_._a._f.prototype.getTableHtml=function(_9c,_9d,_9e,_9f){var _a0=_9c.attr;var _a1=_9c.rowArr;var _a2=_9c.rowAttrArr;var _a3=[];_a3.push("<"+_9d+this.getAttributesString(_a0)+">");var _a4="";if(_a1.length>=2){_a4=" rowSpan='"+_a1.length+"'";}for(var i=0;i<_a1.length;i++){if(_9c==this.htmlInfo.head){_a3.push("<tr"+this.getAttributesString(_a2[i])+" class='gridHeaderStyle_"+i+"'"+">");}else{if(_9c==this.htmlInfo.foot){_a3.push("<tr"+this.getAttributesString(_a2[i])+" class='gridFooterStyle_"+i+"'"+">");}else{_a3.push("<tr"+this.getAttributesString(_a2[i])+">");}}if(i==0){var _a6="";var _a7="";if(_9c==this.htmlInfo.head){_a6=this.options.rowNumHeaderValue;_a7=this.options.rowStatusHeaderValue;}if(this.options.rowNumVisible){_a3.push("<"+_9e+_a4+" class='"+_9f+" "+_9f+"_rowNumber' value='"+_a6+"' colIndex='0' id='_headerRowNumber'></"+_9e+">");}if(this.options.rowStatusVisible){_a3.push("<"+_9e+_a4+" class='"+_9f+" "+_9f+"_rowStatus' value='"+_a7+"' colIndex='"+(this.options.rowNumVisible?1:0)+"' id='_headerRowStatus'></"+_9e+">");}}for(var j=0;j<_a1[i].length;j++){_a3.push("<"+_9e+this.getAttributesString(_a1[i][j])+">");if(_9c.headerTdHtml&&_9c.headerTdHtml[i][j]){_a3.push(_9c.headerTdHtml[i][j]);}_a3.push("</"+_9e+">");}_a3.push("</tr>");}_a3.push("</"+_9d+">");return _a3.join("");};_._a._f.prototype.getGridHeaderFillerTable=function(_a9,_aa,_ab,_ac,_ad){if(!this.options.headFiller){return "";}var _ae=[];var _af="";if(this.options.hideHeader){_af="display:none";}_ae.push("<table class='"+this.options.headerTableClass+"' style='z-index:-1;position:absolute;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px; '>");_ae.push("<tbody id='"+this.id+"_"+_aa+"_tbody_tmp"+"' style='"+_af+"' class='"+_ad+"'>");_ae.push("<tr class='"+_ab+"'>");_ae.push("<td style='' id='"+this.id+"_header_bg_td' class='"+_aa+" "+_aa+"_rowNumber'>&nbsp;</td>");_ae.push("</tr>");_ae.push("</tbody>");_ae.push("</table>");return _ae.join("");};_._a._f.prototype.getColGroup=function(id){return this.colGroupArr.join("").wq_replaceAll("colGroupID",id);};_._a._f.prototype.initializeLayoutEvents=function(){try{this.event.addListener2(this.getElementById(this.id+"_scrollX_right"),"onscroll",this.handleScrollX,this);this.event.addListener2(this.getElementById(this.id+"_scrollY_div"),"onscroll",this.handleScrollY,this);this.event.addListener2(this.render,"onmousewheel",this.handleWheel,this);if(this.options.groupbyZone){this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onclick",this.handleGroupbyZoneClick,this);this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onmousedown",this.handleChangeGroupDepth,this);}if(this.options.resize&&!_._G.isMobile()){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousemove",this.event.bindAsEventListener(this,this.handleColumnResize));this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousedown",this.event.bindAsEventListener(this,this.doColumnResize));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.endColumnResize));if(_._G.isIE()&&_._h.browserVersion()<=8){this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,function(e){if(this.resizeStarted||this.columnMoveTarget!=null){_._F.preventDefault(e);}}));}}this.handleScrollX();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.handleScrollX=function(e){try{if(typeof (CollectGarbage)=="function"){CollectGarbage();}var _b3=_._F.getTarget(e);if(_b3){if(!this._scrollXPrev){this._scrollXPrev={};}if(this._scrollXPrev.scrollLeft===_b3.scrollLeft&&this._scrollXPrev.scrollTop===_b3.scrollTop&&this._scrollXPrev.scrollWidth===_b3.scrollWidth&&this._scrollXPrev.scrollHeight===_b3.scrollHeight){this.scrollXPreventEndEdit=true;}this._scrollXPrev.scrollLeft=_b3.scrollLeft;this._scrollXPrev.scrollTop=_b3.scrollTop;this._scrollXPrev.scrollWidth=_b3.scrollWidth;this._scrollXPrev.scrollHeight=_b3.scrollHeight;}_._h.clearTimer(this.id+"_completiveDrawData",true);_._h.clearTimer(this.id+"_applyStyleOptions",true);if(this.editedCell!=null&&!this.scrollXPreventEndEdit){this.editedCell.handleEndEdit(e);}this._handleScrollX();if(this.scrollXPreventEndEdit&&this.editedCell&&this.editedCell.setPosition){this.editedCell.setPosition();}this.scrollXPreventEndEdit=false;_._F.fireEvent(this,"onscrollx",e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype._handleScrollX=function(){try{if(!this.body_table){this.head_table=this.getElementById(this.id+"_head_table");this.body_table=this.getElementById(this.id+"_body_table");if(this.hasFooter){this.foot_table=this.getElementById(this.id+"_foot_table");}this.scrollX_right=this.getElementById(this.id+"_scrollX_right");}if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.body_table.getElementsByTagName("col");if(this.hasFooter){this.colGroup.footerColList=this.foot_table.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}var _b4=this.getFixedColumnLastIndex();var max=this.gridWidth-this.scrollX_right.scrollLeft-this.fixedWidth-1;var _b6=max;max=max>0?max:0;this.head_table.style.width=max+"px";this.body_table.style.width=max+"px";if(this.hasFooter){this.foot_table.style.width=max+"px";}var _b7=[];var _b8=[];var _b9=-1;var _ba=-1;var _bb=this.scrollWidthSize;var _bc=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;var _bd=(_bc-1)-this.fixedWidth;if(_bb!=-1){_bd=_bd-_bb;}for(var i=this.colGroup.bodyColList.length-1;i>=0;i--){var _bf=this.colWidthList[i];if(this.hiddenList[i]){_bf=0;}if(max>_bf){max-=_bf;}else{_bf=max;max=0;}if(i<_b4&&!this.hiddenList[i]){_bf=this.colWidthList[i];}var _c0=0;var _c1=0;var _c2=0;if(this.isIE6or7&&_bf!=0){if(this.hgap[this.options.headerTrClass+"_"+i]==true){_c0=0;}else{_c0=1;}if(this.hgap[this.options.bodyTrClass+"_"+i]==true){_c1=0;}else{_c1=1;}if(this.hasFooter){if(this.hgap[this.options.footerTrClass+"_"+i]==true){_c2=0;}else{_c2=1;}}}if(_._G.isIE(8)&&this.defaultColCnt==0&&i==0&&_bf==0){_bf=1;}if(this.options.scrollByColumn){if(_b9!=-1&&i==_b9){var _c3=this.colWidthList[_ba];var _c4=this.colWidthList[_b9];var _c5=0;for(var _c6=_b9;_c6<_ba+1;_c6++){if(this.hiddenList[_c6]){continue;}_c5+=this.colWidthList[_c6];}var _c7=_bd-(_c5-_c3);var _c8=_c3-_c7;var _c9=0;if(_c4<=_c3){if(_c7>_c8){_c9=_c4-_c8;}else{_c9=_c7;}}else{_c9=_c4-_c8;}this.colGroup.bodyColList[_b9].style.width=_c9-_c1+"px";_b7[_b9]=_c9-_c1;if(this.hasFooter){this.colGroup.footerColList[_b9].style.width=_c9-_c2+"px";_b8[_b9]=_c9-_c2;}}else{if(_b6<=_bd&&!this.hiddenList[i]&&_b9==-1){_ba=i;var _ca=_bd;for(var _c6=i;_c6>=0;_c6--){if(this.hiddenList[_c6]){continue;}else{_ca-=this.colWidthList[_c6];if(_ca<0&&_b9==-1){_b9=_c6;break;}}}_b7[i]=this.colWidthList[i];_b8[i]=this.colWidthList[i];}else{var _c9=this.colWidthList[i];if(_bf==1&&_._G.isIE(8)&&this.defaultColCnt==0&&i==0){_c9=1;}if(_bf==0){_c9=0;}if(_c9==0||_c9==1||_c9==this.colWidthList[i]){this.colGroup.bodyColList[i].style.width=(_c9-_c1)+"px";_b7[i]=_c9-_c1;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_c9-_c2)+"px";_b8[i]=_c9-_c2;}}}}}else{this.colGroup.bodyColList[i].style.width=(_bf-_c1)+"px";_b7[i]=_bf-_c1;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_bf-_c2)+"px";_b8[i]=_bf-_c2;}}}_b9=-1;this.setColIndexInfo(_b7,_b8);this._setGridBorder();if(this.groupbyZoneStatus.groupbyZoneRender||this.options.useFilterList){this.resizeGroupbyZone();this.resizeGridList();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.setColIndexInfo=function(_cb,_cc){try{if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.getElementById(this.id+"_body_table").getElementsByTagName("col");var _cd=this.getElementById(this.id+"_foot_table");if(_cd){this.colGroup.footerColList=_cd.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}this.colIndexInfo={};var _ce=this.getVisibleColRange(this.colGroup.bodyColList,_cb);var _cf=this.getVisibleTds(this.colIndexes.bodyColInfo,_ce);this.colIndexInfo.body={colInfo:this.colIndexes.bodyColInfo,visibleTds:_cf.visibleTds,invisibleTds:_cf.invisibleTds,visibilityArr:_cf.visibilityArr,firstCoveredColIndex:_ce.firstCoveredColIndex};if(this.isIE6or7){var _d0=this.getVisibleTds(this.colIndexes.headerColInfo,_ce);this.colIndexInfo.header={colInfo:this.colIndexes.headerColInfo,visibleTds:_d0.visibleTds,invisibleTds:_d0.invisibleTds,visibilityArr:_d0.visibilityArr,firstCoveredColIndex:_ce.firstCoveredColIndex};if(this.hasFooter){var _d1=this.getVisibleColRange(this.colGroup.footerColList,_cc);var _d2=this.getVisibleTds(this.colIndexes.footerColInfo,_d1);this.colIndexInfo.footer={colInfo:this.colIndexes.footerColInfo,visibleTds:_d2.visibleTds,invisibleTds:_d2.invisibleTds,visibilityArr:_d2.visibilityArr,firstCoveredColIndex:_d1.firstCoveredColIndex};}if(this.hasSubtotal){this.colIndexInfo.subtotal={};for(var _d3 in this.subtotalRowHash){var _d4=this.getVisibleTds(this.colIndexes.subtotalColInfo[_d3],_ce);this.colIndexInfo.subtotal[_d3]={colInfo:this.colIndexes.subtotalColInfo[_d3],visibleTds:_d4.visibleTds,invisibleTds:_d4.invisibleTds,visibilityArr:_d4.visibilityArr,firstCoveredColIndex:_ce.firstCoveredColIndex};}}}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.hideInvisibleTds=(function(){var _d5=true;return function(){if(_d5){_d5=false;if(this.groupbyStatus.grouped){this.options.lazyDrawHiddenColumn=false;$l(this.id+" groupby\uac00 \ud65c\uc131\ud654\ub418\uc5b4\uc11c lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}for(var i=this.defaultColCnt;i<this.colIndexes.bodyColInfo.rowSpanArr.length;i++){if(this.colIndexes.bodyColInfo.rowSpanArr[i]>=2){this.options.lazyDrawHiddenColumn=false;$l(this.id+" : rowSpan\uc774 \uc788\uae30 \ub54c\ubb38\uc5d0 lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}}}var _d7=this.colIndexInfo.body.visibilityArr;var _d8=[];for(var i=0;i<this.drawedRowLength;i++){if(this.dataRowList[i].style.display=="none"){continue;}var _d9=0;var cnt=0;for(var j=this.defaultColCnt;j<_d7.length;j++){if(this.colIndexes.bodyColInfo.trIndexArr[j]>_d9){cnt=0;_d9++;}var _dc=parseInt((j-this.defaultColCnt)/this.columnOrder.length);var _dd=(j-this.defaultColCnt)%this.columnOrder.length;var _de=this.columnOrder[_dd]+(_dc*this.columnOrder.length);var td=this.data_td_list[_de+(i*this.oneRowDataLength)];var _e0=this.colIndexes.bodyColInfo.colSpanArr[j]||1;if(_d7[j]){if(!this.initVisibilityArr[j]){this.drawCellData(i,i+this.rowIndex,_de);this.applyCellStyleOptions(i+this.rowIndex,_de);_d8[j]=true;}td.style.display="";if(_e0+cnt>1){td.setAttribute("colSpan",_e0+cnt);}else{td.removeAttribute("colSpan");}cnt=0;}else{td.style.display="none";cnt+=_e0;}}}for(var i=0;i<_d8.length;i++){if(_d8[i]){this.initVisibilityArr[i]=true;}}};})();_._a._f.prototype.getVisibleColRange=function(_e1,_e2){try{var _e3=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;var _e4=[];var _e5=0;var _e6=-1;var _e7=-1;var len=_e2?_e2.length:_e1.length;for(var i=0;i<len;i++){var _ea=_e2?_e2[i]:parseInt(_e1[i].style.width);_e5+=_ea;if(_e5>_e3){if(_e6>=0){if(_ea<3){_e4.push([_e6,i]);}else{_e4.push([_e6,i+1]);}_e7=i+1;_e6=-1;}else{_e4.push([i,i+1]);_e7=i+1;}break;}if(_ea<3){if(_e6!=-1){_e4.push([_e6,i]);_e6=-1;}}else{if(_e6==-1){_e6=i;}}}if(_e6!=-1&&_e6<i){_e4.push([_e6,i]);}_e4.firstCoveredColIndex=_e7!==-1?_e7:len;if(_e7==-1){_e7=len;}return _e4;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getVisibleTds=function(_eb,_ec){try{var _ed=[];var _ee=[];var _ef=[];for(var i=0;i<_eb.colIndexArr.length;i++){var _f1=_eb.colIndexArr[i];var _f2=_eb.colSpanArr[i]||1;for(var j=0;j<_ec.length;j++){if((_ec[j][0]<=_f1&&_f1<_ec[j][1])||(_ec[j][0]<=_f1+_f2-1&&_f1+_f2-1<_ec[j][1])||(_f1<=_ec[j][0]&&_ec[j][0]<_f1+_f2)||(_f1<=_ec[j][1]-1&&_ec[j][1]-1<_f1+_f2)){_ed[_ed.length]=i;_ef[_ef.length]=true;break;}}if(j==_ec.length){_ee[_ee.length]=i;_ef[_ef.length]=false;}}return {visibleTds:_ed,invisibleTds:_ee,visibilityArr:_ef};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype._setGridBorder=function(){try{if(_._G.isIE(8)){if(this.defaultColCnt==0){var _f4=this.colGroup.bodyColList[0].style.width;var _f5=(_f4=="1px"||_f4=="0px")?"0px":"";if(!this.leftMostTds){this.leftMostTds=[];var _f6=this.getElementById(this.id+"_head_table").getElementsByTagName("th");var _f7=this.hasFooter?this.getElementById(this.id+"_foot_table").getElementsByTagName("td"):[];for(var i=0;i<_f6.length;i++){if(_f6[i].getAttribute("colIndex")==0){this.leftMostTds.push(_f6[i]);}}for(var i=0;i<_f7.length;i++){if(_f7[i].getAttribute("colIndex")==0){this.leftMostTds.push(_f7[i]);}}}for(var i=0;i<this.leftMostTds.length;i++){this.leftMostTds[i].style.borderLeftWidth=_f5;this.leftMostTds[i].style.borderRightWidth=_f5;}if(this.all_data_td_list.length>0){if(!this.leftMostIndexArr){this.leftMostIndexArr=[];for(var i=0;i<this.oneRowDataLength;i++){if(this.all_data_td_list[i].getAttribute("colIndex")==0){this.leftMostIndexArr.push(i);}}}for(var i=0;i<this.leftMostIndexArr.length;i++){for(j=0;j<this.drawedRowLength;j++){var td=this.all_data_td_list[this.leftMostIndexArr[i]+j*this.oneRowDataLength];td.style.borderLeftWidth=_f5;td.style.borderRightWidth=_f5;}}}if(this.hasSubtotal&&this.drawedSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var td=this.drawedSubtotal[i][j].cells[0];if(td.cellIndex==0){td.style.borderLeftWidth=_f5;td.style.borderRightWidth=_f5;}}}}}if(!this._setGridBorderNoRefresh){var _fb=this.getElementById(this.id+"_dataLayer");var _fc=_fb.style.display;var _fd=document.activeElement;_fb.style.display="none";_fb.offsetHeight;_fb.style.display=_fc;if(document.activeElement!=_fd&&this.hasClass(_fd,this.options.bodyTdClass)){_fd.focus();}}}if(this.isIE6or7){if(!this.colIndexInfo){this.setColIndexInfo();}if(this.colGroup){this._setBorderFolding(this.all_data_td_list,this.colIndexInfo.body,this.drawedRowLength);if(!this.headerTds){this.headerTds=this.getElementById(this.id+"_head_table").getElementsByTagName("th");}this._setBorderFolding(this.headerTds,this.colIndexInfo.header);}if(this.hasFooter){if(!this.footerTds){this.footerTds=this.getElementById(this.id+"_foot_table").getElementsByTagName("td");}this._setBorderFolding(this.footerTds,this.colIndexInfo.footer);}if(this.hasSubtotal){this._setSubtotalBorder();}if(!this._setGridBorderNoRefresh){var _fb=this.getElementById(this.id+"_dataLayer");var _fe=_fb.style.filter;var _fd=document.activeElement;_fb.style.filter="alpha(opacity=99)";_fb.style.filter=_fe;if(document.activeElement!=_fd&&this.hasClass(_fd,this.options.bodyTdClass)){_fd.focus();}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype._setBorderFolding=function(_ff,_100,_101){try{if(!_ff||_101==0){return;}var _101=_101||1;var _102=_100.firstCoveredColIndex;var _103=this.oneRowDataLength+this.defaultColCnt;for(var i=0,len=_100.visibilityArr.length;i<len;i++){var _105=_100.colInfo.colIndexArr[i];var _106=_100.visibilityArr[i];var _107=_ff[i].style.borderWidth==="0px";if(_101>1){_107=_107||_ff[i+_103].style.borderWidth==="0px";}if(_105<_102&&!_106&&!_107){for(var j=0;j<_101;j++){_ff[i+j*_103].style.borderWidth="0px";}}else{if((_105>=_102||_106)&&_107){for(var j=0;j<_101;j++){_ff[i+j*_103].style.borderWidth="";_ff[i+j*_103].style.borderStyle="";}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype._setSubtotalBorder=function(){try{if(!this.drawedSubtotal){return;}var _109={};for(idx=0;idx<this.drawedSubtotal.length;idx++){var _10a=this.drawedSubtotal[idx];if(_109[_10a.targetID]){continue;}_109[_10a.targetID]=true;var _10b=this.colIndexInfo.subtotal[_10a.targetID];var _10c=_10b.firstCoveredColIndex;var col=0;for(var i=0;i<_10a.length;i++){var row=_10a[i];for(var j=0;j<row.cells.length;j++,col++){var _111=_10b.colInfo.colIndexArr[col];var _112=_10b.visibilityArr[col];var _113=row.cells[j].style.borderWidth==="0px";if(_111<_10c&&!_112&&!_113){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_10a.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="0px";}}}else{if((_111>=_10c||_112)&&_113){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_10a.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="";}}}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.handleWheel=function(e){var _116=e.detail;var _117=e.wheelDelta;var _118=e.wheelDeltaY;var _119=e.wheelDeltaX;var _11a=this.options.wheelRows;var _11b=0;var _11c=navigator.userAgent.indexOf("Windows")!=-1||false;var _11d=navigator.userAgent.indexOf("Macintosh")!=-1||false;if(this.options.groupbyZone){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_customFilter_scrollView")){_._F.stopPropagation(e);return;}}}if(_._G.isChrome()){_11b=_117<0?_117*-1:_117;if(_11c){_11a=(_11b/120)*_11a;}else{if(_11d){_11a=(_11b/120)*_11a;}}}else{if(_._G.isSafari()){_11b=_117<0?_117*-1:_117;if(_11c){_11a=(_11b/120)*_11a;}else{if(_11d){_11a=(_11b/12)*_11a;}}}else{if(_._G.isFF()){_11b=_116<0?_116*-1:_116;if(_11c){_11a=(_11b/3)*_11a;}else{if(_11d){_11a=_11b*_11a;}}}else{if(_._G.isOpera()){_11b=_117<0?_117*-1:_117;if(_11c){_11a=(_11b/120)*_11a;}else{if(_11d){_11a=(_11b/160)*_11a;}}}else{if(_._G.isIEAllVersion("8 9 10 11")){_11b=_117<0?_117*-1:_117;_11a=(_11b/120)*_11a;}}}}}_11a=Math.floor(_11a);if(("wheelDeltaX" in e)&&Math.abs(_119)>Math.abs(_118)){var _11f=this.getElementById(this.id+"_scrollX_right");_11f.scrollLeft-=_119;_._F.stopEvent(e);return;}var _120=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=true;if(_117>0||_116<0){if(_120.scrollTop==0){return;}_120.scrollTop=20*(this.rowIndex-_11a);}else{if(_117<0||_116>0){var _121=this.getElementById(this.id+"_scrollY_div");if(this.rowIndex<0||_121.clientHeight==0||_121.scrollTop==_121.scrollHeight-_121.clientHeight){return;}_120.scrollTop=20*(this.rowIndex+_11a);}}_._F.stopEvent(e);};_._a._f.prototype.handleColumnResize=function(e){try{this.handleResizeLine(e);if(this.columnMoveTarget!=null){return;}var it=this.event.getTargetIterator(e,this.render);var _124=null;while(it.next()){var el=it.getElement();if(el.tagName=="TH"||el.tagName=="TD"){_124=el;}if(el.tagName=="NOBR"){_124=null;break;}}this.getElementById(this.id+"_head_table").style.cursor="";this.getElementById(this.id+"_head_table").cursor="";if(_124==null){return;}var _126=_._F.getMouseX(e);var _127=_._v.getAbsoluteLeft(_124);var _128=parseInt(_124.getAttribute("colSpan")||1,10);var _129=parseInt(_124.getAttribute("colIndex"),0);var _12a=_127;if(_126-_12a<10&&_129!=0){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}for(var i=0;i<_128;i++){_12a+=parseInt(this.colGroup.bodyColList[_129+i].style.width);if(_12a-10<_126&&_126<_12a+10){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.doColumnResize=function(e){try{var _12d=_._F.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _12f=null;this.resize_colIndex=null;while(it.next()){if(it.match(this.options.headerTdClass)){_12f=it.getElement();}}if(_12f==null){return;}this.startResizeX=_._F.getScreenX(e);if(this.getElementById(this.id+"_head_table").cursor=="col-resize"){_._F.preventDefault(e);this.resizeStarted=true;var _130=_._F.getMouseX(e);var _131=_._v.getAbsoluteLeft(_12f);var _132=parseInt(_12f.getAttribute("colSpan")||1,10);var _133=_12f.getAttribute("header_id");var _134=this._getRealColIndex("head",_133)+this.defaultColCnt;if(_133=="_headerRowNumber"||_133=="_headerRowStatus"){_134=parseInt(_12f.getAttribute("colindex"),10);}var _135=_131;this.resizeColIndex=_134;if(_130-_135<10&&_134!=0){this.resizeColIndex--;}else{for(var i=0;i<_132;i++){_135+=parseInt(this.colGroup.bodyColList[_134+i].style.width);if(_135-10<_130&&_130<_135+10){this.resizeColIndex+=i;break;}}}}else{if(this.options.columnMove){var _133=_12f.getAttribute("header_id");var _137=this.htmlInfo.head.rowArr[0];var _138=true;for(var i=0;i<_137.length;i++){if(_137[i].id==_133){_138=false;break;}}if(_138||this.colMoveBolockedHeaderObj[_133]){return;}this.resizeStarted=false;if(_133!="_headerRowNumber"&&_133!="_headerRowStatus"){this.columnMoveTarget=this.getHeaderIndex(_133);this.columnMoveTargetId=_133;this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}else{if(this.options.groupbyZone){this.resizeStarted=false;var _133=_12f.getAttribute("header_id");if(_133!="_headerRowNumber"&&_133!="_headerRowStatus"){this.groupbyZoneStatus.clickedHeaderInfo={};this.groupbyZoneStatus.clickedHeaderInfo.index=this._getRealColIndex("head",_133);this.groupbyZoneStatus.clickedHeaderInfo.value=_12f.getAttribute("value");this.groupbyZoneStatus.clickedHeaderInfo.headerID=_133;if(this.groupbyStatus.sortIndexArr!=null&&this.groupbyStatus.sortOrderArr!=null){var _139=false;var _13a={};_13a.render=_12f;_13a.parentRender=this.render.getElementsByTagName("div")[0];_13a.headerID=_12f.getAttribute("header_id");_13a.headerIndex=this.getHeaderIndex(_13a.headerID);for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_13a.headerIndex==this.groupbyStatus.sortIndexArr[i]){_139=true;break;}}if(_139){if(this.groupbyFilterScrollView){this.toggleGroupbyFilterList(_13a);}else{this.createGroupbyFilterList(_13a);}}else{this.hideGroupbyFilterList();}}this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}}}this.handleResizeLine(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.endColumnResize=function(e){try{if(this.resizeStarted){this.endResizeX=_._F.getScreenX(e);var _13c=this.resizeColIndex||0;while(this.hiddenList[_13c]==true){_13c--;if(_13c<0){break;}}if(_13c>=0){var _13d=this.colWidthList[_13c];var _13e=_13d+this.endResizeX-this.startResizeX;_13e=(_13e<20)?20:_13e;this.setColumnWidth(_13c-this.defaultColCnt,_13e);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}else{if(this.columnMoveTarget!=null){var _13f=_._F.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _141=null;while(it.next()){if(it.match(this.options.headerTdClass)){_141=it.getElement();}}var _142;var _143=this.columnMoveTarget;if(_141!=null){var _144=_141.getAttribute("header_id");var _145=this.htmlInfo.head.rowArr[0];var _146=true;for(var i=0;i<_145.length;i++){if(_145[i].id==_144){_146=false;break;}}if(!_146){_142=this.getHeaderIndex(_144);}}else{_142=this.resize_colIndex;}if(_143!=null&&_143!=_142){this.moveColumn(_143,_142);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}else{if(this.groupbyZoneStatus.clickedHeaderInfo!=null){var it=this.event.getTargetIterator(e,this.render);var _148=null;while(it.next()){if(it.match("w2grid_groupbyZone")){_148=it.getElement();if(this.groupbyStatus.sortIndexArr==null){this.groupbyStatus.sortIndexArr=[];}if(this.groupbyStatus.sortOrderArr==null){this.groupbyStatus.sortOrderArr=[];}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyZoneStatus.clickedHeaderInfo.index==this.groupbyStatus.sortIndexArr[i]){this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<=this.groupbyStatus.sortIndexArr.length){_.logger.printLog("groupby max column count has been exceeded.");this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;return;}}this.groupbyStatus.sortIndexArr.push(this.groupbyZoneStatus.clickedHeaderInfo.index);this.groupbyStatus.sortOrderArr.push(1);var _149={};_149.sortIndex=this.groupbyStatus.sortIndexArr;_149.sortOrder=this.groupbyStatus.sortOrderArr;if(this.groupbyStatus.filter!=null){_149.filter=this.groupbyStatus.filter;}var _14a=_._F.fireEvent(this,"ongroupby",_149);if(_14a===false){var _14b=this.getColCnt()+this.defaultColCnt;_149.rowNumHeader={colSpan:_14b,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_149.footerVisible=false;_149.rowNumFooter={colSpan:_14b};this.groupby(_149);}if(this.groupbyFilterScrollView){this.hideGroupbyFilterList();}break;}}this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.handleResizeLine=function(e){try{var _14d=this.getElementById(this.id+"_resize_line");if(!this.resize_ghost){this.resize_ghost=document.createElement("div");this.resize_ghost.className="w2grid_columnMove_ghost";this.resize_ghost.style.display="none";document.body.appendChild(this.resize_ghost);this.resize_arrow=document.createElement("div");this.resize_arrow.className="w2grid_columnMove_arrow";this.resize_arrow.style.display="none";document.body.appendChild(this.resize_arrow);}if(this.resizeStarted){_14d.style.cssText="position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;";_14d.style.display="block";_14d.style.zIndex=100;_14d.style.top=0;_14d.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_14d.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}_14d.style.left=(_._F.getMouseX(e)-_._v.getAbsoluteLeft(this.render))+"px";this.resize_ghost.style.display="none";}else{if(this.columnMoveTarget!=null){var _14e=_._F.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _150=null;while(it.next()){if(it.match(this.options.headerTdClass)){_150=it.getElement();}}if(_150!=null){var _151=this.columnMoveTargetId;var _152=this.getHeaderIndex(_151);var _153=_150.getAttribute("header_id");var _154=this.getHeaderIndex(_153);var _155=this._getRealColIndex("head",_153);var _156=this.htmlInfo.head.rowArr[0];var _157=true;for(var i=0;i<_156.length;i++){if(_156[i].id==_153){_157=false;break;}}if(_157){return;}if(_153=="_headerRowNumber"||_153=="_headerRowStatus"||_152==_154){_14d.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}else{this.resize_colIndex=_154;var _159=null;if(this.colMoveBolockedHeaderObj[_153]){return;}else{for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_155){_159=this.bodyIdColIndexMap[this.htmlInfo.body.rowArr[i][j]["col_id"]];break;}}if(_159!==null){break;}}}var _15b=this.getElementById(this.id+"_head_table");var _15c=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _15d=_._v.getAbsoluteTop(this.render);var _15e=_._v.getAbsoluteLeft(this.render);var _15f=this.getCellPosition(0,_159,"left");var _160=this.getCellSize(0,_159,"width");var _161=_15f+(_152<_154?_160:0);this.resize_ghost.innerHTML=_15c[this.columnMoveTarget+this.defaultColCnt].innerHTML;this.resize_ghost.style.display="block";this.resize_ghost.style.top=(_15d+_15c[this.columnMoveTarget].offsetHeight+5)+"px";this.resize_ghost.style.left=(_15e+_161+5)+"px";this.resize_arrow.style.display="block";this.resize_arrow.style.top=(_15d-this.resize_arrow.offsetHeight)+"px";this.resize_arrow.style.left=(_15e+_161-parseInt(this.resize_arrow.offsetWidth/2,10)+1)+"px";_14d.style.display="block";_14d.style.zIndex=9999;_14d.style.border="1px solid #3a3f44";_14d.style.top=0;_14d.style.left=_161+"px";_14d.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_14d.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}}else{_14d.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype._setColumnWidth=function(_162,_163){try{this.autoFitColWidthList=null;if(this.hiddenList[_162]){this.colWidthList[_162]=_163;}else{var _164=(isNaN(this.colWidthList[_162]))?0:this.colWidthList[_162];this.colWidthList[_162]=_163;this.gridWidth+=(_163-_164);this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();var _165=_162-this.defaultColCnt;if(_165>=0){var _166=this.getCellInfo(_165);if(_166.options.inputType=="textarea"){this.drawColumnData(_165);}else{if((_166.options.inputType=="text"||_166.options.inputType=="secret")&&_166.options.embeddedInput){var _167=0;for(var i=0;i<=_165;i++){_166=this.getCellInfo(i);_167+=(_166.options.colSpan-0);if(_167-1==_165){_165=i;break;}}this.drawColumnData(_165);}}}this.handlerResize_drawInitializer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.setColumnVisible=function(_169,_16a){var _16a=_._G.getBoolean(_16a);var _16b=this.getCellInfo(_169);var _16c=this._getRealColIndex("body",_16b.options.col_id)+this.defaultColCnt;for(var i=0;i<_16b.options.colSpan;i++){this.hiddenList[_16c+i]=!_16a;}this.gridWidth=0;for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.gridWidth+=this.colWidthList[i];}}if(this.options.lazyDrawHiddenColumn&&_16a&&this.initVisibilityArr&&!this.initVisibilityArr[_16c]){var _16e=this.colIndexInfo.body.colInfo.colIndexArr;for(var i=0;i<_16e.length;i++){if(_16e[i]==_16c){for(var j=0;j<=this.lastIndex;j++){this.drawCellData(j,j+this.rowIndex,i-this.defaultColCnt);this.applyCellStyleOptions(j+this.rowIndex,i-this.defaultColCnt);}}}this.initVisibilityArr[_16c]=true;}_._h.setTimer(function(){this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();if(this.options.autoFit||this.autofitColumn){this._setAutoFit();}},{key:this.id+"_setColumnVisible",caller:this});};_._a._f.prototype.setScrollLeft=function(left){left=parseInt(left,10);try{var _171=this.getElementById(this.id+"_scrollX_right");_171.scrollLeft=left;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.setScrollTop=function(top){top=parseInt(top,10);try{this.scrollEvent=true;var _173=this.getElementById(this.id+"_scrollY_div");_173.scrollTop=top;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getScrollLeft=function(){try{var _174=this.getElementById(this.id+"_scrollX_right");return _174.scrollLeft;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getScrollTop=function(){try{var _175=this.getElementById(this.id+"_scrollY_div");return _175.scrollTop;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.setGridStyle=function(doc){if(doc.nodeType==9){doc=doc.documentElement;}var _177=this.getParent();if(_177&&_177.parentControl&&_177.parentControl.options.pluginName=="wframe"){_177=_177.parentControl;}_.idCache[this.id]=null;_.renderCache["G_"+this.id+"___input"]=null;_.renderCache["G_"+this.id+"___inputCalendar"]=null;this.remove();this["__removed_object__"]=true;var _178=_.controlFactory.create(null,null,doc);_178.writeTo(_177);_178.activate();};_._a._f.prototype.getGridStyle=function(){try{return _._t.serialize(this.element);}catch(e){_.exception.printStackTrace(e);}};_._a._f.prototype.setTableStruct=function(){this.headerXml=_._t.getElementsByTagName(this.element,"header",_._h._XML_NAMESPACE.W2)[0];this.bodyXml=_._t.getElementsByTagName(this.element,"gBody",_._h._XML_NAMESPACE.W2)[0];this.struct={head:this.xml2JSON(this.headerXml),body:this.xml2JSON(this.bodyXml)};this.updateStruct(this.struct.head.rowArr);this.updateStruct(this.struct.body.rowArr);this.footerXml=_._t.getElementsByTagName(this.element,"footer",_._h._XML_NAMESPACE.W2)[0];if(this.footerXml){this.hasFooter=true;this.struct.foot=this.xml2JSON(this.footerXml);this.updateStruct(this.struct.foot.rowArr);}this.subtotalXmlArr=_._t.getElementsByTagName(this.element,"subTotal",_._h._XML_NAMESPACE.W2);if(this.subtotalXmlArr.length>0){this.hasSubtotal=true;this.drawedSubtotal=[];this.struct.subtotalArr=[];for(var i=0;i<this.subtotalXmlArr.length;i++){var obj=this.xml2JSON(this.subtotalXmlArr[i]);this.struct.subtotalArr.push(obj);this.struct.subtotalArr[obj.attr.id]=obj;this.updateStruct(obj.rowArr);}}this.setCss();this.setColArr();this.htmlInfo={head:this.getHeaderHtmlInfo(),body:this.getBodyHtmlInfo()};if(this.footerXml){this.htmlInfo.foot=this.getFooterHtmlInfo();}if(this.subtotalXmlArr.length>0){this.htmlInfo.subtotalArr=[];this.subtotalStrList={};for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=this.getSubtotalHtmlInfo(this.struct.subtotalArr[i]);this.htmlInfo.subtotalArr.push(obj);this.htmlInfo.subtotalArr[obj.attr.id]=obj;this.subtotalStrList[obj.attr.targetColumnID]=obj;}}this.captionXml=_._t.getElementsByTagName(this.element,"caption",_._h._XML_NAMESPACE.W2)[0];var _17b=this.getColCnt();this.columnOrder=[];for(var i=0;i<_17b;i++){this.columnOrder.push(i);}};_._a._f.prototype.updateStruct=function(_17c){var cnt=0;var map=[];var _17f=this.getColCnt();for(var i=0;i<_17c.length;i++){var row=[];for(var j=0;j<_17f;j++){row.push(null);}map.push(row);}for(var i=0;i<_17c.length;i++){for(var j=0;j<_17c[i].length;j++){var col;for(col=0;col<map[i].length;col++){if(map[i][col]===null){break;}}var cell=_17c[i][j];cell["@col"]=col;var _185=cell["colSpan"]||cell["colspan"]||1;var _186=cell["rowSpan"]||cell["rowspan"]||1;for(var k=0;k<_186;k++){for(var l=0;l<_185;l++){map[i+k][col+l]=cnt;}}cnt++;}}};_._a._f.prototype._getRealColIndex=function(type,id){for(var i=0;i<this.htmlInfo[type].rowArr.length;i++){for(var j=0;j<this.htmlInfo[type].rowArr[i].length;j++){if(this.htmlInfo[type].rowArr[i][j]["col_id"]==id){return this.htmlInfo[type].rowArr[i][j]["@col"];}}}return null;};_._a._f.prototype._moveColumn=function(_18d,_18e,_18f,_190,_191,_192){var _18e=_18e||"td";var _193=_18d[_18f].getElementsByTagName(_18e);var _194=_193[_190];_194.parentNode.removeChild(_194);var _195=_18d[_191].getElementsByTagName(_18e);if(_192<_195.length){var toTd=_195[_192];toTd.parentNode.insertBefore(_194,toTd);}else{_18d[_191].appendChild(_194);}};_._a._f.prototype.moveBodyColumn=function(_197,_198,_199,_19a){var tmp=this.htmlInfo.body.rowArr[_197].splice(_198,1);this.htmlInfo.body.rowArr[_199].splice(_19a,0,tmp[0]);this.updateStruct(this.htmlInfo.body.rowArr);_198+=_197==0?this.defaultColCnt:0;_19a+=_199==0?this.defaultColCnt:0;var _19c=this.getElementById(this.id+"_body_tbody");for(var i=0;i<this.drawedRowLength;i++){var _19e=[];for(var j=0;j<this.oneRowLength;j++){_19e.push(_19c.rows[i*this.oneRowLength+j]);}this._moveColumn(_19e,"td",_197,_198,_199,_19a);}};_._a._f.prototype.moveHeadColumn=function(_1a0,_1a1,_1a2,_1a3){var tmp=this.htmlInfo.head.rowArr[_1a0].splice(_1a1,1);this.htmlInfo.head.rowArr[_1a2].splice(_1a3,0,tmp[0]);this.updateStruct(this.htmlInfo.head.rowArr);_1a1+=_1a0==0?this.defaultColCnt:0;_1a3+=_1a2==0?this.defaultColCnt:0;var _1a5=this.getElementById(this.id+"_head_table");this._moveColumn(_1a5.rows,"th",_1a0,_1a1,_1a2,_1a3);};_._a._f.prototype.moveColumn=function(_1a6,_1a7){if(_1a6==_1a7){return;}var _1a8=this.getHeaderID(_1a6);var _1a9=this._getRealColIndex("head",_1a8)+this.defaultColCnt;var _1aa=this.headerToBodyRelation[_1a8];if(!_1aa||this.colMoveBolockedHeaderObj[_1a8]){return;}var _1ab=this.colMoveIndexMap[_1aa];var _1ac=this._getRealColIndex("body",_1aa)+this.defaultColCnt;var _1ad=this.getHeaderID(_1a7);var _1ae=this.headerToBodyRelation[_1ad];var _1af;if(!_1ae||this.colMoveBolockedHeaderObj[_1ad]){return;}var _1b0=this._getRealColIndex("head",_1ad)+this.defaultColCnt;var _1b1=this.colMoveIndexMap[_1ae];var _1b2=this.colIndexes.bodyColInfo.colIndexArr[_1b1+this.defaultColCnt];var _1b3=[];var _1b4=_1ac-this.defaultColCnt;for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_1b4){_1b3.push({row:i,col:j});}}}var _1b7=_1b2-this.defaultColCnt;for(var i=0;i<_1b3.length;i++){var _1b8=null;for(var j=0;j<this.htmlInfo.body.rowArr[_1b3[i].row].length;j++){if(this.htmlInfo.body.rowArr[_1b3[i].row][j]["@col"]==_1b7){_1b8=j;break;}}if(_1b8!==null){this.moveBodyColumn(_1b3[i].row,_1b3[i].col,_1b3[i].row,_1b8);}else{this.moveBodyColumn(_1b3[i].row,_1b3[i].col,_1b3[i].row,_1b1);}}var _1b3=[];var _1b9=_1a9-this.defaultColCnt;for(var i=0;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j]["@col"]==_1b9){_1b3.push({row:i,col:j});}}}var _1ba=_1b0-this.defaultColCnt;for(var i=0;i<_1b3.length;i++){var _1b8=null;for(var j=0;j<this.htmlInfo.head.rowArr[_1b3[i].row].length;j++){if(this.htmlInfo.head.rowArr[_1b3[i].row][j]["@col"]==_1ba){_1b8=j;break;}}if(_1b8!==null){this.moveHeadColumn(_1b3[i].row,_1b3[i].col,_1b3[i].row,_1b8);}else{this.moveHeadColumn(_1b3[i].row,_1b3[i].col,_1b3[i].row,_1a7);}}var _1bb=function(arr,from,to){var tmp=arr.splice(from,1);arr.splice(to,0,tmp[0]);};if(this.initVisibilityArr!=undefined){for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){_1bb(this.initVisibilityArr,_1ac+i*this.getColCnt(),_1b2+i*this.getColCnt());}}_1bb(this.columnOrder,_1ac-this.defaultColCnt,_1b2-this.defaultColCnt);_1bb(this.colIndexInfo.body.colInfo.colIndexMatch,_1ac,_1b2);_1bb(this.colWidthList,_1ac,_1b2);_1bb(this.hiddenList,_1a9,_1b0);for(var id in this.colMoveIndexMap){if(this.colMoveIndexMap[id]==_1ab){this.colMoveIndexMap[id]=_1b1;}else{if(_1ab<_1b1){if(_1ab<this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]<=_1b1){this.colMoveIndexMap[id]-=1;}}else{if(_1ab>_1b1){if(_1ab>this.colMoveIndexMap[id]&&this.colMoveIndexMap[id]>=_1b1){this.colMoveIndexMap[id]+=1;}}}}}this.arrangeOverflowXScroll();this._handleScrollX();};_._a._f.prototype.setColumnOrder=function(_1c1){var _1c2=this.getColCnt();var _1c3=[];if(typeof _1c1=="string"){_1c1=_1c1.split(",");}for(var i=0;i<_1c1.length;i++){if(this.bodyIdColIndexMap[_1c1[i]]!=null){_1c1[i]=this.bodyIdColIndexMap[_1c1[i]];}_1c1[i]=Number(_1c1[i]);if(typeof _1c1[i]!="number"){$l(this.id+".setColumnOrder : wrong column order array.");return;}_1c3[_1c1[i]]=true;}for(var i=0;i<_1c2;i++){if(!_1c3[i]){_1c1.push(i);}}if(_1c2!=_1c1.length){$l(this.id+".setColumnOrder : wrong column order array.");return;}for(var i=0;i<_1c2;i++){for(var j=i;j<_1c2;j++){if(this.columnOrder[j]==_1c1[i]){break;}}if(i!=j){this.moveColumn(j,i);}}};_._a._f.prototype.getColumnOrder=function(_1c6){if(_1c6){var _1c7=[];var _1c8=this.colIndexInfo.body.colInfo.colIndexMatch;for(var i=this.defaultColCnt;i<_1c8.length;i++){if(_1c8[i].length==0){$l(this.id+".getColumnOrder : use getColumnOrder(false). cannot express column order by name.");return;}_1c7.push(this.tdIdList[_1c8[i][0]-this.defaultColCnt]);}return _1c7;}return this.columnOrder.slice(0);};_._a._f.prototype.handleGroupbyZoneClick=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_column")){var _1cc=it.getElement();var _1cd={};_1cd.render=_1cc;_1cd.parentRender=this.render.getElementsByTagName("div")[0];_1cd.headerID=_1cc.getAttribute("header_id");_1cd.headerIndex=this.getHeaderIndex(_1cd.headerID);this.toggleGroupbyFilterList(_1cd);_._F.stopEvent(e);break;}if(it.match("w2grid_groupbyZone_column_closeButtonImg")){var _1cc=it.getElement();this.hideGroupbyFilterList();this.ungroupColumn(_1cc.getAttribute("col_id"));break;}if(it.match("w2grid_groupbyZone")){this.hideGroupbyFilterList();_._F.stopEvent(e);break;}}};_._a._f.prototype.toggleGroupbyFilterList=function(_1ce){var _1cf=_1ce.render;var _1d0=_1cf.tagName;var _1d1=_1ce.headerIndex;if(typeof this.groupbyZoneStatus.beforeOpenedColIndex=="number"){if(_1d1==this.groupbyZoneStatus.beforeOpenedColIndex&&_1d0==this.groupbyZoneStatus.beforeOpenedColTagName){if(this.groupbyFilterScrollView.render.style.display=="block"){this.hideGroupbyFilterList();}else{this.showGroupbyFilterList(_1ce,true);}}else{this.showGroupbyFilterList(_1ce,true);}}else{this.createGroupbyFilterList(_1ce);}};_._a._f.prototype.createGroupbyFilterList=function(_1d2){var _1d3=_1d2.render;var _1d4=_1d2.parentRender;var _1d5=_1d2.headerIndex;var _1d6=_1d2.headerID;this.groupbyStatus.filter={};if(!this.groupbyFilterList&&!this.groupbyFilterScrollView){var _1d7="";_1d7+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_groupbyZone_scrollView'>";_1d7+="</w2:scrollView>";var _1d8=_._t.parse(_1d7,true);scrollViewXML=_1d8.documentElement;_._t.setAttribute(scrollViewXML,"bounce",false);_._t.setAttribute(scrollViewXML,"horizontalScroll",false);_._t.setAttribute(scrollViewXML,"paging",false);_._t.setAttribute(scrollViewXML,"scrollType","auto");_._t.setAttribute(scrollViewXML,"showHorizontalScroll",false);_._t.setAttribute(scrollViewXML,"showVerticalScroll",false);_._t.setAttribute(scrollViewXML,"verticalScroll",false);this.groupbyFilterScrollView=new _._a._l(this.id+"_groupbyZone_scrollView","",scrollViewXML);var _1d9="";_1d9+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_groupbyZone_list'>";_1d9+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_groupbyZone_list_listRow'>";_1d9+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_groupbyZone_list_listColumn_checkbox'/>";_1d9+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_groupbyZone_list_listColumn_text'/>";_1d9+="\t</w2:listRow>";_1d9+="</w2:list>";var _1da=_._t.parse(_1d9,true);var _1db=_1da.documentElement;this.groupbyFilterList=new _._a.ad(this.id+"_groupbyZone_list","",_1db);this.groupbyFilterScrollView.addControl(this.groupbyFilterList);this.groupbyFilterScrollView.writeTo(this);this.groupbyFilterScrollView.activate();var _1dc=this;this.groupbyFilterScrollView.event.addListener(this.groupbyFilterScrollView.render,"onclick",this.groupbyFilterScrollView.event.bindAsEventListener(this.groupbyFilterList,function(e){_._F.stopPropagation(e);var _1de;if(_._G.isIE()){_1de=e.srcElement;}else{_1de=e.target;}var _1df=_1de.parentNode;var _1e0=_1dc.getHeaderID(this.headerIndex);var _1e1=_1dc.getColumnID(this.headerIndex);if(_1de.className.match("w2grid_groupbyZone_list_listRow")){_1df=_1de;_1de=_1df.firstChild;for(var i=0;i<this.getLength();i++){if(_1df==this.render.childNodes[i]){this.setCellData(i,"id1",!_1de.checked);break;}}}if(_1df==this.render.childNodes[0]){_1dc.hideGroupbyFilterList();if(_1de.className.match("w2grid_groupbyZone_list_listColumn_checkbox")){if(_1de.checked){if(_1dc.dataFilter.firstOpenCustomFilter[_1e0]){_1dc.dataFilter.headerID=_1e0;_1dc.dataFilter.targetColID=_1e1;_1dc.dataFilter.setCustomFilterExpression();return;}else{if(!_1dc.dataFilter.firstOpenCustomFilter[_1e0]){_1dc.dataFilter.firstOpenCustomFilter[_1e0]=true;}_1dc.dataFilter.showCustomFilter(_1e0);return;}}else{_1dc.dataFilter.customFilterStatusObj[_1e0]=false;_1dc.removeColumnFilter(_1e1);for(var key in _1dc.dataFilter.customFilterStatusObj){if(_1dc.dataFilter.customFilterStatusObj[key]){return;}}for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_1de.className.match("w2grid_groupbyZone_list_listColumn_text")){_1dc.dataFilter.showCustomFilter(_1e0);return;}}}else{this.setCellData(0,"id1",false);_1dc.dataFilter.customFilterStatusObj[_1e0]=false;if(_1df==this.render.childNodes[1]){var _1e4=_1de.checked;for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",_1e4);}}}_1dc.groupbyStatus.filter[_1e1]=[];var data=this.getAllData();for(var i=2;i<data.length;i++){if(data[i]["id1"]){var sReg=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_1dc.groupbyStatus.filter[_1e1].push(data[i]["id2"].replace(sReg,function(m){return _1dc.dataFilter.replacechar(m);}));}}var _1e8=this.getLength()-2;if(_1e8>_1dc.groupbyStatus.filter[_1e1].length&&_1dc.groupbyStatus.filter[_1e1].length>0){this.setCellData(1,"id1",false);}else{if(_1dc.groupbyStatus.filter[_1e1].length==_1e8){this.setCellData(1,"id1",true);}}var _1e9={};_1e9.sortIndex=_1dc.groupbyStatus.sortIndexArr;_1e9.sortOrder=_1dc.groupbyStatus.sortOrderArr;if(_1dc.groupbyStatus.filter!=null){_1e9.filter=_1dc.groupbyStatus.filter;}var _1ea=_._F.fireEvent(_1dc,"ongroupby",_1e9);if(_1ea===false){var _1eb=_1dc.getColCnt()+_1dc.defaultColCnt;_1e9.rowNumHeader={colSpan:_1eb,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_1e9.footerVisible=false;_1e9.rowNumFooter={colSpan:_1eb};_1dc.groupby(_1e9);}}));}var _1ec=this.getGroupbyDepthInfo(_1d2);var _1ed=_1d3.clientWidth;var _1ee=_1ec.length*21;var _1ef=_1ed;this.groupbyFilterScrollViewRenderHeight=this.options.groupbyListVisibleRowNum*21;var _1f0=_._v.getRelativeTop(_1d3,_1d4)+_1d3.offsetHeight;var _1f1=_._v.getRelativeLeft(_1d3,_1d4);var _1f2;if(this.groupbyFilterScrollViewRenderHeight>_1ee){_1f2=_1ee;}else{_1f2=this.groupbyFilterScrollViewRenderHeight;_1ed-=this.getElementById(this.id+"_size_y").clientWidth;}this.groupbyFilterScrollView.setPosition(_1f1,_1f0);this.groupbyFilterScrollView.setSize(_1ef,_1f2);this.groupbyFilterList.setSize(_1ed,_1ee);this.groupbyFilterList.setJSON(_1ec);this.groupbyFilterList.currentHeaderID=_1d6;this.groupbyFilterList.headerIndex=_1d5;_._v.show(this.groupbyFilterScrollView.render);this.groupbyZoneStatus.beforeOpenedColIndex=_1d5;this.groupbyZoneStatus.beforeOpenedColTagName=_1d3.tagName;};_._a._f.prototype.showGroupbyFilterList=function(_1f3,_1f4){var _1f5=_1f3.render;var _1f6=_1f3.headerIndex;this.groupbyFilterList.currentHeaderID=_1f3.headerID;this.groupbyFilterList.headerIndex=_1f6;this.groupbyZoneStatus.beforeOpenedColIndex=_1f6;this.groupbyZoneStatus.beforeOpenedColTagName=_1f5.tagName;_._v.show(this.groupbyFilterScrollView.render);if(_1f4){var _1f7=this.getGroupbyDepthInfo(_1f3);this.groupbyFilterList.setJSON(_1f7);var _1f8=_1f3.parentRender;var _1f9=_1f5.clientWidth;var _1fa=_1f9;var _1fb=_1f7.length*21;var _1fc;var _1fd=_._v.getRelativeTop(_1f5,_1f8)+_1f5.offsetHeight;var _1fe=_._v.getRelativeLeft(_1f5,_1f8);if(this.groupbyFilterScrollViewRenderHeight>_1fb){_1fc=_1fb;}else{_1fc=this.groupbyFilterScrollViewRenderHeight;_1f9-=this.getElementById(this.id+"_size_y").clientWidth;}this.groupbyFilterList.setSize(_1f9,_1fb);this.groupbyFilterScrollView.setPosition(_1fe,_1fd);this.groupbyFilterScrollView.setSize(_1fa,_1fc);}};_._a._f.prototype.hideGroupbyFilterList=function(){try{if(this.groupbyFilterScrollView){_._v.hide(this.groupbyFilterScrollView.render);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getGroupbyDepthInfo=function(_1ff){var _200=_1ff.headerIndex;var _201=this.getColumnID(_200);var _202=_1ff.headerID;var _203;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_200==this.groupbyStatus.sortIndexArr[i]){_203=i;}}var _205=[];this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj?this.groupbyStatus.groupbyDepthInfoObj:{};if(this.groupbyStatus.groupbyDepthInfoObj[_201]){_205=this.groupbyStatus.groupbyDepthInfoObj[_201];}else{_205=this.createGroupbyDepthInfo(_203);this.groupbyStatus.groupbyDepthInfoObj[_201]=_205;}var _206=[];var _207=this.groupbyStatus.filter[_201];if(_207||_207==""){if(_207.length==0){_207=[];}else{if(_207.length>0){_207=this.groupbyStatus.filter[_201];}}}_206.push({id1:false,id2:"\uc0ac\uc6a9\uc790\ud544\ud130"});_206.push({id1:false,id2:"\uc804\uccb4\uc120\ud0dd"});var _208=false;for(var key in this.dataFilter.customFilterStatusObj){if(this.dataFilter.customFilterStatusObj[key]){_208=true;break;}}for(var i=0;i<_205.length;i++){var _20a={};var _20b=_205[i];var _20c=true;if(_208){_20c=false;}else{if(_207){_20c=false;for(var j=0;j<_207.length;j++){if(_20b==_207[j].replaceAll("\\","")){_20c=true;}}}}_20a["id1"]=_20c;_20a["id2"]=_205[i];_206.push(_20a);}if(_208){if(this.dataFilter.customFilterStatusObj[_202]){_206[0].id1=true;}}else{_206[1].id1=true;if(_207){if(_207.length==_205.length){_206[1].id1=true;}else{_206[1].id1=false;}}}return _206;};_._a._f.prototype.showGroupbyZoneMessage=function(){try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _20e=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_20e){_._v.show(_20e);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.hideGroupbyZoneMessage=function(){try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _20f=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_20f){_._v.hide(_20f);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.syncWithGroupbyZone=function(){try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){this.clearGroupbyZone();var _210=this.groupbyStatus.sortIndexArr;for(var i=0;i<_210.length;i++){var _212=_210[i];var id=this.getHeaderID(_212);var _214=this.getColumnID(_212);var _215=document.createElement("div");_215.setAttribute("header_id",id);_215.className="w2grid_groupbyZone_column";var _216=document.createElement("div");_216.className="w2grid_groupbyZone_column_closeButtonDiv";var _217=document.createElement("div");_217.className="w2grid_groupbyZone_column_closeButtonImg";_217.setAttribute("col_id",_214);var _218=document.createElement("div");_218.className="w2grid_groupbyZone_column_labelDiv";var _219=document.createElement("span");_219.innerHTML=this.getHeaderValue(id);_218.appendChild(_219);_216.appendChild(_217);_215.appendChild(_218);_215.appendChild(_216);this.groupbyZoneStatus.groupbyZoneRender.appendChild(_215);_219.style.marginTop=-_219.offsetHeight/2+"px";_219.style.marginLeft=-_219.offsetWidth/2+(_216.offsetWidth/2-_217.offsetWidth/2)+"px";_219.className="w2grid_groupbyZone_column_value";_217.style.marginTop=-_217.offsetHeight/2+"px";_217.style.marginLeft=-_217.offsetWidth/2+"px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.clearGroupbyZone=function(){try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){var _21a=this.groupbyZoneStatus.groupbyZoneRender;var _21b=_21a.childNodes;var _21c=[];for(var i=0;i<_21b.length;i++){if(_21b[i].className.match("w2grid_groupbyZone_column")!=null){_21c.push(_21b[i]);}}for(var i=0;i<_21c.length;i++){_21a.removeChild(_21c[i]);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.handleChangeGroupDepth=function(e){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2grid_groupbyZone_column")){this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}var _220=it.getElement();var _221=_220.getAttribute("header_id");var _222=this.getHeaderIndex(_221);var _223=this.getHeaderValue(_221);var _224=this;_._A.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_column_drag",contents:_223,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){var _22c=null;if(this.isMobile){_22c=new _.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_22c=_224.event.getTargetIterator(e);}var _22d;while(_22c.next()){if(_22c.match("w2grid_groupbyZone_column")){_22d=_224.getHeaderIndex(_22c.getElement().getAttribute("header_id"));break;}if(_22c.match("w2grid_groupbyZone")){var _22e=_224.groupbyStatus.sortIndexArr;_22d=_22e[_22e.length-1];break;}if(_22c.match(null,null,"body")){return;}}if(_222==_22d){return;}_224.removeClass("w2noselect");_224.hideGroupbyFilterList();_224.changeGroupDepth(_222,_22d);}});return;}}};_._a._f.prototype.createContextMenu=function(info){var _230="";_230+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='' class='w2grid_contextMenu'>";_230+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_contextMenu_row'>";_230+="\t\t<w2:listColumn id='col1' inputType='text' style='padding-left: 10px' class='w2grid_contextMenu_column'/>";_230+="\t</w2:listRow>";_230+="</w2:list>";var _231=_._t.parse(_230,true);var _232=_231.documentElement;this.contextMenu=new _._a.ad(this.id+"_contextMenu_list","",_232);this.contextMenu.writeTo(_.getBody());this.contextMenu.activate();var _233=this;this.contextMenu.event.addListener(this.contextMenu.render,"onclick",function(e){_._F.stopPropagation(e);var it=_233.event.getTargetIterator(e,this.render);var list=_233.contextMenu;var _237;while(it.next()){if(it.match("w2grid_contextMenu_column")){_237=it.getElement().parentNode;break;}if(it.match("w2grid_contextMenu_row")){_237=it.getElement();break;}if(it.match("w2grid_contextMenu")){break;}}var _238;for(var i=0;i<list.getLength();i++){if(_237==list.render.childNodes[i]){_238=i;break;}}_233.callSelectedAPI(list.getRowData(i).col1,list.info);_233.hideContextMenu();list.info=null;});var _23a=this.getContextMenuData(info);var _23b=_23a.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_23b);this.contextMenu.setPosition(_._F.getMouseX(info.e),_._F.getMouseY(info.e));this.contextMenu.setJSON(_23a);this.contextMenu.info=info;};_._a._f.prototype.getContextMenuData=function(info){var _23d=[];var _23e=true;if(this.groupbyStatus.grouped){for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==info.colIndex){_23d.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c"});_23e=false;break;}}}if(_23e){_23d.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9"});}_23d.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30"});if(this.options.fixedColumn==0||this.options.fixedColumn-1<info.colIndex){_23d.push({"col1":"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815"});}_23d.push({"col1":"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30"});for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_23d.push({"col1":"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c"});break;}}if(this.options.fixedColumn>0){_23d.push({"col1":"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c"});}_23d.push({"col1":"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30"});if(this.groupbyStatus.grouped){_23d.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30"});_23d.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30"});_23d.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c"});}return _23d;};_._a._f.prototype.showContextMenu=function(info){var _241=this.getContextMenuData(info);var _242=_241.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_242);this.contextMenu.setPosition(_._F.getMouseX(info.e),_._F.getMouseY(info.e));this.contextMenu.setJSON(_241);this.contextMenu.info=info;};_._a._f.prototype.hideContextMenu=function(){if(this.contextMenu){this.contextMenu.hide();}};_._a._f.prototype.callSelectedAPI=function(type,info){switch(type){case "\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30":this.setColumnVisible(info.colIndex,false);if(this.groupbyStatus.grouped){this.ungroupColumn(info.colIndex);}break;case "\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c":for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){this.setColumnVisible(i-this.defaultColCnt,true);}}break;case "\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815":this.setFixedColumn(parseInt(info.colIndex,10)+1);break;case "\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c":this.setFixedColumn(0);break;case "\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30":if(!this.autofitColumn){var _246={"type":"selectedColumn","colIndex":info.colIndex};this.setAutoFit(_246);}break;case "\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30":var _246={"type":"allColumn"};this.setAutoFit(_246);break;case "\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30":if(this.groupbyStatus.grouped){this.foldAll();}break;case "\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30":if(this.groupbyStatus.grouped){this.unfoldAll();}break;case "\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c":if(this.groupbyStatus.grouped){this.clearGroupby();}break;case "\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c":this.ungroupColumn(info.colIndex);break;case "\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9":if(this.groupbyStatus.grouped){var _246={};_246.sortIndex=this.groupbyStatus.sortIndexArr;_246.sortOrder=this.groupbyStatus.sortOrderArr;_246.sortIndex.push(info.colIndex);_246.sortOrder.push(1);var _247=_._F.fireEvent(this,"ongroupby",_246);if(_247===false){_246=_.extend({},this.groupbyDisplayOptions);_246.sortIndex=this.groupbyStatus.sortIndexArr;_246.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_246);}}else{var _246={};_246.sortIndex=[info.colIndex];_246.sortOrder=[1];var _247=_._F.fireEvent(this,"ongroupby",_246);if(_247===false){var _248=this.getColCnt()+this.defaultColCnt;_246.rowNumHeader={colSpan:_248,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_246.rowNumFooter={colSpan:_248};this.groupby(_246);}}break;}};_._a._f.prototype.createCustomFilterList=function(_249){var _24a=this.headerToBodyRelation[_249];var _24b=this.getCellInfo(_24a);var _24c=this.getColumnIndex(_24a);var _24d="";_24d+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_customFilter_scrollView'>";_24d+="</w2:scrollView>";var _24e=_._t.parse(_24d,true);scrollViewXML=_24e.documentElement;_._t.setAttribute(scrollViewXML,"bounce",false);_._t.setAttribute(scrollViewXML,"horizontalScroll",false);_._t.setAttribute(scrollViewXML,"paging",false);_._t.setAttribute(scrollViewXML,"scrollType","auto");_._t.setAttribute(scrollViewXML,"showHorizontalScroll",false);_._t.setAttribute(scrollViewXML,"showVerticalScroll",false);_._t.setAttribute(scrollViewXML,"verticalScroll",false);this.customFilterScrollView=new _._a._l(this.id+"_customFilter_scrollView","",scrollViewXML);var _24f="";_24f+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_customFilter_list'>";_24f+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_customFilter_list_listRow'>";_24f+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_customFilter_list_listColumn_checkbox'/>";_24f+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_customFilter_list_listColumn_text'/>";_24f+="\t</w2:listRow>";_24f+="</w2:list>";var _250=_._t.parse(_24f,true);var _251=_250.documentElement;this.customFilterList=new _._a.ad(this.id+"_customFilter_list","",_251);this.customFilterScrollView.addControl(this.customFilterList);this.customFilterScrollView.writeTo(this);this.customFilterScrollView.activate();var _252=this;this.customFilterScrollView.event.addListener(this.customFilterScrollView.render,"onclick",this.customFilterScrollView.event.bindAsEventListener(this.customFilterList,function(e){_._F.stopPropagation(e);var _254;if(_._G.isIE()){_254=e.srcElement;}else{_254=e.target;}var _255=_254.parentNode;if(_254.className.match("w2grid_customFilter_list_listRow")){_255=_254;_254=_255.firstChild;for(var i=0;i<this.getLength();i++){if(_255==this.render.childNodes[i]){this.setCellData(i,"id1",!_254.checked);break;}}}var _257=_252.customFilterList.currentHeaderID;var _258=_252.headerToBodyRelation[_257];var _259=_252.getColumnIndex(_258);if(_255==this.render.childNodes[0]){if(_254.className.match("w2grid_customFilter_list_listColumn_checkbox")){if(_254.checked){if(_252.dataFilter.firstOpenCustomFilter[_257]){_252.dataFilter.headerID=_257;_252.dataFilter.targetColID=_258;_252.dataFilter.setCustomFilterExpression();delete _252.customFilterList.customFilterListFilterInfo[_258];for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",false);}return;}else{_252.hideCustomFilterList();if(!_252.dataFilter.firstOpenCustomFilter[_257]){_252.dataFilter.firstOpenCustomFilter[_257]=true;}_252.dataFilter._showCustomFilter(_257);return;}}else{_252.dataFilter.customFilterStatusObj[_257]=false;_252.removeColumnFilter(_258);for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_254.className.match("w2grid_customFilter_list_listColumn_text")){_252.dataFilter._showCustomFilter(_257);return;}}}else{this.setCellData(0,"id1",false);_252.dataFilter.customFilterStatusObj[_257]=false;if(_255==this.render.childNodes[1]){var _25a=_254.checked;for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",_25a);}}}var _25b=[];for(var i=2;i<this.getLength();i++){if(this.getCellData(i,"id1")){_25b.push(this.getCellData(i,"id2"));}}_25b=_252.changeItemValue("value",_258,_25b);var _25c=_25b.length==0?"/^[a-z0-9_-]{3,16}$/":_25b.join("|");_25c=" "+_25c.replaceAll("|"," | ")+" ";if(_24b.options.dataType=="number"){regexp=new RegExp(_25c);}else{regexp=new RegExp(_25c,"gi");}_252.removeColumnFilter(_259);_252.setColumnFilter({type:"regExp",colIndex:_259,key:regexp,condition:"and"});_252.customFilterList.customFilterListFilterInfo[_258]=_25b;var _25d=this.getLength()-2;if(_25b.length<_25d){this.setCellData(1,"id1",false);}else{if(_25b.length==_25d){this.setCellData(1,"id1",true);}}if(!this.getCellData(0,"id1")){var _25e=_252.getElementById(_252.id+"_"+_257+"_filter");_._v.removeClass(_25e,"w2grid_customFilter_filter");}}));var _25f=this.getCustomFilterListJSON({colID:_24a,headerID:_249});var _260=this.getElementById(this.id+"_"+_249);var _261=_260.clientWidth;var _262=_25f.length*21;var _263=_261;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _264=_._v.getRelativeTop(_260,this.render)+_260.offsetHeight+1;var _265=_._v.getRelativeLeft(_260,this.render);var _266;if(this.customFilterScrollViewRenderHeight>_262){_266=_262;}else{_266=this.customFilterScrollViewRenderHeight;_261-=this.getElementById(this.id+"_size_y").clientWidth;}this.customFilterScrollView.setPosition(_265,_264);this.customFilterScrollView.setSize(_263,_266);this.customFilterList.setSize(_261,_262);this.customFilterList.setJSON(_25f);this.customFilterList.currentHeaderID=_249;this.customFilterList.customFilterListFilterInfo={};_._v.show(this.customFilterScrollView.render);};_._a._f.prototype.toggleCustomFilterList=function(_267){try{if(this.customFilterScrollView&&this.customFilterList){if(this.customFilterScrollView.render.style.display=="none"){this.moveCustomFilterList(_267);}else{if(this.customFilterList.currentHeaderID!=_267){this.moveCustomFilterList(_267);}else{this.hideCustomFilterList();}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.showCustomFilterList=function(info,_269){try{if(this.customFilterScrollView&&this.customFilterList){if(_269){var _26a=this.getElementById(this.id+"_"+info.headerID);var _26b=_26a.clientWidth;var _26c=info.dataLength*21;var _26d=_26b;this.customFilterScrollViewRenderHeight=this.options.customFilterListVisibleRowNum*21;var _26e=_._v.getRelativeTop(_26a,this.render)+_26a.offsetHeight+1;var _26f=_._v.getRelativeLeft(_26a,this.render);var _270;if(this.customFilterScrollViewRenderHeight>_26c){_270=_26c;}else{_270=this.customFilterScrollViewRenderHeight;_26b-=this.getElementById(this.id+"_size_y").clientWidth;}this.customFilterScrollView.setPosition(_26f,_26e);this.customFilterScrollView.setSize(_26d,_270);this.customFilterList.setSize(_26b,_26c);}this.customFilterList.currentHeaderID=info.headerID;_._v.show(this.customFilterScrollView.render);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.moveCustomFilterList=function(_271){try{if(this.customFilterScrollView&&this.customFilterList){var _272=this.headerToBodyRelation[_271];var _273=this.getColumnIndex(_272);var _274=this.getCustomFilterListJSON({colID:_272,headerID:_271});this.customFilterList.setJSON(_274);this.customFilterList.currentHeaderID=_271;this.showCustomFilterList({headerID:_271,dataLength:_274.length},true);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.hideCustomFilterList=function(){try{if(this.customFilterScrollView&&this.customFilterList){_._v.hide(this.customFilterScrollView.render);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.getCustomFilterListJSON=function(info){try{var _276=this.getColData(info.colID);var _277=this.getCellInfo(info.colID);var _278=this.dataFilter.getUniqueValueOfArray(_276);var _279=this.changeItemValue("label",info.colID,_278.slice(0));var _27a=this.dataFilter.customFilterStatusObj[info.headerID]||false;var _27b=[{"id1":_27a,"id2":"\uc0ac\uc6a9\uc790 \ud544\ud130"},{"id1":!_27a,"id2":"\uc804\uccb4 \uc120\ud0dd"}];var _27c;var _27d;if(!_27a&&this.customFilterList.customFilterListFilterInfo){if(info.colID in this.customFilterList.customFilterListFilterInfo){_27c=this.customFilterList.customFilterListFilterInfo[info.colID];_27d=_27c.slice(0);}}for(var i=0;i<_279.length;i++){var json={};if(_27d){var _280=false;var _281=_277.itemArr?_277.itemHash[_279[i]]:_279[i];for(var j=_27d.length-1;j>-1;j--){if(_281==_27d[j]){_280=true;_27d.splice(j,1);break;}else{if(typeof _27d[j]=="string"&&_27d[j].startsWith("^$|null|")){if(_279[i]==this.options.useFilterEmptyMsg){_280=true;break;}}}}json["id1"]=_280;}else{json["id1"]=!_27a;}json["id2"]=_279[i];_27b.push(json);}if(_27c){var _283=_279.length;if(_27c.length<_283){_27b[1]["id1"]=false;}else{if(_27c.length==_283){_27b[1]["id1"]=true;}}}return _27b;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.changeItemValue=function(to,_285,_286){try{var _287=[];this.useFilterEmptyValueInfo={};var _288=false;var _289=this.getCellInfo(_285);var _28a=this.options.useFilterEmptyValue?this.options.useFilterEmptyValue.split(","):[];this.filterEmptyStr=this.options.useFilterEmptyMsg||_._z.getMessage("GRID_useFilterEmptyMsg");for(var i=0;i<_28a.length;i++){this.useFilterEmptyValueInfo[_28a[i]]=true;}_289.itemHash={};if(_289.itemArr){var from=to=="label"?"value":"label";var _28d=_289.itemArr.slice(0);for(var i=0;i<_286.length;i++){for(var j=_28d.length-1;j>-1;j--){var item=_28d[j];if(item[from]==_286[i]){_287.push(item[to]);_28d.splice(j,1);if(to=="label"){_289.itemHash[item[to]]=item[from];}break;}else{if(to=="label"){if(!_286[i]||this.useFilterEmptyValueInfo[_286[i]]){if(!_288){_288=true;_287.push(this.filterEmptyStr);}break;}}else{if(to=="value"){if(_286[i]==this.filterEmptyStr){_287.push("^$|null|"+_28a.join("|"));break;}}}}}}}else{for(var i=0;i<_286.length;i++){if(to=="label"){if(!_286[i]||this.useFilterEmptyValueInfo[_286[i]]){if(!_288){_288=true;_287.push(this.filterEmptyStr);}continue;}}else{if(to=="value"){if(_286[i]==this.filterEmptyStr){_287.push("^$|null|"+_28a.join("|"));continue;}}}_287.push(_286[i]);_289.itemHash[_286[i]]=_286[i];}}return _287;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._f.prototype.resizeGridList=function(){try{var list;var _291;if(this.groupbyFilterList){return;list=this.groupbyFilterList;_291=this.groupbyFilterScrollView;}else{if(this.customFilterList){list=this.customFilterList;_291=this.customFilterScrollView;}else{return;}}var _292=this.getElementById(this.id+"_"+list.currentHeaderID);var _293=_292.clientWidth;var _294=_291.render.clientHeight;var _295=_._v.getRelativeTop(_292,this.render)+_292.offsetHeight+1;var _296=_._v.getRelativeLeft(_292,this.render);_291.setPosition(_296,_295);list.setSize(_293,_294);_291.setSize(_293,_294);}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.layoutController=_._a._f;_._a.az=function(){try{}catch(e){$l(e.message);_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setTableLayout=function(){try{this.initializeHead();this.initializeFooter();this.setDataLayerPosition();this.arrangeOverflowXScroll();this.handlerResize_drawInitializer();this.setTrRowTable();this.setTrSubtotalRowTable();this._setAutoFit();this.realRowDataLength=this.oneRowDataLength+this.defaultColCnt;this.associateHeaderBody();if(this.options.columnMove){this.createBlockedHeaderInfo();}this.lastDisplayedRow=-1;this.drawFooter();this.drawHeader();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setDataLayerPosition=function(){try{var _1=this.getElementById(this.id+"_dataLayer");if(this.hasFooter){var _2=this.getElementById(this.id+"_foot_table").offsetHeight;_2=(_2==0)?this.footerHeight:_2;_1.style.bottom=_2+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.arrangeOverflowXScroll=function(){try{this.fixedWidth=0;var _3=this.getFixedColumnLastIndex();for(var i=0;i<_3;i++){if(!this.hiddenList[i]){this.fixedWidth+=this.colWidthList[i];}}var _5=this.getElementById(this.id+"_scrollX_div");var _6=this.getElementById(this.id+"_scrollX_table");var _7=_5.offsetWidth-_6.offsetWidth;var _8=this.getElementById(this.id+"_scrollX_left");var _9=this.getElementById(this.id+"_scroll_size");_8.style.width=this.fixedWidth+"px";_9.style.width=(this.gridWidth-this.fixedWidth-_7)+"px";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.handlerResize_drawInitializer=function(){try{if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}this.setOverflowY();this.setOverflowX();this.setIE6Fix();if(this.options.headFiller){var _a=this.getElementById(this.id+"_header_bg_td");var _b=this.getElementById(this.id+"_dataLayer").offsetWidth-1;var _c=this.getElementById(this.id+"_head_table").offsetHeight;var _d=_b;var _e=_c;_a.style.width=(_b)+"px";while(_a.offsetWidth!=_d){if(_a.offsetWidth>_d){_b--;}else{_b++;}_a.style.width=(_b)+"px";}_a.style.height=(_c)+"px";while(_a.offsetHeight!=_e){if(_a.offsetHeight>_e){_c--;}else{_c++;}_a.style.height=(_c)+"px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setIE6Fix=function(){try{var _f=this.options.fixPrint&&(_._G.isIE(9)||_._G.isIE(10)||(_._h.browserCheck.ieAllVersion&&document.documentMode=="11")||_._G.isFF());if(this.isIE6||_._G.isOpera()||_f){var _10=this.getElementById(this.id+"_scrollX_div");var _11=this.getElementById(this.id+"_scrollY_div");var _12=this.getElementById(this.id+"_main_div");var _13=(this.render.offsetHeight-_10.offsetHeight);var _14=(this.render.offsetWidth-_11.offsetWidth+2);_13=(_13<0)?0:_13;_14=(_14<0)?0:_14;_12.style.height=_13+"px";_12.style.width=_14+"px";var _15=0;if(this.hasFooter){_15=this.getElementById(this.id+"_foot_table").offsetHeight;_15=(_15==0)?this.footerHeight:_15;}var _16;if(this.options.visibleRowNum!==""){var _17=this.getElementById(this.id+"_body_table");if(!this.defaultDataLayerHeight||_17.offsetHeight>this.defaultDataLayerHeight){_16=_17.offsetHeight+_15;}else{_16=this.defaultDataLayerHeight+_15;}}else{_16=_13-_15-1;}_16=_16<0?0:_16;var _18=this.getElementById(this.id+"_dataLayer");_18.style.height=_16+"px";this.dataLayerHeight=_16;var _19=this.getElementById(this.id+"_scrollX_right");_19.style.width=_19.parentNode.offsetWidth+"px";if(_f){_12.style.position="relative";_12.style.bottom="";_12.style.right="";_18.style.position="relative";_18.style.bottom="";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setOverflowX=function(_1a){var _1b=true;if(typeof _1a!="undefined"){if(_1a!="hidden"&&_1a!="auto"&&_1a!="scroll"){_1a="auto";}this.options.overflowX=_1a;}else{_1b=false;}_1a=this.isMobile?"hidden":this.options.overflowX;switch(_1a){case "auto":this.setOverflowXAuto();break;case "hidden":this.setOverflowXHidden();break;default:this.setOverflowXScroll();break;}if(this.isMobile){this.setIScrollX();}if(_1b){this.setIE6Fix();}};_._a.az.prototype.setOverflowXAuto=function(){var _1c=this.getElementById(this.id+"_scrollX_div");var _1d=this.getElementById(this.id+"_scrollX_left");var _1e=this.getElementById(this.id+"_scrollX_right");if(_1e.firstChild.offsetWidth>_1c.offsetWidth-_1d.offsetWidth){this.setOverflowXScroll();}else{this.setOverflowXHidden();}};_._a.az.prototype.setOverflowXScroll=function(){try{var _1f=this.getElementById(this.id+"_scrollX_div");var _20=_1f.style.height;_1f.style.height=(this.scrollLayerWidthSize)+"px";if(this.rowIndex!==-1&&_20==="0px"){if(this.options.visibleRowNum!==""){var _21=parseInt(this.render.style.height,10);this.setSize(null,_21+this.scrollWidthSize);}else{this.dataLayerHeight-=this.scrollWidthSize;var _22=this.dataRowList[(this.lastIndex+1)*this.oneRowLength-1];if(_22&&_22.offsetTop+_22.offsetHeight>this.dataLayerHeight){this._setRowDisplay(this.lastIndex,"none");this.lastIndex=this.lastIndex-1;this.maxRowLength=this.maxRowLength-1;this.lastDisplayedRow=this.lastIndex;this.lastTopRowIndex=null;this.setScrollYHeight({noDraw:true});this.setOverflowYAuto();}}}if(!this.isIE6){var _23=this.getElementById(this.id+"_main_div");var _1f=this.getElementById(this.id+"_scrollX_div");var _24=parseInt(_1f.style.height,10);_23.style.bottom=_24+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setOverflowXHidden=function(){try{var _25=this.getElementById(this.id+"_scrollX_div");var _26=_25.style.height;_25.style.height="0px";if(_26!="0px"){this.handleScrollX();}if(this.rowIndex!==-1&&_26!=="0px"){if(this.options.visibleRowNum!==""){var _27=parseInt(this.render.style.height,10);this.setSize(null,_27-this.scrollWidthSize);}else{this.dataLayerHeight+=this.scrollWidthSize;this.maxRowLength=this.maxRowLength+1;var _28=this.getDataLength();if(this.maxRowLength>=_28){this.getElementById(this.id+"_size_y").style.height="0px";}this.setOverflowYAuto();this.drawData(this.rowIndex,this.lastIndex);this.lastTopRowIndex=null;}}var _29=this.getElementById(this.id+"_main_div");if(!this.isIE6){_29.style.bottom="0px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setOverflowY=function(_2a){var _2b=true;if(typeof _2a!="undefined"){if(_2a!="hidden"&&_2a!="auto"&&_2a!="scroll"){_2a="auto";}this.options.overflowY=_2a;}else{_2b=false;}_2a=this.isMobile?"hidden":this.options.overflowY;switch(_2a){case "auto":this.setOverflowYAuto();break;case "hidden":this.setOverflowYHidden();break;default:this.setOverflowYScroll();break;}if(this.isMobile){this.setIScrollY();}if(_2b){this.setIE6Fix();}};_._a.az.prototype.setOverflowYAuto=function(){var _2c=this.getElementById(this.id+"_scrollY_div");if(_2c.offsetHeight<_2c.scrollHeight){this.setOverflowYScroll();}else{this.setOverflowYHidden();}};_._a.az.prototype.setOverflowYScroll=function(){var _2d=this.getElementById(this.id+"_scrollY_div");var _2e=this.getElementById(this.id+"_scrollX_div");var _2f=this.getElementById(this.id+"_main_div");var _30=parseInt(_2d.style.width,10);_2d.style.width=this.scrollLayerWidthSize+"px";_2d.style.overflowY="scroll";if(!this.isIE6){_2f.style.right=(this.scrollWidthSize-1)+"px";_2e.style.right=this.scrollWidthSize+"px";}else{var _31=this.render.offsetWidth-this.scrollWidthSize;_2e.style.width=(_31>0?_31:0)+"px";_2d.style.height=this.render.offsetHeight+"px";}if(_30==0){this._setAutoFit();}};_._a.az.prototype.setOverflowYHidden=function(){var _32=this.getElementById(this.id+"_scrollY_div");var _33=parseInt(_32.style.width,10);_32.style.width="0px";_32.style.overflowY="hidden";if(!this.isIE6){var _34=this.getElementById(this.id+"_main_div");_34.style.right="0px";var _35=this.getElementById(this.id+"_scrollX_div");_35.style.right="0px";}if(_33!=0){this._setAutoFit();}};_._a.az.prototype.setTrRowTable=function(){try{this.tempDiv=document.createElement("div");this.tempDiv.style.width="0px";this.tempDiv.style.height="0px";this.tempDiv.style.overflow="hidden";this.tempDiv.innerHTML="<table id='tempTable' style='table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.htmlInfo.body,"tbody","td",this.options.bodyTdClass)+"</table>";this.tempTr=this.tempDiv.getElementsByTagName("table")[0];var tds=this.tempTr.getElementsByTagName("td");this.aria_labelledby=[];for(var i=0;i<tds.length;i++){if(this.options.autoScope&&i==0){tds[i].setAttribute("scope","row");}this.aria_labelledby[i]=tds[i].getAttribute("aria-labelledby");tds[i].innerHTML="";}this.tempDiv.id=this.id;this.tempDiv.className="w2grid";document.body.appendChild(this.tempDiv);var _38=this.tempDiv.getElementsByTagName("tbody")[0].offsetHeight;if(_38==0){if(this.options.defaultCellHeight!=-1){_38=this.options.defaultCellHeight;}else{_38=20;}}this.oneRowHeight=_38+(_._G.isIE(6)||_._G.isIE(7)?1:0);document.body.removeChild(this.tempDiv);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setTrSubtotalRowTable=function(){try{this.subtotalTableList={};for(var _39 in this.subtotalStrList){var _3a=document.createElement("div");_3a.style.width="0px";_3a.style.height="0px";_3a.style.overflow="hidden";_3a.innerHTML="<table id='tempTable' style='width:100%;table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.subtotalStrList[_39],"tbody","td",this.options.subtotalTdClass)+"</table>";var _3b=_3a.getElementsByTagName("table")[0];this.subtotalTableList[_39]=_3b;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype._setAutoFit=function(_3c){if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}var _3c=_3c||{};var _3d=_3c.type?_3c.type:this.options.autoFit;var _3e=_3c.exceptCol;var _3f=_3c.exceptWidth||0;var _40=this.options.autoFitFixYScroll?this.scrollLayerWidthSize:parseInt(this.getElementById(this.id+"_scrollY_div").style.width,10);var _41=this.render.clientWidth;this.autofit_clientWidth=_41;var _42=0;for(var i=this.colWidthList.length-1;i>=0;i--){if(this.hiddenList[i]==false){_42=i;break;}}if(_3d=="selectedColumn"&&!this.autofitColumn){this.autofitColumn=true;var _44=this.defaultColCnt+_3c.colIndex;this.gridWidth-=this.colWidthList[_44];this.autofitColumnIndexArr.push(_44);this.colWidthList[_44]="*";this.autofitColumnWidthArr[_44]="*";}if(this.autofitColumn){var _45=_41;var _46=this.autofitColumnIndexArr.slice();if(_40>0){_45-=_40;}for(var i=0;i<_46.length;i++){if(this.hiddenList[_46[i]]==true){var _47=_46.indexOf(_46[i]);_46.splice(_47,1);}}var _48=0;for(var i=0;i<this.colWidthList.length;i++){if(this.hiddenList[i]==true){continue;}if(i<this.autofitColumnWidthArr.length&&this.autofitColumnWidthArr[i]){var _49=this.autofitColumnWidthArr[i].substring(0,this.autofitColumnWidthArr[i].indexOf("*"));if(_49.length>0){_48+=(_49-0);}else{if(_49.length==0){_48+=1;}}}else{_45-=this.colWidthList[i];}}var _4a=Math.floor(_45/_48);var _4b=_45-(_4a*_48);for(var i=0;i<_46.length;i++){var _4c=_4a;var _4d=this.options.autoFitMinWidth||0;var _4e=_46[i];var _49=this.autofitColumnWidthArr[_4e].substring(0,this.autofitColumnWidthArr[_4e].indexOf("*"));if(_49.length>0){_49-=0;_4c*=_49;}if(_4c<_4d){this._setColumnWidth(_4e,_4d);}else{this._setColumnWidth(_4e,_4c);}}if(_4b>0){var _4f=this.colWidthList.slice();var _50=_4b;for(var i=0;i<_4b;i++){if(_50>0){var _51={};for(var j=0;j<this.colWidthList.length;j++){if(this.hiddenList[j]==true){continue;}var _53=Math.abs((_4f[j]-(this.colWidthList[j]+1))*(this.gridWidth/this.colWidthList[j]));if(_51.distortion==undefined||_51.distortion>_53){_51.distortion=_53;_51.index=j;}}this._setColumnWidth(_51.index,(this.colWidthList[_51.index]+1));}_50--;}}}if(_3d=="lastColumn"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;}if(typeof _3e=="number"&&_3e!=_42){this.autoFitGridWidth+=_3f-this.colWidthList[_3e];this._setColumnWidth(_3e,_3f);}var _54=_41-_40-this.gridWidth+this.colWidthList[_42];var _55=this.gridWidth+_54-this.colWidthList[_42];if(this.autoFitGridWidth<_55){this._setColumnWidth(_42,_54);}}else{if(_3d=="allColumn"){if(!this.autofitColumn){var _56=this.autoFitColWidthList||this.colWidthList;var _55=_41-_40;var _57=[];if(this.options.keepDefaultColumnWidth){for(var i=0;i<this.defaultColCnt;i++){_57.push(i);}}var _4d=parseInt(_3c.minWidth?_3c.minWidth:this.options.autoFitMinWidth,10);if(!isNaN(_4d)&&_4d>_55){_55=_4d;}_55-=_3f;for(var i=0;i<_57.length;i++){_55-=this.colWidthList[_57[i]];}var _58=0;for(var i=0;i<_56.length;i++){var _59=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[i]==i){_59=true;}}}_58+=(this.hiddenList[i]||i===_3e||_59)?0:_56[i];}var _5b=0;var _5c=_58?(_55/_58):0;var _5d=[];if(_5c){for(var i=0;i<_56.length;i++){var _59=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[i]==i){_59=true;}}}if(i==_3e){this.colWidthList[i]=_3f;}else{if(_59){this.colWidthList[i]=this.colWidthList[_57[i]];}else{_5d[i]=_5c*_56[i];var _5e=Math.round(_5d[i]);this.colWidthList[i]=_5e;_5b+=this.hiddenList[i]?0:_5e;}}}var _5f=_55-_5b;var _60=(_5f>0)?1:-1;for(i=0;i<_5f*_60;i++){var min={};for(j=0;j<_56.length;j++){var _59=false;if(this.options.keepDefaultColumnWidth&&j==0||j==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[j]==j){_59=true;}}}if(this.hiddenList[j]||j==_3e||_59){continue;}var _53=Math.abs(_5d[j]-(this.colWidthList[j]+_60))*(_5b/this.colWidthList[j]);if(min.value==undefined||min.value>_53){min.value=_53;min.index=j;}}this.colWidthList[min.index]+=_60;_5b+=_60;}if(this.hiddenList[0]&&_._G.isIE(8)){for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.colWidthList[i]=this.colWidthList[i]-2;break;}}}}if(!this.autoFitColWidthList){this.autoFitColWidthList=this.colWidthList.slice(0);}this.gridWidth=_5b+_3f;if(this.options.keepDefaultColumnWidth){for(var i=0;i<_57.length;i++){this.gridWidth+=this.colWidthList[_57[i]];}}this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();this.handlerResize_drawInitializer();}if(this.options.autoResizeEmbeddedInput){for(var i=0;i<this.oneRowDataLength;i++){var _62=this.getCellInfo(i);if((_62.options.inputType=="text"||_62.options.inputType=="secret")&&_62.options.embeddedInput){if(!this.hiddenList[i]){this.drawColumnData(i);}}}}}}};_._a.az.prototype.setAutoFit=function(_63){try{this._setAutoFit(_63);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.autoFitFunc=function(){if(this.autofit_clientWidth===this.render.clientWidth){_._h.clearTimer(this.id+"_autofit");}else{_._h.setTimer(this._setAutoFit,{key:this.id+"_autofit",caller:this,delay:100});}};_._a.az.prototype.setIScrollX=function(){try{var _64=this.getElementById(this.id+"_iScrollX");if(!_64){return;}var _65=this.getElementById(this.id+"_scrollX_right");if(_65.offsetWidth>=_65.firstChild.offsetWidth){_64.style.visibility="hidden";return;}var _66=this.getElementById(this.id+"_dataLayer");var _67=parseInt(this.getElementById(this.id+"_scrollX_left").style.width,10);var _68=_65.firstChild.offsetWidth-_65.offsetWidth;var _69=parseInt(_65.offsetWidth*_65.offsetWidth/_65.firstChild.offsetWidth,10);_64.style.width=(_69<30?30:_69)+"px";_64.style.left=(_67+_65.scrollLeft/_68*(_66.offsetWidth-_67-_64.offsetWidth))+"px";_64.style.visibility="";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.setIScrollY=function(){try{var _6a=this.getElementById(this.id+"_iScrollY");if(!_6a){return;}var _6b=this.getDataLength();var _6c=this.rowIndex;var _6d=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;if(_6d==0){_6d=parseInt(this.getStyleValue("height"));}if(_6c==-1||(_6c==0&&_6c+this.lastIndex+1==_6b)){var _6e=!this.hasSubtotal;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _6f=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_6f.rowIndex==dataLen-1){var _70=_6f[_6f.length-1];if(_70.style.display!="none"){_6e=true;}}}}if(_6e){_6a.style.visibility="hidden";return;}}var _71=this.getElementById(this.id+"_scrollY_div");var _72=_71.firstChild.offsetHeight;var _73=this.getElementById(this.id+"_dataLayer");var _74=_72-_73.offsetHeight;var _75=parseInt(_73.offsetHeight*_73.offsetHeight/_72,10);_6a.style.height=(_75<30?30:_75)+"px";_6a.style.top=(_71.scrollTop/_74*(_73.offsetHeight-_6a.offsetHeight))+"px";_6a.style.visibility="";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.az.prototype.createBlockedHeaderInfo=function(){try{var _76=function(arr,_78){var max=0;var _7a=arr[_78];if(typeof _7a=="string"){for(var i=_78;i<arr.length;i++){if(typeof arr[i]=="string"){max++;}else{break;}}}else{if(_7a>1){max=_7a;}}return max;};var _7c=this.htmlInfo.body.rowArr;var _7d=this.htmlInfo.head.rowArr;this.colSpanInfoObj={};for(var _7e=0;_7e<_7d.length;_7e++){this.colSpanInfoObj["header_row_"+_7e]=[];for(var _7f=0;_7f<_7d[_7e].length;_7f++){var _80=_7d[_7e][_7f];var _81=parseInt(_80.colSpan,10)||1;if(_81>1){for(var _82=0;_82<_81;_82++){if(_82==0){this.colSpanInfoObj["header_row_"+_7e].push(_81);}else{this.colSpanInfoObj["header_row_"+_7e].push("*");}}}else{this.colSpanInfoObj["header_row_"+_7e].push(_81);}}}for(var _7e=0;_7e<_7c.length;_7e++){this.colSpanInfoObj["body_row_"+_7e]=[];for(var _7f=0;_7f<_7c[_7e].length;_7f++){var _80=_7c[_7e][_7f];var _81=parseInt(_80.colSpan,10)||1;if(_81>1){for(var _82=0;_82<_81;_82++){if(_82==0){this.colSpanInfoObj["body_row_"+_7e].push(_81);}else{this.colSpanInfoObj["body_row_"+_7e].push("*");}}}else{this.colSpanInfoObj["body_row_"+_7e].push(_81);}}}var _83=0;var _84;var _85=[];var _86=this.colSpanInfoObj["header_row_0"];for(var _7f=0;_7f<_86.length;_7f++){if(_7f<_83){continue;}var _80=_86[_7f];var max=0;for(var key in this.colSpanInfoObj){var _81=_76(this.colSpanInfoObj[key],_7f);if(max<_81){max=_81;if(_85.length==0){var _89=this.colIndexes.headerColInfo.colIndexMatch[_7f][0];var _8a=_7d[0][_89].id;_84=this.getHeaderIndex(_8a);_85.push({"startHeaderID":_8a});}}}var _8b=_83+max-1;if(_83<_8b){_83=_8b;}else{if(_85.length!=0){var _89=this.colIndexes.headerColInfo.colIndexMatch[_7f][0];var _8a=_7d[0][_89].id;var _8c=this.getHeaderIndex(_8a);_85[0]["endHeaderID"]=_8a;_85[0]["blockLength"]=_89-_84+1;for(var i=_84;i<=_8c;i++){this.colMoveBolockedHeaderObj[_7d[0][i].id]=_85[0];}_85=[];_83=_7f;}else{_83=_7f;continue;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.drawInitializer=_._a.az;_._a._B=function(){};_._a._B.prototype.initializeEvent=function(){try{this.otherClickEvent();this.checkResize();this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollX_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollY_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));}this.event.addListener(this.getElementById(this.id+"_dataLayer"),"oncontextmenu",this.event.bindAsEventListener(this,this.clickRightButtonCell));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.gridOut));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyDownEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyUpEvent));if(_._G.isOpera()){this.event.addListener(this.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){_._F.preventDefault(e);}});}if(this.options.dataDragDrop){if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}}_._h.setTimer(function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _3=_.getBody().getLayerListener();var _4=_3.layers[this.id].component;var _5={};while(_4.parentControl){_4=_4.parentControl;for(var id in _3.useOtherComponentId){if(_3.useOtherComponentId[id]==_4.id){_5[id]=true;}}}_.getBody().getLayerListener().hideAll(_5);if(!this.parentControl||!this.parentControl.options||this.parentControl.options.pluginName!="gridItemTable"){_._F.stopPropagation(e);}}));},{key:this.id+"initializeEvent",caller:this,delay:100});if(this.isMobile){this.iScroll={};this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}this.initializeLayoutEvents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._B.prototype.handleTdFocus=function(e){var td=_._F.getTarget(e);var _9=this.getLastFocusedCell();if(td.tagName=="TD"&&_9.focusedTd!=td&&!this.focusedByApi){var _a=parseInt(td.getAttribute("tdIndex"));var _b=parseInt(_a/this.realRowDataLength);var _c=_b+this.rowIndex;var _d=td.getAttribute("col_id");this.setFocusedCell(_c,_d);}this.focusedByApi=false;};_._a._B.prototype.handleDragEvent=function(e){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _10=it.getElement();var _11=[];var _12=this.rowIndex+parseInt(parseInt(_10.getAttribute("tdIndex"))/(this.oneRowDataLength+this.defaultColCnt));if(this.options.dragDisplayColumn==""){_11.push(_10.getAttribute("col_id"));}else{_11=this.options.dragDisplayColumn.split(",");}var _13=[];for(var i=0;i<_11.length;i++){_13.push(this.getCellDisplayData(_12,_11[i].wq_trim()));}_13=_13.join(",");var _15=this;_._A.gDragManager.activate(e,_10,{id:this.id+"_drag",className:"w2grid_drag",contents:_13,delay:15,applyMousePosition:true,onDrop:function(_16,_17,x,y,dx,dy,e){var _1d=null;var _1e=null;var _1f=null;var _20;var it2=null;if(this.isMobile){it2=new _.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{it2=_15.event.getTargetIterator(e);}while(it2.next()){if(it2.match(null,null,"body")){return;}if(it2.match("w2grid")){_1d=it2.getElement().id;break;}if(it2.match("w2grid_tooltip")){var _22=it2.getElement();_22.style.display="none";it2=new _.targetIterator(document.elementFromPoint(_._F.getClientX(e),_._F.getClientY(e)));}if(_1f==null&&it2.match(null,null,"td")){var _23=it2.getElement();_1f=parseInt(_23.getAttribute("tdIndex"),10);_20=parseInt(_23.getAttribute("colindex"),10);if(typeof _20!="number"){_20=undefined;}}if(_1f!=null){}}if(_1d!=null){_1d=window[_1d];_1e=_1d.getDataLength();if(_1f!=null){_1e=_1d.rowIndex+parseInt(_1f/(_1d.oneRowDataLength+_1d.defaultColCnt));}}var _24=_15.getRowXML(_12);var _25=_16.getAttribute("col_id");var _26=_15.getColumnIndex(_25);if(_15.options.dragStartFunction!=""){var _27=eval(_15.options.dragStartFunction);if(typeof _27=="function"){var _28={"fromColumnId":_25,"fromColumnIndex":_26};_24=_27.call(_15,_12,_24,_28);}}if(_1d.options.dragEndFunction!=""){var _29=eval(_1d.options.dragEndFunction);if(typeof _29=="function"){var _2a=typeof _20=="number"?_1d.getColumnID(_20):undefined;var _28={"fromColumnId":_25,"fromColumnIndex":_26,"toColumnId":_2a,"toColumnIndex":_20};if(_29.call(_15,_1e,_24,_28)){_15.removeRow(_12);}}}else{if(_15.id==_1d.id){if(_1e>_12){_1e++;}else{_12++;}}_1d.setRowXML(_1e,_24);_15.removeRow(_12);}}});return;}}};_._a._B.prototype.otherClickEvent=function(){try{var _2b=this;var _2c=window;this.otherClickHandler=function(e){var _2e=e||_2c.event;_2e.otherClick=true;if(_2b.editedCell){_2b.editedCell.handleEndEdit();}};if(this.isMobile){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));}else{_.getBody().getLayerListener().addListener({component:this,event:{},otherClick:this.handleClickEventDocument});}if(!_._G.isFF()){var _2f=self;var cnt=0;while(_2f!=_2f.parent&&cnt++<10){var _31=true;if(_2f.parent["__WebSquare_gridArr__"]){for(var i=0;i<_2f.parent["__WebSquare_gridArr__"].length;i++){if(_2f.parent["__WebSquare_gridArr__"][i]!=null){_31=false;break;}}}if(_31){if(_2f.parent.$l){_2f.parent.$l("[grid.otherClickEvent]initialize GridArray");}_2f.parent["__WebSquare_gridArr__"]=[];}_2f.parent["__WebSquare_gridArr__"].push(this);_2f=_2f.parent;}}}catch(e){}};_._a._B.prototype.handleClickEventDocument=function(e){this.lastEvent=e;if(!this.event.isMe(e,this.render)&&!this.isMine(e)){e.otherClick=true;if(this.editedCell){this.handleClickEventDocumentAfter(e);var _34=_.getBody();_34.layerListener.handleMouseDownEventDocument.call(_34,e);_34=null;this.editedCell.handleEndEdit(e,false,true);}else{this.handleClickEventDocumentAfter(e);}}else{this.handleClickEventDocumentAfter(e);}};_._a._B.prototype.handleClickEventDocumentAfter=function(e){if(this.contextMenu){if(!e.srcElement.className.match("contextMenu")){this.hideContextMenu();}}if(this.groupbyFilterScrollView||this.customFilterScrollView){var it=this.event.getTargetIterator(e,this.render);var _37=true;while(it.next()){if(it.match("gridHeaderTDDefault")||it.match("w2grid_groupbyZone_scrollView")||it.match("w2grid_groupbyZone_column")||it.match("w2grid_customFilter_scrollView")||it.match("w2grid_customFilter_column")){_37=false;break;}}if(_37){this.hideGroupbyFilterList();this.hideCustomFilterList();}}};_._a._B.prototype.isMine=function(e){try{var _39=_._F.getTarget(e);while(_39!=null){if(_39.id&&_39.id.indexOf("G_"+this.id+"__")>=0){return true;}_39=_39.parentNode;}return false;}catch(e){_.exception.printStackTrace(e);}};_._a._B.prototype.handleResize=function(){try{var _3a=this.render.offsetWidth;var _3b=this.render.offsetHeight;if(_3a>0&&_3b>0){if(this.delayedDrawObj){this.setRedrawStatus("draw");}else{var _3c=_3a-this.resizeObj.width;var _3d=_3b-this.resizeObj.height;var _3e=false;if(_3d>0){_3e=true;var _3f=this.getDataLength();var _40=this.drawedRowLength;this.lastTopRowIndex=null;this.setDataTable();if(_3f<=0){}else{if(this.rowIndex+this.lastIndex+this.drawedRowLength-_40<_3f){this.drawData(this.rowIndex,this.lastIndex+1);}else{var _41=_3f-this.drawedRowLength>0?_3f-this.drawedRowLength:0;if(_41==this.rowIndex){this.drawData(this.rowIndex,this.lastIndex+1);}else{this.scrollEvent=false;this.checkScrollEnd=true;var _42=this.getElementById(this.id+"_scrollY_div");_42.scrollTop=20*_41;this.drawData(_41);}}}}else{if(_3d<0){_3e=true;var _43=this.getElementById(this.id+"_body_table");this.dataLayerHeight=_43.parentNode.offsetHeight;this.lastTopRowIndex=null;this.lastIndex=this.cutGridBottom(this.lastIndex);this.setScrollYHeight();}}if(_3c!=0){_3e=true;this.resizeObj.clientWidth=this.render.clientWidth;this.setScrollYHeight();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}}if(_3e&&this.groupbyZoneStatus.groupbyZoneRender){this.resizeGroupbyZone();}}}else{this.setRedrawStatus("stop");}if(this.groupbyZoneStatus.groupbyZoneRender&&!this.adjustGroupbyZone){this.adjustGroupbyZone=true;this.resizeGroupbyZone();}this.resizeObj={width:_3a,height:_3b,scrollLeft:this.resizeObj.scrollLeft,scrollTop:this.resizeObj.scrollTop,clientWidth:this.resizeObj.clientWidth};if(this.resizeObj.width>0&&this.resizeObj.height>0){this.resizeObj.scrollLeft=this.getElementById(this.id+"_scrollX_right").scrollLeft;this.resizeObj.scrollTop=this.getElementById(this.id+"_scrollY_div").scrollTop;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._B.prototype.resizeGroupbyZone=function(){if(this.groupbyZoneStatus.groupbyZoneRender){var _44=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder);var _45=this.dom[this.id+"_scrollY_div"].offsetWidth;if(_45!=0){_44=_44-_45;}_44=_44+"px";if(this.groupbyZoneStatus.groupbyZoneRender.style.width!=_44){this.groupbyZoneStatus.groupbyZoneRender.style.width=_44;}}};_._a._B.prototype.checkPercent=function(){var _46=_.WebSquareparser.getAttribute(this.element,"style");if(_46.indexOf("%")>0){var _47=_46.split(";");for(var i=0;i<_46.length;i++){if((_47[i].indexOf("%")&&_47[i].indexOf("height"))||(_47[i].indexOf("%")&&_47[i].indexOf("width"))){this.checkResize();break;}}}};_._a._B.prototype.checkResize=function(){try{if(this.render){var _49=true;if(_.getBody().modalStack&&_.getBody().modalStack.length>0){var _4a=this.parentControl;while(_4a){if(_4a.options&&_4a.options.pluginName=="floatingLayer"){break;}_4a=_4a.parentControl;}if(_4a==null){_49=false;}}if(_49){if(this.startedDisplayNone){if(this.render.offsetWidth>0&&this.render.offsetHeight>0){this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.autofit_clientWidth=0;this.handleResize();this.startedDisplayNone=false;}}else{this.handleResize();}}}_._h.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._B.prototype.handleDblClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyDblClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerDdlClick(e,it.getElement());break;}else{if(this.footerXml!=null&&it.match(this.options.footerTdClass)){break;}}}}};_._a._B.prototype.handleClickEvent=function(e){this.lastEvent=e;_._F.fireEvent(this,"onclick",e);if(this.iScroll&&this.iScroll.moveDirection){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerClick(e,it.getElement());break;}else{if(this.isMine(e)){}else{if(it.getElement().getAttribute("id")==this.id+"_dataLayer"){if(this.editedCell!=null){this.editedCell.handleEndEdit();}}}}}}}};_._a._B.prototype.gridDataLayerOut=function(e){if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};_._a._B.prototype.gridHeaderOver=function(e){if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};_._a._B.prototype.gridOver=function(e){var _52=_._F.getTarget(e);while(_52){if(_52.tagName=="TD"&&_52.getAttribute("colIndex")!=null){break;}if(_52.tagName=="DIV"){break;}_52=_52.parentNode;}if(_52.id==this.id+"_dataLayer"){if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_52&&_52.tagName=="TD"){if(this.overElem!=_52&&_52.className.indexOf(this.options.headerTdClass)==-1){this.bodyOut(e,this.overElem);this.bodyOver(e,_52);if(this.options.rowMouseOver){var _53=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}if(!this.hasClass(_52,"w2grid_groupby")){this.addRowOverStyle(_52.parentNode);}}this.overElem=_52;}}}};_._a._B.prototype.gridOver1=function(e){var _55=_._F.getTarget(e);if(_55.tagName=="NOBR"){_55=_55.parentNode;}if(typeof _55.tagName=="undefined"||_55.tagName!="TD"){return;}if(this.options.rowMouseOver){var _56=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}this.addRowOverStyle(_55.parentNode);}this.overElem=_55;};_._a._B.prototype.gridOver2=function(e){input1.setValue(this.tmpCnt++);var _58=_._F.getTarget(e);if(_58.tagName=="NOBR"){_58=_58.parentNode;}if(typeof _58.tagName=="undefined"||_58.tagName!="TD"){return;}if(this.options.rowMouseOver){var _59=this;if(this.overElem){}this.addRowOverStyle(_58.parentNode);}this.overElem=_58;};_._a._B.prototype.clickRightButtonCell=function(e){var _5b=_._F.getTarget(e);while(_5b){if(_5b.tagName=="TD"||_5b.tagName=="TH"||_5b.tagName=="DIV"){break;}_5b=_5b.parentNode;}if(_5b&&this.hasClass(_5b,this.options.headerTdClass)){_._F.preventDefault(e);_._F.fireEvent(this,"onheaderrightbuttonclick",_5b.getAttribute("header_id"));}else{if(_5b&&_5b.tagName=="TD"){var _5c=this._setFocusedCell(e,_5b);var _5d;var _5e;if(_5c===false){if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){this._applyFocusedCellOut(this.focusedCell[i]);}}var _60=_5b.className;var _61=parseInt(_5b.getAttribute("tdIndex"));var _62=parseInt(_61/this.realRowDataLength);if(_60.match("rowNum")!=null){_5d=_62;_5e="rowNum";}else{if(_60.match("rowStatus")!=null){_5d=_62;_5e="rowStatus";}else{if(_60.match("groupby")!=null){_5d="groupby";_5e=-1;}else{if(_60.match("Subtotal")!=null){_5d="subtotal";_5e=parseInt(_5b.getAttribute("colIndex"),10);_5e=typeof _5e=="number"?_5e:-1;}}}}}else{if(_5b&&(this.hasClass(_5b,"w2grid_textImage")||this.hasClass(_5b,"w2grid_textImage_image"))){_5d=parseInt(_5b.getAttribute("rowIndex"),10);_5e=parseInt(_5b.getAttribute("colIndex"),10);this.setFocusedCell(_5d,_5e);}else{_5d=this.getFocusedRowIndex();_5e=this.getFocusedColumnIndex();}}_._F.preventDefault(e);_._F.fireEvent(this,"onrightbuttonclick",_5d,_5e,e);if(this.options.contextMenu){var _63={};_63.result=_5c;_63.rowIndex=_5d;_63.colIndex=_5e;_63.event=e;if(!this.contextMenu){this.createContextMenu(_63);}else{this.showContextMenu(_63);}}}}};_._a._B.prototype.fireImageClick=function(_64,_65){var _66=this.getCellInfo(_65);var _67=eval(_66.options.imageClickFunction);if(typeof _67=="function"){_67.call(this,_64,_65,this.getCellData(_64,_65));}};_._a._B.prototype.gridOut=function(e){var _69=_._F.getTarget(e);var _6a="";if(this.overElem&&(_69.id==this.id+"_dataLayer"||_69.id==this.overElem.id||_69.id=="")){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};_._a._B.prototype.addRowOverStyle=function(_6b){while(_6b!=null&&_6b.getAttribute("trIndex")==null){_6b=_6b.parentNode;}if(_6b==null){return;}var _6c=parseInt(_6b.getAttribute("trIndex"));while(_6c>0){_6c--;_6b=_._G.prev(_6b);}var cnt=0;var _6e=_._G.first(_6b);var _6f=parseInt(_6e.getAttribute("tdIndex"));if(isNaN(_6f)){return;}_6f=parseInt(_6f/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);var _70=this.options.rowMouseOverColor.wq_trim();var _71=(this.options.selectedCellOverColor=="")?"":this.options.selectedCellOverColor.wq_trim();var _72=(this.options.selectedRowOverColor=="")?"":this.options.selectedRowOverColor.wq_trim();for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_6f+i];var _75=_70;if(_71!=""&&(this.options.focusMode=="cell"||this.options.focusMode=="both")){var _76=parseInt(td.getAttribute("tdIndex"));var _77=parseInt(_76/this.realRowDataLength)+this.rowIndex;var _78=_76%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_77==this.focusedCell[j].focusedRowIndex&&_78==this.focusedCell[j].focusedColIndex){_75=_71;break;}}}else{if(_72!=""&&(this.options.focusMode=="row"||this.options.focusMode=="both")){var _76=parseInt(td.getAttribute("tdIndex"));var _77=parseInt(_76/this.realRowDataLength)+this.rowIndex;var _78=_76%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_77==this.focusedCell[j].focusedRowIndex){_75=_72;break;}}}}if(i<this.defaultColCnt){var _7a=td.className;if(this.options.rowNumBackgroundColor==""&&_7a.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){td.style.backgroundColor=_75;}else{if(_7a.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){td.style.backgroundColor=_75;}}}else{td.style.backgroundColor=_75;}td.removeAttribute("style_bak");}};_._a._B.prototype.removeRowOverStyle=function(_7b){while(_7b!=null&&_7b.getAttribute("trIndex")==null){_7b=_7b.parentNode;}if(_7b==null){return;}var _7c=parseInt(_7b.getAttribute("trIndex"));while(_7c>0){_7c--;_7b=_._G.prev(_7b);}var _7d=_._G.first(_7b);var _7e=parseInt(_7d.getAttribute("tdIndex"));if(isNaN(_7e)){return;}_7e=parseInt(_7e/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_7e+i];if(i<this.defaultColCnt){var _81=td.className;if(this.options.rowNumBackgroundColor==""&&_81.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _82=parseInt(td.getAttribute("tdIndex"));var _83=parseInt(_82/this.realRowDataLength)+this.rowIndex;var _84=false;for(var j=0;j<this.focusedCell.length;j++){if(_83==this.focusedCell[j].focusedRowIndex){_84=true;break;}}if(_84){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}else{if(_81.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _82=parseInt(td.getAttribute("tdIndex"));var _83=parseInt(_82/this.realRowDataLength)+this.rowIndex;var _84=false;for(var j=0;j<this.focusedCell.length;j++){if(_83==this.focusedCell[j].focusedRowIndex){_84=true;break;}}if(_84){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}}}else{td.style.backgroundColor=td.getAttribute("or_bgColor")||"";}td.removeAttribute("style_bak");}};_._a._B.prototype.handleKeyDownEvent=function(e){var ret=_._F.fireEvent(this,"onkeydown",e);if(ret==false){return;}this.lastEvent=e;if(this.headerFocus){}else{this.handleBodyKeyDown(e);}};_._a._B.prototype.handleKeyUpEvent=function(e){var ret=_._F.fireEvent(this,"onkeyup",e);if(ret==false){return;}this.lastEvent=e;};_._a._B.prototype.bodyOver=function(e,_8b){if(this.options.tooltipDisplay){if(_8b.className.indexOf(this.options.bodyTdClass+"_rowNumber")>=0||_8b.className.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){return;}if(_8b.offsetWidth<2||!_8b.firstChild){return;}var _8c=_8b.getAttribute("col_id");if(!_8c){var _8d="text";}else{var _8e=this.getCellInfo(_8c);var _8d=_8e.options.inputType;var _8f=_8e.options.embeddedInput;if(_8f&&_8d=="text"){var _90=this.getElemRowIndex(_8b);var _91=this.rowIndex+_90;var _92=this.getColumnIndex(_8b.getAttribute("col_id"));_8f=!this.getEditDisabled(_91,_92)&&!this._getEditReadOnly(_91,_92);}}if(_8d=="text"||_8d=="textarea"||_8d=="textImage"||_8d=="link"||_8d=="calendar"||_8d=="expression"||(_8d=="select"&&!_8f)){var _93;if((_8d=="textImage"&&_8b.firstChild.style.width==="100%")||_8d=="textarea"){_93=_8b.cloneNode(true);_93.firstChild.style.width=_8b.firstChild.offsetWidth+"px";if(_8d=="textarea"){_93.firstChild.style.width="";}else{_93.firstChild.style.width=_8b.firstChild.offsetWidth+"px";}}else{_93=_8b;}var _94=_._v.getStyle(_8b,"text-overflow");if(_94=="ellipsis"){if(!this.toolTipRuler){this.toolTipRuler=document.createElement("span");this.toolTipRuler.style.position="absolute";this.toolTipRuler.style.visibility="hidden";this.toolTipRuler.style.left="0px";this.toolTipRuler.style.top="0px";}document.body.appendChild(this.toolTipRuler);this.toolTipRuler.className=_93.className;if(_8d=="text"&&_8f){this.toolTipRuler.innerHTML="<div>"+_93.firstChild.value+"</div>";}else{this.toolTipRuler.innerHTML=_93.innerHTML;}var _95=this.toolTipRuler.firstChild.offsetWidth;var _96=_8b.clientWidth;if(_93.firstChild.nodeType!=3){var _97=_._v.getStyle(this.toolTipRuler.firstChild,"padding-left");var _98=_._v.getStyle(this.toolTipRuler.firstChild,"padding-right");_95-=parseInt(_97?_97:"0",10);_95-=parseInt(_98?_98:"0",10);_96-=parseInt(_._v.getStyle(_8b.firstChild,"padding-left"),10);_96-=parseInt(_._v.getStyle(_8b.firstChild,"padding-right"),10);}if(_8d=="text"&&_8f){_96-=parseInt(_._v.getStyle(_8b,"padding-left"),10);_96-=parseInt(_._v.getStyle(_8b,"padding-right"),10);}if(_96<_95){var _99=_._v.getAbsoluteLeft(_8b)+20;var top=_._v.getAbsoluteTop(_8b)+_8b.offsetHeight+3;var _9b="";if(_8d=="text"&&_8f){_9b=_93.firstChild.value;}else{_9b=(_8b.firstChild.tagName=="NOBR")?_93.firstChild.innerHTML:_93.innerHTML;}document.body.removeChild(this.toolTipRuler);this.showTooltip(_99,top,_9b);}else{document.body.removeChild(this.toolTipRuler);}}else{if(_8b.offsetWidth+3<_8b.firstChild.offsetWidth){var _99=_._v.getAbsoluteLeft(_8b)+20;var top=_._v.getAbsoluteTop(_8b)+_8b.offsetHeight+3;var _9b="";if(_8d=="text"&&_8f){_9b=_93.firstChild.value;}else{_9b=(_8b.firstChild.tagName=="NOBR")?_93.firstChild.innerHTML:_93.innerHTML;}this.showTooltip(_99,top,_9b);}}}}};_._a._B.prototype.bodyOut=function(e,_9d){var _9e=this;if(_9e.options.tooltipDisplay){if(_9d){_9e.hideTooltip();}}};_._a._B.prototype.showTooltip=function(_9f,top,_a1){if(this.editedCell!=null){return;}var _a2=document.body.scrollWidth;var _a3=document.body.scrollHeight;if(!this.tooltip){requires("uiplugin.output");this.tooltip=new _._a._o(this.id+"_tooltip",{className:"w2grid_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"+this.options.tooltipStyle});this.tooltip.writeTo(_.getBody());this.tooltip.activate();if(this.options.tooltipHide==="click"){this.tooltip.render.onclick=function(){this.style.display="none";};}else{this.tooltip.render.onmouseover=function(){this.style.display="none";};}}if(this.options.tooltipHide==="click"){if(_.getBody().hasClass("w2drag_activate")==true){this.tooltip.render.onclick=null;this.tooltip.render.onmouseover=function(){this.style.display="none";};}else{this.tooltip.render.onclick=function(){this.style.display="none";};this.tooltip.render.onmouseover=null;}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_9f+"px");this.tooltip.setStyle("top",top+"px");this.tooltip.render.innerHTML=_a1;var _a4=this.tooltip.render.offsetTop+this.tooltip.render.offsetHeight+20;if(_a4>document.body.scrollHeight){tooltipTop=top-this.tooltip.render.offsetHeight;if(tooltipTop<0){tooltipTop=0;}this.tooltip.setStyle("top",tooltipTop+"px");}var _a5=this.tooltip.render.offsetLeft+this.tooltip.render.offsetWidth;if(document.body.scrollWidth>_a2){var _a6=_9f-(document.body.scrollWidth-_a2);if(_a6<0){_a6=0;}this.tooltip.setStyle("left",_a6+"px");}if(this.options.tooltipDisplayTime>0){_._h.setTimer(this.hideTooltip,{key:this.id+"_tooltip_hide_timer",caller:this,delay:this.options.tooltipDisplayTime});}};_._a._B.prototype.hideTooltip=function(){if(this.tooltip){if(this.options.tooltipDisplayTime>0){_._h.clearTimer(this.id+"_tooltip_hide_timer");}this.tooltip.setStyle("display","none");}};_._a._B.prototype.bodyClick=function(e,_a8){if(this.options.rowMouseOver){this.removeRowOverStyle(this.lastOverSrc,"grid_body_row_over","grid_body_row");}var _a9=parseInt(_a8.getAttribute("tdIndex"));var _aa=parseInt(_a9/this.realRowDataLength);var _ab=_aa+this.rowIndex;var _ac=_a8.getAttribute("col_id");var _ad=this.rowIndex;var _ae=this.filteredRowIndexArr[_ab];if(typeof _ae!="number"){if(_ae&&_ae.type=="header"){this.toggleGroup(_ae.groupId);}return;}if(_ac==null){return;}var _af=this.getCellInfo(_a8);if(!_af.options.blockSelect){this._setFocusedCell(e,_a8);}var _b0=false;if(!this.setCellClickEdit(_a8)){var _b1=_a8.getAttribute("editModeEvent")||"";if((_b1!=""&&_b1.toLowerCase()=="onclick")||(_b1==""&&this.options.editModeEvent.toLowerCase()=="onclick")){if(!this.getEditDisabled(_ab,_ac)){var _a9=parseInt(_a8.getAttribute("tdIndex"));var _aa=parseInt(_a9/this.realRowDataLength);var _ac=parseInt(_a8.getAttribute("colIndex"));var _b2=_aa+_ad;var _b3=_a9%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();_._F.fireEvent(this,"oncellclick",_b2,_b3);_b0=true;}this.setEditMode(_a8);}}if(!_b0&&!this.getEditDisabled(_ab,_ac)){var _a9=parseInt(_a8.getAttribute("tdIndex"));var _aa=parseInt(_a9/this.realRowDataLength);var _ac=parseInt(_a8.getAttribute("colIndex"));var _b2=_aa+_ad;var _b3=_a9%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();_._F.fireEvent(this,"oncellclick",_b2,_b3);}};_._a._B.prototype.bodyDblClick=function(e,_b5){if(_b5.tagName=="INPUT"){var _b6=this.getLastFocusedCell();var _b7=_b6.focusedRowIndex;var _b8=_b6.focusedColIndex;}else{var _b9=parseInt(_b5.getAttribute("tdIndex"));var _ba=parseInt(_b9/this.realRowDataLength);var _b7=_ba+this.rowIndex;var _b8=_b5.getAttribute("col_id");}if(_b8==null){return;}var _bb=_b5.getAttribute("editModeEvent")||"";if((_bb!=""&&_bb.toLowerCase()=="ondblclick")||(_bb==""&&this.options.editModeEvent.toLowerCase()=="ondblclick")){this.setEditMode(_b5);}if(!this.getEditDisabled(_b7,_b8)){this.rollbackCommitFlag=false;_._F.fireEvent(this,"oncelldblclick",this.getFocusedRowIndex(),this.getFocusedColumnIndex());this.rollbackCommitFlag=true;}};_._a._B.prototype.headerClick=function(e,_bd){_._F.fireEvent(this,"onheaderclick",_bd.getAttribute("header_id"));var _be=_._F.getTarget(e);var _bf=_bd.getAttribute("inputType");if(this.editedCell!=null){this.editedCell.handleEndEdit();}if(this.noevent==true){}else{if(this.options.sortEvent=="onclick"&&this.options.sortable&&!this.groupbyStatus.grouped&&!this.options.useFilterList){this.fireSortEvent(e,_bd);}}this.noevent=false;};_._a._B.prototype.headerDdlClick=function(e,_c1){_._F.fireEvent(this,"onheaderdblclick",_c1.getAttribute("header_id"));if(this.options.sortEvent=="ondblclick"&&this.options.sortable&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_c1);}if(this.groupbyStatus.grouped&&this.options.sortable){this.fireGroupByRangeSortEvent(e,_c1);}this.noevent=false;};_._a._B.prototype.fireGroupByRangeSortEvent=function(e,_c3){try{var _c4=_c3.className;var _c5=parseInt(_c3.getAttribute("colIndex"),10)-this.defaultColCnt;if(_c4.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_c4.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_c5){return;}}var _c7=1;var _c8=_c3.getAttribute("header_id");var _c9=_c3.getAttribute("inputtype");if(this._sortArr.length>this.groupbyStatus.sortIndexArr.length){var _ca=this._sortArr[this._sortArr.length-1];var td=this.getElementById(this.id+"_"+_ca.headerId);if(_c8==_ca.headerId){_c7=(_ca.sortOrder===-1)?1:-1;}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");this._sortArr.pop();}this._sortArr.push({"dataType":_c9,"headerId":_c8,"id":this.headerToBodyRelation[_c8],"sortOrder":_c7});this.filteredRowIndexArr=this.recursiveRangeSort(this.filteredRowIndexArr,_c5,_c7);this.drawHeaderSortImages();this.drawData(0,null,"async");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._B.prototype.recursiveRangeSort=function(_cc,_cd,_ce){try{var _cf=0;var _d0={};var _d1=[];var _d2=[_cd];var _d3=[_ce];for(var i=0;i<_cc.length;i++){if(typeof _cc[i]=="number"){if(!_d0[_cf]){_d0[_cf]=[];_d1.push(i);}_d0[_cf].push(_cc[i]);}else{if(_cc[i].type=="header"){if(_cc[i].status=="open"){continue;}else{if(_cc[i].status=="closed"){var arr=_cc[i].closedChildArr.slice();var _d6=this.recursiveRangeSort(arr,_cd,_ce);_cc[i].closedChildArr=_d6;}}}else{if(_cc[i].type=="footer"){if(_d0[_cf]){_cf++;}}}}}for(var key in _d0){var _d8=_d0[key].slice();var _d6=this._rangeSort(_d8,[_cd],[_ce]);var _d9=_d1[parseInt(key,10)];_d6.unshift(_d9,_d6.length);[].splice.apply(_cc,_d6);}this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<_cc.length;i++){if(typeof _cc[i]=="number"){this.groupbyStatus.groupbyRowIndexArr.push(_cc[i]);}}return _cc;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._B.prototype.fireSortEvent=function(e,_db){if(_db.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_db.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}if(_db.getAttribute("sortable")=="false"){return;}var _dc=_db.getAttribute("header_id");var _dd=this.headerToBodyRelation[_dc];if(this._sortArr==null){this._sortArr=[];}if(this._sortArr[_dc]){this._sortArr[_dc].sortOrder=(this._sortArr[_dc].sortOrder-3)%3+1;if(!e.ctrlKey){var _de=this._sortArr[_dc];this.clearHeaderSort();this._sortArr.push(_de);this._sortArr[_dc]=this._sortArr[0];}}else{var _de={};_de.headerId=_dc;_de.id=_dd;_de.sortOrder=1;var _df=this.getCellInfo(_dd);_de.dataType=(_df.options.dataType!="number")?"text":"number";if(e.ctrlKey){this._sortArr.push(_de);this._sortArr[_dc]=this._sortArr[this._sortArr.length-1];}else{this.clearHeaderSort();this._sortArr.push(_de);this._sortArr[_dc]=this._sortArr[0];}}var _e0=[];var _e1=[];var _e2=[];var _e3={};_e3["headerId"]=_dc;_e3["bodyColId"]=_dd;_e3["sortOrder"]=this._sortArr[_dc].sortOrder;if(this._sortArr.length==0){this.clearSortFilter();}else{for(var i=this._sortArr.length-1;i>=0;i--){_e0.push(this._sortArr[i].id);_e1.push(this._sortArr[i].sortOrder);_e2.push(this._sortArr[i].dataType);if(this._sortArr[i].sortOrder==0){this.setHeaderSortImage(_dc,0,0);this._sortArr.splice(i,1);delete this._sortArr[_dc];if(this._sortArr.length==0){this.clearSort();_._F.fireEvent(this,"onsort",_e3);return;}}}_e0.reverse();_e1.reverse();_e2.reverse();this.setFilter({type:"sort",sortIndex:_e0.join(" "),sortOrder:_e1.join(" "),dataType:_e2.join(" ")});}this.drawHeaderSortImages();_._F.fireEvent(this,"onsort",_e3);};_._a._B.prototype.footerClick=function(e,_e6){_._F.fireEvent(this,"onfooterclick",_e6.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};_._a._B.prototype.handleTouchStart=function(e){_._h.clearTimer(this.id+"_iScroll_slideX");if(e.touches.length==1){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.touches[0].pageX,y:e.touches[0].pageY}];_._h.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}};_._a._B.prototype.handleTouchMove=function(e){if(this.iScroll.propagation=="pass"){return;}if(this.iScroll.addMoveClass){this.iScrollAddMoveClass();this.iScroll.addMoveClass=false;}if(e.touches.length==1){var _e9=this.scrollX_right;var _ea=this.getElementById(this.id+"_scrollY_div");var _eb=this.getElementById(this.id+"_iScrollX");var _ec=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.touches[0].pageX,y:e.touches[0].pageY});var _ed=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _ee=_ed[0].x-_ed[1].x;var _ef=_ed[0].y-_ed[1].y;var _f0=this.iScroll.moveDirection;if(!_f0){_f0=this.iScroll.moveDirection=Math.abs(_ef)>=Math.abs(_ee)?"Y":"X";}var _f1=_f0=="X"&&_ee<0&&_e9.scrollLeft==0||_f0=="X"&&_ee>0&&_e9.scrollLeft>=_e9.firstChild.offsetWidth-_e9.offsetWidth||_f0=="Y"&&_ef<0&&_ea.scrollTop==0||_f0=="Y"&&_ef>0&&this.rowIndex+this.lastIndex+1==this.getDataLength();if(_f1){if(this.iScroll.propagation=="stop"){_._F.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_f0=="X"){this.moveXScroll(_ee);}else{this.moveYScroll(_ef);}this.iScroll.propagation="stop";_._F.stopEvent(e);_._h.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}};_._a._B.prototype.handleTouchEnd=function(e){_._h.clearTimer(this.id+"_iScroll");this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _f3=this.iScroll.prevTouches;if(_f3.length>=2){var _f4=_f3[0].x-_f3[1].x;var _f5=new Date();this.slideX(_f4,_f5);}else{this.iScrollRemoveMoveClass();}};_._a._B.prototype.iScrollAddMoveClass=function(){var _f6=this.getElementById(this.id+"_iScrollX");var _f7=this.getElementById(this.id+"_iScrollY");this.__addClass(_f6,"w2grid_iScrollX_move");this.__addClass(_f7,"w2grid_iScrollY_move");};_._a._B.prototype.iScrollRemoveMoveClass=function(){var _f8=this.getElementById(this.id+"_iScrollX");var _f9=this.getElementById(this.id+"_iScrollY");this.__removeClass(_f8,"w2grid_iScrollX_move");this.__removeClass(_f9,"w2grid_iScrollY_move");};_._a._B.prototype.moveXScroll=function(_fa){var _fb=this.getElementById(this.id+"_iScrollX");var _fc=this.getElementById(this.id+"_dataLayer");var _fd=this.getElementById(this.id+"_scrollX_left");var _fe=this.scrollX_right;_fe.scrollLeft+=_fa;var _ff=parseInt(_fd.style.width,10);var _100=_fe.firstChild.offsetWidth-_fe.offsetWidth;var _101=parseInt(_fe.offsetWidth*_fe.offsetWidth/_fe.firstChild.offsetWidth,10);_fb.style.width=(_101<30?30:_101)+"px";_fb.style.left=(_ff+_fe.scrollLeft/_100*(_fc.offsetWidth-_ff-_fb.offsetWidth))+"px";};_._a._B.prototype.slideX=function(_102,_103){var _104=new Date();var dx=parseInt(_102/3,10);this.moveXScroll(dx);_102-=dx;var sign=_102>0?"+":"-";if(Math.abs(_102)>=0&&_104-_103<this.options.iScrollSlideTime){_._h.clearTimer(this.id+"_iScroll_slideX");_._h.setTimer(this.slideX,{key:this.id+"_iScroll_slideX",caller:this,delay:this.options.iScrollSlidePeriod,args:[_102,_103]});}else{this.iScrollRemoveMoveClass();}};_._a._B.prototype.moveYScroll=function(_107){_107*=parseInt(this.options.touchScrollDelta,10)||5;var _108=this.getElementById(this.id+"_iScrollY");var _109=this.getElementById(this.id+"_scrollY_div");_109.scrollTop+=_107;var _10a=_109.firstChild.offsetHeight;var _10b=this.getElementById(this.id+"_dataLayer");var _10c=_10a-_10b.offsetHeight;var _10d=parseInt(_10b.offsetHeight*_10b.offsetHeight/_10a,10);_108.style.height=(_10d<30?30:_10d)+"px";_108.style.top=(_109.scrollTop/_10c*(_10b.offsetHeight-_108.offsetHeight))+"px";};;WebSquare.uiplugin.eventController=_._a._B;_._a._x=function(){};_._a._x.prototype.nonCharKeys={4:"insert",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",9:"tab",13:"enter",46:"del",35:"end",16:"shift",17:"ctrl",18:"alt",21:"hanyoung",25:"hanja",91:"window",20:"capslock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"numlock",145:"scrolllock"};_._a._x.prototype.handleBodyKeyDown=function(e){if(!this.editMode){if(this.options.focusMode!="none"&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){if(e.keyCode==13&&document.activeElement==this.render){this.setFocusedCell();_._F.stopEvent(e);}return;}var _2=false;switch(e.keyCode){case 37:case 39:if(this.options.moveKeyEditMode){var _3=(e.keyCode==37)?"left":"right";this.moveHorizontal(false,_3,true);_._F.stopEvent(e);return;}case 38:case 40:this.skipScrollEndEvent=false;if(this.options.moveKeyEditMode){var _3=(e.keyCode==38)?"up":"down";this.moveVertical(false,_3,true);_._F.stopEvent(e);return;}case 33:case 34:case 35:case 36:case 9:case 13:_2=true;break;default:_2=false;break;}if(_2==true&&this.options.focusMove=="false"){return;}if(this.F2Mode){switch(e.keyCode){case 8:case 46:case 35:case 36:case 37:case 38:case 39:case 40:return;}}switch(e.keyCode){case 4:break;case 46:this.removeCellData(e);_._F.stopEvent(e);break;case 32:this.doDefaultAction(e);break;case 33:this.movePageUp(e);_._F.stopEvent(e);break;case 34:this.movePageDown(e);_._F.stopEvent(e);break;case 35:this.moveHorizontal(e,"end");_._F.stopEvent(e);break;case 36:this.moveHorizontal(e,"home");_._F.stopEvent(e);break;case 37:this.moveHorizontal(e,"left");_._F.stopEvent(e);break;case 38:this.moveVertical(e,"up");_._F.stopEvent(e);break;case 39:this.moveHorizontal(e,"right");_._F.stopEvent(e);break;case 40:this.moveVertical(e,"down");_._F.stopEvent(e);break;case 9:if(_._F.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var _4=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(_4||this.options.focusFlow!="linear"){_._F.stopEvent(e);}}break;case 13:if(this.options.enterKeyMove=="edit"){this.setEditHtml(e);}else{if(this.options.enterKeyMove=="none"){}else{if(this.options.enterKeyMove=="right"){this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}}_._F.stopEvent(e);break;case 67:if(e.ctrlKey){if(_._G.isIE()&&document.selection.type=="None"){this.copyToClipboard();}}else{var _5=_._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_5){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 86:if(e.ctrlKey){this.pasteFromClipboard();}else{var _5=_._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_5){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 90:if(e.ctrlKey){}else{var _5=_._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_5){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 27:if(this.options.focusMode!="none"&&this.options.focusFlow!="linear"){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);this.render.focus();}break;case 16:case 17:case 18:case 21:case 229:case 25:case 91:case 20:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:break;default:if(!e.ctrlKey){var _5=_._G.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_5){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}}}else{switch(e.keyCode){case 9:_._F.stopEvent(e);if(!this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode)){this.setFocusedCell(this.editMode);}break;case 13:if(this.editedCell.options.inputType=="textarea"&&!e.ctrlKey){break;}var _6=false;if(this.options.enterKeyMove=="none"){this.editedCell.handleEndEdit(e);}else{if(this.options.enterKeyMove=="right"){_6=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{_6=this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}if(!_6){this.setFocusedCell(this.editMode);}break;case 27:this.editedCell.handleCancelEdit(e);this.setFocusedCell();_._F.stopEvent(e);break;}}};_._a._B.prototype.handleOnfocus=function(e){if(this.getDataLength()>0&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){var _8=null;var _9=this.colIndexInfo.body.colInfo.colIndexMatch;var _a=this.colIndexes.bodyColInfo.trIndexArr;var _b=_a[this.defaultColCnt];var _c=0;for(var i=0;i<_9.length;i++){var _e=_9[i];if(this.hiddenList[i]){continue;}for(var j=_e.length-1;j>=0;j--){var _10=_e[j]-this.defaultColCnt;var _11=_a[_e[j]];if(_11<=_b){if(this.options.readOnlyTabIgnore&&this.getReadOnly("all",_c,_10)){break;}if(this.options.ignoreNonEditableCell&&(this.getReadOnly("all",_c,_10)||this.getDisabled("all",_c,_10))){break;}_8=_10;break;}}if(_8!==null){break;}}if(_8!==null){this.setFocusedCell(_c,_8);}}};_._a._x.prototype.removeCellData=function(e){var _13=this.getLastFocusedCell();var row=_13.focusedRowIndex;var col=_13.focusedColIndex;var _16=this.getCellInfo(col);if(!this.getReadOnly("all",row,col)&&!this.getDisabled("all",row,col)){_16.removeCellData(row,col);}};_._a._x.prototype.doDefaultAction=function(e){if(this.options.focusMode=="none"){var td=_._F.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){this.getCellInfo(td).doDefaultAction(e);}}else{this.getCellInfo(this.getLastFocusedCell().focusedColIndex).doDefaultAction(e);}};_._a._x.prototype.setEditHtml=function(e){var _1a=_._F.getTarget(e);if(!this.options.fastEditMode&&_1a.tagName!="INPUT"){_._F.stopEvent(e);}if(this.focusedCell.length>0){var _1b=this.focusedCell[this.focusedCell.length-1];if(_1b.focusedTd!=null){this.setEditMode(_1b.focusedTd);}}};_._a._x.prototype.getFirstTdTrIndex=function(td){var _1d=0;var tr=td.parentNode;while(tr.getAttribute("trIndex")!="0"){tr=_._G.prev(tr);}return tr;};_._a._x.prototype.fixScrollRightDirection=function(){var _1f=this.getLastFocusedCell();var _20=this.getElementById(this.id+"_dataLayer").offsetWidth;var _21=this.getElementById(this.id+"_scrollX_right");var _22=_1f.focusedTd.offsetLeft;var _23=_1f.focusedTd.offsetWidth+1;if(_._G.isFF()){_23-=1;}if(_._G.isOpera()){_23+=2;}var gap=_22+_23-_20;if(this.options.lazyDrawHiddenColumn){var td=this.focusedCell[0].focusedTd;if(td.style.display=="none"||gap>0){if(this.options.scrollByColumn){var _26=_20-this.fixedWidth;var _27=_1f.focusedColIndex+this.defaultColCnt;var _28=-1;var _29=0;_._G.isOpera()&&(_29=2);for(var _2a=_27;_2a>=0;_2a--){if(this.hiddenList[_2a]){continue;}_26-=this.colWidthList[_2a];if(_26<0){_28=_2a;break;}}var _2a=0;if(this.fixedWidth>0){_2a=this.getFixedColumnLastIndex();}for(_2a;_2a<=_28;_2a++){if(this.hiddenList[_2a]){continue;}else{_29+=this.colWidthList[_2a];}}this.scrollXPreventEndEdit=true;_21.scrollLeft=_29;this._handleScrollX();}else{var _2b=parseInt(td.getAttribute("colIndex"),10);var _2c=0;_._G.isOpera()&&(_2c=2);for(var i=0;i<=_2b;i++){if(!this.hiddenList[i]){_2c+=this.colWidthList[i];}}this.scrollXPreventEndEdit=true;_21.scrollLeft=_2c-_20;this._handleScrollX();}}}else{if(gap>0){if(this.options.scrollByColumn){var _26=_20-this.fixedWidth;var _27=_1f.focusedColIndex+this.defaultColCnt;var _28=-1;var _29=0;for(var _2a=_27;_2a>=0;_2a--){if(this.hiddenList[_2a]){continue;}_26-=this.colWidthList[_2a];if(_26<0){_28=_2a;break;}}var _2a=0;if(this.fixedWidth>0){_2a=this.getFixedColumnLastIndex();}for(_2a;_2a<=_28;_2a++){if(this.hiddenList[_2a]){continue;}else{_29+=this.colWidthList[_2a];}}this.scrollXPreventEndEdit=true;_21.scrollLeft=_29;this._handleScrollX();}else{this.scrollXPreventEndEdit=true;_21.scrollLeft=_21.scrollLeft+gap;this._handleScrollX();}}}};_._a._x.prototype.fixScrollLeftDirection=function(){var _2e=this.getLastFocusedCell();var _2f=_2e.focusedTd.getAttribute("colIndex");_2f=parseInt(_2f);var _30=this.getElementById(this.id+"_scrollX_right");var _31=0;var max=this.gridWidth-_31-this.fixedWidth;var _33=this.getFixedColumnLastIndex();for(var i=_33;i<_2f;i++){if(this.hiddenList[i]){continue;}var _35=this.colWidthList[i];_31+=_35;}if(_30.scrollLeft>_31){this.scrollXPreventEndEdit=true;_30.scrollLeft=_31;this._handleScrollX();}};_._a._x.prototype.getLeftMostFocusableColIndex=function(_36){var _37=this.colIndexInfo.body.colInfo.colIndexArr;var _38=null;if(_36>=this.getRowCount()||_36<0){return _38;}for(var i=this.defaultColCnt;i<_37.length;i++){var _3a=false;if(this.options.readOnlyTabIgnore){_3a=this.getReadOnly("all",_36,i);}if(this.options.ignoreNonEditableCell){_3a=this.getReadOnly("all",_36,i)||this.getDisabled("all",_36,i);}if(!this.hiddenList[i]&&!_3a){_38=i-this.defaultColCnt;break;}}return _38;};_._a._x.prototype.getRightMostFocusableColIndex=function(_3b){var _3c=this.colIndexInfo.body.colInfo.colIndexArr;var _3d=null;if(_3b>=this.getRowCount()||_3b<0){return _3d;}for(var i=_3c.length-1;i>=this.defaultColCnt;i--){var _3f=false;if(this.options.readOnlyTabIgnore){_3f=this.getReadOnly("all",_3b,i);}if(this.options.ignoreNonEditableCell){_3f=this.getReadOnly("all",_3b,i)||this.getDisabled("all",_3b,i);}if(!this.hiddenList[i]&&!_3f){_3d=i-this.defaultColCnt;break;}}return _3d;};_._a._x.prototype.moveHorizontal=function(e,_41,_42){if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return false;}var _43=this.getLastFocusedCell();var row=_43.focusedRowIndex;var col=_43.focusedColIndex;var _46=this.colIndexInfo.body.colInfo.colIndexArr;var _47=this._getRealColIndex("body",this.tdIdList[col])+this.defaultColCnt;var _48=this.colIndexInfo.body.colInfo.colIndexMatch;var _49=this.colIndexes.bodyColInfo.trIndexArr;var _4a=_49[col+this.defaultColCnt];var _4b=e?e.keyCode==9:false;var _4c=e?(e.keyCode==9||e.keyCode==13):false;var _4d=e?(37<=e.keyCode&&e.keyCode<=40):false;var _4e=e?e.shiftKey:false;var _41=_41||"right";if(_43.bTrIndex){_4a=_43.bTrIndex;}var _4f=null;if(this.options.focusMultiRow){if(_41=="left"){var _50=_47-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_41=="right"){var _50=_47+1;var end=_48.length;var inc=+1;}else{if(_41=="home"){var _50=this.defaultColCnt;var end=_48.length;var inc=+1;}else{var _50=_48.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_50;i!=end;i+=inc){var _54=_48[i];if(this.hiddenList[i]){continue;}for(var j=_54.length-1;j>=0;j--){var _56=_54[j]-this.defaultColCnt;var _57=_49[_54[j]];if(_57<=_4a&&((_41=="left"||_41=="right")?_56!=col:true)){if(_4b&&this.options.readOnlyTabIgnore&&this.getReadOnly("all",row,_56)){break;}if(_4c&&this.options.ignoreNonEditableCell&&(this.getReadOnly("all",row,_56)||this.getDisabled("all",row,_56))){break;}_4f=_56;break;}}if(_4f!==null){break;}}}else{if(_41=="left"){var _50=col-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_41=="right"){var _50=col+1;var end=_46.length;var inc=+1;}else{if(_41=="home"){var _50=this.defaultColCnt;var end=_48.length;var inc=+1;}else{var _50=_46.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_50;i!=end;i+=inc){var cnt=0;var _59=null;for(var t=0;t<_48.length;t++){cnt=0;for(var r=0;r<_48[t].length;r++){if(i==_48[t][r]){_59=t;break;}cnt++;}if(_59!=null){break;}}var _54=_48[_59];if(this.hiddenList[_59]){continue;}for(var j=0;j<_54.length;j++){var _56=_54[j]-this.defaultColCnt;var _57=_49[_54[j]];if(j==cnt&&((_41=="left"||_41=="right")?_56!=col:true)){if(_4b&&this.options.readOnlyTabIgnore&&this.getReadOnly("all",row,_56)){break;}if(_4c&&this.options.ignoreNonEditableCell&&(this.getReadOnly("all",row,_56)||this.getDisabled("all",row,_56))){break;}_4f=_56;break;}}if(_4f!==null){break;}}}if(_4f!==null){this.setFocusedCell(row,_4f,_42);_43=this.getLastFocusedCell();_43.bTrIndex=_4a;return true;}else{if(this.options.focusFlow=="linear"){if(row>0&&_4c&&_4e){var _5c=this.getRightMostFocusableColIndex(row-1);while(row>=0&&_5c==null){row-=1;_5c=this.getRightMostFocusableColIndex(row-1);}if(_5c==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}this._setGridBorderNoRefresh=true;this.setFocusedCell(row-1,_5c,_42);this._setGridBorderNoRefresh=false;return true;}else{if(row<this.getDataLength()-1&&_4c&&!_4e){var _5d=this.getLeftMostFocusableColIndex(row+1);while(row!=this.getRowCount()&&_5d==null){row+=1;_5d=this.getLeftMostFocusableColIndex(row+1);}if(_5d==null){if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;}if(row+1>this.rowIndex+this.lastIndex){this._setGridBorderNoRefresh=true;this.addGridScroll(1);this._setGridBorderNoRefresh=false;}this._setGridBorderNoRefresh=true;this.setFocusedCell(row+1,_5d,_42);this._setGridBorderNoRefresh=false;return true;}}}}if(this.editedCell){this._setGridBorderNoRefresh=true;this.editedCell.handleEndEdit(e);this._setGridBorderNoRefresh=false;}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}return false;};_._a._x.prototype.moveVertical=function(e,_5f,_60){if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return false;}var _61=this.getLastFocusedCell();var row=_61.focusedRowIndex;var col=_61.focusedColIndex;var _64=this.defaultColCnt;var _65=this.colIndexInfo.body.colInfo.colIndexArr;var _66=this.colIndexes.bodyColInfo.trIndexArr;var _67=this.colIndexes.bodyColInfo.colSpanArr;var _68=this.colIndexes.bodyColInfo.rowSpanArr;var _69=_65[col+_64];var _6a=_66[col+_64];var _6b=_67[col+_64];var _6c=_68[col+_64];var _6d=col;var _6e=row;if(_6b&&_61.bColIndex){_69=_61.bColIndex;}if(_5f=="up"){var _6f=_6a==0?this.oneRowDataLength-1:col-1;var end=-1;var inc=-1;}else{var _6f=_6a+_6c==this.oneRowLength?0:col+1;var end=this.oneRowDataLength;var inc=+1;}for(var i=_6f;i!=end;i+=inc){var _73=_65[i+_64];var _74=_73+(_67[i+_64]?_67[i+_64]:1)-1;if(_73<=_69&&_69<=_74&&!this.hiddenList[_65[i+_64]]){_6d=i;if(_5f=="up"){_6e=_6a==0?row-1:row;}else{_6e=_6a+_6c==this.oneRowLength?row+1:row;}break;}}if(0<=_6e&&_6e<this.getDataLength()&&(row!=_6e||col!=_6d)){_._F.stopEvent(e);if(this.setFocusedCell2(_6e,_6d,_60)){_61=this.getLastFocusedCell();_61.bColIndex=_69;return true;}else{return false;}}if(this.options.focusFlow=="linear"){if(_6e==-1||_6e==this.getDataLength()){var td=this.getLastFocusedCell().focusedTd;var _76=this.getCellInfo(td);if(_76.options.inputType=="text"&&_76.options.embeddedInput){var _77=this.getInput(_76,td);this.showFakeInput(_77);this.fakeInput.setValue(_77.getValue());this.F2Mode=false;_77.select();}}}if(this.editedCell){this.editedCell.handleEndEdit(e);}else{if(this.options.moveKeyEditMode){this._setGridBorderNoRefresh=true;this.setFocusedCell(row,col,false);this._setGridBorderNoRefresh=false;}}return false;};_._a._x.prototype.moveEnd=function(e){if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveRight(e)){}var _79=false;while(!_79){var _7a=true;var _7b=this.getLastFocusedCell();var _7c=parseInt(_7b.focusedTd.getAttribute("colIndex"));var _7d=parseInt(_7b.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_7d;i++){if(this.hiddenList[_7c+i]==false){_7a=false;break;}}if(_7a==true){this._moveLeft(e);}else{_79=true;}}this.fixScrollRightDirection();};_._a._x.prototype.moveHome=function(e){if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveLeft(e)){}var _80=false;while(!_80){var _81=true;var _82=this.getLastFocusedCell();var _83=parseInt(_82.focusedTd.getAttribute("colIndex"));var _84=parseInt(_82.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_84;i++){if(this.hiddenList[_83+i]==false){_81=false;break;}}if(_81==true){this._moveRight(e);}else{_80=true;}}this.fixScrollLeftDirection();};_._a._x.prototype.movePageUp=function(e){if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.rowIndex<=0){return;}var _87=this.getLastFocusedCell();var _88=_87.focusedRowIndex;if(_88<0){return;}_88-=this.rowIndex;var _89=_87.focusedColIndex;this._applyFocusedCellOut(_87);this.setBottomRowIndex(this.getBottomRowIndex()-this.lastIndex);this.setFocusedCell(_88+this.rowIndex,_89);return true;};_._a._x.prototype.movePageDown=function(e){if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.lastTopRowIndex!=null&&this.rowIndex>=this.lastTopRowIndex){return;}var _8b=this.getLastFocusedCell();var _8c=_8b.focusedRowIndex;if(_8c<0){return;}_8c-=this.rowIndex;var _8d=_8b.focusedColIndex;this._applyFocusedCellOut(_8b);this.setTopRowIndex(this.rowIndex+this.lastIndex);this.setFocusedCell(_8c+this.rowIndex,_8d);return true;};_._a._x.prototype.findTd=function(_8e,_8f,_90){var pTd=null;var i=0;while(_8e!=null){var _93=_._G.first(_8e);while(_93!=null){var _94=parseInt(_93.getAttribute("colIndex"));if(_94<=_8f&&_8f<=_94+_93.colSpan-1){if(i<=_90&&_90<=i+_93.rowSpan-1){return _93;}}if(_94>_8f){break;}_93=_._G.next(_93);}_8e=_._G.next(_8e);if(i>_90){break;}if(pTd!=null){break;}i++;}};_._a._x.prototype.pasteFromClipboard=function(){var _95=this.parseClipboardExcel();var _96=this.getFocusedRowIndex();var _97=this.getFocusedColumnIndex();var _98=[];for(var row=0;row<_95.length;row++){_98.push([]);for(var col=0;col<_95[0].length;col++){_98[row][col]=this.getCellData(row+_96,col+_97);}}for(var row=0;row<_95.length;row++){for(var col=0;col<_95[0].length;col++){var _9b=_95[row][col];try{_9b=_9b.wq_trim();var _9c=this.getCellInfo(col+_97);var _9d=_9c.options.dataType;var _9e=/[^(\-0-9)]/g;if(_9d=="number"){_9b=_9b.replace(_9e,"");}}catch(e){}if(this._getEditReadOnly(row+_96,col+_97)!=true&&this.getEditDisabled(row+_96,col+_97)!=true){this.setCellData(row+_96,col+_97,_9b);}}}var _9f=this;_.historyManager.set("grid","grid1",{focusRowIndex:_96,focusColIndex:_97,data2d:_98},{onRestore:function(_a0){var _a1=_a0.data2d;for(var row=0;row<_a1.length;row++){for(var col=0;col<_a1[0].length;col++){var _a4=_a1[row][col];_9f.setCellData(row+_96,col+_97,_a4);}}}});};_._a._x.prototype.parseClipboardExcel=function(){var _a5=[];var str=window.clipboardData.getData("Text");var _a7=str.split("\n");for(var row=0;row<_a7.length-1;row++){var _a9=_a7[row].split("\t");_a5.push(_a9);}return _a5;};_._a._x.prototype.copyToClipboard=function(){var _aa=this.options.copyAmount;if(!_aa){if(this.options.focusMode=="cell"){_aa="cell";}else{if(this.options.focusMode=="both"||this.options.focusMode=="row"){_aa="row";}}}if(_aa=="cell"){var _ab=this.getDataLength();var _ac=0;var _ad=this.getTotalCol();var _ae=0;var _af=[];for(var i=0;i<this.focusedCell.length;i++){var _b1=this.focusedCell[i];var _b2=_b1.focusedRowIndex;var _b3=_b1.focusedColIndex;if(_af[_b2]==null){_af[_b2]=[];}_af[_b2][_b3]=_b1;if(_ab>_b2){_ab=_b2;}if(_ad>_b3){_ad=_b3;}}var _b4=[];for(var i=_ab;i<_af.length;i++){var _b5=_af[i];var _b6=[];if(typeof _b5!="undefined"){for(var j=_ad;j<_b5.length;j++){var _b8=_af[i][j];if(_b8){_b6.push(this.getCellData(i,j));}else{_b6.push("");}}}_b4.push(_b6.join("\t"));}window.clipboardData.setData("Text",_b4.join("\n"));}else{if(_aa=="row"){var _b9=[];for(var i=0;i<this.focusedCell.length;i++){var _b1=this.focusedCell[i];_b9[_b1.focusedRowIndex]=1;}var _b5=[];for(var _b2 in _b9){_b5.push(_b2);}function compare(a,b){if(parseInt(a)>parseInt(b)){return 1;}return -1;}_b5.sort(compare);var _af=[];for(var i=0;i<_b5.length;i++){var _b2=_b5[i];var _bc=this.getRowData(_b2);_af.push(_bc.join("\t"));}window.clipboardData.setData("Text",_af.join("\n"));}}};;WebSquare.uiplugin.keyEventController=_._a._x;_._a.an=function(_1){};_._a.an.prototype._getData=function(_2,_3){this.editEndBeforeGetData();var _4=this.cellInfoHash[this.tdIdList[_3]];if(_4.options.inputType=="expression"){return _4.getExpressionValue(_2);}var _5=this.dataArr[_2*this.getColumnCount()+_3];if(_5==null){_5="";}return _5;};_._a.an.prototype.getCellDisplayData=function(_6,_7){var _8=this.filteredRowIndexArr[_6];return this._getDisplayData(_8,_7);};_._a.an.prototype._getDisplayData=function(_9,_a){this.editEndBeforeGetData();_a=this.getColumnIndex(_a);var _b=this.cellInfoHash[this.tdIdList[_a]];var _c=this.dataArr[_9*this.getColumnCount()+_a];if(_b.useCustomFormatter&&this.options.keepBeforeDisplayData!=true){var _d=_b.getEscape()==="true"?_b.getDisplayData(_._t._encode(_c+"")):_b.getDisplayData(_c);var _e=_._G.getGlobalFunction(_b.options.customFormatter);_c=_e.call(this,_c,_d,_9,_a);}else{_c=_b.getDisplayData(_c,_9);}if(_c==null){_c="";}return _c;};_._a.an.prototype._setData=function(_f,_10,_11){this.dataArr[_f*this.getColumnCount()+_10]=_11;};_._a.an.prototype.getTotalRow=function(){var _12=this.dataArr.length/this.oneRowDataLength;return _12;};_._a.an.prototype.getTotalCol=function(){var _13=this.oneRowDataLength;return _13;};_._a.an.prototype.setGridData=function(arr,_15){var _16=arr.length/this.oneRowDataLength;for(var j=0;j<this.oneRowDataLength;j++){var _18=this.getCellInfo(this.tdIdList[j]);if(_18.options.inputType=="radio"&&_18.options.groupName){var _19=_18.options.trueValue;var _1a=_18.options.falseValue;switch(_18.options.valueType){case "binary":_19="1";_1a="0";break;case "boolean":_19="true";_1a="false";break;case "other":break;}for(var i=0;i<_16;i++){if(this.cellInfoHash[_18.options.groupName]){var _1c=arr[i*this.oneRowDataLength+this.bodyIdColIndexMap[_18.options.groupName]];if(_1c==_18.options.groupValue){arr[i*this.oneRowDataLength+j]=_19;}else{arr[i*this.oneRowDataLength+j]=_1a;}}}}}_15=_15||false;var _1d=this.getTotalRow();if(_15){this.dataArr=this.dataArr.concat(arr);}else{this.dataArr=arr;this.rowStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};_1d=0;}this.beforeDataLength=-1;if(_15){this.originalDataArr=this.originalDataArr.concat(arr);}else{this.originalDataArr=[];this.originalDataArr=this.dataArr.slice(0);}var _1e=arr.length/this.oneRowDataLength;for(var i=0;i<_1e;i++){this.filteredRowIndexArr.push(i+_1d);}if(this.isDrillDown==true){this.setCellInfo();this.initDrilldown();}this.initRowStatus(_1d);this.initStyleArr(_1d);if(this.dataFilter.useFilter()){var _1f=this.getTotalCol();this.dataFilter.executeAllFilter(this.dataArr,this.getTotalRow(),_1f);}if(this.loadFlag==false&&_15){this.loadFlag=false;}else{this.loadFlag=true;}this.lastTopRowIndex=null;this.notifyDataChanged(_15?{append:true,keepTop:true}:{});this.loadFlag=true;if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};_._a.an.prototype.initDrilldown=function(_20){try{var _20={showDepth:this.showDepth,depthColumn:this.depthColumn};if(typeof _20.depthColumn=="string"){_20.depthColumn=this.bodyIdColIndexMap[_20.depthColumn];}this.drilldown.initialize(this,_20);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getRealRowIndex=function(_21){if(this.filteredRowIndexArr[_21]==null){return _21;}return this.filteredRowIndexArr[_21];};_._a.an.prototype.getDisplayRowIndex=function(_22){var _23=_22;if(this.dataFilter.useFilter()){_23=this.dataFilter.getDisplayRowIndex(_22);}if(this.isDrillDown){_23=this.drilldown.getDisplayRowIndex(_22);}return _23;};_._a.an.prototype.setCellData=function(_24,_25,_26){this._setCellData.call(this,_24,_25,_26);};_._a.an.prototype._setCellData=function(_27,_28,_29,_2a){if(_29===null||_29===undefined){_29="";}if(this.editedCell!=null){this.editedCell.handleCancelEdit();}var _2b=this.getTotalRow();var _2c=this.getTotalCol();var _2d=this.filteredRowIndexArr[_27];var _2e="";_28=this.getColumnIndex(_28);if(this.isDrillDown&&this.options.drilldownRealRowIndex){_2d=_27;_27=this.drilldown.getDisplayRowIndex(_27);_2e=this.getCellData(_2d,_28,"3");}else{if(_27>=0&&_27<_2b&&_28>=0&&_28<_2c){_2e=this.getCellData(_27,_28);}}if(_27>=0&&_27<_2b&&_28>=0&&_28<_2c){var _2f=this.cellInfoHash[this.tdIdList[_28]];var _30=_2f.options.inputType||"text";if((_30=="text"||_30=="textImage"||_30=="drilldown")&&_2f.options.applyFormat=="all"&&!_2f.options.embeddedInput){var _31=this.getInput(_2f);_2e=_2f.formatter.format(_2e);_2e=_31.validator.validateString(_2e);}if(_2f.options.dataType=="bigDecimal"&&typeof _29=="string"){_29=_._w(_29).toString();}else{if(_2f.options.dataType=="bigDecimal"){$l("Warning : If dataType is bigDecimal, data must be entered to String.");_29=_._w(_29).toString();}}var _32=_29.toString().replace(/\r(\n)?/,"\n");var _33=_2e.toString().replace(/\r(\n)?/,"\n");if(_32!==_33){this._setData(_2d,_28,_29);if(!_2f.options.ignoreStatus){this._updateRowStatus(_2d);}if(!_2a){this.notifyCellChanged(_27,_28);}_._F.fireEvent(this,"onchange",_27,_28,_29,_2e);if(_2f.options.inputType=="radio"&&_2f.options.groupName&&_2f.options.trueValue==_29){_2f.resetOthers(_27);if(this.radioGroupRepChk[_2f.options.groupName]){this.setCellData(_27,_2f.options.groupName,_2f.options.groupValue);}}if(this.radioGroupRepChk[_2f.options.id]){var _34=this.getColumnCount();for(var _35=0;_35<_34;_35++){var _36=this.cellInfoHash[this.tdIdList[_35]];if(_36.options.inputType=="radio"&&_36.options.groupName==_2f.options.id&&_36.options.groupValue==_29){var _37=_27-this.rowIndex;this.setCellData(_27,_35,_36.options.trueValue);break;}}if(_35==_34){this._resetRadioGroup(_27,_2f.id,false);}}if(this.isDrillDown){if(this.drilldown.options.depthColumn==_28){this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}else{if(_2f.options.inputType=="checkbox"&&_2f.options.setRecursive){var _38=this.drilldown.getChildRowArr(_27,true);for(var i=0;i<_38.length;i++){if(this._getData(_38[i],_28)!=_29){this._setCellData(_38[i],_28,_29);}}}}}}else{if(this.editedCell!=null&&!_2a){this.notifyCellChanged(_27,_28);}}}};_._a.an.prototype.getCellData=function(_3a,_3b,_3c){_3c=(_3c==null||typeof _3c=="undefined")?"0":_3c+"";if(_3c=="2"){return this.getCellDisplayData(_3a,_3b);}else{_3b=this.getColumnIndex(_3b);if(_3c!="3"&&this.filteredRowIndexArr[_3a]!=null){_3a=this.filteredRowIndexArr[_3a];}return this._getData(_3a,_3b);}};_._a.an.prototype.getOriginalCellData=function(_3d,_3e,_3f){_3e=this.getColumnIndex(_3e);_3f=(_3f==null||typeof _3f=="undefined")?"0":_3f+"";if(_3f=="2"){this.editEndBeforeGetData();_3e=this.getColumnIndex(_3e);var _40=this.getCellInfo(_3e);var _41=this.originalDataArr[_3d*this.getColumnCount()+_3e];_41=_40.getDisplayData(_41,_3d);if(_41==null){_41="";}return _41;}else{this.editEndBeforeGetData();var _40=this.getCellInfo(_3e);if(_40.options.inputType=="expression"){return _40.getExpressionValue(_3d);}var _41=this.originalDataArr[_3d*this.getColumnCount()+_3e];if(_._G.isNull(_41)){_41="";}return _41;}};_._a.an.prototype.toggle=function(_42){_42=parseInt(_42);this.drilldown.toggle(_42);this.setScrollYHeight();this.notifyRowChanged(_42);if(this.options.autoFit){this.autoFitFunc();}};_._a.an.prototype.getParentRowIndex=function(_43){_43=parseInt(_43);return this.drilldown.getParentRowIndex(_43);};_._a.an.prototype.getChildrenRowIndexArray=function(_44){_44=parseInt(_44);return this.drilldown.getChildrenRowArr(_44);};_._a.an.prototype.getOpenStatus=function(_45){_45=parseInt(_45);return this.drilldown.isOpen(_45);};_._a.an.prototype.getDataLength=function(){return this.filteredRowIndexArr.length;};_._a.an.prototype.insertRow=function(_46){var _47=this.getDataLength();var _48=this.getTotalRow();if(isNaN(parseInt(_46))){_46=_47;}var _49=_46;if(this.dataFilter.useFilter()||_49>_48){_49=_48;}if(!this.isDrillDown&&_46>_47){_46=_47;}var _4a=false;var _4b=[];if(this.isDrillDown){var _4c=this.drilldown.getParentRowIndex(_46);while(_4c>-1){if(!this.drilldown.isOpen(_4c)){_4a=true;_4b.push(_4c);}_4c=this.drilldown.getParentRowIndex(_4c);}if(_4a){for(var i=_4b.length-1;i>=0;i--){if(!this.drilldown.isOpen(_4b[i])){var _4e=this.drilldown.getDisplayRowIndex(_4b[i]);this.toggle(_4e);}}}}var _4f=this.getTotalCol();var _50=[_49*_4f,0];var _51=[_49*_4f,0];for(var i=0;i<_4f;i++){var _52=this.getCellInfo(i).options.defaultValue;_50.push(_52);_51.push(null);}[].splice.apply(this.dataArr,_50);[].splice.apply(this.originalDataArr,_50);[].splice.apply(this.cellStyleArr,_51);[].splice.apply(this.cellReadOnlyArr,_51);[].splice.apply(this.cellDisabledArr,_51);this.extraData.row.splice(_49,0,null);this.extraData.cell.splice(_49,0,null);this._createRowStatus(_49);if(this.isDrillDown){var _53=this.getTotalCol()*_49;this.dataArr[_53+this.drilldown.options.depthColumn]=this.drilldown.newRowDepth;this.drilldown.statusArr.splice(_49,0,true);var _54=this.drilldown.getDisplayRowIndex(_49);this.filteredRowIndexArr.splice(_54,0,_49);var _55=false;for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_49){if(!_55&&this.filteredRowIndexArr[i]==_49){_55=true;continue;}this.filteredRowIndexArr[i]++;}}_46=_49;}else{for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_49){this.filteredRowIndexArr[i]++;}}this.filteredRowIndexArr.splice(_46,0,_49);}this.notifyRowInserted(_46);this.notifyStatusChanged({"rowIndex":[_46]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_46,"newRowStatus":"C","oldRowStatus":""}]);return _46;};_._a.an.prototype.removeRow=function(_56,_57){this.removed=true;if(_56==null){_56=this.getTotalRow()-1;}_56=parseInt(_56);if(this.isDrillDown&&this.options.drilldownRealRowIndex){var _58=false;var _59=[];var _5a=this.drilldown.getParentRowIndex(_56);while(_5a>-1){if(!this.drilldown.isOpen(_5a)){_58=true;_59.push(_5a);}_5a=this.drilldown.getParentRowIndex(_5a);}if(_58){for(var i=_59.length-1;i>=0;i--){if(!this.drilldown.isOpen(_59[i])){var _5c=this.drilldown.getDisplayRowIndex(_59[i]);this.toggle(_5c);}}}_56=this.drilldown.getDisplayRowIndex(_56);}if(typeof _57=="undefined"){_57=true;}else{notyfy=_._G.getBoolean(_57);}var _5d=this.filteredRowIndexArr[_56];var _5e=this.getTotalCol();if(_5d==null||_5d>=this.getTotalRow()){return;}var _5f=this.dataArr.splice(_5d*_5e,_5e);this.originalDataArr.splice(_5d*_5e,_5e);this.cellStyleArr.splice(_5d*_5e,_5e);this.cellReadOnlyArr.splice(_5d*_5e,_5e);this.cellDisabledArr.splice(_5d*_5e,_5e);this.extraData.row.splice(_5d,1);this.extraData.cell.splice(_5d,1);this.filteredRowIndexArr.splice(_56,1);for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_5d){this.filteredRowIndexArr[i]--;}}if(this.isDrillDown){this.drilldown.statusArr.splice(_5d,1);}this.removeRowFocus(this.getDataLength());var _60=this.removeRowStatus(_5d);if(_57){this.notifyRowChanged(_56);}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.notifyStatusChanged({"rowindex":[_56]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_56,"newRowStatus":"","oldRowStatus":_60}]);return _5f;};_._a.an.prototype.rowMoveUp=function(_61){if(_61>=this.getDataLength()){_61=this.getDataLength()-1;}if(_61<=0){return;}else{var _62=this.filteredRowIndexArr[_61-1];var _63=this.filteredRowIndexArr[_61];var len=this.oneRowDataLength;var _65;for(var i=0;i<len;i++){_65=this.dataArr[len*_62+i];this.dataArr[len*_62+i]=this.dataArr[len*_63+i];this.dataArr[len*_63+i]=_65;_65=this.originalDataArr[len*_62+i];this.originalDataArr[len*_62+i]=this.originalDataArr[len*_63+i];this.originalDataArr[len*_63+i]=_65;}_65=this.extraData.row[_62];this.extraData.row[_62]=this.extraData.row[_63];this.extraData.row[_63]=_65;_65=this.extraData.cell[_62];this.extraData.cell[_62]=this.extraData.cell[_63];this.extraData.cell[_63]=_65;var _67=this.getRowStatus(_61-1);var _68=this.getRowStatus(_61);this._setRowStatus(_62,_68);this._setRowStatus(_63,_67);var _69=this.getFocusedRowIndex();if(_69==_61){this.setFocusedCell(_61-1,this.getFocusedColumnIndex());}this.notifyRowChanged(_61-1);}};_._a.an.prototype.rowMoveDown=function(_6a){if(_6a<0){_6a=0;}if(_6a>=this.getDataLength()-1){return;}else{var _6b=this.filteredRowIndexArr[_6a+1];var _6c=this.filteredRowIndexArr[_6a];var len=this.oneRowDataLength;var _6e;for(var i=0;i<len;i++){_6e=this.dataArr[len*_6b+i];this.dataArr[len*_6b+i]=this.dataArr[len*_6c+i];this.dataArr[len*_6c+i]=_6e;_6e=this.originalDataArr[len*_6b+i];this.originalDataArr[len*_6b+i]=this.originalDataArr[len*_6c+i];this.originalDataArr[len*_6c+i]=_6e;}_6e=this.extraData.row[_6b];this.extraData.row[_6b]=this.extraData.row[_6c];this.extraData.row[_6c]=_6e;_6e=this.extraData.cell[_6b];this.extraData.cell[_6b]=this.extraData.cell[_6c];this.extraData.cell[_6c]=_6e;var _70=this.getRowStatus(_6a+1);var _71=this.getRowStatus(_6a);this._setRowStatus(_6b,_71);this._setRowStatus(_6c,_70);var _72=this.getFocusedRowIndex();if(_72==_6a){this.setFocusedCell(_6a+1,this.getFocusedColumnIndex());}this.notifyRowChanged(_6a);}};_._a.an.prototype.focusedRowMoveUp=function(){var _73=this.getFocusedRowIndex();this.rowMoveUp(_73);};_._a.an.prototype.focusedRowMoveDown=function(){var _74=this.getFocusedRowIndex();this.rowMoveDown(_74);};_._a.an.prototype.removeRows=function(_75){this.removed=true;var _76=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_75=_75.sort(compare);var _79=[];for(var i=0;i<_75.length;i++){var _7b=this.removeRow(_75[i],false);_79.push(_7b);}this.notifyRowChanged(_75[_75.length-1]);return _79;};_._a.an.prototype.removeAll=function(){this.removed=true;this.loadFlag=true;var _7c=this.dataArr.slice(0);this.dataArr=[];this.originalDataArr=[];this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];this.cellStyleArr=[];this.cellReadOnlyArr=[];this.cellDisabledArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.initRowStatus(0);this.removeFocusedCell();for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=-1;this.subtotalHidden();this.rowIndex=-1;this.maxRowLength=0;this.displayNoResultMessage();this.drawFooter();this.drawHeader();if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();return _7c;};_._a.an.prototype.removeRange=function(_7e,_7f){this.removed=true;var _80=this.getTotalCol();var _81=[];for(var row=_7f;row>=_7e;row--){var _83=this.removeRow(row,false);_81.push(_83);}this.notifyRowChanged(_7e);return _81;};_._a.an.prototype.initRowStatus=function(_84){if(_84==null||typeof _84=="undefined"){_84=0;}if(_84==0){this.rowStatusArr=[];}var _85=this.getTotalRow();for(var i=_84;i<_85;i++){this.rowStatusArr.push("R");}};_._a.an.prototype.initStyleArr=function(_87){if(_87<=0){this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];}var _88=this.getTotalRow();var len=_88*this.oneRowDataLength;if(_87<=0){this.rowStyleArr=new Array(_88);this.rowReadOnlyArr=new Array(_88);this.rowDisabledArr=new Array(_88);this.cellStyleArr=new Array(len);this.cellReadOnlyArr=new Array(len);this.cellDisabledArr=new Array(len);}else{[].push.apply(this.rowStyleArr,new Array(_88-this.rowStyleArr.length));[].push.apply(this.rowReadOnlyArr,new Array(_88-this.rowReadOnlyArr.length));[].push.apply(this.rowDisabledArr,new Array(_88-this.rowDisabledArr.length));[].push.apply(this.cellStyleArr,new Array(len-this.cellStyleArr.length));[].push.apply(this.cellReadOnlyArr,new Array(len-this.cellReadOnlyArr.length));[].push.apply(this.cellDisabledArr,new Array(len-this.cellDisabledArr.length));}};_._a.an.prototype._createRowStatus=function(_8a){this.rowStatusArr=this.rowStatusArr.slice(0,_8a).concat(["C"]).concat(this.rowStatusArr.slice(_8a));this.rowStyleArr=this.rowStyleArr.slice(0,_8a).concat([null]).concat(this.rowStyleArr.slice(_8a));this.rowReadOnlyArr=this.rowReadOnlyArr.slice(0,_8a).concat([null]).concat(this.rowReadOnlyArr.slice(_8a));this.rowDisabledArr=this.rowDisabledArr.slice(0,_8a).concat([null]).concat(this.rowDisabledArr.slice(_8a));};_._a.an.prototype.removeRowStatus=function(_8b){var _8c=this.rowStatusArr[_8b];this.rowStatusArr.splice(_8b,1);this.rowStyleArr.splice(_8b,1);this.rowReadOnlyArr.splice(_8b,1);this.rowDisabledArr.splice(_8b,1);return _8c;};_._a.an.prototype._setRowStatus=function(_8d,_8e){var _8f=this.rowStatusArr[_8d];if(_8e!=_8f){this.rowStatusArr[_8d]=_8e;}return _8f;};_._a.an.prototype._updateRowStatus=function(_90){var _91=this.rowStatusArr[_90];var _92=_91;if(_91=="C"||_91=="D"){return;}var _93=false;var _94=this.getTotalCol();for(var col=0;col<_94;col++){var _96=this.cellInfoHash[this.tdIdList[col]];var _97=_96.options.inputType;var _98=this.originalDataArr[_90*_94+col];var _99=this._getData(_90,col);if(_97!="expression"&&this.ignoreStatusColArr[col]!=true&&_98!=_99){if(_98!==null||_99!==""){_93=true;break;}}}if(_91=="R"){if(_93==true){_91="U";}}else{if(_91=="U"){if(_93==false){_91="R";}}}this._setRowStatus(_90,_91);if(_91!=_92){var _9a=this.getDisplayRowIndex(_90);this.notifyStatusChanged({"rowIndex":[_9a]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_9a,"newRowStatus":_91,"oldRowStatus":_92}]);}};_._a.an.prototype.deleteRow=function(_9b){if(this.isDrillDown&&this.options.drilldownRealRowIndex){_9b=this.drilldown.getDisplayRowIndex(_9b);}var _9c=this.filteredRowIndexArr[_9b];this._deleteRowStatus(_9c);this._drawRowStatus(_9b-this.rowIndex,_9b);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}for(var i=0;i<this.getColCnt();i++){var _9e=this.getColumnID(i);var _9f=this.expressionAssArr[_9e];if(_9f!=null){for(var j=0;j<_9f.length;j++){var _a1=this.getColumnIndex(_9f[j]);this.drawCellData(_9b-this.rowIndex,_9b,_a1);}}}};_._a.an.prototype._deleteRowStatus=function(_a2){var _a3="";if(_a3=="D"||_a3=="V"){return;}var _a4=this.rowStatusArr[_a2];if(_a4=="C"){_a3="V";}else{_a3="D";}this._setRowStatus(_a2,_a3);if(_a3!=_a4){var _a5=this.getDisplayRowIndex(_a2);this.notifyStatusChanged({"rowIndex":[_a5]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_a5,"newRowStatus":_a3,"oldRowStatus":_a4}]);}};_._a.an.prototype.undeleteRow=function(_a6){if(this.isDrillDown&&this.options.drilldownRealRowIndex){_a6=this.drilldown.getDisplayRowIndex(_a6);}var _a7=this.filteredRowIndexArr[_a6];this._undeleteRowStatus(_a7);this._drawRowStatus(_a6-this.rowIndex,_a6);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}for(var i=0;i<this.getColCnt();i++){var _a9=this.getColumnID(i);var _aa=this.expressionAssArr[_a9];if(_aa!=null){for(var j=0;j<_aa.length;j++){var _ac=this.getColumnIndex(_aa[j]);this.drawCellData(_a6-this.rowIndex,_a6,_ac);}}}};_._a.an.prototype._undeleteRowStatus=function(_ad){var _ae=this.rowStatusArr[_ad];var _af=_ae;if(_ae!="D"&&_ae!="V"){return;}if(_ae=="V"){_ae="C";}else{var _b0=false;var _b1=this.getTotalCol();for(var col=0;col<_b1;col++){var _b3=this.getCellInfo(col);var _b4=_b3.options.inputType;if(_b4!="expression"&&this.ignoreStatusColArr[col]!=true&&this.originalDataArr[_ad*_b1+col]!=this._getData(_ad,col)){_b0=true;break;}}if(_b0){_ae="U";}else{_ae="R";}}this._setRowStatus(_ad,_ae);if(_ae!=_af){var _b5=this.getDisplayRowIndex(_ad);this.notifyStatusChanged({"rowIndex":[_b5]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_b5,"newRowStatus":_ae,"oldRowStatus":_af}]);}};_._a.an.prototype.reform=function(){this.initRowStatus();this.originalDataArr=this.dataArr.slice(0);if(this.options.rowStatusVisible){for(var i=0;i<=this.lastIndex;i++){this._drawRowStatus(i,this.rowIndex+i);}}};_._a.an.prototype.undoRow=function(_b7){this._undoRow(_b7);this.notifyRowChanged(_b7);};_._a.an.prototype._undoRow=function(_b8){var _b9=this.filteredRowIndexArr[_b8];for(var j=0;j<this.oneRowDataLength;j++){this._setData(_b9,j,this.originalDataArr[_b9*this.oneRowDataLength+j]);}this._updateRowStatus(_b9);this._undeleteRowStatus(_b9);};_._a.an.prototype.undoAll=function(){var _bb=this.getRowIndexByStatus("UDV");for(var i=0;i<_bb.length;i++){var _bd=_bb[i];this._undoRow(_bd);}this.notifyDataChanged();};_._a.an.prototype.getRowStatusValue=function(_be){try{var _bf=this.filteredRowIndexArr[_be];return this._getRowStatusValue(_bf);}catch(e){$l("dataController.getRowStatusValue :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype._getRowStatusValue=function(_c0){try{var _c1=this.rowStatusArr[_c0];switch(_c1){case "R":return 0;break;case "U":return 1;break;case "C":return 2;break;case "D":return 3;break;case "V":return 4;break;}}catch(e){$l("dataController.getRowStatusValue :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getRowStatus=function(_c2){try{var _c3=this.filteredRowIndexArr[_c2];return this._getRowStatus(_c3);}catch(e){$l("dataController.getRowStatus :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype._getRowStatus=function(_c4){try{return this.rowStatusArr[_c4];}catch(e){$l("dataController.getRowStatus :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.modifyAllStatus=function(_c5){var _c6=[];for(var i=0;i<this.rowStatusArr.length;i++){var _c8=this._setRowStatus(i,_c5);if(_c5!=_c8){_c6.push({"rowIndex":i,"newRowStatus":_c5,"oldRowStatus":_c8});}this._drawRowStatus(i-this.rowIndex,i);}this.displayNoResultMessage();this.notifyStatusChanged({"rowIndex":"all"});_._F.fireEvent(this,"onrowstatuschange",_c6);};_._a.an.prototype.modifyRangeStatus=function(_c9,to,_cb){var _cc=[];var _cd=this.getDataLength()+1;if(0<=_c9&&to<_cd){for(var i=_c9;i<to;i++){var _cf=this._setRowStatus(this.filteredRowIndexArr[i],_cb);if(_cb!=_cf){_cc.push({"rowIndex":i,"newRowStatus":_cb,"oldRowStatus":_cf});}this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}}this.notifyStatusChanged({"startIndex":_c9,"endIndex":to});_._F.fireEvent(this,"onrowstatuschange",_cc);};_._a.an.prototype.modifyRowStatus=function(_d0,_d1){if(_d0>-1&&_d0<this.getDataLength()){var _d2=this._setRowStatus(this.filteredRowIndexArr[_d0],_d1);this._drawRowStatus(_d0-this.rowIndex,_d0);this.displayNoResultMessage();if(_d1!=_d2){this.notifyStatusChanged({"rowIndex":[_d0]});_._F.fireEvent(this,"onrowstatuschange",[{"rowIndex":_d0,"newRowStatus":_d1,"oldRowStatus":_d2}]);}}};_._a.an.prototype.modifyCheckedStatus=function(col,_d4){var _d5=[];var _d6=this.getCheckedIndex(col);for(var i=0;i<_d6.length;i++){var _d8=this._setRowStatus(_d6[i],_d4);if(_d4!=_d8){var _d9=this.getDisplayRowIndex(_d6[i]);_d5.push({"rowIndex":_d9,"newRowStatus":_d4,"oldRowStatus":_d8});}this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_d6});_._F.fireEvent(this,"onrowstatuschange",_d5);};_._a.an.prototype.modifyUncheckStatus=function(col,_db){var _dc=[];var _dd=this.getUnCheckedIndex(col);for(var i=0;i<_dd.length;i++){var _df=this._setRowStatus(_dd[i],_db);if(_db!=_df){var _e0=this.getDisplayRowIndex(_dd[i]);_dc.push({"rowIndex":_e0,"newRowStatus":_db,"oldRowStatus":_df});}this._drawRowStatus(i-this.rowIndex,i);this.displayNoResultMessage();}this.notifyStatusChanged({"rowIndex":_dd});_._F.fireEvent(this,"onrowstatuschange",_dc);};_._a.an.prototype.modifyMatchedStatus=function(_e1,_e2,_e3){var _e4=[];var _e5=this.getDataLength();var _e6=[];for(var row=0;row<_e5;row++){if(this.getCellData(row,_e1)+""==_e2+""){var _e8=this._setRowStatus(row,_e3);if(_e3!=_e8){_e4.push({"rowIndex":row,"newRowStatus":_e3,"oldRowStatus":this._setRowStatus(row,_e3)});_e6.push(row);}this._drawRowStatus(row-this.rowIndex,row);this.displayNoResultMessage();}}this.notifyStatusChanged({"rowIndex":_e6});_._F.fireEvent(this,"onrowstatuschange",_e4);};_._a.an.prototype.getRowIndexByStatus=function(_e9){var _ea=[];for(var i=0;i<this.getDataLength();i++){var _ec=this.filteredRowIndexArr[i];if(_e9.indexOf(this.rowStatusArr[_ec])>-1){_ea.push(i);}}return _ea;};_._a.an.prototype.getUpdatedIndex=function(){return this.getRowIndexByStatus("U");};_._a.an.prototype.getInsertedIndex=function(){return this.getRowIndexByStatus("C");};_._a.an.prototype.getDeletedIndex=function(){return this.getRowIndexByStatus("DV");};_._a.an.prototype.getModifiedIndex=function(){return this.getRowIndexByStatus("CUD");};_._a.an.prototype.getColData=function(_ed){var _ee=[];_ed=this.getColumnIndex(_ed);for(var row=0;row<this.getTotalRow();row++){_ee.push(this._getData(row,_ed));}return _ee;};_._a.an.prototype.getVisibleColData=function(_f0){var _f1=[];_f0=this.getColumnIndex(_f0);for(var row=0;row<this.getDataLength();row++){_f1.push(this.getCellData(row,_f0));}return _f1;};_._a.an.prototype.getRowData=function(_f3,_f4){var _f5=[];for(var col=0;col<this.getColumnCount();col++){if(_f4!="displayData"){_f5.push(this.getCellData(_f3,col));}else{_f5.push(this.getCellDisplayData(_f3,col));}}return _f5;};_._a.an.prototype._getRowData=function(_f7,_f8){var _f9=[];for(var col=0;col<this.getColumnCount();col++){if(_f8!="displayData"){_f9.push(this._getData(_f7,col));}else{_f9.push(this._getDisplayData(_f7,col));}}return _f9;};_._a.an.prototype.getDataRow=function(_fb){try{var _fc=[];for(var col=0;col<this.getColumnCount();col++){var _fe=this.getColumnID(col);_fc[_fe]=this.getCellData(_fb,col);}return _fc;}catch(e){$l("dataController.getDataRow :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getRangeXML=function(_ff,to){if(_ff>to){var tmp=to;to=_ff;_ff=tmp;}if(_ff<0){_ff=0;}if(to>this.getDataLength()){to=this.getDataLength();}var _102=[];for(var i=_ff;i<to;i++){_102.push(i);}var _104=this.getArrXML(_102);return _104;};_._a.an.prototype.getRangeData=function(from,to,_107){var _108=[];if(from>to){var tmp=to;to=from;from=tmp;}if(from<0){from=0;}if(to>this.getDataLength()){to=this.getDataLength();}for(var i=from;i<to;i++){_108=_108.concat(this.getRowData(i,_107));}return _108;};_._a.an.prototype.getRowXML=function(_10b){var _10c=this.getRangeXML(_10b,_10b+1);_10c=_._t.findNode(_10c,this.options.baseNode+"/"+this.options.repeatNode);_10c=_._t.parse(_._t.serialize(_10c));return _10c;};_._a.an.prototype.getMatchedIndex=function(_10d,_10e,_10f,_110,_111){_10f=(typeof _10f=="undefined"||_10f==null)?true:_10f;_10f=_._G.getBoolean(_10f);if(_10f!=false){_10f=true;}_10d=this.getColumnIndex(_10d);var _112=this.getVisibleColData(_10d);var _113=[];if(typeof _110!="number"){_110=0;}if(typeof _111!="number"){_111=_112.length;}if(_111>_112.length){_111=_112.length;}for(var i=_110;i<_111;i++){var _115=_112[i];if(_10f==true){if(_115==_10e){_113.push(i);}}else{if(_115.indexOf(_10e)>-1){_113.push(i);}}}return _113;};_._a.an.prototype.getUnmatchedIndex=function(_116,_117,_118,_119,_11a){if(_118!=false){_118=true;}_116=this.getColumnIndex(_116);var _11b=this.getVisibleColData(_116);var _11c=[];if(typeof _119!="number"){_119=0;}if(typeof _11a!="number"){_11a=_11b.length;}if(_11a>_11b.length){_11a=_11b.length;}for(var i=_119;i<_11a;i++){var _11e=_11b[i];if(_118==true){if(_11e!=_117){_11c.push(i);}}else{if(_11e.indexOf(_117)<=-1){_11c.push(i);}}}return _11c;};_._a.an.prototype.getCheckedIndex=function(_11f){var _120=[];var _121=this.cellInfoHash[this.getColumnID(_11f)];if(_121.options.inputType=="checkbox"||_121.options.inputType=="radio"){if(this.isDrillDown&&this.options.drilldownRealRowIndex){colDataArr=this.getColData(_11f);}else{colDataArr=this.getVisibleColData(_11f);}for(var i=0;i<colDataArr.length;i++){if(colDataArr[i]==_121.options.trueValue){_120.push(i);}}}return _120;};_._a.an.prototype.getUnCheckedIndex=function(_123){return this.getUncheckedIndex(_123);};_._a.an.prototype.getUncheckedIndex=function(_124){var _125=[];var _126=this.cellInfoHash[this.getColumnID(_124)];if(_126.options.inputType=="checkbox"||_126.options.inputType=="radio"){var _127=[];if(this.isDrillDown&&this.options.drilldownRealRowIndex){_127=this.getColData(_124);}else{_127=this.getVisibleColData(_124);}for(var i=0;i<_127.length;i++){if(_127[i]!=_126.options.trueValue){_125.push(i);}}}return _125;};_._a.an.prototype.getAllXML=function(){this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML();}else{return this.getAllVisibleXML();}};_._a.an.prototype.getAllData=function(){this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _129=[];for(var i=0;i<this.getTotalRow();i++){_129=_129.concat(this._getRowData(i));}return _129;}else{var _129=[];for(var i=0;i<this.getDataLength();i++){_129=_129.concat(this.getRowData(i));}return _129;}};_._a.an.prototype.getAllDisplayData=function(){this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _12b=[];for(var i=0;i<this.getTotalRow();i++){_12b=_12b.concat(this._getRowData(i,"displayData"));}return _12b;}else{var _12b=[];for(var i=0;i<this.getDataLength();i++){_12b=_12b.concat(this.getRowData(i,"displayData"));}return _12b;}};_._a.an.prototype.getAllDisplayXML=function(){this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML("displayData");}else{return this.getAllVisibleXML("displayData");}};_._a.an.prototype.getAllVisibleXML=function(_12d){this._endEdit();var _12e=this.getDataLength();var _12f=[];for(var i=0;i<_12e;i++){_12f.push(i);}var _131=this.getArrXML(_12f,_12d);return _131;};_._a.an.prototype.getAllVisibleData=function(_132){this._endEdit();var _133=this.getRangeData(0,this.getDataLength(),_132);return _133;};_._a.an.prototype.getInsertedData=function(){this._endEdit();var _134=[];var _135=this.getInsertedIndex();for(var i=0;i<_135.length;i++){_134.push(this.getRowData(_135[i]));}return _134;};_._a.an.prototype.changeToRealRowIndexArr=function(_137){var _138=[];for(var i=0;i<_137.length;i++){_138.push(this.filteredRowIndexArr[_137[i]]);}return _138;};_._a.an.prototype.getInsertedXML=function(){this._endEdit();var _13a=this.getInsertedIndex();var _13b=this.getArrXML(_13a);return _13b;};_._a.an.prototype.getDeletedData=function(){this._endEdit();var _13c=[];var _13d=this.getDeletedIndex();for(var i=0;i<_13d.length;i++){_13c.push(this.getRowData(_13d[i]));}return _13c;};_._a.an.prototype.getDeletedXML=function(){this._endEdit();var _13f=this.getDeletedIndex();var _140=this.getArrXML(_13f);return _140;};_._a.an.prototype.getUpdatedData=function(){this._endEdit();var _141=[];var _142=this.getUpdatedIndex();for(var i=0;i<_142.length;i++){_141.push(this.getRowData(_142[i]));}return _141;};_._a.an.prototype.getUpdatedXML=function(){this._endEdit();var _144=this.getUpdatedIndex();var _145=this.getArrXML(_144);return _145;};_._a.an.prototype.getModifiedData=function(){this._endEdit();var _146=[];var _147=this.getModifiedIndex();for(var i=0;i<_147.length;i++){_146.push(this.getRowData(_147[i]));}return _146;};_._a.an.prototype.getModifiedXML=function(){this._endEdit();var _149=this.getModifiedIndex();var _14a=this.getArrXML(_149);return _14a;};_._a.an.prototype.getCheckedData=function(_14b){this._endEdit();var _14c=[];var _14d=this.getCheckedIndex(_14b);for(var i=0;i<_14d.length;i++){_14c.push(this.getRowData(_14d[i]));}return _14c;};_._a.an.prototype.getCheckedXML=function(_14f){this._endEdit();var _150=this.getCheckedIndex(_14f);var _151=this.getArrXML(_150);return _151;};_._a.an.prototype.getUncheckedData=function(_152){this._endEdit();var _153=[];var _154=this.getUncheckedIndex(_152);for(var i=0;i<_154.length;i++){_153.push(this.getRowData(_154[i]));}return _153;};_._a.an.prototype.getUncheckedXML=function(_156){this._endEdit();var _157=this.getUncheckedIndex(_156);var _158=this.getArrXML(_157);return _158;};_._a.an.prototype.getMatchedData=function(_159,_15a,_15b,_15c,_15d){this._endEdit();var _15e=[];var _15f=this.getMatchedIndex(_159,_15a,_15b,_15c,_15d);for(var i=0;i<_15f.length;i++){_15e.push(this.getRowData(_15f[i]));}return _15e;};_._a.an.prototype.getMatchedXML=function(_161,_162,_163,_164,_165){this._endEdit();var _166=this.getMatchedIndex(_161,_162,_163,_164,_165);var _167=this.getArrXML(_166);return _167;};_._a.an.prototype.getUnmatchedXML=function(_168,_169,_16a,_16b,_16c){this._endEdit();var _16d=this.getUnmatchedIndex(_168,_169,_16a,_16b,_16c);var _16e=this.getArrXML(_16d);return _16e;};_._a.an.prototype.getUnmatchedData=function(_16f,_170,_171,_172,_173){this._endEdit();var _174=[];var _175=this.getUnmatchedIndex(_16f,_170,_171,_172,_173);for(var i=0;i<_175.length;i++){_174.push(this.getRowData(_175[i]));}return _174;};_._a.an.prototype.getCellChecked=function(_177,_178){var _179=[];var _17a=this.cellInfoHash[this.getColumnID(_178)];if(_17a.options.inputType!="checkbox"&&_17a.options.inputType!="radio"){return false;}var _17b=this.getCellData(_177,_178);_17b=(_17b==_17a.options.trueValue)?true:false;return _17b;};_._a.an.prototype.hasChild=function(_17c){return this.drilldown.hasChild(_17c);};_._a.an.prototype.getMatchedColumnData=function(_17d,_17e,_17f,_180,_181,_182){this._endEdit();var _183=[];var _184=this.getMatchedIndex(_17d,_17e,_180,_181,_182);for(var i=0;i<_184.length;i++){_183.push(this.getCellData(_184[i],_17f));}return _183;};_._a.an.prototype.getUnmatchedColumnData=function(_186,_187,_188,_189,_18a,_18b){this._endEdit();var _18c=[];var _18d=this.getUnmatchedIndex(_186,_187,_189,_18a,_18b);for(var i=0;i<_18d.length;i++){_18c.push(this.getCellData(_18d[i],_188));}return _18c;};_._a.an.prototype.getColumnDistinctDataArray=function(_18f){this._endEdit();var _190=[];var _191=[];if(typeof _18f=="string"){_18f=this.bodyIdColIndexMap[_18f];}var _192=this.getCellInfo(_18f);var _193=this.getColData(_18f);for(var i=0;i<_193.length;i++){var _195=_193[i];_191[_195]=1;}for(var _196 in _191){_190.push(_196);}if(_192.options.dataType=="text"){_190=_190.sort();}else{_190=_190.sort(this.comparator);}return _190;};_._a.an.prototype.comparator=function(a,b){var _199=(parseInt(b)==parseInt(a))?0:(parseInt(b)>parseInt(a))?1:-1;return _199;};_._a.an.prototype.setRowXML=function(_19a,_19b,_19c){if(_19b==null){$l("data is null");return;}if(!_19c){_19a=this.insertRow(_19a);}var _19d;if(typeof _19b.documentElement=="undefined"){_19d=_19b;}else{_19d=_19b.documentElement;}for(var col=0;col<this.getColumnCount();col++){var _19f=this.getColumnID(col);var _1a0=null;if(_19d.selectSingleNode(_19f)!=null){if(this.options.valueNode==""){_1a0=this.getTextNodeValue(_19d.selectSingleNode(_19f));}else{_1a0=_19d.selectSingleNode(_19f).getAttribute(this.options.valueNode);}}if(_1a0==null){_1a0=this.getCellInfo(_19f).options.defaultValue;}this.setCellData(_19a,col,_1a0);}if(_19c){this.notifyRowChanged(_19a);}else{this.notifyRowInserted(_19a);}};_._a.an.prototype.setRowData=function(_1a1,_1a2,_1a3){if(_1a2==null){$l("data is null");return;}if(!_1a3){if(this.isDrillDown){this.drilldown.newRowDepth=_1a2[this.drilldown.options.depthColumn]+"";}_1a1=this.insertRow(_1a1);}var _1a4=this.getColumnCount();for(var col=0;col<_1a4;col++){var _1a6=_1a2[col];if(_1a6==null){_1a6=this.getCellInfo(col).options.defaultValue;}this.setCellData(_1a1,col,_1a6);}};_._a.an.prototype.getTextNodeValue=function(_1a7){var _1a8=null;for(var _1a9=_1a7.firstChild;_1a9!=null;_1a9=_1a9.nextSibling){if(_1a9.nodeType=="3"){_1a8=_1a9.nodeValue;}}return _1a8;};_._a.an.prototype.setColumnFilter=function(_1aa,_1ab,_1ac,_1ad){try{this.lastTopRowIndex=null;this.scrollEvent=false;var _1ae=this.getElementById(this.id+"_scrollY_div");var _1af=_1ae.scrollTop;this.scrollEvent=false;this.rowIndex=0;if(typeof arguments[0]==="object"&&!_._G.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_1aa,key:_1ab,condition:_1ac,exactMatch:_1ad});}this.bScrollTop=-1;this.scrollEvent=true;_1ae.scrollTop=_1af;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.removeColumnFilter=function(_1b0){try{this.lastTopRowIndex=null;this.scrollEvent=false;var _1b1=this.getElementById(this.id+"_scrollY_div");var _1b2=_1b1.scrollTop;this.scrollEvent=false;this.rowIndex=0;this.removeFilter({type:"row",colIndex:_1b0,key:""},false);this.removeFilter({type:"func",colIndex:_1b0,key:""},false);this.removeFilter({type:"regExp",colIndex:_1b0,key:""},true);this.bScrollTop=-1;this.scrollEvent=true;_1b1.scrollTop=_1b2;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.removeColumnFilterAll=function(){try{this.clearFilter();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.sort=function(_1b3,_1b4){switch(_1b4){case 0:this.setFilter({type:"sort",sortIndex:_1b3,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_1b3,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}};_._a.an.prototype.clearSort=function(){try{var _1b5=!!(this.focusedCell.length!=0);var _1b6;var _1b7;if(_1b5){_1b6=this.filteredRowIndexArr[this.focusedCell[0].focusedRowIndex];_1b7=this.focusedCell[0].focusedColIndex;}this.clearHeaderSort();this.clearSortFilter();if(_1b5){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]==_1b6){this.setFocusedCell(i,_1b7);break;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.multisort=function(_1b9){try{_1b9.type="sort";_1b9.sortOrder=_1b9.sortOrder||[];var _1ba;var _1bb;var _1bc=typeof _1b9.sortIndex;var _1bd=typeof _1b9.sortOrder;if(_1bc=="object"){_1ba=_1b9.sortIndex;}else{if(_1bc=="string"){_1ba=_1b9.sortIndex.split(" ");}}if(_1bd=="object"){_1bb=_1b9.sortOrder;}else{if(_1bd=="string"){_1bb=_1b9.sortOrder.split(" ");}}for(var i=0;i<_1ba.length-_1bb.length;i++){_1bb.push(1);}var _1bf=[];this._sortArr=[];for(var i=0;i<_1ba.length;i++){var _1c0={};var _1bc=typeof _1ba[i];var _1c1;if(_1bc=="string"){_1c0.headerId=this._getMatchedHeaderId(_1ba[i]);_1c1=this.getCellInfo(_1ba[i]);}else{if(_1bc=="number"){_1c0.headerId=this.getHeaderID(_1ba[i]);_1c1=this.getCellInfo(this.getColumnID(_1ba[i]));}}_1c0.id=_1ba[i];_1c0.sortOrder=parseInt(_1bb[i]);_1c0.dataType=(_1c1.options.dataType!="number")?"text":"number";_1bf.push(_1c0.dataType);this._sortArr.push(_1c0);this._sortArr[_1c0.headerId]=this._sortArr[this._sortArr.length-1];}_1b9.dataType=_1bf.join(" ");this.setFilter(_1b9);this.drawHeaderSortImages();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype._getMatchedHeaderId=function(_1c2){try{return this.bodyToHeaderRelation[_1c2];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.setFilter=function(_1c3){try{var _1c4=!!(this.focusedCell.length!=0);var _1c5;var _1c6;if(_1c4){_1c5=this.filteredRowIndexArr[this.focusedCell[0].focusedRowIndex];_1c6=this.focusedCell[0].focusedColIndex;}_1c3=_.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap},_1c3||{});if(typeof _1c3.colIndex=="string"){_1c3.colIndex=this.bodyIdColIndexMap[_1c3.colIndex];}var _1c7=this.getCellInfo(_1c3.colIndex);var _1c8=_1c7.options.dataType;_1c3.columnDataType=_1c8;if(_1c3.sortIndex){var _1c9=[];var _1ca=[];var _1cb=[];if(typeof _1c3.sortIndex=="string"){_1c9=_1c3.sortIndex.wq_trim().split(" ");}else{_1c9=_1c3.sortIndex;}if(_1c3.sortOrder&&typeof _1c3.sortOrder=="string"){_1ca=_1c3.sortOrder.wq_trim().split(" ");}else{if(typeof _1c3.sortOrder=="object"){_1ca=_1c3.sortOrder;}}if(_1c3.dataType){_1cb=_1c3.dataType.wq_trim().split(" ");}_1c3.sortIndexArr=[];_1c3.sortOrderArr=[];_1c3.dataTypeArr=[];for(var i=0;i<_1c9.length;i++){if(isNaN(_1c9[i])){_1c3.sortIndexArr.push(this.bodyIdColIndexMap[_1c9[i]]);}else{_1c3.sortIndexArr.push(parseInt(_1c9[i],10));}_1c3.sortOrderArr.push(parseInt(_1ca[i])||1);_1c3.dataTypeArr.push(_1cb[i]||"text");}}var _1cd=_1c3.type+"^@"+_1c3.colIndex+"^@"+_1c3.key;this.dataFilter.addFilter(_1cd,this.dataArr,this.getTotalRow(),this.getTotalCol(),_1c3);if(this.groupbyStatus.grouped){for(var id in this.dataFilter.customFilterStatusObj){if(this.dataFilter.customFilterStatusObj[id]){this.rowNumArr=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){this.rowNumArr.push(i);}break;}}}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();if(_1c4){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]==_1c5){this.setFocusedCell(i,_1c6);break;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.removeFilter=function(_1cf,_1d0){_1cf=_.extend({type:"",colIndex:-1,key:"",condition:"and"},_1cf||{});_1d0=(typeof _1d0=="undefined")?true:_1d0;if(typeof _1cf.colIndex=="string"){_1cf.colIndex=this.bodyIdColIndexMap[_1cf.colIndex];}var _1d1=_1cf.type+"^@"+_1cf.colIndex+"^@"+_1cf.key;this.dataFilter.deleteFilter(_1d1,this.dataArr,this.getTotalRow(),this.getTotalCol(),_1cf,_1d0);this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};_._a.an.prototype.clearFilter=function(){this.dataFilter.clear();this.clearHeaderSort();this.rowNumArr=null;this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();};_._a.an.prototype.clearSortFilter=function(){var _1d4="sort^@";this.dataFilter.deleteFilterById(_1d4,false);this.dataFilter.executeAllFilter(this.dataArr,this.getTotalRow(),this.getColumnCount());this.rowNumArr=null;this.removeFocusedCell();this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};_._a.an.prototype.getExcelAllXML=function(_1d5){try{var _1d6=new Array();_1d6.push("<array><![CDATA[");_1d6.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){_1d6.push(this.getCellData(i,j));_1d6.push("\",\"");}}_1d6[_1d6.length-1]="\"]";_1d6.push("]]></array>");return (_1d6.join(""));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getExcelAllXMLDisplay=function(){try{var _1d9=new Array();_1d9.push("<array><![CDATA[");_1d9.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){var _1dc=this.getCellInfo(j);var _1dd=_1dc.getDisplayData(this.getCellData(i,j),i);_1d9.push(_1dd);_1d9.push("\",\"");}}_1d9[_1d9.length-1]="\"]";_1d9.push("]]></array>");return (_1d9.join(""));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getExcelAllXMLRaw=function(_1de){try{var len=this.dataArr.length;var _1e0=this.dataArr[0];var _1e1=this.dataArr[len-1];this.dataArr[0]="<array><![CDATA[[\""+_1e0;this.dataArr[len-1]=_1e1+"\"]]]></array>";var _1e2=this.dataArr.join("\",\"");this.dataArr[0]=_1e0;this.dataArr[len-1]=_1e1;return _1e2;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.makeExcelData=function(_1e3,_1e4,_1e5,_1e6){try{var len=_1e4.length;var to=_1e3+_1e5.rowsByN;to=(to<_1e5.dataLength)?to:_1e5.dataLength;var _1e9=this.oneRowDataLength;var _1ea=_1e5.cellInfo;var _1eb=_1e5.isPlainDataCol;var _1ec=_1e5.isSelectCol;var _1ed=_1e5.isBasicCol;var _1ee=_1e5.isExpCol;var _1ef=_1e5.separator||",";if(_1e5.dataProvider==""){if(_1e5.type===0){for(var i=_1e3;i<to;i++){var _1f1=this.filteredRowIndexArr[i];for(var j=0;j<_1e9;j++){if(_1ee[j]){_1e4[len++]=_1ea[j].getExpressionValue(_1f1);}else{var _1f3=this.dataArr[_1f1*_1e9+j];_1e4[len++]=(_1f3!==null&&_1f3!==undefined)?_1f3:"";}}}}else{if(_1e5.type===1){for(var i=_1e3;i<to;i++){var _1f1=this.filteredRowIndexArr[i];for(var j=0;j<_1e9;j++){var _1f3;if(_1ee[j]){_1f3=_1ea[j].getExpressionValue(_1f1);}else{_1f3=this.dataArr[_1f1*_1e9+j];_1f3=(_1f3!==null&&_1f3!==undefined)?_1f3:"";}if(_1ed[j]||_1ee[j]){_1f3=_1ea[j].formatter?_1ea[j].formatter.format(_1f3):_1f3;}else{if(_1ec[j]){var ret=_1ea[j].getData(_1f3,_1f1);if(ret==null){ret="";}_1f3=ret;}}_1e4[len++]=_1f3;}}}else{to=_1e5.dataLength;_1e4=this.dataArr;len=_1e4.length;}}}var _1f5=this;if(to<_1e5.dataLength&&_1e5.dataProvider==""){if(_1e5.massStorage!==false){this.excelTime=setTimeout(function(){try{if(_1e5.showConfirm===true){window["gridExceldownloadIframe"].contentWindow.checkUpload(_1e4.length/_1f5.dataArr.length);}}catch(e){}_1f5.makeExcelData(to,_1e4,_1e5,_1e6);},10);}else{this.makeExcelData(to,_1e4,_1e5,_1e6);}}else{var _1f6;if(_1e5.dataProvider==""){if(_1e4.length>=2){if(_1e5.groupby&&this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _1f1=0;var _1f7=1;var _1f8=[];var _1f9=false;for(var i=0;i<_1e4.length;i++){if(i%this.getColCnt()==0||i==0){if(this.options.rowNumVisible){var _1fa="";if(typeof this.filteredRowIndexArr[_1f1]!="number"){_1f9=true;}else{_1f9=false;_1fa=_1f7;_1f8.push(_1fa);}}if(this.options.rowStatusVisible){var _1fb="";if(typeof this.filteredRowIndexArr[_1f1]!="number"){_1f9=true;}else{_1f9=false;_1fb=this.getRowStatus(_1f1);_1f8.push(_1fb);}}_1f1++;if(!_1f9){_1f7++;}}if(!_1f9){_1f8.push(_1e4[i]);}}_1e4=_1f8;len=_1e4.length;}}if(len>0){var _1fc=_1e4[0];var _1fd=_1e4[len-1];_1e4[0]="<array><![CDATA[[\""+_1fc;_1e4[len-1]=_1fd+"\"]]]></array>";_1f6=_1e4.join("\""+_1ef+"\"");_1e4[0]=_1fc;_1e4[len-1]=_1fd;}else{_1f6="<array><![CDATA[["+_1e4+"]]]></array>";}}else{var data=(_1e4.length===1)?("\""+_1e4[0]+"\""):"";_1f6="<array><![CDATA[["+data+"]]]></array>";}}else{_1f6="<array><![CDATA[[ ]]]></array>";}if(_1e5.showConfirm===true){this.excelOptions=_1e5;this.excelInfoArr=_1e6;this.excelFinalStr=_1f6;this.checkUpload();}else{if(_1e5.multiexcel==false){this.sendExcelData(_1e5,_1e6,_1f6);}else{var hash=this.sendExcelData(_1e5,_1e6,_1f6);return hash;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getRowStyleClassName=function(_200){try{var _201=this.filteredRowIndexArr[_200];if(_201==null){return null;}else{if(typeof _201!="number"){_201=_201.type+"_"+_201.groupId;}}return this.rowStyleArr[_201];}catch(e){$l("getRowStyleClassName :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.setRowStyleClassName=function(_202,_203){try{var _204=this.filteredRowIndexArr[_202];if(_204==null){return;}else{if(typeof _204!="number"){_204=_204.type+"_"+_204.groupId;}}this.rowStyleArr[_204]=_203;}catch(e){$l("setRowStyleClassName :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.getCellStyleClassName=function(_205,_206){try{_206=this.getColumnIndex(_206);var _207=this.filteredRowIndexArr[_205];if(_207==null){return null;}else{if(typeof _207=="number"){return this.cellStyleArr[_207*this.oneRowDataLength+_206];}else{return this.cellStyleArr[_207.type+"_"+_207.groupId+"_"+_206];}}}catch(e){$l("getCellStyleClassName :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.setCellStyleClassName=function(_208,_209,_20a){try{_209=this.getColumnIndex(_209);var _20b=this.filteredRowIndexArr[_208];if(_20b==null){return;}else{if(typeof _20b=="number"){this.cellStyleArr[_20b*this.oneRowDataLength+_209]=_20a;}else{this.cellStyleArr[_20b.type+"_"+_20b.groupId+"_"+_209]=_20a;}}}catch(e){$l("setCellStyleClassName :"+e.message);_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.refreshColumnItemset=function(_20c){try{var _20d=this.getCellInfo(_20c);_20d.resetMatchInfo=true;if(_20d.options.embeddedInput){_20c=this.getColumnIndex(_20d.options.col_id);for(var i=0;i<this.drawedRowLength;i++){var td=this.data_td_list[_20c+i*this.oneRowDataLength];if(td){var _210=this.dom[td.getAttribute("id")+"_select"];if(_210){_210.refreshItemset();}}}}else{if(_20d.options.inputType=="select"){if(_20d.hasRef){_20d.refHash=[];}if(_20d.select){_20d.select.refreshItemset();}}else{if(_20d.options.inputType=="checkcombobox"){_20d.refreshItemArr();if(_20d.checkcombobox){}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.refreshRadioGroup=function(_211){try{var _212={};var _213=[];for(var i=0;i<this.oneRowDataLength;i++){var _215=this.getCellInfo(i);if(_215.options.inputType=="radio"&&_215.options.groupName==_211){if(_215.options.groupRef){_215.options.groupValue=_._C.getInstanceValue(_215.options.groupRef);}_212[_215.options.groupValue]=_215;_213.push(_215);}}if(_213.length==0){return;}var len=this.getDataLength();for(var i=0;i<len;i++){var _217=this.getCellData(i,_211);var _218=_212[_217];if(_218){this.setCellData(i,_218.id,_218.options.trueValue);}else{for(var j=0;j<_213.length;j++){var _215=_213[j];this.setCellData(i,_215.id,_215.options.defaultValue);}var _21a=this.getCellInfo(_211);if(_21a){this.setCellData(i,_211,_21a.options.defaultValue);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.resetRadioGroup=function(_21b,_21c){return this._resetRadioGroup.call(this,_21b,_21c,true);};_._a.an.prototype._resetRadioGroup=function(_21d,_21e,_21f){try{var _220=[];for(var i=0;i<this.oneRowDataLength;i++){var _222=this.getCellInfo(i);if(_222.options.inputType=="radio"&&_222.options.groupName==_21e){_220.push(_222);}}if(_220.length==0){return;}if(typeof _21d=="number"){var _223=_21d;var end=_21d+1;}else{var _223=0;var end=this.getDataLength();}for(var i=_223;i<end;i++){for(var j=0;j<_220.length;j++){var _222=_220[j];this.setCellData(i,_222.id,_222.options.defaultValue);}if(_21f){var _226=this.getCellInfo(_21e);if(_226){this.setCellData(i,_21e,_226.options.defaultValue);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype.editEndBeforeGetData=function(){if(this.editedCell&&this.rollbackCommitFlag&&this.options.rollbackCommit==true){this.rollbackCommitFlag=false;this.editedCell.handleEndEdit();this.rollbackCommitFlag=true;}};_._a.an.prototype.getExtraDataObj=function(_227,_228,_229){var data=this.extraData;if(_227=="grid"){return data.grid;}else{if(_227=="row"){if(!data.row[_228]){data.row[_228]={};}return data.row[_228];}else{if(_227=="col"){if(!data.col[_228]){data.col[_228]={};}return data.col[_228];}else{if(_227=="cell"){if(!data.cell[_228]){data.cell[_228]=[];}if(!data.cell[_228][_229]){data.cell[_228][_229]={};}return data.cell[_228][_229];}}}}return null;};_._a.an.prototype._rangeSort=function(_22b,_22c,_22d){try{_22b=_22b||[];_22c=_22c||[];_22d=_22d||[];var _22e={};_22e.sortIndexArr=_22c;_22e.sortOrderArr=_22d;_22e.sortFuncArr=[];_22e.dataTypeArr=[];for(var i=0;i<_22c.length;i++){var _230=this.getCellInfo(_22c[i]).options.dataType;_22e.dataTypeArr.push(_230);}var _231=this._rangeSortExecute(this.dataArr,_22b.length,this.getColumnCount(),_22b,_22e);return _231;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.an.prototype._rangeSortExecute=function(_232,_233,_234,_235,_236){try{var _237=_235.slice(0);var func=function(_239,_23a){return function(a,b){if(_239=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_23a;}else{if(a<b){return -1*_23a;}else{return 0;}}};};for(var i=0;i<_236.sortIndexArr.length;i++){if(!_236.sortFuncArr[i]){_236.sortFuncArr[i]=func(_236.dataTypeArr[i],_236.sortOrderArr[i]);}}_237.sort(function(lhs,rhs){for(var i=0;i<_236.sortIndexArr.length;i++){var _241=_236.sortFuncArr[i](_232[lhs*_234+_236.sortIndexArr[i]],_232[rhs*_234+_236.sortIndexArr[i]],lhs,rhs);if(_241!=0){return _241;}}return 0;});return _237;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.dataController=_._a.an;_._a._v=function(_1){};_._a._v.prototype.initializeDrawController=function(){this.data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.all_data_td_list=[];};_._a._v.prototype.setScrollYHeight=function(){};_._a._v.prototype.handleScrollY=function(){};_._a._v.prototype.drawDataTable=function(_2){};_._a._v.prototype.showAllBodyTR=function(_3){var _3=_3||"";for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,_3);}this.lastDisplayedRow=_3==="none"?-1:this.drawedRowLength-1;};_._a._v.prototype._setRowDisplay=function(_5,_6){var _7=null;for(var i=0;i<this.oneRowLength;i++){_7=this.dataRowList[this.oneRowLength*_5+i];if(_7){_7.style.display=_6;if(_6=="none"){this.__addClass(_7,"w2grid_hidedRow");}else{this.__removeClass(_7,"w2grid_hidedRow");}}}return _7;};_._a._v.prototype.setDataTable=function(){};_._a._v.prototype.drawData=function(_9){var _a=0;if(_9+this.maxRowLength>this.getDataLength()){_a=_9+this.getDataLength()-this.maxRowLength;}this.setEvenOddBackground(_9);if(this.rowIndex!=_9){this.changeFocusedCellPosition(_9);}if(this.rowIndex!=_9||this.drawSizeAdded){this.rowIndex=_9;this.showAllBodyTR("");for(var i=0;i<this.maxRowLength-_a;i++){if(i+this.rowIndex<this.getDataLength()){this.drawRowData(i,_9+i);}else{this.hideRow(i);}}}if(_a>0){this.maxRowLength+=_a;this.handleBodyResize();}};_._a._v.prototype.drawRowData=function(_c,_d){for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_c,_d,i);}this._drawRowNumData(_c,_d);this._drawRowStatus(_c,_d);};_._a._v.prototype.drawColumnData=function(_f,_10){_f=this.getColumnIndex(_f);for(var i=0;i<=this.lastIndex;i++){var _12=i+this.rowIndex;var _13=this.getCellInfo(_f);if(_10&&_13.select&&_13.hasRef){_13.select.itemArr=_13.getRefItemArr(_12);_13.select.setSelectOptions();if(!_13.select.setValueNM(_13.mainGrid._getData(_12,_f))){_13.mainGrid._setData(_12,_f,"");}}this.drawCellData(i,_12,_f);}};_._a._v.prototype.addGridScroll=function(gap){};_._a._v.prototype.setFocusedCellPosition=function(){};_._a._v.prototype._setMouseOverTr=function(e,_16){this.setOverClass(_16,"overTd",true);};_._a._v.prototype._setMouseOutTr=function(e,_18){this.setOverClass(_18,"overTd",false);};_._a._v.prototype.setOverClass=function(_19,_1a,_1b){var _1c=_19.parentNode;var _1d=parseInt(_1c.getAttribute("trIndex"));while(_1d>0){_1d--;_1c=_._G.prev(_1c);}do{var _1e=_._G.first(_1c);while(_1e!=null){if(_1e.offsetLeft>this.render.offsetWidth){break;}if(_1e.offsetWidth>0){var _1f="";if(_1b){_1e.setAttribute("row_out_style",_1e.style.cssText);_1e.style.cssText=_1e.style.cssText+";background-color:"+this.options.rowMouseOverColor;}else{_1e.style.cssText=_1e.getAttribute("row_out_style");}}_1e=_._G.next(_1e);}_1c=_._G.next(_1c);}while(_1c!=null&&_1c.getAttribute("trIndex")!="0");};_._a._v.prototype.changeFocusedCellPosition=function(_20,_21){if(this.focusedCell.length==0){return;}this.applyFocusedCellOut();for(var i=0;i<this.focusedCell.length;i++){targetRowIndex=this.focusedCell[i].focusedRowIndex-_20;targetColIndex=this.focusedCell[i].focusedColIndex;var _23=null;if(targetRowIndex<0||targetRowIndex>this.maxRowLength){_23=null;}else{_23=this.data_td_list[targetColIndex+targetRowIndex*this.oneRowDataLength];this.applyFocusedCellIn(_23,_21);}this.focusedCell[i].focusedTd=_23;}};_._a._v.prototype.setTRClass=function(_24,_25,_26){var _27=_24.parentNode;var _28=parseInt(_27.getAttribute("trIndex"));while(_28>0){_28--;_27=_._G.prev(_27);}do{var _29=_._G.first(_27);while(_29!=null){if(_26){this.addClass(_29,_25);}else{this.removeClass(_29,_25);}_29=_._G.next(_29);}_27=_._G.next(_27);}while(_27!=null&&_27.getAttribute("trIndex")!="0");};_._a._v.prototype.setEditMode=function(_2a){var _2b=_2a.getAttribute("col_id");if(_2b==null||_2b.wq_trim()==""){return;}if(_2a.getAttribute("colMerged")=="1"){return;}var _2c=parseInt(_2a.getAttribute("tdIndex"));var _2d=parseInt(_2c/this.realRowDataLength);var _2e=_2d+this.rowIndex;var _2f=_2a.getAttribute("col_id");var _30=this.getCellInfo(_2f);if(_30.options.embeddedInput||this.groupbyStatus.grouped){return;}if(this.getEditReadOnly(_2a,_2e)){this.editMode=false;if(_30.options.showReadOnly){this.editMode=true;_30.showReadonly(_2a,_2e);}return;}if(this.getEditDisabled(_2e,_2f)){this.editMode=false;if(_30.options.showReadOnly){this.editMode=true;_30.showReadonly(_2a,_2e);}return;}var _31=_._F.fireEvent(this,"onbeforeedit",_2e,_2f,this.getCellData(_2e,_2f));if(_31!=false){if(this.editedCell==null){this.editMode=true;this.setCellEditMode(_2a,_2e);}}};_._a._v.prototype.getEditReadOnly=function(_32,_33){var _34=_32.getAttribute("col_id");return this._getEditReadOnly(_33,_34);};_._a._v.prototype.getReadOnly=function(){var _35=_._G.getBoolean;var _36=arguments[0];if(_36=="grid"||arguments.length==0){return _35(this.options.readOnly);}else{if(_36=="row"){return _35(this.getRowReadOnly(arguments[1]));}else{if(_36=="column"){var _37=this.getColumnID(arguments[1]);return _35(this.getColumnReadOnly(_37));}else{if(_36=="cell"){var _38=arguments[1];var _37=this.getColumnID(arguments[2]);return _35(this.getCellReadOnly(_38,_37));}else{if(_36=="all"){var _38=arguments[1];var _37=this.getColumnID(arguments[2]);return this._getEditReadOnly(_38,_37);}}}}}};_._a._v.prototype.setReadOnly=function(){try{var _39=arguments[0];if(arguments.length==1||_39=="grid"){var _3a=arguments[arguments.length-1];this.options.readOnly=_._G.getBoolean(_3a);var _3b=this.getDataLength();if(_3b!=0){this.notifyDataChanged({keepTop:true});}}else{if(_39=="row"){this.setRowReadOnly(arguments[1],arguments[2]);}else{if(_39=="column"){this.setColumnReadOnly(arguments[1],arguments[2]);}else{if(_39=="cell"){this.setCellReadOnly(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){_.exception.printStackTrace(e);}};_._a._v.prototype._getEditReadOnly=function(_3c,_3d){var _3d=this.getColumnID(_3d);var _3e=this.getCellReadOnly(_3c,_3d);var _3f=this.cellInfoHash[_3d];var _40=_._G.getBoolean;if(_3e+""!=""){return _40(_3e);}var _41=this.options.readOnlyPriority;var _42=_3f.options.readOnly;var _43=this.getRowReadOnly(_3c);if(_41=="column"&&_42!==""){return _40(_42);}else{if(_41=="row"&&_43!==""){return _40(_43);}else{if(_42+""=="true"||_43+""=="true"){return true;}else{if(_42+""=="false"||_43+""=="false"){return false;}}}}if(this.options.readOnly+""!=""){return _40(this.options.readOnly);}return false;};_._a._v.prototype.getDisabled=function(){var _44=_._G.getBoolean;var _45=arguments[0];if(_45=="grid"||_45==undefined){return _44(this.options.disabled);}else{if(_45=="row"){return _44(this.getRowDisabled(arguments[1]));}else{if(_45=="column"){var _46=this.getColumnID(arguments[1]);return _44(this.getColumnDisabled(_46));}else{if(_45=="cell"){var _47=arguments[1];var _46=this.getColumnID(arguments[2]);return _44(this.getCellDisabled(_47,_46));}else{if(_45=="all"){var _47=arguments[1];var _46=this.getColumnID(arguments[2]);return this.getEditDisabled(_47,_46);}}}}}};_._a._v.prototype.setDisabled=function(){try{var _48=arguments[0];if(arguments.length==1||_48=="grid"){var _49=arguments[arguments.length-1];_49=_._G.getBoolean(_49);if(_49!=this.options.disabled){this.options.disabled=_49;var _4a=this.getElementById(this.id+"_dataLayer");_4a.disabled=_49;if(_49){this.addClass(_4a,"w2grid_disabled");}else{this.removeClass(_4a,"w2grid_disabled");}this.drawData(this.rowIndex);var _4b=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_4b.length;i++){var _4d=_4b[i].getAttribute("header_id");var _4e=this.headerObj[_4d];if(_4e){if(_4e.setDisabled){_4e.setDisabled(_49);}else{if(_4e.render){_4e.render.disabled=_49;}else{_4e.disabled=_49;}}}else{_4b[i].disabled=_49;}}}return _49;}else{if(_48=="row"){this.setRowDisabled(arguments[1],arguments[2]);}else{if(_48=="column"){this.setColumnDisabled(arguments[1],arguments[2]);}else{if(_48=="cell"){this.setCellDisabled(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){_.exception.printStackTrace(e);}};_._a._v.prototype.getEditDisabled=function(_4f,_50){try{var _50=this.getColumnID(_50);var _51=this.getCellDisabled(_4f,_50);var _52=_._G.getBoolean;var _53=this.cellInfoHash[_50];var _54=this.filteredRowIndexArr[_4f];if(_51+""!=""){return _52(_51);}var _55=this.options.disabledPriority;var _56=_53.options.disabled;if(_56!==""){_56=_._G.getBoolean(_56);}var _57=this.rowDisabledArr[_54];if(_57!=true&&_57!=false){_57="";}if(_55=="column"&&_56!==""){return _52(_56);}else{if(_55=="row"&&_57!==""){return _52(_57);}else{if(_56+""=="true"||_57+""=="true"){return true;}else{if(_56+""=="false"||_57+""=="false"){return false;}}}}if(this.options.disabled+""!=""){return _52(this.options.disabled);}return false;}catch(e){_.exception.printStackTrace(e);}};_._a._v.prototype.getElemRowIndex=function(_58){var _59=parseInt(_58.getAttribute("tdIndex"));var _5a=parseInt(_59/this.realRowDataLength);var _5b=_5a+this.rowIndex;return _5b;};_._a._v.prototype.notifyDataChanged=function(_5c){var _5d=_5c?(_5c.append||false):false;var _5e=_5c?(_5c.keepTop||false):false;var _5f=_5e&&this.rowIndex>=0?this.rowIndex:0;if(this.delayedDraw({rowIndex:_5f})){return;}var _60=this._setGridBorderNoRefresh||false;this._setGridBorderNoRefresh=true;if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();this._setGridBorderNoRefresh=_60;return;}if(_5d&&!this.loadFlag){this.drawFooter();this.drawHeader();return;}var _61=this.drawDataTable(0);if(_61==0){if(_5d){this.setScrollYHeight();}this.drawData(_5f);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();this._setGridBorderNoRefresh=_60;};_._a._v.prototype.notifyCellChanged=function(_62,_63){if(this.delayedDraw({})){return;}this._drawRowStatus(_62-this.rowIndex,_62);this.drawCellData(_62-this.rowIndex,_62,_63);var _64=this.getColumnID(_63);var _65=this.expressionAssArr[_64];if(_65!=null){for(var i=0;i<_65.length;i++){var _67=this.getColumnIndex(_65[i]);this.drawCellData(_62-this.rowIndex,_62,_67);this.drawFooter(_67);this.drawHeader(_67);}}this.displayNoResultMessage();if(this.hasSubtotal){this.subtotalHidden({"startRowIndex":0});this.refreshSubtotalRow(this.rowIndex);}this.drawFooter(_64);this.drawHeader(_64);};_._a._v.prototype.notifyRowChanged=function(_68){if(this.delayedDraw({rowIndex:_68})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}if(this.rowIndex==-1){this.drawDataTable(0);}else{this.lastTopRowIndex=null;var _69=this.getDataLength();var _68=_68||this.rowIndex;var _6a=_68-this.rowIndex;if(0<=_6a&&_6a<=this.lastIndex&&(this.rowIndex<=0||this.rowIndex+this.lastIndex<_69)){this.drawData(this.rowIndex,0);}else{if((0<=_6a&&_6a<=this.lastIndex)||_6a<0){var _6b=this.rowIndex-1;if(_6b+this.lastIndex>=_69){_6b=_69-this.lastIndex-1;}_6b=_6b>0?_6b:0;this.drawData(_6b,0);}}}this.displayNoResultMessage();if(this.hasSubtotal){this.refreshSubtotalRow(_68);}this.drawFooter();this.drawHeader();};_._a._v.prototype.notifyRowInserted=function(_6c){_6c=parseInt(_6c,10);if(this.delayedDraw({rowIndex:_6c})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.drawFooter();this.drawHeader();this.senseReaderMode=false;this.displayNoResultMessage();return;}this.lastTopRowIndex=null;if(this.rowIndex==-1){if(this.drawDataTable(0)==0){this.drawData(0,0);}}else{if(this.options.visibleRowNum!==""||this.options.initFixedHeightByRowNum>0){this.setDataTable();this.drawData(0);}else{var _6d=_6c-this.rowIndex;var _6e=this.getElementById(this.id+"_scrollY_div");if(_6d<0){var _6f=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=false;_6f.scrollTop=20*_6c;this.drawData(_6c,0);}else{if(_6e.offsetHeight>=_6e.scrollHeight||_6d<=this.lastIndex){if(this.isDrillDown){_6d=this.rowIndex;}if(this.hasSubtotal){_6d=0;}this.drawData(this.rowIndex,_6d);}}}}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();var _70=this.rowIndex+this.lastIndex;if(_70<_6c){this.scrollEvent=false;var _6f=this.getElementById(this.id+"_scrollY_div");_6f.scrollTop=20*_6c;var _71=parseInt(_6f.scrollTop/20);this.drawData(_71);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();};_._a._v.prototype.displayNoResultMessage=function(){var _72=this.getElementById(this.id+"_noresult");if(this.options.noResultMessageVisible&&this.removed==false&&this.initFlag==false&&this.getDataLength()==0){_72.innerHTML=this.options.noResultMessage;_72.style.display="block";var _73=this.getElementById(this.id+"_main_div");var _74=_73.offsetHeight;var _75=this.getElementById(this.id+"_body_table").offsetHeight+3;var _76=this.getElementById(this.id+"_foot_table");var _77=0;if(_76){_77=_76.offsetHeight;}var _78=this.getElementById(this.id+"_noresult");var _79=parseInt(_._v.getStyle(_78,"margin-top"),10)||0;var _7a=parseInt(_._v.getStyle(_78,"margin-bottom"),10)||0;var _7b=_78.offsetHeight+_79+_7a;var _7c=_74-_75-_77;var _7d=this.getElementById(this.id+"_scrollX_div").offsetHeight;if(_7c<=_7b){this.getElementById(this.id+"_noresult").style.top=(_75+_79)+"px";this.setSize(_73,(_75+_77+_7b+_7d+_79+_7a));}}else{_72.style.display="none";}this.removed=false;if(!this.delayedDrawObj&&!this.removeAllFinish){this.initFlag=false;}};_._a._v.prototype.delayedDraw=function(_7e){if(this.resizeObj.width==0||this.resizeObj.height==0){if(!this.delayedDrawObj){this.delayedDrawObj={};}this.delayedDrawObj.redraw=true;if(_7e.hasOwnProperty("rowIndex")){this.delayedDrawObj.rowIndex=_7e.rowIndex;}return true;}return false;};_._a._v.prototype.setRedrawStatus=function(_7f){if(_7f=="stop"){if(!this.delayedDrawObj){this.delayedDrawObj={};}}else{this.setDataLayerPosition();this.scrollX_right.scrollLeft=this.resizeObj.scrollLeft;this.getElementById(this.id+"_scrollY_div").scrollTop=this.resizeObj.scrollTop;this.handlerResize_drawInitializer();this._handleScrollX();if(this.options.autoFit||this.startedDisplayNone){this.autoFitFunc();}if(this.delayedDrawObj.redraw){this.setDataTable();this.setColIndexInfo();var _80=this.delayedDrawObj.rowIndex||0;var _81=_80;var _82=this.getDataLength();if(_82-this.drawedRowLength<_81){_81=_82-this.drawedRowLength;(_81<0)&&(_81=0);}this.drawData(_81);this.setScrollYHeight();var _83=this.rowIndex+this.lastIndex;if(_83<_80){this.scrollEvent=false;var _84=this.getElementById(this.id+"_scrollY_div");_84.scrollTop=20*_80;var _85=parseInt(_84.scrollTop/20);this.drawData(_85);}this.drawFooter();this.drawHeader();this.displayNoResultMessage();}this.delayedDrawObj=null;this.initFlag=false;}};;WebSquare.uiplugin.mainDrawController=_._a._v;_._a.am=function(_1){};_._a.am.prototype.setScrollYHeight=function(_2){var _3=this.getDataLength();var _4=this.rowIndex;var _5=_2?(_2.noDraw||false):false;var _6=this.getElementById(this.id+"_size_y");var _7=this.getElementById(this.id+"_scrollY_div");var _8=_6.parentNode.offsetHeight;if(_8==0){_8=parseInt(this.getStyle("height"));}if(_4==-1||(_4==0&&_4+this.lastIndex+1==_3)){var _9=true;if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _a=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_a.rowIndex+1!=_3){_9=false;}}if(_9){if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}_6.style.height="0px";this.handlerResize_drawInitializer();return;}}var _b;if(this.options.visibleRowNum!==""){if(this.options.senseReader){_b=_3-(this.lastIndex+1);}else{_b=_3-this.drawedRowLength;}if(_b<0){_b=0;}}else{if(this.lastTopRowIndex&&this.lastTopRowIndex>0){_b=Math.ceil(this.lastTopRowIndex);}else{var _c=this.getElementById(this.id+"_head_table");var _d=this.dataLayerHeight-_c.offsetHeight;var _e=parseInt(_d/this.oneRowHeight);if(this.options.fixHeight||this.hasSubtotal){_b=_3-_e>1?_3-_e:1;}else{if(this.options.senseReader){_b=_3-(this.lastIndex+1)>0?_3-(this.lastIndex+1):1;}else{_b=_3-this.drawedRowLength+1>1?_3-this.drawedRowLength+(this.isMobile?0:1):1;}}}}var _f=_7.scrollTop;var _10=_8+20*_b;if(_10<=1000000&&_6.tagName.toLowerCase()!="table"){_6.style.height=_10+"px";}else{if(_10<=1000000){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");_6.style.height=_10+"px";}else{if(_._h.browserCheck.ie&&!this.isIE6or7){var _11=[];_11.push("<table id='"+this.id+"_size_y' style='border-collapse:collapse; border-spacing:0px;height:0px; position:absolute; top:0px; left:0px; width:18px'><tbody>");while(_10>1000000){_11.push("<tr style='height:1000000px'><td></td></tr>");_10-=1000000;}_11.push("<tr style='height:"+_10+"px'><td></td></tr></tbody></table>");_7.innerHTML=_11.join("");this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}else{if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}if(_._h.browserCheck.moz){_6.style.height=(_10+1)+"px";}else{_6.style.height=_10+"px";}}}}if(Math.floor(_f/20)!=_4){if(this.lastTopRowIndex&&this.lastTopRowIndex==_4){_4=this.lastTopRowIndex+1;}if(_5&&_7.scrollTop!=20*_4){this.scrollEvent=false;}_7.scrollTop=20*_4;this.bScrollTop=parseInt(_7.scrollTop/20);}var _8=_7.offsetHeight;var _12=parseInt(_6.style.height,10)-_8;if(_12>0&&_12==_7.scrollTop){var _13=this.getDataLength();var _9=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _14=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_14.rowIndex==_13-1){lastTr=_14[_14.length-1];if(lastTr.style.display!="none"){_9=true;}}}}else{_9=true;}if(this.rowIndex+this.lastIndex+1!=_13||!_9){_6.style.height=(parseInt(_6.style.height,10)+20)+"px";}}this.lastScrollYTop=_7.scrollTop;this.handlerResize_drawInitializer();};_._a.am.prototype.addGridScroll=function(gap){var _16=this.rowIndex+gap;_16=(_16<0)?0:_16;_16=(_16>=this.getDataLength()-this.lastIndex)?this.getDataLength()-this.lastIndex:_16;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_16,0);};_._a.am.prototype.handleScrollY=function(e){var _18=this.getElementById(this.id+"_scrollY_div");var _19=parseInt(_18.scrollTop/20);if(this.scrollEvent){if(this.editedCell!=null){this.editedCell.handleScrollY(e);}if(this.bScrollTop!=_19){if(this.hasClass(document.activeElement,this.options.bodyTdClass)&&document.activeElement.blur){document.activeElement.blur();}this.drawData(_19,null,"async");}this.bScrollTop=_19;}if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount>0&&this.loadFlag){var _1a=this.getDataLength();var _1b=_19+this.lastIndex;if(_1a-this.options.loadCount-1<=_1b&&this.loadCheck[_1a]==null){if(!this.skipScrollEndEvent){this.loadCheck[_1a]=true;this.scrollEvent=true;this.loadFlag=false;_._F.fireEvent(this,"onscrollend");_._F.stopEvent(e);}}}this.skipScrollEndEvent=false;this.scrollEvent=true;this.checkScrollEnd=false;_._F.fireEvent(this,"onscrolly",e);};_._a.am.prototype.drawDataTable=function(_1c){try{if(_1c==null){_1c=this.rowIndex;}if(_1c==-1){_1c=0;}var _1d=this.drawedRowLength;this.setDataTable();this.headerTds=null;this.footerTds=null;if(this.drawedRowLength!=_1d){this.setColIndexInfo();this.drawData(_1c,0);}return this.drawedRowLength-_1d;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.drawData=function(_1e,_1f,_20,_21){try{if(typeof (CollectGarbage)=="function"){CollectGarbage();}var _20=_20||"sync";var _22=(_20=="async")&&(this.options.fastScroll=="true");this.changeFocusedCellPosition(_1e,true);this.rowIndex=_1e;if(this.editedCell!=null){this.editedCell.handleEndEdit(null,_21);}this.subtotalHidden(_1f?{startRowIndex:_1f+this.rowIndex}:null);if(this.rowIndex==-1||_20=="sync"||this.options.visibleRowNum==="all"){var _23=this.completiveDrawData(_1f,true);this.adjustDraw(_23);this._setGridBorder();}else{_._h.clearTimer(this.id+"_drawData");_._h.clearTimer(this.id+"_completiveDrawData");_._h.clearTimer(this.id+"_adjustDraw");var _1f=this.fastDrawData(_1f,_22);_._h.setTimer(function(_24){_._h.setTimer(this.completiveDrawData,{key:this.id+"_completiveDrawData",caller:this,delay:120,args:[_24],callback:function(_25){_._h.setTimer(function(){this.adjustDraw(_25);this._setGridBorder();},{key:this.id+"_adjustDraw",caller:this});}});},{key:this.id+"_drawData",caller:this,delay:1,args:[_1f]});}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.fastDrawData=function(_26,_27){try{if(this.options.measureTime){_._h.measureTime(function(_28){var _29=_28.aver;var fps=parseInt(1000/_29*10,10)/10;_.logger.printLog("Id : "+this.id+", time : "+_29+"ms   ,fps : "+fps);},{key:this.id+"_measureDrawTime",caller:this});}var _2b=this.rowIndex;var _2c=this.getDataLength();var _26=_26||0;if(_2c>0){if(_26==0&&_2b!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_2b-1);}var _2d=new Date();for(var i=_26;i<this.drawedRowLength&&(i+_2b)<_2c;i++){if(_27&&new Date()-_2d>this.options.drawLimitTime&&i>=this.options.drawLimitRow){this.hideNochangeDataLayer(i);return i;}this.fastDrawRowData(i,i+_2b);if(this.options.backgroundColorMode.toLowerCase()=="always"){if(typeof this.getRealRowIndex()!="object"){this.applyRowStyleOptions(_2b+i);}}if(this.lastDisplayedRow<i){this._setRowDisplay(i,"");this.lastDisplayedRow=i;}}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.lastTopRowIndex!==null&&_2b>=this.lastTopRowIndex){for(var j=i;j<=this.lastDisplayedRow;j++){this._setRowDisplay(j,"none");}this.lastDisplayedRow=i-1;}return i;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.completiveDrawData=function(_30,_31){try{var _32=this.getDataLength();var _30=_30||0;var _33=this.rowIndex;var _34=_30-1;var _35=this.dataLayerHeight;if(_32>0){if(_30==0&&_33!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_33-1);}for(var i=_30;i<this.drawedRowLength&&(i+_33)<_32;i++){this.fastDrawRowData(i,_33+i);_34=i;}for(var i=_34+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}for(var i=this.lastDisplayedRow+1;i<=_34;i++){this._setRowDisplay(i,"");}if(_31){for(var i=_30;i<=_34;i++){if(this.groupbyStatus.grouped){if(typeof this.getRealRowIndex(_33+i)=="object"){continue;}}this.applyRowStyleOptions(_33+i);}}this.lastDisplayedRow=_34;if(this.options.visibleRowNum===""&&this.options.initFixedHeightByRowNum==-1){_34=this.cutGridBottom(_34);}for(var i=0;i<=_34;i++){this.setEvenOddBackground(i,_33+i);}if(_34+1<this.drawedRowLength){this._setRowDisplay(_34+1,"");this.setEvenOddBackground(_34+1,_33+_34+1);this.applyRowStyleOptions(_33+_34+1);this._setRowDisplay(_34+1,"none");}}else{for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}_34=this.lastDisplayedRow=-1;}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.focusedCell.length>0&&!this.editedCell){var _37=this.focusedCell[this.focusedCell.length-1].focusedRowIndex-this.rowIndex;var _38=this.focusedCell[this.focusedCell.length-1].focusedColIndex;if(0<=_37&&_37<=_34){var td=this.data_td_list[_38+_37*this.oneRowDataLength];this.applyFocusedCellIn(td);}}return _34;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.setSpan=function(_3a){var _3b=this.filteredRowIndexArr[this.rowIndex+_3a];var td=this.all_data_td_list[_3a*this.realRowDataLength];if(typeof _3b=="number"){var _3d=this.colIndexes.bodyColInfo.colSpanArr[0]||"";td.setAttribute("colSpan",_3d);td.style.cssText="";}else{this.drawGroupData(td,_3b,_3a);}};_._a.am.prototype.adjustDraw=function(_3e){try{var _3f=this.getDataLength();var _40=this.rowIndex;var _41=this.dataLayerHeight;var _42=this.scrollEvent;if(this.options.lazyDrawHiddenColumn){this.initVisibilityArr=this.colIndexInfo.body.visibilityArr.slice(0);this.hideInvisibleTds();}else{this.rollbackCommitFlag=false;for(var i=0;i<=this.lastDisplayedRow;i++){if(this.groupbyStatus.grouped){if(typeof this.getRealRowIndex(i+_40)=="object"){continue;}}this.lazyDrawRowData(i,i+_40);}this.rollbackCommitFlag=true;}if(this.options.visibleRowNum!==""){this.setDataTable();this.setScrollYHeight({noDraw:true});var _44=this.options.visibleRowNum=="all"?_3f:_44=parseInt(this.options.visibleRowNum,10);for(var i=_3e+1;i+_40<_3f&&i<_44;i++){this.drawRowData(i,i+_40);_3e=i+_40;}for(var i=this.lastDisplayedRow+1;i<=_3e;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_3e);for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_3e;var _45=this.getElementById(this.id+"_scrollX_div");var _46=parseInt(_45.style.height,10);var _47=this.getElementById(this.id+"_body_table");var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if(_._G.isIE(9)){_49=_47.getBoundingClientRect().height;}this.lastIndex=_3e;if(this.options.senseReader){var _4a=_3f;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_3f){_4a=parseInt(this.options.visibleRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}this.lastIndex=_4a-1;}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}this.setSize(null,_49+_46+_48);if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_47.parentNode.offsetHeight;this.setScrollYHeight({noDraw:true});}else{if(this.options.initFixedHeightByRowNum>-1){if(!this.initHeightCompleted){this.setDataTable();this.setScrollYHeight({noDraw:true});var _44=this.options.initFixedHeightByRowNum;for(var i=_3e+1;i+_40<_3f&&i<_44;i++){this.drawRowData(i,i+_40);_3e=i+_40;}for(var i=this.lastDisplayedRow+1;i<=_3e;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_3e);for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_3e;var _45=this.getElementById(this.id+"_scrollX_div");var _46=parseInt(_45.style.height,10);var _47=this.getElementById(this.id+"_body_table");var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if(_._G.isIE(9)){_49=_47.getBoundingClientRect().height;}this.lastIndex=_3e;if(this.options.senseReader){var _4a=_3f;if(this.options.initFixedHeightByRowNum!="all"&&parseInt(this.options.initFixedHeightByRowNum,10)<_3f){_4a=parseInt(this.options.initFixedHeightByRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}this.lastIndex=_4a-1;}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}var _4c=0;var _4d=0;var _4e=0;var _4f=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_4f.length;i++){var row=_4f[i];if(row.style.display!="none"){_4c=i;_4d++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_4e++;}if(_4d==_44){break;}}}if(_4d<_44){this.setSize(null,_49+_46+_48);this.lastIndex=_4e-1;}else{var _51=_4f[_4c];_49=_51.offsetTop+_51.offsetHeight+this.gridLastTrBottomFix+_46+_48;this.setSize(null,_49);this.initHeightCompleted=true;this.lastIndex=_4e-1;}if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_47.parentNode.offsetHeight;}else{var _4d=0;var _4e=0;var _4f=this.dom[this.id+"_body_tbody"].childNodes;for(var i=0;i<_4f.length;i++){var row=_4f[i];if(row.style.display!="none"){_4d++;if(row.className.match("grid_body_row")&&row.getAttribute("trindex")==="0"){_4e++;}if(_4d==this.options.initFixedHeightByRowNum){break;}}}_3e=_4e-1;}}var _52=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _53=parseInt(this.getElementById(this.id+"_size_y").style.height,10)-_52;var _54=this.getElementById(this.id+"_scrollY_div").scrollTop;var _55=_3f-(_40+_3e+1);var _56=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _57=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_57.rowIndex==_3f-1){var _58=_57[_57.length-1];if(_58.style.display!="none"){_56=true;}}}}else{_56=true;}if(this.adjustDraw_keepTop&&_53>0&&_53<=_54&&!_56){var _59=this.getElementById(this.id+"_size_y");_59.style.height=parseInt(_59.style.height,10)+20+"px";_53=_54-20;}if(!this.lastTopRowIndex&&_53>0&&_53<=_54){if(_55>=0||!_56){if(_3e+_55<this.drawedRowLength){this.drawSubtotalRow(_3e+1,_40+_3e);for(var i=_3e+1;i<=_3e+_55;i++){this.drawRowData(i,i+_40);}if(_55==0&&!_56){this.drawRowData(_3e+_55,_3e+_55+_40);}for(var i=this.lastDisplayedRow+1;i<=_3e+_55;i++){this._setRowDisplay(i,"");}this.lastDisplayedRow=_3e+_55;var _58=this.dataRowList[(_3e+_55+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _5a=this.drawedSubtotal[this.drawedSubtotal.length-1];_58=_5a[_5a.length-1];}var _5b=0;var _5c=_40;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex!=_40){_5c=_40-0.5;}var _5d=_58.offsetTop+_58.offsetHeight;while(_5d>_41&&_5b<_3e+_55){this.subtotalHidden({rowIndex:_40+_5b-1});_5d=_58.offsetTop+_58.offsetHeight;if(_5d<=_41){_5c=_40+_5b;break;}this._setRowDisplay(_5b,"none");_5d=_58.offsetTop+_58.offsetHeight;_5c=_40+_5b+0.5;_5b++;}if(this.hasSubtotal&&this.drawedSubtotal.length>0&&_5c+0.5==this.drawedSubtotal[0].rowIndex){_5c+=0.5;}if(_40!=Math.ceil(_5c)){_40=Math.ceil(_5c);this.bScrollTop=_40;var _5e=_40-this.rowIndex;var _5f=_3e+_55;_3e=_5f-_5e;this.rowIndex=_40;this.lastTopRowIndex=_5c;this.subtotalHidden();if(_40!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_40-1);}for(var i=0;i<=_3e;i++){this.drawRowData(i,i+_40);}for(var i=0;i<=_5b;i++){this._setRowDisplay(i,"");}for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.changeFocusedCellPosition(_40);this.lastDisplayedRow=_3e;if(this.scrollEvent){this.checkScrollEnd=true;}}}}if(!this.lastTopRowIndex){this.lastTopRowIndex=this.rowIndex;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex==this.rowIndex-1){this.lastTopRowIndex-=0.5;}}}this.applyStyleOptions(_3e);_3e=this.cutGridBottom(_3e);this.lastIndex=_3e;if(this.adjustDraw_keepTop){this.adjustDraw_keepTop=null;}else{this.setScrollYHeight();}}this.maxRowLength=_3e;if(this.isIE6or7){this._setRowDisplay(_3e+1,"");if(this.dataRowList[(_3e+1)*this.oneRowLength]){this.dataRowList[(_3e+1)*this.oneRowLength].offsetHeight;}this._setRowDisplay(_3e+1,"none");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.drawBottomData=function(_60){if(this.rowIndex<0||this.rowIndex==0&&_60<=this.lastIndex||this.rowIndex>=0&&this.rowIndex+this.lastIndex==_60){return;}var _61=this.getDataLength();(_60>=_61)&&(_60=_61-1);this.subtotalHidden();for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}var _63=_60+1-this.drawedRowLength;(_63<0)&&(_63=0);var _64=((_61<this.drawedRowLength)?_61:this.drawedRowLength)-1;for(var i=0;i<=_64;i++){this.drawRowData(i,i+_63);this._setRowDisplay(i,"");}var _65=_60-_63;var _66=this.dataRowList[(_60-_63+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=0;i<this.drawedSubtotal.length;i++){var _67=this.drawedSubtotal[i];if(_67.rowIndex==_60){_66=_67[_67.length-1];break;}}}var _68=_66.offsetTop+_66.offsetHeight;var _69=this.dataLayerHeight;if(_68<=_69){this.rowIndex=_63;this.lastIndex=this.cutGridBottom(_64);for(var i=this.rowIndex;i<=this.rowIndex+this.lastIndex;i++){this.applyRowStyleOptions(i);}this.setScrollYHeight({noDraw:true});return;}else{this.subtotalHidden({startRowIndex:_60+1});for(var i=_65+1;i<=_64;i++){this._setRowDisplay(i,"none");}}var _6a=_63-(this.hasSubtotal?0.5:0);var _6b=0;var _6c=0;if(this.hasSubtotal){for(var _6d in this.subtotalTableList){_6c+=this.subtotalTableList[_6d].rows.length;}}while(_6a<_61){if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_6a-0.5){for(var j=0;j<this.drawedSubtotal[i].length;j++){_68-=this.drawedSubtotal[i][j].offsetHeight;}}}_6a+=0.5;if(_68<=_69){this.subtotalHidden({endRowIndex:_6a-1});break;}_6b+=_6c;}for(var i=0;i<this.oneRowLength;i++){_68-=this.dataRowList[this.oneRowLength*(_6a-_63)+i].offsetHeight;}_6b+=this.oneRowLength;_6a+=(this.hasSubtotal?0.5:1);if(_68<=_69){if(this.hasSubtotal){_6a+=0.5;for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_6a-1){_6a-=0.5;break;}}}break;}}var _6f=[];var _70=this.getElementById(this.id+"_body_tbody");for(var i=0;i<_6b;i++){var tr=_70.removeChild(_70.rows[0]);tr.style.cssText="display:none";_6f.push(tr);}for(var i=_6c;i<_6f.length;i++){_70.appendChild(_6f[i]);}for(var i=0;i<_6c;i++){_70.appendChild(_6f[i]);}this.dataRowList=[];this.all_data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.data_td_list=[];for(var _6d in this.subtotalRowHash){this.subtotalRowHash[_6d]=[];}var _72=0;for(var i=0;i<_6c;i++){var row=_70.rows[_72++];var _6d=row.getAttribute("targetcolumnid");this.subtotalRowHash[_6d].push(row);}for(var i=0;i<this.drawedRowLength;i++){var _74=[];for(var j=0;j<this.oneRowLength;j++){_74.push(_70.rows[_72++]);}this.addBodyRow2(i,_74);for(var j=0;j<_6c;j++){var row=_70.rows[_72++];var _6d=row.getAttribute("targetcolumnid");this.subtotalRowHash[_6d].push(row);}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}this.rowIndex=parseInt(_6a+0.5,10);this.lastIndex=_64=_60-this.rowIndex;if(_60>=_61-1){this.lastTopRowIndex=_6a;}for(var i=0;i<=_64;i++){this.setEvenOddBackground(i,this.rowIndex+i);}for(var i=_60;i>=_6a;i--){this.applyRowStyleOptions(i);}if(_64+1<this.drawedRowLength){this._setRowDisplay(_64+1,"");this.setEvenOddBackground(_64+1,this.rowIndex+_64);this.rowIndex--;this.applyRowStyleOptions(this.rowIndex+_64+1);this.rowIndex++;this._setRowDisplay(_64+1,"none");}this.setScrollYHeight({noDraw:true});if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}};_._a.am.prototype.cutGridBottom=function(_75){try{var _76=this.rowIndex;var _77=this.dataLayerHeight;if(_75<0){this.lastDisplayedRow=-1;return -1;}var _78=this.getElementById(this.id+"_head_table");var _79=this.getElementById(this.id+"_body_tbody");var _7a=_._v.getStyle(_78,"border-top-width");if(_7a=="thin"){if(_._G.isIE(6)||_._G.isIE(7)){_7a=2;}else{_7a=1;}}else{if(_7a=="medium"){if(_._G.isIE(6)||_._G.isIE(7)){_7a=4;}else{_7a=3;}}else{if(_7a=="thick"){if(_._G.isIE(6)||_._G.isIE(7)||_._G.isOpera()){_7a=6;}else{_7a=5;}}else{_7a=parseInt(_7a,10);}}}var _7b=parseInt(_7a/2+0.5,10)-_78.offsetTop;if(_79.getBoundingClientRect){var _7c=_79.getBoundingClientRect();var _7d=_7c.bottom-_7c.top;_7b+=_7d-parseInt(_7d,10)>0?1:0;}while(true){if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=this.drawedSubtotal.length-1;i>=0;i--){var _7f=this.drawedSubtotal[i];if(_7f.rowIndex==_76+_75){var _80=_7f[_7f.length-1];if(_77<_80.offsetTop+_80.offsetHeight){this.subtotalHidden({index:i});}else{break;}}else{break;}}}var _81=this.dataRowList[(_75+1)*this.oneRowLength-1];if(_75>0&&_81.offsetTop+_81.offsetHeight+_7b>_77){_75--;}else{break;}}if(!this.senseReaderMode){for(var i=_75+1;i<=this.drawedRowLength;i++){this._setRowDisplay(i,"none");}if(this.options.showLastRow){var _82=this.getDataLength();if(this.rowIndex+_75+1<_82){this._setRowDisplay(_75+1,"");}}this.lastDisplayedRow=_75;}return _75;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.getLastIndex=function(_83){try{var _84=this.rowIndex;var _85=this.dataLayerHeight;if(_83<0){this.lastDisplayedRow=-1;return -1;}while(true){var _86=this.dataRowList[(_83+1)*this.oneRowLength-1];if(_83>0&&_86.offsetTop+_86.offsetHeight>_85){_83--;}else{break;}}return _83;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.lazyDrawRowData=function(_87,_88){try{for(var i=0;i<this.colIndexInfo.body.invisibleTds.length;i++){var _8a=this.colIndexInfo.body.invisibleTds[i]-this.defaultColCnt;if(_8a>=0){this.drawCellData(_87,_88,_8a,true);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.fastDrawRowData=function(_8b,_8c){try{var _8d=this.filteredRowIndexArr[this.rowIndex+_8b];var td=this.all_data_td_list[_8b*this.realRowDataLength];if(typeof _8d=="number"){if(this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _8f=td;var _90=true;for(var i=0;i<this.defaultColCnt;i++){var _92=this.colIndexes.bodyColInfo.colSpanArr[i]||1;_8f.setAttribute("colSpan",_92);_8f.style.display="";_8f.innerText="";_8f.textContent="";if(_8f.className.match("w2grid_groupby")){_8f.className=td.className.split(" ").splice(0,1);if(this.options.rowNumVisible&&_90){_8f.className+=" gridBodyDefault_rowNumber";_90=false;}else{_8f.className+=" gridBodyDefault_rowStatus";}}_8f=_8f.nextSibling;}}}this._drawRowNumData(_8b,_8c);this._drawRowStatus(_8b,_8c);var _93=this.colIndexInfo.body.visibleTds;var len=_93.length;for(var i=0;i<len;i++){var _95=_93[i]-this.defaultColCnt;var _96=parseInt(_95/this.columnOrder.length);var _97=_95%this.columnOrder.length;var _98=this.columnOrder[_97]+(_96*this.columnOrder.length);if(_98>=0){this.drawCellData(_8b,_8c,_98);}}this.drawSubtotalRow(_8b+1,_8c);}else{this.drawGroupData(td,_8d,_8b);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.drawRowData=function(_99,_9a){try{var _9b=this.filteredRowIndexArr[this.rowIndex+_99];var td=this.all_data_td_list[_99*this.realRowDataLength];if(typeof _9b=="number"){this._drawRowNumData(_99,_9a);this._drawRowStatus(_99,_9a);for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_99,_9a,i);}this.drawSubtotalRow(_99+1,_9a);}else{this.drawGroupData(td,_9b,_99);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.hideNochangeDataLayer=function(_9e){if(this.hideDataLayer==null){this.hideDataLayer=document.createElement("div");this.hideDataLayer.className="w2grid_fastScroll_layer";var _9f=document.createElement("div");_9f.innerHTML=this.options.scrollMsg;_9f.className="w2grid_fastScroll_msg";this.hideDataLayer.appendChild(_9f);var _a0=this.getElementById(this.id+"_dataLayer");_a0.appendChild(this.hideDataLayer);}var _a1=this.all_data_td_list[(_9e-1)*this.realRowDataLength];var _a2=_a1.offsetHeight;if(_a2!=0){this.hideDataLayer.style.display="block";this.hideDataLayer.style.top=(_a1.offsetTop+_a2+1)+"px";}else{this.hideDataLayer.style.display="none";}};_._a.am.prototype.setEvenOddBackground=function(_a3,_a4){if(this.options.oddEvenColorDisplay){var td=this.data_td_list[_a3*this.oneRowDataLength];var tr=null;if(td){tr=td.parentNode;do{if(_a4%2==1){tr.style.backgroundColor=this.options.evenRowBackgroundColor;}else{tr.style.backgroundColor=this.options.oddRowBackgroundColor;}tr=_._G.next(tr);}while(tr!=null&&tr.getAttribute("trIndex")!="0");}}};_._a.am.prototype._drawRowNumData=function(_a7,_a8){if(this.options.rowNumVisible){var _a9=this.data_num_td_list[_a7];if(this.rowNumArr){if(typeof this.rowNumArr[_a8]=="number"){_a9.innerHTML=1+this.rowNumArr[_a8];}}else{if(_a9){_a9.innerHTML=1+_a8+this.startRowNumber;}}}};_._a.am.prototype._drawRowStatus=function(_aa,_ab){if(this.options.rowStatusVisible){var _ac=this.data_status_td_list[_aa];if(_ac){var _ad=this.getRowStatusValue(_ab);var _ae="";switch(_ad){case 0:_ae="R";break;case 1:_ae="U";break;case 2:_ae="C";break;case 3:_ae="D";break;case 4:_ae="V";break;}if(typeof _ac.imageName=="undefined"){_ac.imageName="";}if(_ac.imageName!=_ae){switch(_ac.imageName){case "":case "R":break;case "C":this.removeClass(_ac,"w2grid_rowStatus_C");break;case "U":this.removeClass(_ac,"w2grid_rowStatus_U");break;case "D":this.removeClass(_ac,"w2grid_rowStatus_D");break;case "V":this.removeClass(_ac,"w2grid_rowStatus_V");break;}if(_ae!="R"&&_ae!=""){this.addClass(_ac,"w2grid_rowStatus_"+_ae);}_ac.imageName=_ae;}}}};_._a.am.prototype.drawCellData=function(_af,_b0,_b1,_b2){try{if(!_b2&&this.editedCell!=null&&this.editedCell.options.colIndex+""==_b1+""){this.editedCell.handleCancelEdit();}var td=this.data_td_list[_b1+_af*this.oneRowDataLength];if(td){if(this.groupbyStatus.grouped){var _b4=this.colIndexes.bodyColInfo.colSpanArr[_b1+this.defaultColCnt]||1;td.setAttribute("colSpan",_b4);td.style.display="";var _b5=this.cellInfoHash[this.getColumnID(_b1)];td.style.textAlign=_b5.options.textAlign;}var _b6=this.getCellInfo(td);if(!_b6){td.innerText="";td.textContent="";}if(this.groupbyStatus.grouped&&this.hasClass(td,"w2grid_groupby")){td.className="gridBodyDefault";}var _b7=this.aria_labelledby[_b1];if(_b7){var row=_af+_b0+1;td.setAttribute("aria-labelledby",_b7+" r"+row);}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_b1]].options.colMerge){this.setColMergeCellData(_af,_b0,_b1);}else{this.setInnerHTML(td,_b0,_b1);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.setColMergeCellData=function(_b9,_ba,_bb){var td=this.data_td_list[_bb+_b9*this.oneRowDataLength];if(_b9==0){this.setInnerHTML(td,_ba,_bb);return;}var _bd=_ba-1;var _be=this.getCellData(_ba-1,_bb);var _bf=this.data_td_list[_bb+(_b9-1)*this.oneRowDataLength];var _c0=this.upperGroupingTest(_ba,_bb);var _c1=true;if(this.options.senseReader&&this.options.visibleRowNum!="all"){if(this.dataLayerHeight<td.offsetTop+td.offsetHeight){_c1=false;}}var _c2=this.getCellData(_ba,_bb);if(_be==_c2&&_c0&&_c1){td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.innerHTML="";}else{this.setInnerHTML(td,_ba,_bb);}return;};_._a.am.prototype.drawColMergeCellData=function(_c3,_c4,_c5){var td=this.data_td_list[_c5+_c3*this.oneRowDataLength];td.style.borderBottomWidth="0px";if(_c3==0){return;}var _c7=_c4-1;var _c8=this.getCellData(_c4-1,_c5);var _c9=this.data_td_list[_c5+(_c3-1)*this.oneRowDataLength];td.style.borderTopWidth="0px";var _ca=this.upperGroupingTest(_c4,_c5);var _cb=true;if(this.options.senseReader&&this.options.visibleRowNum!="all"){if(this.dataLayerHeight<td.offsetTop+td.offsetHeight){_cb=false;}}var _cc=this.getCellData(_c4,_c5);if(_c8==_cc&&_ca&&_cb){_c9.style.borderBottomWidth="0px";td.style.borderTopWidth="0px";td.setAttribute("colMerged","1");td.innerHTML="";}else{td.style.borderTopWidth="1px";}return;};_._a.am.prototype.upperGroupingTest=function(_cd,_ce){var _cf=this.getCellInfo(_ce);var _d0=_cf.options.upperColumn;if(this.hasSubtotal&&this.hasUpperSubtotalRow(_cd)){return false;}if(_d0!=""){var _d1=this.getCellData(_cd,_d0);var _d2=this.getCellData(_cd-1,_d0);if(_d1!=_d2){return false;}var _d3=this.getCellInfo(_d0);if(_d3.options.upperColumn!=""){return this.upperGroupingTest(_cd,_d3.options.upperColumn);}}return true;};_._a.am.prototype.setDataTable=function(){try{var _d4=this.getElementById(this.id+"_head_table");var _d5=this.getElementById(this.id+"_body_table");var _d6=this.getElementById(this.id+"_body_tbody");this.dataLayerHeight=_d5.parentNode.offsetHeight;if(this.dataLayerHeight==0){this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.setRedrawStatus("stop");this.delayedDraw({rowIndex:this.rowIndex==-1?0:this.rowIndex});return;}if(!this.defaultDataLayerHeight){if(this.isIE6||_._G.isOpera()){this.defaultDataLayerHeight=this.getElementById(this.id+"_main_div").offsetHeight;}else{this.defaultDataLayerHeight=this.dataLayerHeight;}}var _d7=0;if(this.options.senseReader){_d7=this.getDataLength();}else{if(this.options.visibleRowNum===""){if(this.options.initFixedHeightByRowNum>-1){_d7=parseInt(this.options.initFixedHeightByRowNum,10)+1;}else{_d7=parseInt((this.dataLayerHeight-_d4.offsetHeight)/this.oneRowHeight)+1;}}else{if(this.options.visibleRowNum==="all"){_d7=this.getDataLength();}else{_d7=parseInt(this.options.visibleRowNum,10);}}}if(_d7>this.drawedRowLength){var _d8=this.drawedRowLength;this.drawedRowLength=_d7;var _d9=[];if(_d8==0&&this.hasSubtotal){_d9=_d9.concat(this.createSubtotalRows());}for(var k=_d8;k<this.drawedRowLength;k++){var _db=[];for(var i=0;i<this.oneRowLength;i++){var _dd=this.tempTr.rows[i].cloneNode(true);_db[i]=_dd;_d9.push(_dd);}this.addBodyRow(k,_db);if(this.hasSubtotal){_d9=_d9.concat(this.createSubtotalRows());}}if(this.drawedRowLength==0){_d5.style.borderWidth="0px";}else{_d5.style.borderWidth="";}for(var i=0;i<_d9.length;i++){_d6.appendChild(_d9[i]);}for(var k=_d8;k<this.drawedRowLength;k++){this._setRowDisplay(k,"none");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.applyStyleOptions=function(_de){try{var _df=this.rowIndex>=0?this.rowIndex:0;for(var i=0;i<=_de+1&&i<this.drawedRowLength;i++){if(typeof this.getRealRowIndex(i+_df)=="object"){continue;}this.applyRowStyleOptions(i+_df);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.applyColumnStyleOptions=function(_e1){try{for(var i=0;i<this.drawedRowLength;i++){this.applyCellStyleOptions(i+this.rowIndex,_e1);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.applyRowStyleOptions=function(_e3){try{var _e4=_e3;if(this.rowIndex>=0){_e4-=this.rowIndex;}if(_e4<0||_e4>=this.drawedRowLength){return;}var tr=this.dataRowList[this.oneRowLength*_e4];if(!tr||tr.style.display=="none"){return;}if(this.options.lazyDrawHiddenColumn){var _e6=this.colIndexInfo.body.visibleTds;for(var i=this.defaultColCnt;i<_e6.length;i++){var _e8=_e6[i]-this.defaultColCnt;var td=this.all_data_td_list[_e4*this.oneRowDataLength+_e8];if(td){this.applyCellStyleOptions(_e3,_e8);}}}else{for(var i=0;i<this.oneRowDataLength;i++){var td=this.data_td_list[_e4*this.oneRowDataLength+i];if(td){this.applyCellStyleOptions(_e3,i);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.applyCellStyleOptions=function(_ea,_eb,_ec){try{var _ed=_ea;if(this.rowIndex>=0){_ed-=this.rowIndex;}if(_ed<0||_ed>=this.drawedRowLength){return;}var td=this.data_td_list[_ed*this.oneRowDataLength+_eb];if(td){var _ef=[];if(this.getCellInfo(_eb).options.textAlign!=""){_ef.push("text-align:"+this.getCellInfo(_eb).options.textAlign);}var _f0=this.getRowStyleClassName(_ea);if(_f0!=null){_ef.push(this._getRowStyleStr(_f0));}var _f1=this.columnStyleValueObj[_eb];if(_f1!=null){_ef.push(this._getColumnStyleStr(_eb));}var _f2=this.getCellStyleClassName(_ea,_eb);if(_f2!=null){_ef.push(this._getCellStyleStr(_f2));}if(this.options.readOnlyBackgroundColor!=""){var _f3=this._getEditReadOnly(_ea,_eb);if(_f3==true){_ef.push(this.readOnlyTdStyle);td.readOnly=true;}else{td.readOnly=false;}}td.disabled=false;if(this.getEditDisabled(_ea,_eb)){_ef.push(this.disabledTdStyle);if(this.disabledCellStyleObj&&this.disabledCellStyleObj[_ea+"_"+_eb]&&this.disabledCellStyleObj[_ea+"_"+_eb]["style"]){_ef.push(this.disabledCellStyleObj[_ea+"_"+_eb]["style"]);}}if(!_ec&&this.options.selectedRowColor!="transparent"){if(this.options.focusMode=="row"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_ea==this.focusedCell[j].focusedRowIndex){_ef.push("background-color:"+this.options.selectedRowColor);break;}}}}if(!_ec&&this.options.selectedCellColor!="transparent"){if(this.options.focusMode=="cell"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_ea==this.focusedCell[j].focusedRowIndex&&_eb==this.focusedCell[j].focusedColIndex){_ef.push("background-color:"+this.options.selectedCellColor);break;}}}}if(td.style.display=="none"){_ef.push("display:none");}var _f5=_ef.join(";");if(_f5!=td.getAttribute("style_bak")||this.groupbyStatus.grouped){td.style.cssText=_f5;}td.setAttribute("style_bak",_f5);td.setAttribute("or_bgColor",td.style.backgroundColor);if(this.isColMerge&&this.getCellInfo(_eb).options.colMerge){td.setAttribute("colMerged","0");this.drawColMergeCellData(_ed,_ea,_eb);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.am.prototype.createSubtotalRows=function(){var _f6=[];for(var _f7 in this.subtotalTableList){var _f8=this.subtotalRowHash[_f7];if(_f8==null){_f8=[];}var _f9=this.subtotalTableList[_f7];for(var i=0;i<_f9.rows.length;i++){var _fb=_f9.rows[i].cloneNode(true);_fb.style.display="none";_f8.push(_fb);_f6.push(_fb);}this.subtotalRowHash[_f7]=_f8;}return _f6;};_._a.am.prototype.addBodyRow=function(_fc,_fd){var _fe=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _ff=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _100=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var idx=0;var _102=0;for(var i=0;i<_fd.length;i++){this.dataRowList.push(_fd[i]);_fd[i].className="grid_body_row";var _104=_fd[i].getElementsByTagName("td");for(var j=0;j<_104.length;j++){var _106=_104[j];var _107=_106.className;_106.setAttribute("tdIndex",_fc*this.realRowDataLength+idx);idx++;this.all_data_td_list.push(_106);if(_fe.test(_107)){this.data_num_td_list.push(_106);}else{if(_ff.test(_107)){this.data_status_td_list.push(_106);}else{if(!this.hasSubtotal||_100.test(_107)){this.data_td_list.push(_106);var _108=this.id+"_columnstyle_"+_102+"_";this.addClass(_106,_108);var _109=_106.getAttribute("col_id");var _10a=this.getCellInfo(_109);_106.style.cssText=(_10a.options.textAlign=="")?"":"text-align:"+_10a.options.textAlign+";";_106.setAttribute("id",this.id+"_cell_"+_fc+"_"+_102);_102++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){if(!_10a.options.embeddedInput){_106.setAttribute("tabIndex","0");this.event.addListener(_106,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}var _10b=[];if(!this.options.duplicateColumnId){for(var i=0;i<_fd.length;i++){var _104=_fd[i].getElementsByTagName("td");var _10c=[];for(var j=0;j<_104.length;j++){_10c[j]=_104[j];}for(var j=0;j<_10c.length;j++){var _107=_10c[j].className;if(!_fe.test(_107)&&!_ff.test(_107)){_10b.push(_10c[j].parentNode.removeChild(_10c[j]));}}}for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){var _10d=this.htmlInfo.body.rowArr[i][j].col_id;for(var k=0;k<_10b.length;k++){if(_10b[k].getAttribute("col_id")==_10d){_fd[i].appendChild(_10b[k]);break;}}}}}};_._a.am.prototype.addBodyRow2=function(_10f,_110){var _111=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _112=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _113=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var _114=[];for(var i=0;i<_110.length;i++){this.dataRowList.push(_110[i]);_110[i].className="grid_body_row";var _116=_110[i].getElementsByTagName("td");for(var j=0;j<_116.length;j++){var _118=_116[j];var _119=_118.className;var _11a=parseInt(_118.getAttribute("tdIndex"),10);var _11b=_11a%this.realRowDataLength;_118.setAttribute("tdIndex",_10f*this.realRowDataLength+_11b);if(_111.test(_119)){this.data_num_td_list.push(_118);this.all_data_td_list.push(_118);}else{if(_112.test(_119)){this.data_status_td_list.push(_118);this.all_data_td_list.push(_118);}else{if(!this.hasSubtotal||_113.test(_119)){var _11c=_11b-this.defaultColCnt;_114[_11c]=_118;var _11d=this.id+"_columnstyle_"+_11c+"_";this.addClass(_118,_11d);_118.style.cssText="";_118.setAttribute("id",this.id+"_cell_"+_10f+"_"+_11c);_11c++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){var _11e=_118.getAttribute("col_id");var _11f=this.getCellInfo(_11e);if(!_11f.options.embeddedInput){_118.setAttribute("tabIndex","0");this.event.addListener(_118,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}[].push.apply(this.all_data_td_list,_114);[].push.apply(this.data_td_list,_114);};_._a.am.prototype.addRows=function(_120){var _121=this.drawedRowLength;var rows=[];for(var i=0;i<_120;i++){var _124=[];for(var j=0;j<this.oneRowLength;j++){var _126=this.tempTr.rows[j].cloneNode(true);rows.push(_126);}this.addBodyRow(_121+i,_124);if(this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}}var _127=this.getElementById(this.id+"_body_tbody");for(var i=0;i<rows.length;i++){_127.appendChild(rows[i]);}};_._a.am.prototype.notifyStatusChanged=function(_128){var from;var to;var _12b=false;if(typeof _128.rowIndex=="object"){from=0;to=_128.rowIndex.length;_12b=true;}else{if(_128.rowIndex=="all"){from=0;to=this.getRowCount();}else{if(typeof _128.startIndex=="number"&&typeof _128.endIndex=="number"){from=_128.startIndex;to=_128.endIndex;}}}for(var i=from;i<to;i++){var row;if(_12b){row=_128.rowIndex[i];}else{row=i;}if(this.rowStatusColIDArr!=null){for(var k=0;k<this.rowStatusColIDArr.length;k++){var _12f=this.getColumnIndex(this.rowStatusColIDArr[k]);this.drawCellData(row-this.rowIndex,row,_12f);}}}};;WebSquare.uiplugin.drawController=_._a.am;_._a.av=function(){};_._a.av.prototype.setCellInfo=function(){var _1=this.tempDiv.getElementsByTagName("td");for(var i=0;i<_1.length;i++){var _3=_1[i].getAttribute("inputType");if(_3=="drilldown"){this.isDrillDown=true;this.depthColumn=_1[i].getAttribute("depthColumn");this.showDepth=_1[i].getAttribute("showDepth");}}};_._a.av.prototype.setInnerHTML=function(td,_5,_6){var _7=this.getCellData(_5,_6);var _8=this.cellInfoHash[this.tdIdList[_6]];_8.setInnerHTML(td,_7,_5,_6);};_._a.av.prototype.getCellInfo=function(td){var _a="";if(typeof td=="string"){_a=td;}else{if(typeof td=="number"){_a=this.tdIdList[td];}else{_a=td.getAttribute("col_id");}}return this.cellInfoHash[_a]||{options:{}};};_._a.av.prototype._endEdit=function(){if(this.editedCell!=null){this.editedCell.handleEndEdit();}};_._a.av.prototype.initColumns=function(){for(var _b in this.cellInfoHash){var _c=this.cellInfoHash[_b];if(_c.options.inputType=="select"){_c.initializeCellInfo(_c.element);_c.style="";}}};_._a.av.prototype._setCellInfo=function(_d,td){this.cellInfoHash2[_d]=td;};_._a.av.prototype.getColumnCount=function(){return this.tdIdList.length;};_._a.av.prototype.getColumnID=function(_f){if(typeof _f=="string"){return _f;}var _10=this.tdIdList[_f];if(_10){return _10;}else{return null;}};_._a.av.prototype.getColumnIndex=function(_11){if(typeof _11=="number"){return _11;}return this.bodyIdColIndexMap[_11];};_._a.av.prototype.setExpressionAssociation=function(_12,_13){try{if(this.expressionAssArr[_12]==null){this.expressionAssArr[_12]=[];}this.expressionAssArr[_12].push(_13);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.av.prototype.setCellEditMode=function(td,_15){this.hideTooltip();var _16=this.getCellInfo(td);this.editedCell=_16;this.rollbackCommitFlag=false;var _17=this.render.offsetWidth;var _18=this.render.offsetHeight;_16.setEditMode(td,_15);if(_17!==this.render.offsetWidth||_18!==this.render.offsetHeight){this.handleResize();_16.setEditMode(td,_15);}this.rollbackCommitFlag=true;};_._a.av.prototype.setCellClickEdit=function(td){var _1a=this.getElemRowIndex(td);var _1b=this.getCellInfo(td);var ret=false;switch(_1b.options.inputType){case "checkbox":case "radio":case "drilldown":ret=_1b.handleClick(td,_1a);}return ret;};_._a.av.prototype.getInput=function(_1d,_1e){var _1f=_1d.options.inputType||"text";var _20=_1d.options.embeddedInput;var _21=(_1d.options.dataType=="bigDecimal")?true:false;if(_20){var _22=_1e.getAttribute("id")+"_"+_1f;}else{var _22=_1d.mainGridId+_1d.id;}var _23=this.dom[_22];var _24=this;if(!_23){if((_1f=="text"||_1f=="secret")&&_20){var _25="text";var _26="w2grid_embedded_input";if(_1f=="secret"){_25="password";if(_._G.isIEAllVersion()){_26+=" w2grid_secret";}else{_26="w2grid_embedded_secret";}}_23=new _._a.ap(_22,{className:_26,style:"$blank",ioFormat:"$blank",ioFormatter:"$blank",readOnly:"$blank",disabled:"$blank",hidden:"$blank",type:_25,useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){var row=parseInt(this.render.getAttribute("rowIndex"),10);var col=this.render.parentNode.getAttribute("col_id");if(row-_24.rowIndex>=_24.lastIndex+1){_._F.stopEvent(e);_24.addGridScroll(1);_24.setFocusedCell(row,col);return;}}}},{name:"onclick",action:"script",param:{handler:function(e){_._F.stopPropagation(e);}}}]},_1d.xml);_1e.innerHTML="";_23.writeTo(_1e);if(_._G.isIE()){_23.setVerticalAlign();}_23.setVerticalAlign=function(){};var _2b=_._a.ap.prototype.handleBlurEventBasic;_23.handleBlurEventBasic=function(e){var _2d=this.render.getAttribute("rowindex");var _2e=this.render.parentNode.getAttribute("col_id");var _2f=_24.getColumnIndex(_2e);var _30=_23.validator.validateString(this.getValue());if(!_24.fakeInput.render.parentNode){var ret=_._F.fireEvent(_24,"oneditend",_2d,_2f,_30,e);if(ret+""=="false"){var _32=this;setTimeout(function(){_32.reFocus=true;_32.focus();},1);_._F.stopEvent(e);return false;}}_2b.call(this,e);var _33=_24.getCellInfo(_2e);_24._setCellData(_2d,_2e,_30,false);if(_33.options.applyFormat!="all"){_30=_33.getDisplayData(_30);}this.setValue(_30);if(!_24.fakeInput.render.parentNode){var ret=_._F.fireEvent(_24,"onafteredit",_2d,_2f,_30,_24.lastEvent);}_24.hideFakeInput(_23);_24.F2Mode=false;};var _34=_._a.ap.prototype.handleFocusValueEventAdv;_23.handleFocusValueEventAdv=function(e){var _36=this.render.getAttribute("rowindex");var _37=this.render.parentNode.getAttribute("col_id");_24.lastEvent=e;_34.call(this,e);var _38=_24.getLastFocusedCell();if(_38.focusedTd!=this.render.parentNode&&!_24.focusedByApi){_24.setFocusedCell(_36,_37);}_24.focusedByApi=false;if(!this.reFocus){this.setValue(_24.getCellData(_36,_37));this.select();var _39=this;setTimeout(function(){_39.focus();},1);}_24.F2Mode=false;this.reFocus=false;};var _3a=_._a.ap.prototype.handleKeydownEvent;_23.handleKeydownEvent=function(e){_24.lastEvent=e;_3a.call(this,e);switch(e.keyCode){case 46:if(!_24.F2Mode&&_24.fakeInput.render.parentNode){this.setValue("");_24.fakeInput.setValue("");}_._F.stopPropagation(e);return;case 27:_24.F2Mode=false;_24.showFakeInput(this);this.setValue(_24.getCellData(_24.getFocusedRowIndex(),_24.getFocusedColumnIndex()));this.select();_._F.stopPropagation(e);return;case 113:_24.F2Mode=true;_._B.setCaretPos(this.render,this.render.value.length);_24.hideFakeInput(this);_._F.stopPropagation(e);return;}var _3c=e.which||e.keyCode;if(_24.nonCharKeys[_3c]){return;}if(_24.fakeInput.render.parentNode){var _3d=this.render.getAttribute("rowindex");var _3e=this.render.parentNode.getAttribute("col_id");var _3f=_24.getColumnIndex(_3e);var _40=_._F.fireEvent(_24,"onbeforeedit",_3d,_3f,_24.getCellData(_3d,_3f));_24.hideFakeInput(this);if(_._G.isChrome()||_._G.isSafari()||_._G.isOpera()){this.setValue("");}}_._F.stopPropagation(e);};_23.activate();if(!this.fakeInput){this.fakeInput=new _._a.ap(this.id+"_fakeInput",{style:"position:absolute;z-index:100;background-color:"+this.options.selectedCellColor,className:"w2grid_embedded_input",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){_24.lastEvent=e;_._F.stopEvent(e);var _42=this;setTimeout(function(){_42.lastInput.focus();},1);}}},{name:"oncontextmenu",action:"script",param:{handler:function(e){_24.lastEvent=e;}}},{name:"ondblclick",action:"script",param:{handler:function(e){_24.lastEvent=e;_24.hideFakeInput(this);_._F.stopPropagation(e);_24.F2Mode=true;_._B.setCaretPos(this.lastInput.render,this.lastInput.render.value.length);}}}]});this.fakeInput.setAction=function(){};this.fakeInput.writeTo(this.render);this.fakeInput.activate();this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);var _45=null;this.showFakeInput=function(_46){var td=_46.render.parentNode;this.render.appendChild(this.fakeInput.render);if(!_45){var td0=this.all_data_td_list[0];_45=1-td0.offsetLeft;}var _49=this.getElementById(this.id+"_dataLayer");this.fakeInput.setPosition(td.offsetLeft+_45-_49.scrollLeft,td.offsetTop+_45-_49.scrollTop);this.fakeInput.setSize(td.clientWidth,td.clientHeight);if(_._G.isIE()){this.fakeInput.setVerticalAlign();}this.fakeInput.lastInput=_46;var _4a=_46.getStyle("text-align");if(_4a){this.fakeInput.setStyle("text-align",_4a);}else{this.fakeInput.setStyle("text-align","");}};this.hideFakeInput=function(_4b){if(this.fakeInput.render.parentNode){this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);}};}}else{if(_1f=="select"&&_20){var _4c=_1d.options.title||"";_23=new _._a.ar(_22,{className:"w2grid_embedded_select",style:"$blank",pluginName:"selectbox",renderType:"native",title:_4c,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){_._F.stopPropagation(e);}}},{name:"onclick",action:"script",param:{handler:function(e){_._F.stopEvent(e);}}},{name:"onkeydown",action:"script",param:{handler:function(e){switch(e.keyCode){case 38:case 40:case 27:_._F.stopPropagation(e);return;}}}},{name:"onfocusin",action:"script",param:{handler:function(e){_24.lastEvent=e;var _51=_24.getLastFocusedCell();if(_51.focusedTd!=this.render.parentNode&&!_24.focusedByApi){_24.setFocusedCell(this.render.getAttribute("rowindex"),this.render.parentNode.getAttribute("col_id"));}_24.focusedByApi=false;}}}]},_1d.xml);_1e.innerHTML=_23.toHTML();var _52=_._a.ar.prototype.handleOnchange;_23.handleOnchange=function(e){_52.call(this,e);_24.setCellData(this.render.getAttribute("rowindex"),this.render.parentNode.getAttribute("col_id"),this.getValue());};_23.activate();}else{if(_1f=="checkbox"&&_20){_1e.innerHTML="<INPUT style='border-width:0px;' type='checkbox' />";var _23=_1e.firstChild;if(_1d.options.title){_23.title=_1d.options.title;}this.event.addListener(_23,"onfocus",this.event.bindAsEventListener(this,function(e){var _55=_._F.getTarget(e);this.lastEvent=e;var _56=this.getLastFocusedCell();if(_56.focusedTd!=_55.parentNode&&!this.focusedByApi){this.setFocusedCell(_55.getAttribute("rowindex"),_55.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_1f=="radio"&&_20){var _57=_1d.mainGridId+"_radio_"+_1d.id;_1e.innerHTML="<INPUT style='border-width:0px;' type='radio' name='"+_57+"' />";var _23=_1e.firstChild;if(_1d.options.title){_23.title=_1d.options.title;}this.event.addListener(_23,"onfocus",this.event.bindAsEventListener(this,function(e){var _59=_._F.getTarget(e);this.lastEvent=e;var _5a=this.getLastFocusedCell();if(_5a.focusedTd!=_59.parentNode&&!this.focusedByApi){this.setFocusedCell(_59.getAttribute("rowindex"),_59.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_1f=="text"||_1f=="textImage"||_1f=="drilldown"||_1f=="secret"){var _25="text";if(_1f=="secret"){_25="password";}var _5b="";if(_21){_5b="bigDecimal";}_23=new _._a.ap(_22,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;z-index:10;",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:_1d.options.applyFormat=="all"?"":"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",type:_25,dataType:_5b,useKeyupBlur:false},_1d.element);_23.writeTo(this);_23.activate();_23.setVerticalAlign=function(){};if(this.options.moveKeyEditMode){var _24=this;var _5c={37:"left",38:"up",39:"right",40:"down"};_23._handleKeydownEvent=_23.handleKeydownEvent;_23.handleKeydownEvent=function(e){this._handleKeydownEvent(e);var _5e=_5c[e.keyCode];if(_5e){switch(_5e){case "left":case "right":if(this.getValue().length==0){_24.moveHorizontal(false,_5e,true);_._F.stopEvent(e);}break;case "up":case "down":_24.moveVertical(false,_5e,true);_._F.stopEvent(e);break;}}};}}else{if(_1f=="textarea"){_23=new _._a.at(_22,{style:"position:absolute;display:none;width:150px;height:60px;z-index:1000;resize:none;",className:"$blank",readOnly:"$blank",disabled:"$blank",maxlength:_1d.options.maxLength||-1},_1d.element);_23.writeTo(this);_23.activate();}else{if(_1f=="calendar"){var _5f=_1d.options.ioFormat;var _23=new _._a.aA(_22,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;",delimiter:"$blank",calendarValueType:_1d.options.calendarValueType,calendarClass:_1d.options.calendarClass||"class1",ioFormat:_5f,ioFormatter:"$blank",displayFormat:_5f,displayFormatter:"$blank",footerDiv:_1d.options.footerDiv,readOnly:"$blank",disabled:"$blank",validCheck:false},_1d.element);_23.writeTo(this);if(_5f!=_23.options.ioFormat){_1d.options.ioFormat=_23.options.ioFormat;_1d.initFormatter();}_23.activate();_23.setVerticalAlign=function(){};_23.handleKeyupEvent=function(){};_23.setStyle("z-index","10");}}}}}}}this.dom[_22]=_23;}return _23;};_._a._h=function(_60,_61){this.options={id:"",col_id:"",colIndex:"",colSpan:0,rowSpan:0,defaultValue:"",value:"",inputType:"text",useFilter:false,blockSelect:false,dataType:"text",valueType:"binary",viewType:"",trueValue:null,falseValue:null,editType:"",applyFormat:"display",displayFormat:"",displayFormatter:"",chooseOptionLabel:"-\uc120\ud0dd-",chooseOption:false,allOption:false,depthColumn:"",showDepth:0,importExp:"",importFormatter:"",expression:"",colMerge:false,upperColumn:"",readOnly:"",imageWidth:"",imageHeight:"",imageClickFunction:"",imageSrc:"",alt:"",calendarValueType:"yearMonthDate",disabled:"",textAlign:"",exportFormatter:"",imeMode:"",selectSetter:"",ignoreStatus:false,dateValidCheck:"true",embeddedInput:false,groupName:"",escape:"",setRecursive:false,showReadOnly:false,customFormatter:"",depthType:"nbsp",moveFocusByChoice:"",directItemChoice:"",footerDiv:false};this.mainGrid=_61;this.mainGridId="G_"+this.mainGrid.id+"__";if(_60){this.setOptions(_60);}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.id=this.options.col_id;this.options.id=this.options.col_id;this.setController();this.initFormatter(_60);this.initializeCellInfo(_60);this.expressionStr=null;this.style="";this.heightGap=0;var _62=_._h.browserVersion();if(_._h.browserCheck.ie&&_62!="8"){this.heightGap=2;}if(this.options.importExp!=""){this.options.importExp=this.options.importExp.replace(/[cC][oO][lL][\s]*[(]/g,"this.columnValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[xX][pP][aA][tT][hH][\s]*[(]/g,"this.xpathValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.rowIndexValue(obfuscator_i");}if(this.options.colSpan==0){this.options.colSpan=1;}if(this.options.rowSpan==0){this.options.rowSpan=1;}var _63=this.mainGrid.getColumnIndex(this.id);this.mainGrid.ignoreStatusColArr[_63]=this.options.ignoreStatus;if(this.options.inputType=="radio"&&this.options.groupName){this.mainGrid.radioGroupRepChk[this.options.groupName]=true;}};_._a._h.prototype.setOptions=function(_64){var _65=_64.getAttribute("inputType")||"text";this.configOptions=_.configManager.getConfig("grid/column[@inputType='"+_65+"']");this.options=_.extendKeepingType(this.options,this.configOptions);var _66=[];for(var _67 in this.options){_66[_67.toLowerCase()]=_67;}var _68=_64.attributes;var _69=_._t.parse("<w2:td xmlns:w2=\"http://www.inswave.com/websquare\"></w2:td>",true);this.xml=_69.documentElement;for(var i=0;i<_68.length;i++){var _6b=_68[i];var _6c=_6b.name;var _6d=_6b.value;if(_6c=="xmlns:w2"){continue;}this.xml.setAttribute(_6c,_6d);if(_6c=="class"){this.options["className"]=_6d;}else{if((_6d).wq_trim()!=""){if(_66[_6c]){_6c=_66[_6c];}if(typeof this.options[_6c]=="boolean"){_6d=_._G.getBoolean(_6d);}else{if(typeof this.options[_6c]=="Number"){_6d=_._G.getNumber(_6d);}}this.options[_6c]=_6d;}}}if(this.options.applyFormat=="display"){this.xml.setAttribute("displayFormat","");this.xml.setAttribute("displayFormatter","");}if(this.options.dataType=="date"&&!this.options.displayFormat){this.options.displayFormat=_._h.getConfiguration("/WebSquare/grid/dataType/date/@displayFormat");}if(this.mainGrid.options.senseReader){switch(this.options.inputType||"text"){case "secret":case "text":if(this.mainGrid.options.focusMode=="none"&&this.xml.getAttribute("readOnly")!="false"){this.options.readOnly=true;}case "select":case "checkbox":case "radio":this.options.embeddedInput=true;}}if(this.options.inputType=="textarea"){this.options.showReadOnly=true;}this.xml.setAttribute("maxlength",this.options["maxLength"]||"");this.xml.setAttribute("readOnly","false");this.xml.setAttribute("disabled","false");this.element=_64;if(this.options.inputType=="expression"){var str=this.options.expression;if(str!=""){str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");if(str.match("rowStatus")){this.mainGrid.rowStatusColIDArr.push(this.options.col_id);}}}};_._a._h.prototype.setController=function(){switch(this.options.inputType){case "text":_.extend(this,_._a._h.text.prototype);break;case "link":_.extend(this,_._a._h.link.prototype);break;case "checkbox":_.extend(this,_._a._h.checkbox.prototype);break;case "button":_.extend(this,_._a._h.button.prototype);break;case "image":_.extend(this,_._a._h.image.prototype);break;case "radio":_.extend(this,_._a._h.radio.prototype);break;case "select":_.extend(this,_._a._h.select.prototype);break;case "calendar":_.extend(this,_._a._h.calendar.prototype);break;case "textarea":_.extend(this,_._a._h.textarea.prototype);break;case "expression":_.extend(this,_._a._h.expression.prototype);break;case "drilldown":_.extend(this,_._a._h.text.prototype);_.extend(this,_._a._h.drilldown.prototype);break;case "textImage":_.extend(this,_._a._h.textImage.prototype);break;case "checkcombobox":_.extend(this,_._a._h.checkcombobox.prototype);break;case "autoComplete":_.extend(this,_._a._h.autoComplete.prototype);break;default:_.extend(this,_._a._h.text.prototype);break;}};_._a._h.prototype.setInnerHTML=function(td,_70,_71,_72){td.innerHTML="<nobr>"+this.getDisplayData(_70)+"</nobr>";};_._a._h.prototype.setEditMode=function(td,_74){this.mainGrid.editedCell=null;this.mainGrid.editMode=false;};_._a._h.prototype.initFormatter=function(_75){this.formatter=_._g.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.emptyFormatter=_._g.createFormatter(this.options.dataType,"",null);};_._a._h.prototype.getDisplayData=function(_76){if(this.formatter){_76=this.formatter.format(_76);}if(this.options.inputType=="secret"){_76=_76.replace(/./gi,"\u25cf");}return _76;};_._a._h.prototype.initializeCellInfo=function(){};_._a._h.prototype.handleEndEdit=function(e,_78,_79){try{e=e||{};if(this.options.embeddedInput){return true;}this.mainGrid.rollbackCommitFlag=false;var _7a=this.mainGrid.editedCell;if(_7a._getEditedValue){var _7b=this.mainGrid.getColumnIndex(this.mainGrid.editedCell.id);var _7c=this.editRowIndex;var _7d=_7a._getEditedValue();var ret=_._F.fireEvent(this.mainGrid,"oneditend",_7c,_7b,_7d,e);if(ret+""=="false"){this.mainGrid.getInput(this).focus();_._F.stopEvent(e);return false;}}if(!_7a.validate()){_._F.stopEvent(e);return false;}var _7f=this.mainGrid.getCellData(this.editRowIndex,_7a.options.id);this.mainGrid.editedCell=null;this.mainGrid.editMode=false;if(_79){var _80=null;if(this.editTd!=null){_80=this._handleEndEdit(e,_78,true);}_._h.setTimer(function(_81,_82){if(this.editTd!=null){this._handleEndEdit_focus(_82);}this._afterEndEdit(_81);_81=null;_82=null;},{key:this.id+"_handleClickEventDocument",caller:this,args:[_7a,_80]});_80=null;_7a=null;}else{if(this.editTd!=null){this._handleEndEdit(e,_78);}var ret=this._afterEndEdit(_7a);_7a=null;return ret;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.prototype._afterEndEdit=function(_83){var _84=this.mainGrid.getCellData(this.editRowIndex,_83.options.id);var _85=this.editRowIndex;var _86=_83.options.id;var _87=_85;var _88=this.mainGrid.getColumnIndex(_86);if(this.editTd.getAttribute("colMerged")=="0"){var _89=_85;while(_85<this.mainGrid.getDataLength()){_85=_85+1;var _8a=this.mainGrid.upperGroupingTest(_85,_86);if(_8a){var _8b=this.mainGrid.getCellData(_85,_86);if(_8b==oriValue){this.mainGrid.setCellData(_85,_86,_84);}else{break;}}else{break;}}var _85=_89;while(_85>0){var _8a=this.mainGrid.upperGroupingTest(_85,_86);_85=_85-1;if(_8a){var _8b=this.mainGrid.getCellData(_85,_86);if(_8b==oriValue){this.mainGrid.setCellData(_85,_86,_84);}else{break;}}else{break;}}var _86=this.mainGrid.getColumnIndex(_86);this.mainGrid.applyColumnStyleOptions(_86);}var _8c=this.mainGrid.getCellData(_87,_88);var _8d=_._F.fireEvent(this.mainGrid,"onafteredit",_87,_88,_8c,this.mainGrid.lastEvent);this.mainGrid.lastEvent=null;if(_8d==false){_8d=false;}else{_8d=true;}this.mainGrid.rollbackCommitFlag=true;return _8d;};_._a._h.prototype.handleScrollY=function(e){return this.handleEndEdit(e);};_._a._h.prototype.validate=function(){return true;};_._a._h.prototype._handleEndEdit=function(e,_90,_91){var _92=this._handleEndEdit_common(e);if(!_91){this._handleEndEdit_focus(_92,_90);}else{return _92;}};_._a._h.prototype._handleEndEdit_common=function(e,_94){return null;};_._a._h.prototype._handleEndEdit_focus=function(_95){return null;};_._a._h.prototype.handleCancelEdit=function(e){if(this.options.embeddedInput){return;}this.mainGrid.editedCell=null;this.mainGrid.editMode=false;this._handleCancelEdit(e);};_._a._h.prototype._handleCancelEdit=function(e){};_._a._h.prototype.removeCellData=function(_98,_99){};_._a._h.prototype.doDefaultAction=function(e){};_._a._h.prototype.setMergedCol=function(_9b,_9c,_9d,_9e){var _9f=_9b;var _a0=new Array();_a0[_9b]=true;while(_9b<this.mainGrid.getDataLength()){_9b=_9b+1;var _a1=this.mainGrid.upperGroupingTest(_9b,_9c);if(_a1){var _a2=this.mainGrid.getCellData(_9b,_9c);if(_a2==_9d){this.mainGrid.setCellData(_9b,_9c,_9e);_a0[_9b]=true;}else{break;}}else{break;}}var _9b=_9f;while(_9b>0){var _a1=this.mainGrid.upperGroupingTest(_9b,_9c);_9b=_9b-1;if(_a1){var _a2=this.mainGrid.getCellData(_9b,_9c);if(_a2==_9d){this.mainGrid.setCellData(_9b,_9c,_9e);_a0[_9b]=true;}else{break;}}else{break;}}var _9c=this.mainGrid.getColumnIndex(_9c);this.mainGrid.applyColumnStyleOptions(_9c);return _a0;};_._a._h.prototype.getEscape=function(){return (this.options.escape!="")?this.options.escape:this.mainGrid.options.escape;};_._a._h.text=function(){};_._a._h.text.prototype.setInnerHTML=function(td,_a4,_a5,_a6){if(this.options.embeddedInput&&!this.mainGrid.getEditDisabled(_a5,_a6)&&!this.mainGrid._getEditReadOnly(_a5,_a6)){var _a7=this.mainGrid.getInput(this,td);if(_a7.render.parentNode==null){td.innerHTML="";}if(this.mainGrid.options.autoResizeEmbeddedInput){var _a8=0;var _a9=0;var _aa=false;if(td.parentNode.style.display=="none"){td.parentNode.style.display="";_aa=true;}if(_a7.render.parentNode==null){td.innerHTML="";td.appendChild(_a7.render);}if(!this.mainGrid.embeddedStyleObj){this.mainGrid.embeddedStyleObj={top:parseInt(_._v.getStyle(td,"padding-top"),10),bottom:parseInt(_._v.getStyle(td,"padding-bottom"),10),left:parseInt(_._v.getStyle(td,"padding-left"),10),right:parseInt(_._v.getStyle(td,"padding-right"),10),inputTop:parseInt(_._v.getStyle(_a7.render,"padding-top"),10),inputBottom:parseInt(_._v.getStyle(_a7.render,"padding-bottom"),10),inputLeft:parseInt(_._v.getStyle(_a7.render,"padding-left"),10),inputRight:parseInt(_._v.getStyle(_a7.render,"padding-right"),10),inputBorderTop:parseInt(_._v.getStyle(_a7.render,"border-top-width"),10),inputBorderBottom:parseInt(_._v.getStyle(_a7.render,"border-bottom-width"),10),inputBorderLeft:parseInt(_._v.getStyle(_a7.render,"border-left-width"),10),inputBorderRight:parseInt(_._v.getStyle(_a7.render,"border-right-width"),10)};}_a8=td.clientHeight;_a8-=(this.mainGrid.embeddedStyleObj["top"]+this.mainGrid.embeddedStyleObj["bottom"]);_a8-=(this.mainGrid.embeddedStyleObj["inputBorderTop"]+this.mainGrid.embeddedStyleObj["inputBorderBottom"]);_a9=td.clientWidth;_a9-=(this.mainGrid.embeddedStyleObj["left"]+this.mainGrid.embeddedStyleObj["right"]);if(_aa){td.parentNode.style.display="none";}else{if(_._G.isIE("6 7")){_a8-=2;}}if(_._G.isOpera()){_a8+=2;}_a9-=(this.mainGrid.embeddedStyleObj["inputBorderLeft"]+this.mainGrid.embeddedStyleObj["inputBorderRight"]);_a9-=(this.mainGrid.embeddedStyleObj["inputLeft"]+this.mainGrid.embeddedStyleObj["inputRight"]);_a7.setSize(_a9-2,_a8-(this.mainGrid.embeddedStyleObj["inputTop"]+this.mainGrid.embeddedStyleObj["inputBottom"]));_a7.setStyle("lineHeight",_a8+"px");}else{if(_a7.render.parentNode==null){td.innerHTML="";td.appendChild(_a7.render);}}_a7.blur();_a7.render.setAttribute("rowindex",_a5);if(this.options.applyFormat!="all"){_a4=this.getDisplayData(_a4);}_a7.setValue(_a4);if(this.options.textAlign){_a7.setStyle("text-align",this.options.textAlign);}else{_a7.setStyle("text-align","");}td.removeAttribute("tabIndex");}else{var _ab=_._G.getGlobalFunction(this.options.customFormatter);var _ac=(this.getEscape()==="true"?this.getDisplayData(_._t._encode(_a4+"")):this.getDisplayData(_a4));var _ad;if(typeof _ab=="function"){this.useCustomFormatter=true;_ad=_ab.call(this.mainGrid,_a4,_ac,_a5,_a6);}else{this.useCustomFormatter=false;_ad=_ac;}if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_ad;}else{var _ae="";if(this.options.inputType=="secret"&&_._G.isIEAllVersion()){_ae+=" class='w2grid_secret'";}td.innerHTML="<nobr"+_ae+">"+_ad+"</nobr>";}}};_._a._h.text.prototype.setEditMode=function(td,_b0){try{if(this.options.embeddedInput){return;}this.editRowIndex=(this.mainGrid.isDrillDown)?this.mainGrid.getRealRowIndex(_b0):_b0;this.editTd=td;this.setPosition();var _b1=this.mainGrid.getInput(this);_b1.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_b1.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_b1.render.setAttribute("maxLength",this.options.maxLength);}else{_b1.render.removeAttribute("maxLength");}_b1.setValue(this.mainGrid.getCellData(_b0,this.id));if(document.activeElement!=_b1.render){_b1.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_b1.options.editType=="select"){_b1.select();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.text.prototype.setPosition=function(){var _b2={top:0,left:0,width:0,height:0};if(_._G.isFF()){_b2={top:-1,left:-1,width:0,height:0};}else{if(_._G.isOpera()){_b2={top:0,left:0,width:0,height:1};}else{if(_._G.isIE(9)){_b2={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _b4=td.offsetTop+1+_b2.top;var _b5=td.offsetLeft+1+_b2.left;var _b6=td.clientWidth-6+_b2.width;var _b7=td.clientHeight-2+_b2.height;var _b8=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_b8.render.style.imeMode=this.options.imeMode;}else{_b8.render.style.imeMode=this.options.dataType=="number"?"disabled":"";}_b8.show();if(this.mainGrid.options.groupbyZone){var _b9=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_b4=_b4+_b9;}_b8.render.style.top=_b4+"px";_b8.render.style.left=_b5+"px";_b8.render.style.width=_b6+"px";_b8.render.style.height=_b7+"px";if(_._G.isIE()){_b8.render.style.lineHeight=_b7+"px";}_b8.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};_._a._h.text.prototype.removeCellData=function(_ba,_bb){this.mainGrid.setCellData(_ba,_bb,"");};_._a._h.text.prototype._handleEndEdit_common=function(e){try{var _bd=this.mainGrid.getInput(this);this.setEditData(_bd);return _bd;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.text.prototype._handleEndEdit_focus=function(_be,_bf){if(this.mainGrid.isMobile||!_bf){_be.hide();}};_._a._h.text.prototype._getEditedValue=function(e){if(this.options.dataType=="bigDecimal"){var _c1=_._w(this.mainGrid.getInput(this).getValue());return _c1.toString();}var _c1=this.mainGrid.getInput(this).getValue();return _c1;};_._a._h.text.prototype._handleCancelEdit=function(e){try{var _c3=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_c3,this.editRowIndex,this.id);var _c4=this.mainGrid.getInput(this);_c4.hide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.text.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.text.prototype.setEditData=function(_c6){try{var _c7=_c6.getValue();_c7=_c6.validator.validateString(_c7);_c6.setValueNM(_c7,true);this.setInnerHTML(this.editTd,_c7,this.editRowIndex,this.id);if(this.mainGrid.options.numberCasting&&this.options.dataType=="number"){if(_c7!=""){_c7=Number(_c7);}}this.mainGrid.setCellData(this.editRowIndex,this.id,_c7);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.link=function(){};_._a._h.link.prototype.setInnerHTML=function(td,_c9){var _ca=this.mainGrid.options.focusMode=="none"?0:-1;td.innerHTML="<nobr><a href='' onclick='event.returnValue=false; return false;' tabIndex='"+_ca+"'>"+this.getDisplayData(_c9)+"</a></nobr>";};_._a._h.link.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=_._F.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _cd=this.mainGrid.getElemRowIndex(td);var _ce=this.mainGrid.rowIndex+_cd;var _cf=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _d0=this.mainGrid.getLastFocusedCell();var _ce=_d0.focusedRowIndex;var _cf=_d0.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_ce,_cf)&&!this.mainGrid._getEditReadOnly(_ce,_cf)){_._F.fireEvent(this.mainGrid,"oncellclick",_ce,_cf);}};_._a._h.checkbox=function(){};_._a._h.checkbox.prototype.initializeCellInfo=function(_d1){switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":if(this.options.trueValue=="$blank"){this.options.trueValue="";}if(this.options.falseValue=="$blank"){this.options.falseValue="";}this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}};_._a._h.checkbox.prototype.setBooleanValue=function(_d2,_d3){this.options.trueValue=_d2+"";this.options.falseValue=_d3+"";};_._a._h.checkbox.prototype.setInnerHTML=function(td,_d5,_d6){var _d7=_d5+""==this.options.trueValue;var _d8=this.mainGrid.getEditReadOnly(td,_d6)||this.mainGrid.getEditDisabled(_d6,td.getAttribute("col_id"));if(this.options.embeddedInput){var _d9=this.mainGrid.getInput(this,td);_d9.setAttribute("rowindex",_d6);_d9.checked=_d7;_d9.disabled=_d8;}else{var _da=this.options.title?" title='"+this.options.title+"'":"";var _db=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _dc=_d7?" checked":"";var _dd=_d8?" disabled='true'":"";var _de="";if(this.options.removeBorderStyle!="true"){_de="style='border-width:0px;'";}td.innerHTML="<INPUT "+_de+" type='checkbox' "+_da+_db+_dc+_dd+" />";}};_._a._h.checkbox.prototype.getDisplayData=function(_df){return _df;};_._a._h.checkbox.prototype.handleClick=function(td,_e1){var _e2=this.mainGrid.getEditReadOnly(td,_e1)||this.mainGrid.getEditDisabled(_e1,td.getAttribute("col_id"));if(_e2){return true;}if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){_e1=this.mainGrid.filteredRowIndexArr[_e1];}if(td.firstChild){var _e3=this.options.id;var _e4=td.firstChild.checked;var _e5=this.options.falseValue;if(_e4){_e5=this.options.trueValue;}var _e6=this.mainGrid.getCellData(_e1,_e3);this.mainGrid.setCellData(_e1,this.id,_e5);if(td.getAttribute("colMerged")=="0"){this.setMergedCol(_e1,_e3,_e6,_e5);}}return true;};_._a._h.checkbox.prototype.doDefaultAction=function(e){if(this.options.embeddedInput){return;}if(this.mainGrid.options.focusMode=="none"){var td=_._F.getTarget(e);td.focus();while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _e9=this.mainGrid.getElemRowIndex(td);var _ea=this.mainGrid.rowIndex+_e9;var _eb=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));var _ec=true;}else{return;}}else{var _ed=this.mainGrid.getLastFocusedCell();var _ea=_ed.focusedRowIndex;var _eb=_ed.focusedColIndex;var _ec=false;}if(!this.mainGrid.getEditDisabled(_ea,_eb)&&!this.mainGrid._getEditReadOnly(_ea,_eb)){var _ee=this.mainGrid.getCellData(_ea,_eb);this.mainGrid._setCellData(_ea,_eb,_ee==this.options.trueValue?this.options.falseValue:this.options.trueValue,_ec);}};_._a._h.button=function(){};_._a._h.button.prototype.setInnerHTML=function(td,_f0,_f1){var _f2=this.mainGrid.getEditDisabled(_f1,td.getAttribute("col_id"));var _f3="";if(_f2){_f3=" disabled='true' ";}var _f4=this.mainGrid.options.focusMode=="none"?0:-1;td.innerHTML="<button type='button' style='width:100%;height:100%' "+_f3+" tabIndex='"+_f4+"'>"+this.getDisplayData(_f0)+"</button>";};_._a._h.button.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=_._F.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _f7=this.mainGrid.getElemRowIndex(td);var _f8=this.mainGrid.rowIndex+_f7;var _f9=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _fa=this.mainGrid.getLastFocusedCell();var _f8=_fa.focusedRowIndex;var _f9=_fa.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_f8,_f9)&&!this.mainGrid._getEditReadOnly(_f8,_f9)){_._F.fireEvent(this.mainGrid,"oncellclick",_f8,_f9);}};_._a._h.image=function(){};_._a._h.image.prototype.setInnerHTML=function(td,_fc,_fd,_fe){var _ff="";if(this.options.imageWidth!=""){_ff+=";width:"+parseInt(this.options.imageWidth)+"px";}if(this.options.imageHeight!=""){_ff+=";height:"+parseInt(this.options.imageHeight)+"px";}var _100="";if(this.options.alt!=""){_100="alt='"+this.options.alt+"' ";}var _101=this.mainGrid.getEditDisabled(_fd,td.getAttribute("col_id"));var _102="";if(_101){_102=" disabled='true' ";}if(_fc==null||_fc==""){_fc=this.options.imageSrc?_._h.getImageURL(this.options.imageSrc):"";}else{if(typeof _fc=="string"){_fc=_._h.getImageURL(_fc);}}var _103="";if(this.options.imageClickFunction!=""&&this.options.imageClickFunction!=null){var _104=this.options.useImageClick||"false";var _105=this.mainGrid.getDisabled("all",_fd,_fe);if((_104=="true")||(_104=="false"&&_105==false)){_103=" onclick='WebSquare.event.stopPropagation(event);"+this.mainGrid.id+".fireImageClick("+_fd+",\""+this.id+"\")' ";}}var _106=this.options.imageTabIndex?" tabIndex='"+this.options.imageTabIndex+"'":"";td.innerHTML="<IMG src='"+_fc+"' class='w2grid_image"+(_101?" w2grid_image_disabled":"")+"' style='"+_ff+"' "+_100+_102+_103+_106+" />";};_._a._h.image.prototype.getDisplayData=function(data){return data;};_._a._h.radio=function(){};_._a._h.radio.prototype.initializeCellInfo=function(_108){switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}if(this.options.groupRef){this.options.groupValue=_._C.getInstanceValue(this.options.groupRef);}};_._a._h.radio.prototype.setBooleanValue=function(_109,_10a){this.options.trueValue=_109+"";this.options.falseValue=_10a+"";};_._a._h.radio.prototype.setInnerHTML=function(td,data,_10d){var name=this.mainGridId+"_radio_"+(this.options.groupName?this.options.groupName+"_"+_10d:this.id);var _10f=data+""==this.options.trueValue;var _110=this.mainGrid.getEditReadOnly(td,_10d)||this.mainGrid.getEditDisabled(_10d,td.getAttribute("col_id"));if(this.options.embeddedInput){var _111=this.mainGrid.getInput(this,td);_111.setAttribute("rowindex",_10d);_111.checked=false;_111.name=name;_111.checked=_10f;_111.disabled=_110;}else{var _112=this.options.title?" title='"+this.options.title+"'":"";var _113=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _114=_10f?" checked":"";var _115=_110?" disabled='true'":"";var _116="";if(this.options.removeBorderStyle!="true"){_116="style='border-width:0px;'";}td.innerHTML="<INPUT "+_116+" type='radio' name='"+name+"'"+_112+_113+_114+_115+" />";}};_._a._h.radio.prototype.getDisplayData=function(data){return data;};_._a._h.radio.prototype.handleClick=function(td,_119){if(!td.firstChild){return true;}if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){_119=this.mainGrid.filteredRowIndexArr[_119];}var _11a=this.mainGrid.getCellData(_119,this.id);var _11b=_11a;if(_11a==this.options.trueValue){return true;}if(td.firstChild.checked){_11b=this.options.trueValue;this.resetOthers(_119);if(this.options.groupName){if(this.mainGrid.radioGroupRepChk[this.options.groupName]){this.mainGrid.setCellData(_119,this.options.groupName,this.options.groupValue);}}}this.mainGrid.setCellData(_119,this.id,_11b);if(td.getAttribute("colMerged")=="0"){var _11c=this.setMergedCol(_119,this.id,_11a,_11b);}return true;};_._a._h.radio.prototype.resetOthers=function(_11d){if(this.options.groupName){var _11e=this.mainGrid.getColumnCount();for(var _11f=0;_11f<_11e;_11f++){var _120=this.mainGrid.getCellInfo(_11f);if(_120!=this&&_120.options.inputType=="radio"&&_120.options.groupName==this.options.groupName){this.mainGrid.setCellData(_11d,_11f,_120.options.falseValue);}}}else{if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){for(var i=0;i<this.mainGrid.getTotalRow();i++){if(this.mainGrid.getCellData(i,this.id,"3")+""==this.options.trueValue){this.mainGrid.setCellData(i,this.id,this.options.falseValue);}}}else{for(var i=0;i<this.mainGrid.getDataLength();i++){if(this.mainGrid.getCellData(i,this.id)+""==this.options.trueValue){this.mainGrid.setCellData(i,this.id,this.options.falseValue);}}}}};_._a._h.radio.prototype.doDefaultAction=function(e){var td=_._F.getTarget(e);if(this.mainGrid.options.focusMode=="none"){while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _124=this.mainGrid.getElemRowIndex(td);var _125=this.mainGrid.rowIndex+_124;var _126=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _127=this.mainGrid.getLastFocusedCell();var _125=_127.focusedRowIndex;var _126=_127.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_125,_126)&&!this.mainGrid._getEditReadOnly(_125,_126)){var _128=this.mainGrid.getCellData(_125,_126);td.firstChild.checked=(_128==this.options.trueValue?this.options.falseValue:this.options.trueValue);this.handleClick(td,_125);}};_._a._h.select=function(){};_._a._h.select.prototype.setInnerHTML=function(td,data,_12b,_12c){if(this.options.embeddedInput){var _12d=this.mainGrid.getInput(this,td);_12d.render.setAttribute("rowindex",_12b);if(this.options.selectSetter!=""){this.initSelectSetter();_12d.itemArr=this.itemArr;_12d.setSelectOptions();}if(this.hasRef){var _12e=this.mainGrid.getElemRowIndex(td);_12d.itemArr=this.getRefItemArr(_12e);_12d.setSelectOptions();}_12d.setValue(data);if(!_12d.setValueNM(data)){this.mainGrid.setCellData(_12d.render.getAttribute("rowindex"),_12d.render.parentNode.getAttribute("col_id"),_12d.getValue());}if(this.mainGrid.getEditReadOnly(td,_12b)||this.mainGrid.getEditDisabled(_12b,_12c)){_12d.dom.select.disabled=true;}else{_12d.dom.select.disabled=false;}td.removeAttribute("tabIndex");}else{this.initSelectSetter();var _12e=_12b;if(data==null){data="";}var _12f=_._G.getGlobalFunction(this.options.customFormatter);var _130;if(typeof _12f=="function"){this.useCustomFormatter=true;var _131=this.getDisplayData(data,_12e);_130=_12f.call(this.mainGrid,data,_131,_12b,_12c);}else{this.useCustomFormatter=false;_130=this.getData(data,_12e);}if(_._G.isSafari()&&navigator.userAgent.indexOf("Windows")!=-1){td.innerHTML="";var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:100%;";noBR.textContent=_130;td.appendChild(noBR);}else{if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_130;}else{td.innerHTML="<nobr>"+_130+"</nobr>";}}if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_130;}else{td.innerHTML="<nobr>"+_130+"</nobr>";}var _133=this.mainGrid.filteredRowIndexArr[_12b];var _134=this.mainGrid.getCellOption(_133,_12c,"viewType");if(_134=="icon"||(_134==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="ondblclick"){td.setAttribute("editModeEvent","ondblclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","");}}}}};_._a._h.select.prototype.initializeCellInfo=function(_135){if(this.options.selectSetter!=""){this.selectSetted=false;this.resetMatchInfo=true;}else{var _136=_._t.serialize(_135);var _137=_136.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_136=_136.wq_replaceAll("<w2:column","<w2:select"+_137);_136=_136.wq_replaceAll("</w2:column","</w2:select");var elem=_._t.parse(_136,true);this.xml=elem.documentElement;_.extend(this,_.itemsetControl.prototype);this.hasRef=false;this.itemsetObj=_.WebSquareparser.parseItemset(this.xml);this.resetMatchInfo=true;var _139=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_139.indexOf("ref(")>=0){this.hasRef=true;var _13a=this.itemsetObj.nodeset;this.refStr="\""+this.refReplace(_13a)+"\"";var _13b=_13a.match(/ref\('([^']*)'\)/g);for(var i=0;i<_13b.length;i++){var _13d=_13b[i].slice(5,-2);var _13e=this.mainGrid.getCellInfo(_13d);if(!_13e.refArr){_13e.refArr=[];}_13e.refArr.push(this.id);}this.refHash=[];this.refItemArr=[];if(this.options.embeddedInput){var _13f=_._t.getElementsByTagName(this.xml,"w2:itemset");_13f[0].setAttribute("nodeset","");}}else{this.matchInfo=this.setMatchInfo();}}if(!this.refArr){this.refArr=[];}};_._a._h.select.prototype.refReplace=function(_140){var _141=_140.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_141!=_140){return this.refReplace(_141);}return _141;};_._a._h.select.prototype.refXmlReplace=function(_142){var _143=_142.replace(/ref\('([^']*)'\)/,"'+this.getRefValue('$1')+'");if(_143!=_142){return this.refXmlReplace(_143);}return _143;};_._a._h.select.prototype.setMatchInfo=function(){this.modelControl=new _.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}var _144={};if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _145=this.options.chooseOptionLabel;if(_145=="$blank"){_145="";}this.itemArr=[{label:_145,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _147=this.itemArr[i];_144["SELECT_"+_147.value]=_147.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _144;};_._a._h.select.prototype.getItemText=function(idx){try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.select.prototype.getMatchInfo=function(_14a){var _14b=[];if(this.options.selectSetter!=""){_14b=this.matchInfo;}else{if(this.hasRef){_14b=this.getRefMatchInfo(_14a);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_14b=this.matchInfo;}}}return _14b;};_._a._h.select.prototype.getRefMatchInfo=function(_14c){this.targetRowIndex=_14c;var _14d=eval(this.refStr);if(this.refHash[_14d]!=null&&!this.resetMatchInfo){return this.refHash[_14d];}else{this.itemsetObj.nodeset=_14d;var _14e=_._t.getElementsByTagName(this.xml,"w2:itemset");_14e[0].setAttribute("nodeset",_14d);var _14f=this.setMatchInfo();this.refHash[_14d]=_14f;return _14f;}return [];};_._a._h.select.prototype.getRefItemArr=function(_150){this.getRefMatchInfo(_150);var _151=eval(this.refStr);return this.refItemArr[_151];};_._a._h.select.prototype.getRefValue=function(_152){var _153="\""+this.mainGrid.getCellData(this.targetRowIndex,_152)+"\"";return _153;};_._a._h.select.prototype.getData=function(data,_155){try{var _156=this.getMatchInfo(_155);var ret=_156["SELECT_"+data];if(typeof ret=="undefined"){return "";}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}return data;};_._a._h.select.prototype.getDisplayData=function(data,_159){var ret=this.getData(data,_159);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};_._a._h.select.prototype.initSelectSetter=function(){if(this.selectSetted==false&&this.options.selectSetter!=""){this.selectSetted=true;var _15b=[];try{this.options.selectSetter=this.options.selectSetter.wq_trim();if(this.options.selectSetter.indexOf("(")<0){this.options.selectSetter+="()";}_15b=eval(this.options.selectSetter);}catch(e){_.exception.printStackTrace(e);}this.itemArr=_15b;this.matchInfo=[];for(var i=0;i<_15b.length;i++){var _15d=_15b[i];if(_15d.value==null){_15d.value="";}this.matchInfo["SELECT_"+_15d.value]=_15d.label;}}};_._a._h.select.prototype.setEditMode=function(td,_15f){if(this.options.embeddedInput){return;}if(this.style==""){this.createSelectbox(td,_15f);}else{td.innerHTML="";td.appendChild(this.select.render);}if(this.mainGrid.directItemChoiceKeyObj.select){this.editTd=td;this.editRowIndex=_15f;this.select.setValue(this.mainGrid.getCellData(_15f,this.id));var _160=this.select.findItemStartedWithKeyChar(this.mainGrid.directItemChoiceKeyObj.select);this.mainGrid.setCellData(_15f,this.id,this.select.getValue());this.mainGrid.directItemChoiceKeyObj.select=null;if(this.options.moveFocusByChoice){if(_160){this.moveFocus(this.editRowIndex,this.id);}}if(_160){return;}else{this.mainGrid.editedCell=this.mainGrid.getCellInfo(td);td.innerHTML="";td.appendChild(this.select.render);}}if(!this.select.itemTable&&!this.mainGrid.directItemChoiceKeyObj.select){this.createItemTable(td,_15f);}if(this.hasRef){var _161=this.mainGrid.getElemRowIndex(td);this.select.itemArr=this.getRefItemArr(_161);this.select.setSelectOptions();}this.editRowIndex=_15f;this.editTd=td;this.select.setValue(this.mainGrid.getCellData(_15f,this.id));if(this.select.getItemCount()==0){this.select.selectedIndex=-1;this.select.dom.label.innerHTML="";}this.select.openSubLayer();var _162=this.select.itemTable.render.firstChild.clientWidth;if(_162<td.clientWidth-2){_162=td.clientWidth-2;}if(_162<this.select.itemTable.render.offsetWidth-2){_162=this.select.itemTable.render.offsetWidth-2;}this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.itemTable.setStyle("width",_162+"px");td.style.textOverflow="ellipsis";};_._a._h.select.prototype._handleEndEdit_common=function(e){try{this.select.closeSubLayer();var _164=this.select.getValue();var _165=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.select.render);}catch(e){return;}this.setInnerHTML(this.editTd,_164,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_164);}catch(e){_.exception.printStackTrace(e,null,this.mainGrid);}};_._a._h.select.prototype._handleEndEdit_focus=function(){if(this.options.moveFocusByChoice){this.moveFocus(this.editRowIndex,this.id);}};_._a._h.select.prototype._getEditedValue=function(e){var _167=this.select.getValue();return _167;};_._a._h.select.prototype._handleCancelEdit=function(e){this.select.closeSubLayer();var _169=this.mainGrid.getCellData(this.editRowIndex,this.id);this.editTd.removeChild(this.select.render);this.setInnerHTML(this.editTd,_169,this.editRowIndex,this.id);};_._a._h.select.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.select.prototype.moveFocus=function(_16b,_16c){if(this.options.moveFocusByChoice){var _16d=this.options.moveFocusByChoice;switch(_16d){case "down":this.mainGrid.setFocusedCell(_16b+1,_16c,false);break;case "right":var _16e=this.mainGrid.getColumnIndex(_16c)+1;this.mainGrid.setFocusedCell(_16b,_16e,false);break;case "none":break;}}};_._a._h.select.prototype.createSelectbox=function(td,_170){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_select_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("direction","auto");this.xml.setAttribute("style",this.style);this.setFirst=true;if(this.hasRef){var _171=_._t.getElementsByTagName(this.xml,"w2:itemset");_171[0].setAttribute("nodeset",eval(this.refStr));}this.setFirst=false;this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel;this.configOptions.labelWidthAuto=false;this.select=new _._a._J(this.mainGridId+"_selectbox_"+this.id,this.configOptions,this.xml);var _172=this;var _173=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));if(this.options.selectSetter!=""){for(var i=0;i<this.itemArr.length;i++){this.select.addItem(this.itemArr[i].value,this.itemArr[i].label);}}this.select.setSelectedIndex1=function(idx){this.setSelectedIndex(idx);this.closeSubLayer();_172.handleEndEdit();};this.select.__openSubLayer=this.select.openSubLayer;this.select.openSubLayer=function(){this.__openSubLayer();var _176=this.itemTable.render.offsetLeft+this.itemTable.render.offsetWidth-_._v.getAbsoluteLeft(_172.mainGrid.render);var _177=parseInt(_172.mainGrid.getElementById(_172.mainGrid.id+"_scrollY_div").style.width);var _178=_172.mainGrid.render.offsetWidth-_177;if(_176>_178){this.itemTable.setPosition(this.itemTable.render.offsetLeft-(_176-_178),null);}};this.select.__closeSubLayer=this.select.closeSubLayer;this.select.closeSubLayer=function(_179){this.__closeSubLayer(_179);_172.mainGrid.setFocusedCell();};this.select._handleClickEvent=this.select.handleClickEvent;this.select.handleClickEvent=function(e){this._handleClickEvent(e);_._F.stopEvent(e);_172.handleEndEdit();};td.innerHTML=this.select.toHTML();this.select.activate();this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.render.style.border="1px solid "+this.mainGrid.options.selectedCellColor;};_._a._h.select.prototype.createItemTable=function(td,_17c){var _17d=this;var _17e=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));this.select.setSubLayer();var _17f=this.select.itemTable;_17f.addClickEventListener(function(_180){_17d.select.setSelectedIndex1(_180);var fc=_17d.mainGrid.getLastFocusedCell();if(_17d.editRowIndex==fc.focusedRowIndex&&_17e==fc.focusedColIndex&&!_17d.options.moveEditModeByChoice){_17d.mainGrid.setFocusedCell();}if(_17d.options.moveEditModeByChoice){var _182=true;var _183=_17d.options.moveEditModeByChoice;switch(_183){case "down":_17d.mainGrid.moveVertical(false,_183,_182);break;case "right":_17d.mainGrid.moveHorizontal(false,_183,_182);break;case "none":break;}}});_17f.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);var fc=_17d.mainGrid.getLastFocusedCell();if(_17d.editRowIndex==fc.focusedRowIndex&&_17e==fc.focusedColIndex){_17d.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_17d.mainGrid.options.keyMoveEditMode);}break;case 13:var fc=_17d.mainGrid.getLastFocusedCell();if(_17d.editRowIndex==fc.focusedRowIndex&&_17e==fc.focusedColIndex&&!_17d.options.moveEditModeByChoice){if(_17d.mainGrid.options.fastEditMode){if(_17d.mainGrid.options.enterKeyMove=="none"){}else{if(_17d.mainGrid.options.enterKeyMove=="right"){_17d.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_17d.mainGrid.options.keyMoveEditMode);}else{_17d.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_17d.mainGrid.options.keyMoveEditMode);}}}else{_17d.mainGrid.setFocusedCell();}}break;case 27:_17d.mainGrid.editedCell.handleCancelEdit(e);_17d.mainGrid.setFocusedCell();break;}});if(_._G.isOpera()){_17f.event.addListener(_17f.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){_._F.preventDefault(e);}});}if(_.WebSquaredoc.itemsetElement.length>0&&_.WebSquaredoc.itemsetElement[_.WebSquaredoc.itemsetElement.length-1].id==this.mainGridId+"_selectbox_"+this.id){_.WebSquaredoc.itemsetElement.pop();}};_._a._h.checkcombobox=function(){};_._a._h.checkcombobox.prototype.initializeCellInfo=function(_187){var _188=_._t.serialize(_187);var _189=_188.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_188=_188.wq_replaceAll("<w2:column","<w2:checkcombobox"+_189);_188=_188.wq_replaceAll("</w2:column","</w2:checkcombobox");var elem=_._t.parse(_188,true);this.xml=elem.documentElement;this.modelControl=new _.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);var _18b=_.WebSquareparser.parseItemset(this.xml);this.modelControl.setItemset(_18b.nodeset,_18b.label,_18b.value);this.itemsetObj=_18b;this.itemArr=[];var _18c=_.WebSquareparser.parseChoices(this.xml,"");if(_18c.length>0){this.itemArr=_18c;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _18d=this.options.chooseOptionLabel;if(_18d=="$blank"){_18d="";}this.itemArr=[{label:_18d,value:""}].concat(this.itemArr);}this.separator=this.options.separator||" ";};_._a._h.checkcombobox.prototype.setInnerHTML=function(td,data,_190,_191){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_190)+"</nobr>";var _192=this.mainGrid.filteredRowIndexArr[_190];var _193=this.mainGrid.getCellOption(_192,_191,"viewType");if(_193=="icon"||(_193==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_checkcombobox");td.setAttribute("editModeEvent","");}}};_._a._h.checkcombobox.prototype.getData=function(data,_195){try{if(typeof data!="string"){data=data+"";}data=data.split(this.separator);var _196=[];for(var i=0;i<this.itemArr.length;i++){for(var j=0;j<data.length;j++){if(this.itemArr[i].value==data[j]){_196.push(this.itemArr[i].label);}}}return _196.join(this.separator);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.checkcombobox.prototype.setEditMode=function(td,_19a){try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_checkcombobox_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("style",this.style);this.configOptions.separator=this.separator;this.checkcombobox=new _._a._U(this.mainGridId+"_checkcombobox_"+this.id,this.configOptions,this.xml);var _19b=this;this.checkcombobox.__closeSubLayer=this.checkcombobox.closeSubLayer;this.checkcombobox.closeSubLayer=function(){this.__closeSubLayer();_19b.handleEndEdit();};td.innerHTML=this.checkcombobox.toHTML();this.checkcombobox.activate();this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setSubLayer();var _19c=this.checkcombobox.itemTable;_19c.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_19b.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_19b.mainGrid.options.keyMoveEditMode);break;case 13:if(_19b.mainGrid.options.fastEditMode){if(_19b.mainGrid.options.enterKeyMove=="none"){}else{if(_19b.mainGrid.options.enterKeyMove=="right"){_19b.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_19b.mainGrid.options.keyMoveEditMode);}else{_19b.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_19b.mainGrid.options.keyMoveEditMode);}}}else{_19b.checkcombobox.closeSubLayer();}break;case 27:_19b.mainGrid.editedCell.handleCancelEdit(e);break;}});}else{td.innerHTML="";td.appendChild(this.checkcombobox.render);}this.checkcombobox.setValue(this.mainGrid.getCellData(_19a,this.id));this.checkcombobox.openSubLayer();this.editRowIndex=_19a;this.editTd=td;var _19e=this.checkcombobox.itemTable.render.firstChild.clientWidth;if(_19e<td.clientWidth-2){_19e=td.clientWidth-2;}if(_19e<this.checkcombobox.itemTable.render.offsetWidth-2){_19e=this.checkcombobox.itemTable.render.offsetWidth-2;}this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.itemTable.setStyle("width",_19e+"px");td.style.textOverflow="ellipsis";}catch(e){_.exception.printStackTrace(e,null,this.mainGrid);}};_._a._h.checkcombobox.prototype._handleEndEdit_common=function(e){try{var _1a0=this.checkcombobox.getValue();var _1a1=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.checkcombobox.render);}catch(e){return;}this.setInnerHTML(this.editTd,_1a0,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_1a0);}catch(e){_.exception.printStackTrace(e,null,this.mainGrid);}};_._a._h.checkcombobox.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};_._a._h.checkcombobox.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.checkcombobox.prototype._handleCancelEdit=function(e){this.checkcombobox.__closeSubLayer();var _1a4=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_1a4,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};_._a._h.checkcombobox.prototype._getEditedValue=function(e){var _1a6=this.checkcombobox.getValue();return _1a6;};_._a._h.checkcombobox.prototype.refreshItemArr=function(e){var _1a8=_.WebSquareparser.parseChoices(this.xml,"");if(_1a8.length>0){this.itemArr=_1a8;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _1a9=this.options.chooseOptionLabel;if(_1a9=="$blank"){_1a9="";}this.itemArr=[{label:_1a9,value:""}].concat(this.itemArr);}};_._a._h.autoComplete=function(){};_._a._h.autoComplete.prototype.setInnerHTML=function(td,data,_1ac,_1ad){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_1ac)+"</nobr>";};_._a._h.autoComplete.prototype.initializeCellInfo=function(_1ae){var _1af=_._t.serialize(_1ae);var _1b0=_1af.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_1af=_1af.wq_replaceAll("<w2:column","<w2:autoComplete"+_1b0);_1af=_1af.wq_replaceAll("</w2:column","</w2:autoComplete");var elem=_._t.parse(_1af,true);this.xml=elem.documentElement;_.extend(this,_.itemsetControl.prototype);this.hasRef=false;this.resetMatchInfo=true;this.itemsetObj=_.WebSquareparser.parseItemset(this.xml);var _1b2=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_1b2.indexOf("ref(")>=0){this.hasRef=true;this.refHash=[];this.refItemArr=[];this.refStr="\""+this.refReplace(this.itemsetObj.nodeset)+"\"";var _1b3=this.itemsetObj.nodeset.match(/ref\('([^']*)'\)/g);for(var i=0;i<_1b3.length;i++){var _1b5=_1b3[i].slice(5,-2);var _1b6=this.mainGrid.getCellInfo(_1b5);if(!_1b6.refArr){_1b6.refArr=[];}_1b6.refArr.push(this.id);}}else{this.matchInfo=this.setMatchInfo();}if(!this.refArr){this.refArr=[];}if(this.options.noResult=="useData"){this.useDataInfo={};}};_._a._h.autoComplete.prototype.getRefValue=function(_1b7){var _1b8="\""+this.mainGrid.getCellData(this.targetRowIndex,_1b7)+"\"";return _1b8;};_._a._h.autoComplete.prototype.refReplace=function(_1b9){var _1ba=_1b9.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_1ba!=_1b9){return this.refReplace(_1ba);}return _1ba;};_._a._h.autoComplete.prototype.getData=function(data,_1bc){try{var _1bd=this.getMatchInfo(_1bc);if(this.options.noResult=="useData"){if(!this.useDataInfo["AUTOCOMPLETE_"+data]){this.useDataInfo["AUTOCOMPLETE_"+data]=data;}if(!_1bd["AUTOCOMPLETE_"+data]){this.matchInfo["AUTOCOMPLETE_"+data]=data;this.itemArr=[{label:data,value:""}].concat(this.itemArr);}}var ret=_1bd["AUTOCOMPLETE_"+data];if(typeof ret=="undefined"){return "";}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}return data;};_._a._h.autoComplete.prototype.getMatchInfo=function(_1bf){var _1c0=[];if(this.hasRef){_1c0=this.getRefMatchInfo(_1bf);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_1c0=this.matchInfo;}}return _1c0;};_._a._h.autoComplete.prototype.getRefMatchInfo=function(_1c1){this.targetRowIndex=_1c1;var _1c2=eval(this.refStr);if(this.refHash[_1c2]!=null&&!this.resetMatchInfo){return this.refHash[_1c2];}else{this.itemsetObj.nodeset=_1c2;var _1c3=_._t.getElementsByTagName(this.xml,"w2:itemset");_1c3[0].setAttribute("nodeset",_1c2);var _1c4=this.setMatchInfo();this.refHash[_1c2]=_1c4;return _1c4;}return [];};_._a._h.autoComplete.prototype.setMatchInfo=function(){this.modelControl=new _.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}var _1c5={};if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _1c6=this.options.chooseOptionLabel;if(_1c6=="$blank"){_1c6="";}this.itemArr=[{label:_1c6,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _1c8=this.itemArr[i];_1c5["AUTOCOMPLETE_"+_1c8.value]=_1c8.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _1c5;};_._a._h.autoComplete.prototype.getItemText=function(idx){try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.autoComplete.prototype.getRefItemArr=function(_1cb){this.getRefMatchInfo(_1cb);var _1cc=eval(this.refStr);return this.refItemArr[_1cc];};_._a._h.autoComplete.prototype.getDisplayData=function(data,_1ce){var ret=this.getData(data,_1ce);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};_._a._h.autoComplete.prototype.setEditMode=function(td,_1d1){try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_autoComplete_"+this.id);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.interactionMode?this.configOptions.interactionMode=this.options.interactionMode:"";this.options.submission?this.configOptions.submission=this.options.submission:"";this.options.sortOption?this.configOptions.sortOption=this.options.sortOption:"";this.options.displayMode?this.configOptions.displayMode=this.options.displayMode:"";this.options.search?this.configOptions.search=this.options.search:"";this.options.submenuSize?this.configOptions.submenuSize=this.options.submenuSize:"";this.options.allOption?this.configOptions.allOption=this.options.allOption:"";this.options.chooseOptionLabel?this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel:"";this.options.noResult?this.configOptions.noResult=this.options.noResult:"";if(this.hasRef){this.targetRowIndex=_1d1;var _1d2=_._t.getElementsByTagName(this.xml,"w2:itemset");_1d2[0].setAttribute("nodeset",eval(this.refStr));}this.autoComplete=new _._a._D(this.mainGridId+"_autoComplete_"+this.id,this.configOptions,this.xml);var _1d3=this;this.autoComplete._handleClickEvent=this.autoComplete.handleClickEvent;this.autoComplete.handleClickEvent=function(e){this._handleClickEvent(e);_._F.stopEvent(e);};this.autoComplete._setSubLayer=this.autoComplete.setSubLayer;this.autoComplete.setSubLayer=function(e){this._setSubLayer(e);var _1d6=this.itemTable;_1d6.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_1d3.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1d3.mainGrid.options.keyMoveEditMode);break;case 13:if(_1d3.mainGrid.options.fastEditMode){if(_1d3.mainGrid.options.enterKeyMove=="none"){}else{if(_1d3.mainGrid.options.enterKeyMove=="right"){_1d3.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1d3.mainGrid.options.keyMoveEditMode);}else{_1d3.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_1d3.mainGrid.options.keyMoveEditMode);}}}break;case 27:_1d3.handleCancelEdit(e);break;}});_1d6.addClickEventListener(function(idx){_1d3.autoComplete.dom.input.value=_1d3.autoComplete.viewArr[idx].label;_1d3.autoComplete.selectedText=_1d3.autoComplete.viewArr[idx].label;_1d3.autoComplete.selectedValue=_1d3.autoComplete.viewArr[idx].value;var _1d9=_1d3.autoComplete.selectedText+"|"+_1d3.autoComplete.selectedValue;var idx=_1d3.autoComplete.findinItemArr(_1d9,"all");_1d3.autoComplete.setSelectedIndex1(idx);_1d3.handleEndEdit();});};this.autoComplete._inputKeyDown=this.autoComplete.inputKeyDown;this.autoComplete.inputKeyDown=function(e,_1db){if(e.keyCode==27){}else{_1d3.autoComplete._inputKeyDown(e,_1db);}};td.innerHTML=this.autoComplete.toHTML();this.autoComplete.activate();this.autoComplete.setSize(td.clientWidth-2,td.clientHeight-2);}else{td.innerHTML="";td.appendChild(this.autoComplete.render);}if(this.hasRef){var _1dc=this.mainGrid.getElemRowIndex(td);this.autoComplete.itemArr=this.getRefItemArr(_1dc);}if(this.autoComplete.itemArr.length>0){var _1dd=this.mainGrid.getCellData(_1d1,this.id);this.autoComplete.setValue(_1dd);this.autoComplete.setInputFocus();}else{this.autoComplete.setInputFocus();this.autoComplete.dom.input.value="";}this.editRowIndex=_1d1;this.editTd=td;}catch(e){_.exception.printStackTrace(e,null,this.mainGrid);}};_._a._h.autoComplete.prototype._handleEndEdit_common=function(e){try{this.autoComplete.closeSubLayer();var _1df=this.autoComplete.getValue();var _1e0=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.autoComplete.render);}catch(e){return;}this.setInnerHTML(this.editTd,_1df,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_1df);}catch(e){_.exception.printStackTrace(e,null,this.mainGrid);}};_._a._h.autoComplete.prototype._handleEndEdit_focus=function(){this.mainGrid.setFocusedCell();};_._a._h.autoComplete.prototype._handleCancelEdit=function(e){this.autoComplete.closeSubLayer();var _1e2=this.mainGrid.getCellData(this.editRowIndex,this.id);this.editTd.removeChild(this.autoComplete.render);this.setInnerHTML(this.editTd,_1e2,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};_._a._h.autoComplete.prototype._getEditedValue=function(e){var _1e4=this.autoComplete.getValue();return _1e4;};_._a._h.autoComplete.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.calendar=function(){};_._a._h.calendar.prototype.setInnerHTML=function(td,data,_1e8,_1e9){td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";var _1ea=this.mainGrid.filteredRowIndexArr[_1e8];var _1eb=this.mainGrid.getCellOption(_1ea,_1e9,"viewType");if(_1eb=="icon"||(_1eb==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_calendar");td.setAttribute("editModeEvent","onclick");}};_._a._h.calendar.prototype.setEditMode=function(td,_1ed){try{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_calendar");this.editRowIndex=_1ed;this.editTd=td;this.setPosition();var _1ee=this.mainGrid.getInput(this);var _1ef=td.firstChild;for(var node=_1ef;node!=null;node=node.nextSibling){if(node.nodeName.toUpperCase()=="NOBR"){_._v.setStyle(node,"visibility","hidden");break;}}_1ee.setValue(this.mainGrid.getCellData(_1ed,this.id));_1ee.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_1ee.options.editType=="select"){_1ee.select();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.calendar.prototype.setPosition=function(){try{var _1f1={top:0,left:0,width:0,height:0};if(_._G.isIE(8)){_1f1={top:1,left:0,width:0,height:0};}else{if(_._G.isFF()){_1f1={top:0,left:-1,width:0,height:0};}else{if(_._G.isChrome()||_._G.isSafari()){_1f1={top:1,left:0,width:0,height:0};}else{if(_._G.isOpera()){_1f1={top:1,left:0,width:0,height:1};}}}}var td=this.editTd;var _1f3=td.offsetTop+_1f1.top;var _1f4=td.offsetLeft+1+_1f1.left;var _1f5=td.clientWidth-5+_1f1.width;var _1f6=td.clientHeight-3+_1f1.height;var _1f7=_1f6-1;if(this.mainGrid.options.groupbyZone){var _1f8=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_1f3=_1f3+_1f8;}var _1f9=this.mainGrid.getInput(this);_1f9.show();_1f9.render.style.top=_1f3+"px";_1f9.render.style.left=_1f4+"px";_1f9.render.style.width=_1f5+"px";_1f9.render.style.height=_1f6+"px";_1f9.render.firstChild.style.height=_1f6+"px";_1f9.dom.input.style.height=_1f7+"px";_1f9.dom.input.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;if(_._G.isIE()){_1f9.dom.input.style.lineHeight=_1f6+"px";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.calendar.prototype.removeCellData=function(_1fa,_1fb){this.mainGrid.setCellData(_1fa,_1fb,"");};_._a._h.prototype.handleScrollY=function(e){var _1fd=this.validate();if(_1fd){return this.handleEndEdit(e);}else{return this.handleCancelEdit(e);}};_._a._h.calendar.prototype._handleEndEdit_common=function(e){try{var _1ff=this.mainGrid.getInput(this);_1ff.hideCalendar();var _200=_1ff.getValue();this.setInnerHTML(this.editTd,_200,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_200);return _1ff;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.calendar.prototype._handleEndEdit_focus=function(_201){_201.hide();};_._a._h.calendar.prototype.validate=function(e){var _203=this.mainGrid.getInput(this);if(_203.validate()){return true;}if(_203.getValue()==""){return true;}this.mainGrid.getInput(this).blur();var _204=_._z.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";alert(_204);this.mainGrid.getInput(this).focus();return false;};_._a._h.calendar.prototype._getEditedValue=function(e){var _206=this.mainGrid.getInput(this).getValue();return _206;};_._a._h.calendar.prototype._handleCancelEdit=function(e){try{var _208=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_208,this.editRowIndex,this.id);var _209=this.mainGrid.getInput(this);_209.hide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.calendar.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.expression=function(){};_._a._h.expression.prototype.initializeCellInfo=function(){var str=this.options.expression;this.expIdArr=[];if(str!=""){var _20c=str.match(/(sum|avg|max|min|display|rowstatus)[\s]*[(][\S\s]*?[)]/gi);if(_20c!=null){str="";for(var i=0;i<_20c.length;i++){str+=_20c[i];if(i<_20c.length-1){str+="+";}}}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.getCalcExpressionTarget(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.getExpressionTarget(");}try{eval(str);}catch(e){}};_._a._h.expression.prototype.getExpressionTarget=function(){for(var i=0;i<arguments.length;i++){if(this.expIdArr[arguments[i]]==null){this.expIdArr[arguments[i]]=arguments[i];this.mainGrid.setExpressionAssociation(arguments[i],this.id);}}return 1;};_._a._h.expression.prototype.getCalcExpressionTarget=function(str){var _210=str.replaceAll("(",",").replaceAll(")",",").replaceAll("+",",").replaceAll("-",",").replaceAll("*",",").replaceAll("/",",").replaceAll("%",",").replaceAll(" ","");_210=_210.split(",");for(var i=0;i<_210.length;i++){if(_210[i]!==""&&this.expIdArr[_210[i]]==null){this.expIdArr[_210[i]]=_210[i];this.mainGrid.setExpressionAssociation(_210[i],this.id);}}return 1;};_._a._h.expression.prototype.setInnerHTML=function(td,data,_214,_215){try{var _216=this.mainGrid.filteredRowIndexArr[_214];var _217=_._G.getGlobalFunction(this.options.customFormatter);var _218=this.getDisplayData(null,_216);var _219;if(typeof _217=="function"){this.useCustomFormatter=true;_219=_217.call(this.mainGrid,data,_218,_214,_215);}else{this.useCustomFormatter=false;_219=_218;}var _21a=td.innerHTML.replace(/\r(\n)?/,"\n");var _21b="<nobr>"+_219+"</nobr>";if(_21a!==_21b){td.innerHTML=_21b;this.mainGrid.drawFooter(this.id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.expression.prototype.getDisplayData=function(_21c,_21d){_21c=this.getExpressionValue(_21d);if(this.formatter){return this.formatter.format(_21c);}return _21c;};_._a._h.expression.prototype.getExpressionValue=function(_21e){this.rowIndex=_21e;var _21f="";var str=this.options.expression;if(this.expressionStr==null){if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(");str=str.replace(/[cC][aA][lL][cC][\s]*[(]/g,"this.colcalc(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(");str=str.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(");str=str.replace(/rowStatus[\s]*[(]/ig,"this.rowStatus(");}this.expressionStr=str;}_21f=eval(this.expressionStr);return _21f;};_._a._h.expression.prototype.colsum=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _223=this.mainGrid.getColumnIndex(arguments[i]);if(this.options.dataType==="bigDecimal"){ret=_._w(ret).plus(_._w(this.mainGrid._getData(this.rowIndex,_223)))||0;}else{ret+=parseFloat(this.mainGrid._getData(this.rowIndex,_223))||0;}}return ret;};_._a._h.expression.prototype.colavg=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _226=this.mainGrid.getColumnIndex(arguments[i]);if(this.options.dataType==="bigDecimal"){ret=_._w(ret).plus(_._w(this.mainGrid._getData(this.rowIndex,_226)))||0;}else{ret+=parseFloat(this.mainGrid._getData(this.rowIndex,_226))||0;}}if(this.options.dataType==="bigDecimal"){ret=_._w(ret).divide(_._w(arguments.length)).toString();}else{ret=ret/arguments.length;}return ret;};_._a._h.expression.prototype.colmax=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _229=this.mainGrid.getColumnIndex(arguments[i]);if(this.options.dataType==="bigDecimal"){ret=_._w(ret).compare(_._w(this.mainGrid._getData(this.rowIndex,_229)))||0;}else{var tmp=parseFloat(this.mainGrid._getData(this.rowIndex,_229))||0;if(i==0||tmp>ret){ret=tmp;}}}return ret;};_._a._h.expression.prototype.colmin=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _22d=this.mainGrid.getColumnIndex(arguments[i]);if(this.options.dataType==="bigDecimal"){ret=_._w(ret).toString()==="0"?_._w(this.mainGrid._getData(this.rowIndex,_22d)):_._w(ret);ret=_._w(ret).compare(_._w(this.mainGrid._getData(this.rowIndex,_22d)),true)||0;}else{var tmp=parseFloat(this.mainGrid._getData(this.rowIndex,_22d))||0;if(i==0||tmp<ret){ret=tmp;}}}return ret;};_._a._h.expression.prototype.colcalc=function(str){var ret=0;function _push(_231,ele){_231[_231.length]=ele;}function _pop(_233){var _234=_233[_233.length-1];delete _233[_233.length-1];_233.length--;return (_234);}function isOperation(who){return ((!isOperator(who)&&(who!="(")&&(who!=")"))?true:false);}function isOperator(who){return ((who=="+"||who=="-"||who=="*"||who=="/"||who=="^"||who=="%")?true:false);}function topStack(_237){return (_237[_237.length-1]);}function isEmpty(_238){return ((_238.length==0)?true:false);}function isCalculation(who){if(who=="^"){return (5);}if((who=="*")||(who=="/")||(who=="%")){return (4);}if((who=="+")||(who=="-")){return (3);}if(who=="("){return (2);}if(who==")"){return (1);}}function InfixToPostfix(_23a,_23b,_23c){var _23b=new Array();var _23d=new Array();var _23e=0;_23a=Tokens(_23a);for(var i=0;i<_23a.length;i++){if(isOperation(_23a[i])){_23b[_23e]=_23a[i];_23e++;}if(isOperator(_23a[i])){if(_23a[i]!="^"){while((!isEmpty(_23d))&&(isCalculation(_23a[i])<=isCalculation(topStack(_23d)))){_23b[_23e]=topStack(_23d);_pop(_23d);_23e++;}}else{while((!isEmpty(_23d))&&(isCalculation(_23a[i])<isCalculation(topStack(_23d)))){_23b[_23e]=topStack(_23d);_pop(_23d);_23e++;}}_push(_23d,_23a[i]);}if(_23a[i]=="("){_push(_23d,_23a[i]);}if(_23a[i]==")"){while(topStack(_23d)!="("){_23b[_23e]=_pop(_23d);_23e++;}_pop(_23d);}}while(!isEmpty(_23d)){if(topStack(_23d)=="("){_pop(_23d);}else{_23b[_23b.length]=_pop(_23d);}}var _240="";for(var i=0;i<_23b.length;i++){_240+=_23b[i];}if(_23c==0){return (_240);}else{return (_23b);}}function PostfixToInfix(_241){var _242=new Array();_241=_241.split("");for(var i=0;i<_241.length;i++){if(isOperation(_241[i])){_push(_242,_241[i]);}else{var temp=topStack(_242);_pop(_242);var _245="("+topStack(_242)+_241[i]+temp+")";_pop(_242);_push(_242,_245);}}return (topStack(_242));}function Tokens(str){var _247=str.split("");var _248=new String("");var _249=new Array();var _24a=0;for(var i=0;i<_247.length;i++){if(isOperation(_247[i])&&_247[i].match(/\s/)==null){_248+=_247[i];}if(isOperator(_247[i])||_247[i]==")"||_247[i]=="("){if(_248!=""){_249[_24a]=_248;_24a++;}_248="";_249[_24a]=_247[i];_24a++;}if(i==_247.length-1){if(_248!=""){_249[_24a]=_248;}}}return (_249);}function Calculation(num1,num2,sym){var _24f;try{if(sym=="+"){_24f=num1.plus(num2);}if(sym=="-"){_24f=num1.minus(num2);}if(sym=="*"){_24f=num1.times(num2);}if(sym=="/"){_24f=num1.divide(num2);}if(sym=="^"){_24f=num1.pow(num2);}if(sym=="%"){_24f=num1.mod(num2);}return (_24f);}catch(e){_.exception.printStackTrace(e);}}function PostfixEval(_250){var _251=new Array();var temp;var _253;for(var i=0;i<_250.length;i++){if(isOperation(_250[i])){_push(_251,_250[i]);}else{temp=eval(topStack(_251));if(temp.constructor!=_.bigDecimalObj){temp=_._w(temp);}_pop(_251);_253=eval(topStack(_251));if(_253.constructor!=_.bigDecimalObj){_253=_._w(_253);}var _255=Calculation(_253,temp,_250[i]);_pop(_251);_push(_251,_255);}}return (topStack(_251));}var _256=InfixToPostfix(str);for(var i in _256){var _258=this.mainGrid.getColumnIndex(_256[i]);_256[i]=_258!=undefined?_._w(this.mainGrid._getData(this.rowIndex,_258)):_256[i];}return PostfixEval(_256);};_._a._h.expression.prototype.display=function(){var _259=this.mainGrid.getColumnIndex(arguments[0]);var ret=this.mainGrid._getData(this.rowIndex,_259);return ret;};_._a._h.expression.prototype.getRowIndex=function(){return this.mainGrid.getDisplayRowIndex(this.rowIndex);};_._a._h.expression.prototype.rowStatus=function(){var _25b=this.mainGrid.getRowStatusValue(this.rowIndex);switch(_25b){case 0:return "R";break;case 1:return "U";break;case 2:return "C";break;case 3:return "D";break;case 4:return "V";break;}};_._a._h.textarea=function(){};_._a._h.textarea.prototype.setInnerHTML=function(td,data){var _25e=(td.clientWidth-8)+"";td.innerHTML="<div class='w2grid_textarea' style='text-align:"+this.options.textAlign+"; width:"+_25e+"px'>"+(this.getEscape()==="true"?this.getDisplayData(_._t._encode(data+"")):this.getDisplayData(data))+"</div>";};_._a._h.textarea.prototype.setEditMode=function(td,_260){this._setEditMode(td,_260);};_._a._h.textarea.prototype._setEditMode=function(td,_262){try{this.editRowIndex=_262;this.editTd=td;this.setPosition();var _263=this.mainGrid.getInput(this);_263.setValue(this.mainGrid.getCellData(_262,this.id));if(!this.options.disabled){_263.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(!this.options.disabled&&(this.options.editType=="select"||this.mainGrid.options.editType=="select")){_263.select();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textarea.prototype.setPosition=function(){try{var _264={top:0,left:0,width:0,height:0};if(_._G.isIE(8)){_264={top:-1,left:-1,width:0,height:0};}else{if(_._G.isFF()){_264={top:-2,left:-1,width:0,height:0};}else{if(_._G.isOpera()){_264={top:0,left:0,width:0,height:1};}}}var td=this.editTd;var _266=td.offsetTop+1+_264.top;var _267=td.offsetLeft+1+_264.left;var _268=td.clientWidth>150?td.clientWidth-5+_264.width:150;var _269=td.clientHeight>60?td.clientHeight-2+_264.height:60;if(this.mainGrid.options.groupbyZone){var _26a=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_266=_266+_26a;}if(this.mainGrid.gridWidth<_267+_268){var _26b=(td.clientWidth>150?0:5+_264.width)-2;_267-=(_267+_268)-(td.offsetLeft+td.clientWidth)+_26b;}var _26c=this.mainGrid.scrollX_right;if(this.mainGrid.render.offsetHeight-_26c.offsetHeight<_266+_269){var _26d=(td.clientHeight>60?0:2-_264.top);_266-=(_266+_269)-(td.offsetTop+td.clientHeight)+_26d;if(_266<0){_266=1+_264.top;}if(_269>this.mainGrid.render.offsetHeight){_269=this.mainGrid.render.offsetHeight-6+_264.height;}}var _26e=this.mainGrid.getInput(this);_26e.show();_26e.render.style.top=_266+"px";_26e.render.style.left=_267+"px";_26e.render.style.width=_268+"px";_26e.render.style.height=_269+"px";_26e.render.style.imeMode=this.options.imeMode;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textarea.prototype.removeCellData=function(_26f,_270){this.mainGrid.setCellData(_26f,_270,"");};_._a._h.textarea.prototype.showReadonly=function(td,_272){var _273=this.mainGrid.getInput(this);var _274=parseInt(td.getAttribute("colIndex"),10);var _275=td.getAttribute("col_id");if(this.options.disabled||this.mainGrid.getEditDisabled(_272,_274)){_273.setDisabled(true);}if(this.options.readOnly||this.mainGrid._getEditReadOnly(_272,_275)){_273.setReadOnly(true);}this._setEditMode(td,_272);this.mainGrid.editedCell=this;};_._a._h.textarea.prototype._handleEndEdit_common=function(e){try{var _277=this.mainGrid.getInput(this);var _278=_277.getValue();if(this.options.dataType=="number"){if(_278!=""){_278=Number(_278);}}this.setInnerHTML(this.editTd,_278,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_278);return _277;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textarea.prototype._handleEndEdit_focus=function(_279){_279.hide();_279.setDisabled(false);_279.setReadOnly(false);};_._a._h.textarea.prototype._getEditedValue=function(e){var _27b=this.mainGrid.getInput(this).value;return _27b;};_._a._h.textarea.prototype._handleCancelEdit=function(e){try{var _27d=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_27d,this.editRowIndex,this.id);var _27e=this.mainGrid.getInput(this);_27e.hide();_27e.setDisabled(false);_27e.setReadOnly(false);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textarea.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.drilldown=function(){};_._a._h.drilldown.prototype.setInnerHTML=function(td,data,_282){var _283=_282;var _284=100;var _285=this.options.depthColumn;if(this.mainGrid.filteredRowIndexArr!=undefined&&this.mainGrid.filteredRowIndexArr.length>0){_283=this.mainGrid.filteredRowIndexArr[_282];if(_283<this.mainGrid.filteredRowIndexArr[this.mainGrid.filteredRowIndexArr.length-1]){_284=parseInt(this.mainGrid.getCellData(_282+1,_285),10);}else{_284=null;}}var _286=parseInt(this.mainGrid.getCellData(_282,_285),10);var _287="";var _288=_283;var type="";for(var i=1;i<_286;i++){if(this.options.depthType=="div"){_287+="<div class='w2grid_depthBlank'></div>";}else{if(this.options.depthType=="line"){if(i===1){if(this.mainGrid.drilldown.isLastChild(_288)){type="_line_L";}else{type="_line_T";}}else{if(this.mainGrid.drilldown.isLastChild(_288)){type="Blank";}else{type="_line_I";}}_287="<div class='w2grid_depth"+type+"'></div>"+_287;_288=this.mainGrid.drilldown.getParentRowIndex(_288);}else{_287+="&nbsp;&nbsp;";}}}var _28b=0;var _28c="w2grid_plus";var _28d="w2grid_root";var _28e="w2grid_depthBlank_root";var _28f="w2grid_depthBlank_leaf";if(_284!=null&&_286<_284){_28b=1;_28c="w2grid_minus";}else{if(!this.mainGrid.hasChild(_282)){_28b=2;_28c="w2grid_leaf";}}if(_286==1){_28c=_28c+" "+_28d;}var icon="<span class='"+_28c+"' style='display:inline-block;' openStatus='"+(_28b)+"' onclick='this.clicked=true'></span>";var _291="<div class='w2grid_depthBlank";if(_286=="1"){_291=_291+" "+_28e;}if(_28b===2){_291=_291+" "+_28f;}_291=_291+"'>";if(this.options.depthType=="div"){icon=_291+icon+"</div>";td.innerHTML="<nobr class='w2grid_drilldown_nobr'>"+_287+icon+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="line"){icon=_291+icon+"</div>";td.innerHTML=_287+icon+"<nobr class='w2grid_drilldown_nobr'>"+this.getDisplayData(data)+"</nobr>";}else{td.innerHTML="<nobr>"+_287+icon+this.getDisplayData(data)+"</nobr>";}}};_._a._h.drilldown.prototype.handleClick=function(td,_293){var imgs=td.getElementsByTagName("span");var img=imgs[0];if(img.clicked==true){img.clicked=false;if(img.getAttribute("openStatus")!="2"){this.mainGrid.toggle(_293);}return true;}return false;};_._a._h.drilldown.prototype.setEditMode=function(td,_297){try{this.editRowIndex=_297;this.editTd=td;this.setPosition();var _298=this.mainGrid.getInput(this);_298.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_298.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_298.render.setAttribute("maxLength",this.options.maxLength);}else{_298.render.removeAttribute("maxLength");}_298.setValue(this.mainGrid.getCellData(_297,this.id));if(document.activeElement!=_298.render){_298.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;_298.options.editType="select";if(_298.options.editType=="select"){_298.select();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.drilldown.prototype.setPosition=function(){var _299={top:0,left:0,width:0,height:0};if(_._G.isFF()){_299={top:-1,left:-1,width:0,height:0};}else{if(_._G.isOpera()){_299={top:0,left:0,width:0,height:1};}else{if(_._G.isIE(9)){_299={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _29b=td.offsetTop+1+_299.top;var _29c=td.offsetLeft+1+_299.left;var _29d=td.clientWidth-6+_299.width;var _29e=td.clientHeight-2+_299.height;var _29f=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_29f.render.style.imeMode=this.options.imeMode;}else{_29f.render.style.imeMode=this.options.dataType=="number"?"disabled":"";}_29f.show();if(this.mainGrid.options.groupbyZone){var _2a0=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_29b=_29b+_2a0;}_29f.render.style.top=_29b+"px";_29f.render.style.left=_29c+"px";_29f.render.style.width=_29d+"px";_29f.render.style.height=_29e+"px";if(_._G.isIE()){_29f.render.style.lineHeight=_29e+"px";}_29f.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};_._a._h.drilldown.prototype.removeCellData=function(_2a1,_2a2){if(this.mainGrid.options.drilldownRealRowIndex){_2a1=this.mainGrid.getRealRowIndex(_2a1);}this.mainGrid.setCellData(_2a1,_2a2,"");};_._a._h.drilldown.prototype._handleEndEdit_common=function(e){try{var _2a4=this.mainGrid.getInput(this);this.setEditData(_2a4);return _2a4;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.drilldown.prototype._handleEndEdit_focus=function(_2a5,_2a6){if(this.mainGrid.isMobile||!_2a6){_2a5.hide();}};_._a._h.drilldown.prototype._getEditedValue=function(e){var _2a8=this.mainGrid.getInput(this).getValue();return _2a8;};_._a._h.drilldown.prototype._handleCancelEdit=function(e){try{var _2aa=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_2aa,this.editRowIndex,this.id);var _2ab=this.mainGrid.getInput(this);_2ab.hide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.drilldown.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.drilldown.prototype.setEditData=function(_2ad){try{var _2ae=_2ad.getValue();_2ae=_2ad.validator.validateString(_2ae);_2ad.setValueNM(_2ae,true);this.setInnerHTML(this.editTd,_2ae,this.editRowIndex,this.id);if(this.mainGrid.options.numberCasting&&this.options.dataType=="number"){if(_2ae!=""){_2ae=Number(_2ae);}}if(this.mainGrid.options.drilldownRealRowIndex){this.mainGrid.setCellData(this.mainGrid.getRealRowIndex(this.editRowIndex),this.id,_2ae);}else{this.mainGrid.setCellData(this.editRowIndex,this.id,_2ae);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textImage=function(){};_._a._h.textImage.prototype.setInnerHTML=function(td,data,_2b1,_2b2){var row=this.mainGrid.getElemRowIndex(td);var _2b4=this.mainGrid.filteredRowIndexArr[row];var col=this.mainGrid.getColumnIndex(this.id);var _2b6=this.mainGrid.getCellOption(_2b4,col,"viewType");var _2b7=this.options.imageSrc?_._h.getImageURL(this.options.imageSrc):"";if(_2b6=="icon"||(_2b6==""&&this.options.dataType=="own")){td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px; width:100%;'>","<td width='100%;' col_id='"+this.id+"' rowIndex='"+_2b1+"' colIndex='"+_2b2+"' class='w2grid_textImage'>","<nobr>"+this.getDisplayData(data)+"</nobr>","</td>","<td col_id='"+this.id+"' rowIndex='"+_2b1+"'  colIndex='"+_2b2+"' class='w2grid_textImage_image'>","<img src='"+_2b7+"' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td>","</table>"].join("");var _2b8=this;var _2b1=_2b4;var img=td.getElementsByTagName("img")[0];var _2ba=this.options.useImageClick||"false";var _2bb=this.mainGrid.getDisabled("all",_2b1,_2b2);var _2bc=function(e){_._F.stopPropagation(e);if((_2ba=="true")||(_2ba=="false"&&_2bb==false)){var _2be=_2b8.getDisplayData(data);var _2bf=eval(_2b8.options.imageClickFunction);if(typeof _2bf=="function"){_2bf.call(_2b8.mainGrid,_2b1,_2b8.id,_2be);}}};_._F.addListener(img,"onclick",_2bc);}else{td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";}};_._a._h.textImage.prototype.setEditMode=function(td,_2c1){try{td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px;'><td></td><td>","<img src='"+this.options.imageSrc+"' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td></table>"].join("");var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _2c4=this;var _2c5=function(e){_._F.stopPropagation(e);var _2c7=_2c4.mainGrid.getInput(_2c4).getValue();var _2c8=eval(_2c4.options.imageClickFunction);if(typeof _2c8=="function"){_2c8.call(_2c4.mainGrid,_2c1,_2c4.id,_2c7);}};_._F.addListener(img,"onclick",_2c5);this.editRowIndex=_2c1;this.editTd=td;this.setPosition();var _2c9=this.mainGrid.getInput(this);_2c9.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_2c9.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_2c9.render.setAttribute("maxLength",this.options.maxLength);}else{_2c9.render.removeAttribute("maxLength");}_2c9.setValue(this.mainGrid.getCellData(_2c1,this.id));_2c9.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_2c9.options.editType=="select"){_2c9.select();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textImage.prototype.setPosition=function(){try{var _2ca={top:0,left:0,width:0,height:0,tdWidth:0};if(_._G.isFF()){_2ca={top:-1,left:-1,width:0,height:0,tdWidth:0};}else{if(_._G.isOpera()){_2ca={top:0,left:0,width:0,height:1,tdWidth:0};}}var td=this.editTd;var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _2ce=td.clientWidth-img.offsetWidth-1+_2ca.tdWidth;var _2cf=td.offsetTop+1+_2ca.top;var _2d0=td.offsetLeft+1+_2ca.left;var _2d1=td.clientWidth-img.offsetWidth-6+_2ca.width;var _2d2=td.clientHeight-2+_2ca.height;if(this.mainGrid.options.groupbyZone){var _2d3=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_2cf=_2cf+_2d3;}tds[0].style.width=_2ce+"px";var _2d4=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_2d4.render.style.imeMode=this.options.imeMode;}else{_2d4.render.style.imeMode=this.options.dataType=="number"?"disabled":"";}_2d4.show();_2d4.render.style.top=_2cf+"px";_2d4.render.style.left=_2d0+"px";_2d4.render.style.width=_2d1+"px";_2d4.render.style.height=_2d2+"px";_2d4.render.style.lineHeight=_2d2+"px";_2d4.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textImage.prototype.removeCellData=function(_2d5,_2d6){this.mainGrid.setCellData(_2d5,_2d6,"");};_._a._h.textImage.prototype._handleEndEdit_common=function(e){try{var _2d8=this.mainGrid.getInput(this);var _2d9=_2d8.getValue();this.setInnerHTML(this.editTd,_2d9,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_2d9);return _2d8;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textImage.prototype._handleEndEdit_focus=function(_2da){_2da.setDisabled(false);_2da.setReadOnly(false);_2da.hide();};_._a._h.textImage.prototype._getEditedValue=function(e){var _2dc=this.mainGrid.getInput(this).getValue();return _2dc;};_._a._h.textImage.prototype._handleCancelEdit=function(e){try{var _2de=this.mainGrid.getInput(this);var _2df=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_2df,this.editRowIndex,this.id);_2de.hide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._h.textImage.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};_._a._h.textImage.prototype.showReadonly=function(td,_2e2){this.setEditMode(td,_2e2);var _2e3=this.mainGrid.getInput(this);_2e3.setDisabled(true);_2e3.setReadOnly(true);this.mainGrid.editedCell=this;};;WebSquare.uiplugin.cellInfo=_._a._h;;WebSquare.uiplugin.cellController=_._a.av;_._a.aJ=function(){};_._a.aJ.prototype.setXMLLayout=function(_1,_2,_3){try{if(_1!="undefined"&&_1!=null&&_1!=""){if(_1.endsWith("/")){this.options.baseNode=_1.substring(0,_1.length-1);}else{this.options.baseNode=_1;}}else{this.options.baseNode="";}if(_2!="undefined"&&_2!=null){if(_2.startsWith("/")){_2=_2.substring(1);}if(_2.endsWith("/")){_2=_2.substring(0,_2.length-1);}this.options.repeatNode=_2;}if(_3!="undefined"&&_3!=null){this.options.valueNode=_3;}else{this.options.valueNode="";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aJ.prototype.xmlData2ArrData=function(_4){try{if(_4==null){return;}if(_4.nodeType==9){var _5=_4.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _6=this.options.baseNode;if(_6.startsWith(_4.tagName)){var _6=_6.replace(_4.tagName,".");var _5=_4.selectNodes(_6+"/"+this.options.repeatNode);}else{_4=_._t.parse(_._t.serialize(_4));var _5=_4.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _7=[];var _8=this.options.valueNode;var _9=_8==null||_8=="";var _a=_._G.getTextNodeValue;var _b=_5.length;var _c=this.tdIdList.length;var _d=[];var _e=[];var _f=[];for(var i=0;i<_c;i++){_d[i]=this.getCellInfo(this.tdIdList[i]);var _11=_d[i].options;if(_11.importFormatter!=null&&_11.importFormatter!=""){_e[i]=true;}if(_11.importExp!=null&&_11.importExp!=""){_f[i]=true;}}for(var i=0;i<_b;i++){var obfuscator_i=i;var obfuscator_rowXml=_5[i];var len=_7.length;for(var j=0;j<_c;j++){var _14=_5[i].selectSingleNode(this.tdIdList[j]);if(_14!=null){if(_9){_7[len+j]=_a(_14);}else{_7[len+j]=_14.getAttribute(_8);}}else{_7[len+j]=_d[j].options.defaultValue;}}for(var j=0;j<_c;j++){if(_e[j]){try{_7[len+j]=eval(_d[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_7[len+j]=_d[j].options.defaultValue;_.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_c;j++){if(_f[j]){try{var _15=eval(_d[j].options.importExp);_7[len+j]=_15;}catch(e){_7[len+j]=_d[j].options.defaultValue;_.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_c;j++){if(_d[j].options.inputType=="radio"&&_d[j].options.groupName){if(this.cellInfoHash[_d[j].options.groupName]){var _16=_d[j].options.trueValue;var _17=_d[j].options.falseValue;switch(_d[j].options.valueType){case "binary":_16="1";_17="0";break;case "boolean":_16="true";_17="false";break;case "other":break;}var _18=this.columnValue(obfuscator_rowXml,_d[j].options.groupName);if(_18==_d[j].options.groupValue){_7[len+j]=_16;}else{_7[len+j]=_17;}}}if(this.options.xmlEncode){if(_7[len+j]!=null){_7[len+j]=_._t.decode(_7[len+j]);}}}}return _7;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aJ.prototype.jsonData2ArrData=function(_19){try{if(_19==null){return;}var _1a=[];var _1b=this.options.valueNode;var _1c=_19.length;var _1d=this.tdIdList.length;var _1e=[];var _1f=[];var _20=[];for(var i=0;i<_1d;i++){_1e[i]=this.getCellInfo(this.tdIdList[i]);var _22=_1e[i].options;if(_22.importFormatter!=null&&_22.importFormatter!=""){_1f[i]=true;}if(_22.importExp!=null&&_22.importExp!=""){_20[i]=true;}}for(var i=0;i<_1c;i++){var obfuscator_i=i;var obfuscator_rowXml=_19[i];var len=_1a.length;for(var j=0;j<_1d;j++){var _25=_19[i][this.tdIdList[j]];if(_25!=null){_1a[len+j]=_25;}else{_1a[len+j]=_1e[j].options.defaultValue;}}for(var j=0;j<_1d;j++){if(_1f[j]){try{_1a[len+j]=eval(_1e[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_1a[len+j]=_1e[j].options.defaultValue;_.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_1d;j++){if(_20[j]){try{var _26=eval(_1e[j].options.importExp);_1a[len+j]=_26;}catch(e){_1a[len+j]=_1e[j].options.defaultValue;_.exception.printStackTrace(e,null,this);}}}}return _1a;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aJ.prototype.xpathValue=function(_27,_28){try{var v=_._t.findNode(_27,_28);if(v==null){return "";}if(v.nodeType==1){for(var _2a=v.firstChild;_2a!=null;_2a=_2a.nextSibling){if(_2a.nodeType==3){return _2a.nodeValue;break;}}}else{return v.nodeValue;}}catch(e){$l("xpath exeption");_.exception.printStackTrace(e,null,this);}return "";};_._a.aJ.prototype.rowIndexValue=function(_2b){return _2b;};_._a.aJ.prototype.columnValue=function(_2c,_2d){try{var _2e="";_2d=this.getColumnID(_2d);if(_2c.nodeType!=undefined&&typeof _2c.selectSingleNode!="undefined"){if(this.options.valueNode==null||this.options.valueNode==""){_2e=_._G.getTextNodeValue(_2c.selectSingleNode(_2d));}else{_2e=_2c.selectSingleNode(_2d).getAttribute(this.options.valueNode);}}else{_2e=_2c[_2d];}return _2e;}catch(e){_.exception.printStackTrace(e,null,this);}return "";};_._a.aJ.prototype.getArrXML=function(_2f,_30){try{if(_2f instanceof Array){var _31=false;this.tagNmArr=this.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_31){var _33=_._t.parse("<"+this.tagNmArr[i]+"/>");var _34=[];_34.push(_33.documentElement);_31=true;}else{_34.push(_33.createElement(this.tagNmArr[i]));_34[i-1].appendChild(_34[i]);}}}var _35=this.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _36=null;for(var i=0;i<_2f.length;i++){var obfuscator_rowIndex=_2f[i];_36=[];var obfuscator_objLastNode=null;for(var j=0;j<_35.length;j++){if(_35[j]!=""){var _38=_33.createElement(_35[j]);_36.push(_38);if(j==0){_34[_34.length-1].appendChild(_38);}else{_36[j-1].appendChild(_36[j]);}}}obfuscator_objLastNode=_36[_35.length-1];obfuscator_objLastNode.setAttribute("status",this.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _39=this.getColumnCount();var _3a=new Array(_39);for(var col=0;col<_39;col++){var obfuscator_cellValue="";if(_30!="displayData"){obfuscator_cellValue=this.getCellData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}else{obfuscator_cellValue=this.getCellDisplayData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}if(this.options.xmlEncode){obfuscator_cellValue=_._t.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _3c=this.getCellInfo(col);if(_3c.options.exportFormatter!=""){try{eval(_3c.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){_.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_3a[col]=_33.createElement(this.getColumnID(col));if(this.options.valueNode==""){var _3d=_33.createTextNode(obfuscator_cellValue);_3a[col].appendChild(_3d);}else{_3a[col].setAttribute(this.options.valueNode,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_3a[col]);}}}return _33;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aJ.prototype.getAllArrXML=function(_3e){try{var _3f=false;this.tagNmArr=this.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_3f){var _41=_._t.parse("<"+this.tagNmArr[i]+"/>");var _42=[];_42.push(_41.documentElement);_3f=true;}else{_42.push(_41.createElement(this.tagNmArr[i]));_42[i-1].appendChild(_42[i]);}}}var _43=this.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _44=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_44=[];var obfuscator_objLastNode=null;for(var j=0;j<_43.length;j++){if(_43[j]!=""){var _46=_41.createElement(_43[j]);_44.push(_46);if(j==0){_42[_42.length-1].appendChild(_46);}else{_44[j-1].appendChild(_44[j]);}}}obfuscator_objLastNode=_44[_43.length-1];obfuscator_objLastNode.setAttribute("status",this._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this._getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _47=this.getColumnCount();var _48=new Array(_47);for(var col=0;col<_47;col++){var obfuscator_cellValue="";if(_3e!="displayData"){obfuscator_cellValue=this._getData(obfuscator_rowIndex,col);}else{obfuscator_cellValue=this._getDisplayData(obfuscator_rowIndex,col);}if(this.options.xmlEncode){obfuscator_cellValue=_._t.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _4a=this.getCellInfo(col);if(_4a.options.exportFormatter!=""){try{eval(_4a.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){_.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_48[col]=_41.createElement(this.getColumnID(col));if(this.options.valueNode==""){var _4b=_41.createTextNode(obfuscator_cellValue);_48[col].appendChild(_4b);}else{_48[col].setAttribute(this.options.valueNode,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_48[col]);}}}return _41;}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.xmlDataController=_._a.aJ;_._a._k=function(){};_._a._k.prototype.initializeHead=function(){try{this.headerObj={};var _1=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _2=[];for(var i=0;i<_1.length;i++){_2.push(_1[i]);}for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("inputType");var _6=td.getAttribute("dataType");var _7=td.getAttribute("value");var _8=null;if(_5=="checkbox"){td.innerHTML="";_8=this.setCheckboxHead(td,_7);_8.headInputType="checkbox";}else{if(_5=="select"){_8=this.setSelectboxHead(td,_7);_8.headInputType="select";}else{if(_5=="text"&&_6=="own"){_8=this.setInputHead(td,_7);_8.headInputType="input";}else{var _9="";var _a=td.getAttribute("localeRef");if(_a!=null){_9=this.getLocaleValue(_a);}else{_9=td.getAttribute("value");if(_9==null){_9="";}}td.innerHTML="<nobr>"+_9+"</nobr>";}}}var _b=td.getAttribute("id");td.setAttribute("header_id",_b);td.className=td.className+(" "+this.id+"_header__column"+i);td.setAttribute("id",this.id+"_"+_b);if(this.options.autoScope){td.setAttribute("scope","col");}if(!!_b&&!_b.match("RowNumber")&&!_b.match("RowStatus")&&!this.options.groupbyZone){var _c="/WebSquare/grid/header/column[@inputType='"+_5+"']/useFilter/@value";var _d=_._G.getBoolean(_._h.getConfiguration(_c));var _e=this.headCellInfoHash[_b].getAttribute("useFilter");if(typeof _e=="string"){_e=_._G.getBoolean(_e);}else{_e=true;}if(_e&&(_d||td.getAttribute("useFilter")=="true")){var _f=td.innerHTML;td.innerHTML="<table style='width:100%;height:100%;'><tr><td style='width:100%;'>"+_f+"</td><td><input type='button' id='"+this.id+"_"+_b+"_filter' class='w2trigger w2grid_customFilter_open' onclick='"+this.id+".dataFilter.showCustomFilter(\""+_b+"\");'/></td></tr></table>";}}this.headerObj[_b]=_8;td.disabled=false;var _10=td.getAttribute("toolTip");if(_10){_.getBody().setToolTip(td,_10);}}this.clearHeaderSort();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.associateHeaderBody=function(){try{var _11=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _12=0;var _13=-1;var _14="";for(var i=0;i<_11.length;i++){var _16=_11[i];if(_16.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_16.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){}else{var _17=_16.getAttribute("colIndex");if(parseInt(_17)<=_13){_12++;}_13=parseInt(_17);var _18=_12;if(_18+1>this.tempTr.rows.length){_18=this.tempTr.rows.length-1;}var _19=null;var _1a=null;while(_18>=0){var _1b=this.tempTr.rows[_18];var _1c=_._G.first(_1b);while(_1c){var _1d=_1c.getAttribute("colIndex");if(_17==_1d){_1a=_1c;break;}_1c=_._G.next(_1c);}if(_1a){break;}_18--;}if(_1a){var _1e=_16.getAttribute("header_id");var _1f=_1a.getAttribute("col_id");_14=_1f;this.headerToBodyRelation[_1e]=_1f;this.bodyToHeaderRelation[_1f]=_1e;}else{var _1e=_16.getAttribute("header_id");this.passiveColSpanRelation[_1e]=_14;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.setCheckboxHead=function(td,_21){try{var _22=td.getAttribute("onChangeFunction");td.innerHTML="<INPUT type='checkbox' />";var _23=td.firstChild;_23.setAttribute("colId",_21);var _24=td.getAttribute("title");if(_24){_23.setAttribute("title",_24);}var _25=this;_._F.addListener(_23,"onkeydown",function(e){_._F.stopPropagation(e);});_._F.addListener(_23,"ondblclick",function(e){_._F.stopPropagation(e);});_._F.addListener(_23,"onfocus",function(e){_25.removeFocusedCell();});if(_22!=null&&_22!=""){_._F.addListener(_23,"onclick",function(e){_25.noevent=true;var _2a=window[_22];if(typeof _2a=="function"){try{_2a.call(this,this.checked,_21);}catch(e){}}});}else{_._F.addListener(_23,"onclick",function(e){_25.noevent=true;var _2c=_25.getCellInfo(_21);var _2d=_2c.options.trueValue;var _2e=_2c.options.falseValue;if(this.checked){var _2f=_25.getUnCheckedIndex(_21);for(var i=0;i<_2f.length;i++){if(!_25._getEditReadOnly(_2f[i],_21)&&!_25.getEditDisabled(_2f[i],_21)){_25.setCellData(_2f[i],_21,_2d,true);}}}else{var _31=_25.getCheckedIndex(_21);for(var i=0;i<_31.length;i++){if(!_25._getEditReadOnly(_31[i],_21)&&!_25.getEditDisabled(_31[i],_21)){_25.setCellData(_31[i],_21,_2e,true);}}}if(_25.options.senseReader&&_25.rowIndex<=0){_25.senseReaderMode=true;_25._setGridBorderNoRefresh=true;}if(_25.options.senseReader&&_25.rowIndex<=0){_25.senseReaderMode=false;_25._setGridBorderNoRefresh=false;}_25.drawFooter();_25.drawHeader();});}return _23;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.setSelectboxHead=function(td,_33){try{if(!this.tmpSelectbox){requires("uiplugin.selectbox");this.tmpSelectbox=new _._a._J("___tmp_selectbox__"+this.id,{},null);}var _34=this;var _35=td.getAttribute("id");var _36=_._t.getElementsByTagName(this.headCellInfoHash[_35],"choices",_._h._XML_NAMESPACE.W2)[0];var _37=_._t.serialize(_36);var _38=_._t.parse("<w2:select xmlns:w2=\"http://www.inswave.com/websquare\">"+_37+"</w2:select>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _3a=td.getAttribute(idx);if(_3a!=null&&_3a!=""){if(idx=="style"){_3a="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_38.setAttribute(idx,_3a);}}td.style.position="static";td.innerHTML="";var _3b=new _._a._J(this.id+"_head_selectbox_"+td.getAttribute("id"),null,_38);_3b.writeTo(td);window[_3b.id]=_3b;_3b.activate();_3b.setValueNM(_3b.itemArr[0].value);var _3c=td.getAttribute("onChangeFunction");_3b.changeFuncName=_3c;_3b.colId=_33;_3b.headerId=_35;_3b.addEvent("onchange",function(e){var _3e=window[this.changeFuncName];if(typeof _3e=="function"){try{_3e.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_3b.addEvent("onclick",function(e){_34.noevent=true;});return _3b;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.setInputHead=function(td,_41){try{td.innerHTML="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";var _42=_._G.first(td);var _43=this;var _44=function(){_43.noevent=true;_43.headerFocus=true;};var _45=td.getAttribute("onChangeFunction");_42.setAttribute("changeFuncName",_45);_42.setAttribute("colId",_41);var _46=function(e){_43.headerFocus=false;var _48=window[this.getAttribute("changeFuncName")];if(typeof _48=="function"){try{_48.call(this,this.value,this.getAttribute("colId"));}catch(e){}}};var _49=function(e){if(e.keyCode==13){this.blur();}};var _4b=function(e){_43.noevent=true;};_._F.addListener(_42,"onfocus",_44);_._F.addListener(_42,"onblur",_46);_._F.addListener(_42,"onclick",_4b);_._F.addListener(_42,"onkeyup",_49);return _42;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.getHeaderDIV=function(_4d){return this.getHeaderLayer(_4d);};_._a._k.prototype.getHeaderLayer=function(_4e){var _4f=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_4f.length;i++){var _51=_4f[i];var _52=_51.getAttribute("header_id");if(_52!=null&&_4e.toLowerCase()==_52.toLowerCase()){return _51;}}};_._a._k.prototype.setHeaderValue=function(_53,_54){var td=this.getHeaderLayer(_53);if(td){if(typeof _54=="function"){_54(td);}else{var _56=this.headerObj[_53];if(_56){if(_56.headInputType=="select"){_56.setValue(_54);}else{if(_56.headInputType=="checkbox"){if(_56.checked!=_._G.getBoolean(_54)){_56.click();_56.checked=_._G.getBoolean(_54);}}else{if(_56.headInputType=="input"){if(_56.value!=_54){_56.value=_54;var _57=window[_56.getAttribute("changeFuncName")];if(typeof _57=="function"){try{_57.call(_56,_56.value,_56.getAttribute("colId"));}catch(e){}}}}else{if(_56.headerInputType=="user"){_56.setValue(_54);}}}}}else{var _58=td.getElementsByTagName("nobr")[0];if(_58){_58.innerHTML=_54;}else{td.innerHTML="<nobr>"+_54+"</nobr>";}}}}};_._a._k.prototype.setHeaderNodeSet=function(_59,_5a,_5b,_5c){var td=this.getHeaderLayer(_59);if(td){var _5e=this.headerObj[_59];if(_5e){if(_5e.headInputType=="select"){_5e.setNodeSet(_5a,_5b,_5c);}}}};_._a._k.prototype.setHeaderUserObject=function(_5f,_60){this.headerObj[_5f]=_60;_60.headerInputType="user";var td=this.getHeaderLayer(_5f);td.innerHTML="";td.appendChild(_60.getContent());};_._a._k.prototype.getHeaderValue=function(_62){var td=this.getHeaderLayer(_62);if(td){var _64=this.headerObj[_62];if(_64){var _65="";if(_64.headInputType=="select"){_65=_64.getValue();}else{if(_64.headInputType=="checkbox"){_65=_64.checked;}else{if(_64.headInputType=="input"){_65=_64.value;}else{if(_64.headerInputType=="user"){_65=_64.getValue();}}}}return _65;}var _66=_._G.first(td);var _67=_66.getElementsByTagName("NOBR")[0];if(!_67){_67=_66;while(_67&&_67.tagName!="NOBR"){if(_67.tagName=="TD"){_66=_._G.first(_67);break;}_67=_._G.first(_67);}}else{_66=_67;}if(_66){return _66.innerHTML;}else{return "";}}};_._a._k.prototype.getHeaderValueList=function(_68){var _69=[];var _6a=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_6a.length;i++){if(this.hiddenList[i]!=null&&_68!=true&&this.hiddenList[i]==true){continue;}var _6c=_6a[i];var _6d=_6c.getAttribute("header_id");if(_6d!=null){if(_6c){var _6e=this.headerObj[_6d];if(_6e){if(_6e.headInputType=="select"){retValue=_6e.getValue();}else{if(_6e.headInputType=="checkbox"){retValue=_6e.checked;}else{if(_6e.headInputType=="input"){retValue=_6e.value;}else{if(_6e.headerInputType=="user"){retValue=_6e.getValue();}}}}_69.push(retValue);}var _6f=_._G.first(_6c);var _70=_6f;while(_70&&_70.tagName!="NOBR"){if(_70.tagName=="TD"){_6f=_._G.first(_70);break;}_70=_._G.first(_70);}if(_6f){_69.push(_6f.innerHTML);}else{_69.push("");}}}}return _69;};_._a._k.prototype.clearHeaderSort=function(){this._sortArr=[];var _71=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_71.length;i++){var _73=_71[i].getAttribute("header_id");if(_73==="_headerRowNumber"||_73==="_headerRowStatus"){continue;}if(_71[i].getAttribute("sortable")==="false"){continue;}this.setHeaderSortImage(_73,0,0);}};_._a._k.prototype.drawHeaderSortImages=function(){var _74=this.htmlInfo.head.rowArr;for(var i=0,nSortOrd=0;i<this._sortArr.length;i++){var _76="";if(_74.length>1&&this.options.sortedImagePosition=="top"){var _77=this.headerToBodyRelation[this._sortArr[i].headerId];var _78=this.getColumnIndex(_77);var _79=_74[0];for(var j=0;j<_79.length;j++){if(_79[j]["@col"]==_78){_76=_79[j].id;break;}}}else{_76=this._sortArr[i].headerId;}this.setHeaderSortImage(_76,this._sortArr[i].sortOrder,i+1);}};_._a._k.prototype.setHeaderSortImage=function(_7b,_7c,_7d){var td=this.getElementById(this.id+"_"+_7b);if(td==undefined){_.logger.printLog("headerId : "+_7b+"\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return;}var _7c=parseInt(_7c,10);var _7d=parseInt(_7d,10);if(isNaN(_7d)||_7d<=0||this._sortArr.length<2){_7d="";}else{_7d+="";}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");if(this.options.showSortableImage!==true){var _7f;if(_7c!==0){_7f=_._G.first(td);if(_7f.nodeName.toLowerCase()=="nobr"){_7f=td.innerHTML;td.innerHTML="";}else{_7f=td.removeChild(_7f);}this.headerObjArr[_7b]=_7f;var _80=(_7c==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc";td.innerHTML="<table sort='sort' style='width:100%;height:100%;'><tr><td></td><td style='width:10px;background-repeat:no-repeat;background-position:top center; font-size:9px; vertical-align:bottom;' class='"+_80+"'>"+_7d+"</td></tr></table>";var tds=td.getElementsByTagName("td");if(typeof _7f=="string"){tds[0].innerHTML=_7f;}else{tds[0].appendChild(_7f);}}}else{var _82=this.headerObj[_7b];if(!_82){_82=td.getElementsByTagName("nobr")[0];}else{if(_82.render){_82=_82.render;}}_82.parentNode.removeChild(_82);var _80=(_7c==0)?"w2grid_head_sort_none":((_7c==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc");td.innerHTML="<div sort='sort' class = 'w2grid_head_sort_div_main "+_80+"'>"+"<div class = 'w2grid_head_sort_div_sub'>"+_7d+"</div>"+"</div>";var tds=td.getElementsByTagName("div");tds[0].appendChild(_82);}};_._a._k.prototype._clearHeaderSortImage=function(td,_84){var _85=td.getElementsByTagName(_84);if(_85.length>0&&_85[0].getAttribute("sort")=="sort"){var _86=this.headerObjArr[td.getAttribute("header_id")];if(_86){if(typeof _86=="string"){td.innerHTML=_86;}else{_86=td.appendChild(_86);td.removeChild(_86.previousSibling);}}}};_._a._k.prototype.getColIdByHeaderId=function(_87){return this.headerToBodyRelation[_87];};_._a._k.prototype.setHeaderHide=function(_88){_88=_._G.getBoolean(_88);if(this.options.hideHeader!=_88){this.options.hideHeader=_88;var _89=this.getElementById(this.id+"_head_table");var _8a=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));if(_88){this.backUpHeadClass=_8a[0].className;_89.style.display="none";for(var i=0;i<_8a.length;i++){_8a[i].className="";}}else{_89.style.display="";if(this.backUpHeadClass){for(var i=0;i<_8a.length;i++){_8a[i].className=this.backUpHeadClass;}}}}};_._a._k.prototype.setHeaderDisabled=function(_8c,_8d){_8d=_._G.getBoolean(_8d);var td=this.getHeaderLayer(_8c);if(td){var _8f=this.headerObj[_8c];if(_8f){if(_8f.setDisabled){_8f.setDisabled(_8d);}else{if(_8f.render){_8f.render.disabled=_8d;}else{_8f.disabled=_8d;}}}else{td.disabled=_8d;}}};_._a._k.prototype.getHeaderID=function(_90){try{if(typeof _90=="string"){return _90;}var _91=this.head_table;if(!_91){return null;}_90+=this.defaultColCnt;var _92=_90;var _93=0;for(var i=0;i<_91.children.length;i++){var _95=_91.children[i].children;_93+=_95.length;if(_93>_90){var _96=_95[_92];if(_96){return _96.id.replace(this.id+"_","");}else{return null;}}else{_92-=_95.length;continue;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.getHeaderIndex=function(id){try{if(typeof id=="number"){return id;}var _98=this.head_table;if(!_98){_98=this.getElementById(this.id+"_head_table");}var _99=0;for(var i=0;i<_98.children.length;i++){var _9b=_98.children[i].children;for(var j=0;j<_9b.length;j++){if(_9b[j].id.replace(this.id+"_","")==id){var _9d=_99+j;return _9d-this.defaultColCnt;}}_99+=_9b.length;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.setHeaderStyle=function(_9e,_9f,_a0){try{var _a1=this.getElementById(this.id+"_head_table");var _a2=_a1.getElementsByTagName("th");if(_9e.wq_trim().toLowerCase()=="$rownum"){_9e="_headerRowNumber";}else{if(_9e.wq_trim().toLowerCase()=="$rowstatus"){_9e="_headerRowStatus";}else{if(typeof _9e=="number"){var _a3=_9e+this.defaultColCnt;headerTd=_a2[_a3];_9e=headerTd.getAttribute("header_id");}}}for(var j=0;j<_a2.length;j++){var _a5=_a2[j];if(_a5.getAttribute("header_id")==_9e){_._v.setStyle(_a5,_9f,_a0);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.drawHeader=function(_a6){try{if(!this.head_table){return;}if(this.headerDataObj==null){this.initHeaderDataObj();}var _a7=this.head_table;var _a8=_a7.getElementsByTagName("th");this.headerTempSum=[];if(_a6){var _a6=this.getColumnID(_a6);for(var i=0;i<_a8.length;i++){var _aa=_a8[i];var _ab=_aa.getAttribute("header_id");if(_ab){var _ac=this.headerDataObj[_ab];if(_ac){if(_ac.inputType=="expression"){var _ad=_ac.expression.match(/headercol(sum|avg|max|min)\s*\([^\)]*/g);if(_ad){for(var j=0;j<_ad.length;j++){if(_ad[j].split("(")[1].replaceAll("'","").replaceAll("\"","").wq_trim()==_a6){_ac.value=eval(_ac.expression);_aa.innerHTML="<nobr>"+_ac.formatter.format(_ac.value)+"</nobr>";}}}}}}}}else{for(var i=0;i<_a8.length;i++){var _aa=_a8[i];var _ab=_aa.getAttribute("header_id");if(_ab){var _ac=this.headerDataObj[_ab];if(_ac){if(_ac.inputType=="expression"){try{_ac.value=eval(_ac.expression);}catch(e1){}_aa.innerHTML="<nobr>"+_ac.formatter.format(_ac.value)+"</nobr>";}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.initHeaderDataObj=function(){try{var _af=this.head_table;var _b0=_af.getElementsByTagName("th");this.headerDataObj={};for(var j=0;j<_b0.length;j++){var _b2=_b0[j];var obj={};obj.id=_b2.getAttribute("header_id");var str=_b2.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.headercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.headercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.headercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.headercolmin( ");}var _b5=_b2.getAttribute("localeRef");if(_b5!=null){obj.value=this.getLocaleValue(_b5);}else{obj.value=_b2.getAttribute("value")||"";}obj.inputType=_b2.getAttribute("inputType");obj.dataType=_b2.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_b2.getAttribute("displayFormat")||"";obj.displayFormatter=_b2.getAttribute("displayFormatter")||"";obj.formatter=_._g.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);this.headerDataObj[obj.id]=obj;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype.headercolsum=function(_b6){if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_b6]){this.headerTempSum[_b6]={};}if(this.headerTempSum[_b6].sum===undefined){var _b7="";if(this.groupbyStatus.grouped){_b7=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"SUM('"+_b6+"')");}else{var _b8=this.getColumnAllDataArray(_b6);if(_b8.length>0){for(var i=0;i<_b8.length;i++){if(_b8[i].replace(/^\s+|\s+$/g,"")==""){_b8[i]="0";}}_b7=eval(_b8.join("+"));}}this.headerTempSum[_b6].sum=_b7;}return _._G.setPrecision(this.headerTempSum[_b6].sum);};_._a._k.prototype.headercolavg=function(_ba){var _bb=this.getColumnAllDataArray(_ba);if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_ba]){this.headerTempSum[_ba]={};}var _bc="";if(this.groupbyStatus.grouped){_bc=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"AVG('"+_ba+"')");return _bc;}else{if(this.headerTempSum[_ba].sum===undefined){if(_bb.length>0){for(var i=0;i<_bb.length;i++){if(_bb[i].replace(/^\s+|\s+$/g,"")==""){_bb[i]="0";}}_bc=eval(_bb.join("+"));}this.headerTempSum[_ba].sum=_bc;}if(this.headerTempSum[_ba].sum==""){return "";}else{return this.headerTempSum[_ba].sum/_bb.length;}}};_._a._k.prototype.headercolmax=function(_be){if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_be]){this.headerTempSum[_be]={};}if(this.headerTempSum[_be].max===undefined){var max=null;if(this.groupbyStatus.grouped){max=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MAX('"+_be+"')");}else{var _c0=this.getColumnAllDataArray(_be);for(var i=0;i<_c0.length;i++){var _c2=parseFloat(_c0[i]);if(!isNaN(_c2)){if(max==null||max<_c2){max=_c2;}}}max=(max==null)?"":max;max=_._G.setPrecision(max);}this.headerTempSum[_be].max=max;}return this.headerTempSum[_be].max;};_._a._k.prototype.headercolmin=function(_c3){if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_c3]){this.headerTempSum[_c3]={};}if(this.headerTempSum[_c3].min===undefined){var min=null;if(this.groupbyStatus.grouped){min=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MIN('"+_c3+"')");}else{var _c5=this.getColumnAllDataArray(_c3);for(var i=0;i<_c5.length;i++){var _c7=parseFloat(_c5[i]);if(!isNaN(_c7)){if(min==null||min>_c7){min=_c7;}}}min=(min==null)?"":min;min=_._G.setPrecision(min);}this.headerTempSum[_c3].min=min;}return this.headerTempSum[_c3].min;};_._a.headerInfo=function(_c8,_c9){try{this.options={id:"",value:"",inputType:"text",useFilter:false,textAlign:""};this.mainGrid=_c9;this.mainGridId="G_"+this.mainGrid.id+"__";if(_c8){this.setOptions(_c8);}this.id=this.options.id;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._k.prototype._setHeaderInfo=function(_ca,td){this.headerInfoHash2[_ca]=td;};_._a.headerInfo.prototype.setOptions=function(_cc){this.options.useFilter=_._G.getBoolean(_._h.getConfiguration("/WebSquare/grid/header/column/useFilter/@value"));var _cd=[];for(var _ce in this.options){_cd[_ce.toLowerCase()]=_ce;}var _cf=_cc.attributes;var _d0=_._t.parse("<w2:td xmlns:w2=\"http://www.inswave.com/websquare\"></w2:td>",true);this.xml=_d0.documentElement;for(var i=0;i<_cf.length;i++){var _d2=_cf[i];var _d3=_d2.name;var _d4=_d2.value;if(_d3=="xmlns:w2"){continue;}this.xml.setAttribute(_d3,_d4);if(_d3=="class"){this.options["className"]=_d4;}else{if(_d4.wq_trim()!=""){if(_cd[_d3]){_d3=_cd[_d3];}if(typeof this.options[_d3]=="boolean"){_d4=_._G.getBoolean(_d4);}else{if(typeof this.options[_d3]=="Number"){_d4=_._G.getNumber(_d4);}}this.options[_d3]=_d4;}}}};;WebSquare.uiplugin.headerController=_._a._k;_._a.aB=function(){};_._a.aB.prototype.getLastFocusedCell=function(){if(this.focusedCell.length>0){return this.focusedCell[this.focusedCell.length-1];}else{var _1={};_1.focusedRowIndex=-1;_1.focusedColIndex=null;return _1;}};_._a.aB.prototype.getFocusedRowIndex=function(){var _2=this.getLastFocusedCell();return _2.focusedRowIndex;};_._a.aB.prototype.getAllFocusedIndex=function(){var _3=this.focusedCell;var _4=[];for(var i=0;i<_3.length;i++){var _6={};_6["col"]=_3[i]["focusedColIndex"];_6["row"]=_3[i]["focusedRowIndex"];_4.push(_6);}return _4;};_._a.aB.prototype.getFocusedColumnIndex=function(){var _7=this.getLastFocusedCell();return _7.focusedColIndex;};_._a.aB.prototype.getFocusedColumnID=function(){return this.getColumnID(this.getFocusedColumnIndex());};_._a.aB.prototype.getFocusedRowStatus=function(){var _8=this.getFocusedRowIndex();if(_8==-1){return null;}return this.getRowStatus(_8);};_._a.aB.prototype.setFocusedCell2=function(_9,_a,_b){try{var _b=_._G.getBoolean(_b);var _a=this.getColumnIndex(_a);var _c=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");var _d=this.getLastFocusedCell();var _e=_b&&(_d.focusedColIndex==_a);if(this.getReadOnly("all",_9,_a)||this.getDisabled("all",_9,_a)){_e=false;}if(this.editedCell&&!this.editedCell.handleEndEdit(null,_e)){return false;}if(!_c){var _f=this.rowIndex+this.lastIndex;var _10=this.getDataLength();if(_9<this.rowIndex||_9>_f){if(_9<this.rowIndex){var _11=_9-this.rowIndex;}else{var _11=_9-_f;}if(_9>_f&&this.hasSubtotal){this.rollbackCommitFlag=false;for(var _12 in this.subtotalTableList){if(_f<_10-1){var _13=this.getCellData(_f,_12);var _14=this.getCellData(_f+1,_12);if(_13!=_14){_11++;}}}this.rollbackCommitFlag=true;}var _15=this.rowIndex+_11;_15=(_15<0)?0:_15;_15=(_15>=_10-this.lastIndex)?_10-this.lastIndex:_15;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_15,0,"keymove",_e);this.lastIndex=this.getLastIndex(this.lastDisplayedRow);}}var _16=_9-(this.rowIndex>0?this.rowIndex:0);var td=this.data_td_list[_a+_16*this.oneRowDataLength];if(td){this._setFocusedCell({ctrl:false},td,{editMode:_b,dont_hide:_e,dont_fixScroll:true});return true;}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aB.prototype.setFocusedCell=function(_18,_19,_1a){try{if(this.options.focusMode=="none"){return;}if(arguments.length==0||arguments.length==1){var _1a=arguments.length==0?false:arguments[0];var _1b=this.colIndexInfo.body.colInfo.colIndexMatch;if(this.focusedCell.length>0){var _18=this.focusedCell[this.focusedCell.length-1].focusedRowIndex;var _19=this.focusedCell[this.focusedCell.length-1].focusedColIndex;}else{if(this.lastFocusedCell&&this.lastFocusedCell.focusedColIndex!=null&&this.lastFocusedCell.focusedRowIndex>=0){var _18=this.lastFocusedCell.focusedRowIndex;var _19=this.lastFocusedCell.focusedColIndex;}else{var _1c=this.getLastFocusedCell();var _18=_1c.focusedRowIndex;var _19=_1c.focusedColIndex;if(_19==null||_18==-1){this.focusedCell=[{focusedRowIndex:0,focusedColIndex:_1b.length-this.defaultColCnt-1}];this.moveHorizontal(null,"home");if(_1a){this.setFocusedCell(true);}return;}}}}var _1d=this.getDataLength();_19=this.getColumnIndex(_19);if(_18<0||_18>=_1d||_19<0||_19>=this.oneRowDataLength){return;}var _1e=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");_1a=_._G.getBoolean(_1a);if(this.delayedDraw({rowIndex:_18})){this.focusedCell=[{focusedRowIndex:_18,focusedColIndex:_19}];return;}var _1f=this.getElementById(this.id+"_scrollY_div");if(_1f&&_1f.scrollTop==0&&this.rowIndex>0){_1f.scrollTop=this.lastScrollYTop;}if(!_1e){var _20=_18-(this.rowIndex>0?this.rowIndex:0);if(_20<0){this.scrollEvent=false;_1f.scrollTop=20*_18;this.drawData(_18,0);_20=0;}else{if(_20>this.lastIndex){var _21=(_18+this.lastIndex+1>_1d)?_1d-this.lastIndex-1:_18;this.scrollEvent=false;this.checkScrollEnd=true;_1f.scrollTop=20*_21;if(_21>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}this.drawData(_21,0);_20=_18-this.rowIndex;}}}var td=this.data_td_list[_19+_20*this.oneRowDataLength];if(td){this._setFocusedCell({ctrl:false},td,{editMode:_1a});}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aB.prototype.removeFocusedCell=function(){try{this.lastFocusedCell=this.getLastFocusedCell();this.applyFocusedCellOut();this.focusedCell=[];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aB.prototype.applyFocusedCell=function(_23,_24){if(!_24){this.applyFocusedCellOut();this.focusedCell=[];}if(_23!=null){this.applyFocusedCellIn(_23);var _25={};_25.focusedTd=_23;this.focusedCell.push(_25);}};_._a.aB.prototype._setFocusedCell=function(e,_27,_28){var _28=_28||{};var _29=e.ctrlKey;var _2a=e.shiftKey;var _2b=_27.className;if(_2b.indexOf("_rowNum")>=0||_2b.indexOf("_rowStatus")>=0||_2b.indexOf("_groupby")>=0||_2b.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}var _2c=true;var _2d=this.getLastFocusedCell();if(this.focusedCell.length>0){if(_2d.focusedTd==_27){_2c=false;}}if(_2c&&this.editedCell){if(!this.editedCell.handleEndEdit(e,!!_28.dont_hide)){return false;}}var _2e=this.getFocusedRowIndex();var _2f=this.getFocusedColumnIndex();if(!_29&&!_2a){this.applyFocusedCellOut();this.focusedCell=[];}var _30=parseInt(_27.getAttribute("tdIndex"));var _31=parseInt(_30/this.realRowDataLength);var _32=parseInt(_27.getAttribute("colIndex"));var _33=_31+this.rowIndex;var _34=_30%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);if(this.focusedCell.length>0&&this.options.useShiftKey&&_2a){var _35=this.focusedCell[0];var _36=_35["focusedRowIndex"];var _37=_35["focusedColIndex"];var _38=_36>_33;var _39=_37>_34;this.applyFocusedCellOut();this.focusedCell=[];for(var i=_36;_38?(i>=_33):(i<=_33);_38?(i--):(i++)){for(var j=_37;_39?(j>=_34):(j<=_34);_39?(j--):(j++)){var td=this.data_td_list[j+(i-this.rowIndex)*this.oneRowDataLength];if(i<this.rowIndex){td=null;}var _3d=this.getCellInfo(j);var _3e=this._getRealColIndex("body",_3d.options.col_id)+this.defaultColCnt;if(_3d.options.blockSelect||this.hiddenList[_3e]){continue;}this.focusedCell.push({focusedTd:td,focusedRowIndex:i,focusedColIndex:j});if(td!=null){this.applyFocusedCellIn(td,true);}if(_3d.options.inputType==""||(_3d.options.inputType=="text"&&!_3d.options.embeddedInput)||_3d.options.inputType=="textImage"||_3d.options.inputType=="calendar"){this.getInput(_3d).options.editType=_3d.options.editType?_3d.options.editType:this.options.editType;}}}if(!_28.dont_fixScroll){if(_32>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}_2d=this.getLastFocusedCell();}else{var _3d=this.getCellInfo(_27);if(_3d.options.blockSelect){return;}this.focusedCell.push({focusedTd:_27,focusedRowIndex:_33,focusedColIndex:_34});if(!_28.dont_fixScroll){if(_32>=this.getFixedColumnLastIndex()){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}this.applyFocusedCellIn(_27,!!_28.editMode);_2d=this.getLastFocusedCell();if(this.options.focusMode=="cell"){for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_2d.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);break;}}}else{if(this.options.focusMode=="both"){var _3f=[];for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_2d.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}}}else{if(this.options.focusMode=="row"){var _40=_2d.focusedTd?_2d.focusedTd.parentNode:null;for(var i=this.focusedCell.length-2;i>=0;i--){var _41=this.focusedCell[i];if(_41.focusedTd!=null){var _42=_41.focusedTd.parentNode;var _31=parseInt(_42.getAttribute("trIndex"));while(_31>0){_31--;_42=_._G.prev(_42);}do{if(_42==_40){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}_42=_._G.next(_42);}while(_42.getAttribute("trIndex")!="0");}}}}}}var _43=this.getCellInfo(_34);if(_43.options.inputType==""||(_43.options.inputType=="text"&&!_43.options.embeddedInput)||_43.options.inputType=="textImage"||_43.options.inputType=="calendar"){this.getInput(_43).options.editType=_43.options.editType?_43.options.editType:this.options.editType;}if(_2e!=_33||_2f!=_34){_._F.fireEvent(this,"oncellindexchange",_33,_34,_2e,_2f);}if(_2e!=_33){_._F.fireEvent(this,"onrowindexchange",_33,_2e);}if(_2f!=_34){_._F.fireEvent(this,"oncolumnindexchange",_34,_2f);}if(_28.editMode){this.setEditMode(_27);}};_._a.aB.prototype.applyFocusedCellOut=function(){if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){var _45=this.focusedCell[i];this._applyFocusedCellOut(_45);}}};_._a.aB.prototype._applyFocusedCellOut=function(_46){if(this.options.focusMode=="row"||this.options.focusMode=="both"){if(_46.focusedTd!=null){this.removeFocusRowStyle(_46.focusedTd);}}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){if(_46.focusedTd!=null){if(this.options.focusFlow!="linear"){_46.focusedTd.setAttribute("tabIndex",-1);}this.removeClass(_46.focusedTd,"focusedTd");this.applyCellStyleOptions(_46.focusedRowIndex,_46.focusedColIndex,true);if(this.options.rowMouseOver){this.addRowOverStyle(this.overElem);}}}};_._a.aB.prototype.removeFocusRowStyle=function(_47){if(_47==null){return;}var _48=_47.parentNode;var _49=parseInt(_48.getAttribute("trIndex"));while(_49>0){_49--;_48=_._G.prev(_48);}var _4a=_._G.first(_48);var _4b=parseInt(_4a.getAttribute("tdIndex"));var _49=parseInt(_4b/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _4d=this.all_data_td_list[_4b+i];this.removeClass(_4d,"focusedTr");if(i<this.defaultColCnt){var _4e=_4d.className;if(_4e.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_4d.style.backgroundColor="";_4d.removeAttribute("style_bak");}}else{if(_4e.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_4d.style.backgroundColor="";_4d.removeAttribute("style_bak");}}}else{var _4f=parseInt(_4d.getAttribute("tdIndex"));var _50=_49+this.rowIndex;var _51=_4f%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_50,_51,true);}}};_._a.aB.prototype.applyFocusedCellIn=function(_52,_53){if(this.options.focusMode=="none"){return;}var _54=this.getCellInfo(_52.getAttribute("col_id"));var _55=_54.options.inputType||"text";this.focusedByApi=true;if(_54.options.embeddedInput){if(!_53){var _56=this.getElemRowIndex(_52);if(_55=="text"&&(this.getEditDisabled(_56,_54.id)||this.getEditReadOnly(_52,_56))){_52.setAttribute("tabIndex",0);_52.focus();}else{var _57=this.getInput(_54,_52);_57.focus();}}}else{_52.setAttribute("tabIndex",0);var _58=_55=="text"||_55=="textarea"||_55=="textImage"||_55=="calendar"||_55=="select";if(_53&&_58){}else{_52.focus();}}var _59=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");if(!_59&&!_53){var _5a=this.getElementById(this.id+"_dataLayer");_5a.scrollLeft=0;_5a.scrollTop=0;}if(this.options.focusMode=="row"||this.options.focusMode=="both"){this.setFocusRowStyle(_52);}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){this.addClass(_52,"focusedTd");var _5b=parseInt(_52.getAttribute("tdIndex"));var _5c=parseInt(_5b/this.realRowDataLength);var _5d=_5c+this.rowIndex;var _5e=_5b%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_5d,_5e);}};_._a.aB.prototype.setFocusRowStyle=function(_5f){if(_5f==null){return;}var _60=_5f.parentNode;var _61=parseInt(_60.getAttribute("trIndex"));while(_61>0){_61--;_60=_._G.prev(_60);}var _62=_._G.first(_60);var _63=parseInt(_62.getAttribute("tdIndex"));var _61=parseInt(_63/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _65=this.all_data_td_list[_63+i];this.addClass(_65,"focusedTr");if(i<this.defaultColCnt){var _66=_65.className;if(_66.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_65.style.backgroundColor=this.options.selectedRowColor.wq_trim();_65.removeAttribute("style_bak");}}else{if(_66.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_65.style.backgroundColor=this.options.selectedRowColor.wq_trim();_65.removeAttribute("style_bak");}}}else{var _67=parseInt(_65.getAttribute("tdIndex"));var _68=_61+this.rowIndex;var _69=_67%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_68,_69);}}};_._a.aB.prototype.outFocusedCell=function(){this.removeFocusedCell();};_._a.aB.prototype.getFocusedCellData=function(){var _6a=this.getFocusedRowIndex();var _6b=this.getFocusedColumnIndex();if(_6a>-1){return this.getCellData(_6a,_6b);}else{return null;}};_._a.aB.prototype.getFocusedRowData=function(){var _6c=this.getFocusedRowIndex();if(_6c>-1){return this.getRowData(_6c);}else{return null;}};_._a.aB.prototype.getFocusedRowXML=function(){var _6d=this.getFocusedRowIndex();if(_6d>-1){return this.getRowXML(_6d);}else{return null;}};_._a.aB.prototype.removeRowFocus=function(_6e){var _6f=[];for(var i=0;i<this.focusedCell.length;i++){if(_6e!=this.focusedCell[i].focusedRowIndex){_6f.push(this.focusedCell[i]);}else{this._applyFocusedCellOut(this.focusedCell[i]);}}this.focusedCell=_6f;};_._a.aB.prototype.setFocusedHeaderObj=function(_71){var td=this.getHeaderLayer(_71);if(td){var _73=this.headerObj[_71];if(_73){switch(_73.headInputType){case "select":case "checkbox":case "input":_73.focus();break;default:break;}}}};;WebSquare.uiplugin.focusController=_._a.aB;_._a._V=function(_1){};_._a._V.prototype._subtotalHidden=function(_2){try{for(var i=0;i<_2.length;i++){if(this.isIE6or7){var _4=_2[i].getElementsByTagName("td");for(var j=0;j<_4.length;j++){_4[j].style.borderWidth="0px";}}_2[i].style.display="none";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._V.prototype.subtotalHidden=function(_6){try{if(!this.hasSubtotal){return;}if(_6){if(typeof _6.index=="number"){var _7=this.drawedSubtotal.splice(_6.index,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}if(typeof _6.rowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex==_6.rowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.startRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex>=_6.startRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}if(typeof _6.endRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex<=_6.endRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var j=0;j<_7.length;j++){this._subtotalHidden(_7[j]);}}}}}else{this.drawedSubtotal=[];for(var _a in this.subtotalTableList){var _b=this.subtotalRowHash[_a];if(_b){this._subtotalHidden(_b);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._V.prototype.refreshSubtotalRow=function(_c){var st=_c-this.rowIndex;for(var i=st;i<=this.lastIndex;i++){this.drawSubtotalRow(i+1,i+this.rowIndex);}};_._a._V.prototype.drawSubtotalRow=function(_f,_10){if(!this.hasSubtotal||_10<0||_10>=this.getDataLength()){return;}for(var _11 in this.subtotalTableList){var _12=this.getCellData(_10,_11);var _13=_12+"_12";if(_10<this.getDataLength()-1){var _13=this.getCellData(_10+1,_11);}if(_12!=_13){var _14=this.subtotalRowHash[_11];var _15=this.subtotalTableList[_11];var _16=_15.rows.length;var _17=[];_17.rowIndex=_10;_17.targetID=_11;for(var i=0;i<_16;i++){var _19=_14[_f*_16+i];if(_19){if(this.isIE6or7){var tds=_19.getElementsByTagName("td");for(var j=0;j<tds.length;j++){tds[j].style.borderWidth="";}}_19.style.display="";_17.push(_19);this.lastSubtotalRow=_19;}}this.drawedSubtotal.push(_17);this.setSubtotalData(_15,_11,_12,_10,_17);}}};_._a._V.prototype.hasUpperSubtotalRow=function(_1c){if(!this.hasSubtotal||_1c<0||_1c>=this.getDataLength()){return false;}for(var _1d in this.subtotalTableList){var _1e=this.getCellData(_1c,_1d);var _1f=_1e;if(_1c<this.getDataLength()){var _1f=this.getCellData(_1c-1,_1d);}if(_1e!=_1f){return true;}}return false;};_._a._V.prototype.setSubtotalData=function(_20,_21,_22,_23,_24){var _25=this.subtotalDataArr[_21+"_"+_22];if(_25==null){_25=this.getSubtotalData(_20,_21,_22,_23);}for(var i=0;i<_24.length;i++){var _27=_24[i].getElementsByTagName("td");for(var j=0;j<_27.length;j++){var _29=_27[j];var _2a=_29.getAttribute("id");if(_25[_2a]!=null){_29.innerHTML="<nobr>"+_25[_2a]+"</nobr>";}else{if(_29.getAttribute("colMerge")=="true"){_29.style.borderTopWidth="0px";_29.style.borderBottomWidth="0px";}else{var _2b=_29.getAttribute("value");_2b=_2b!=null?_2b:"";_29.innerHTML="<nobr>"+_2b+"</nobr>";}}}}};_._a._V.prototype.getSubtotalData=function(_2c,_2d,_2e,_2f){var obfuscator_targetID=_2d;var _30=this.subtotalObj[_2d];if(_30==null){_30=[];for(var i=0;i<_2c.rows.length;i++){var _32=_2c.rows[i].getElementsByTagName("td");for(var j=0;j<_32.length;j++){var _34=_32[j];if(_34.getAttribute("inputType")=="expression"){var obj={};obj.id=_34.getAttribute("id");var str=_34.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.subtotalcolsum( obfuscator_st, obfuscator_en ,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.subtotalcolavg( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.subtotalcolmax( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.subtotalcolmin( obfuscator_st, obfuscator_en ,");str=str.replace(/[tT][aA][rR][gG][eE][tT][cC][oO][lL][vV][aA][lL][uU][eE][\s]*[(]/g,"this.getCellData( obfuscator_en , obfuscator_targetID");}obj.dataType=_34.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_34.getAttribute("displayFormat")||"";obj.displayFormatter=_34.getAttribute("displayFormatter")||"";obj.formatter=_._g.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);_30[obj.id]=obj;}}}this.subtotalObj[_2d]=_30;}var _37=_2f;while(_37>0&&_2e==this.getCellData(_37-1,_2d)){_37--;}var obfuscator_st=_37;var obfuscator_en=_2f;var _38=[];for(var id in _30){var obj=_30[id];var _3a=eval(obj.expression);_38[id]=obj.formatter.format(_3a);}return _38;};_._a._V.prototype.subtotalcolsum=function(st,en,_3d){var _3e=this.getColumnSubtotalRangeDataArray(st,en,_3d);var _3f="";if(_3e.length>0){_3f=0;for(var i=0;i<_3e.length;i++){if(this.cellInfoHash[_3d].options.dataType==="bigDecimal"){_3f=_._w(_3f+"").plus(_3e[i]);}else{_3f+=(_3e[i]-0);}}}return _3f;};_._a._V.prototype.subtotalcolavg=function(st,en,_43){var _44=this.getColumnSubtotalRangeDataArray(st,en,_43);var _45="";if(this.cellInfoHash[_43].options.dataType==="bigDecimal"){_45="0";for(var i in _44){_45=_._w(_45).plus(_44[i]);}_45=_45.divide(_._w(_44.length));}else{if(_44.length>0){_45=eval(_44.join("+"))/_44.length;}}return _45;};_._a._V.prototype.subtotalcolmax=function(st,en,_49){var _4a=this.getColumnSubtotalRangeDataArray(st,en,_49);var max=null;if(this.cellInfoHash[_49].options.dataType==="bigDecimal"){for(var i in _4a){max=(max==null)?_4a[i]:max.compare(_4a[i]);}}else{for(var i=0;i<_4a.length;i++){var _4d=parseFloat(_4a[i]);if(!isNaN(_4d)){if(max==null||max<_4d){max=_4d;}}}}max=(max==null)?"":max;return max;};_._a._V.prototype.subtotalcolmin=function(st,en,_50){var _51=this.getColumnSubtotalRangeDataArray(st,en,_50);var min=null;if(this.cellInfoHash[_50].options.dataType==="bigDecimal"){for(var i in _51){min=(min==null)?_51[i]:min.compare(_51[i],true);}}else{for(var i=0;i<_51.length;i++){var _54=parseFloat(_51[i]);if(!isNaN(_54)){if(min==null||min>_54){min=_54;}}}}min=(min==null)?"":min;return min;};_._a._V.prototype.getColumnSubtotalRangeDataArray=function(st,en,_57){var _58=[];var _59=this.getColumnID(_57);var _5a;for(var i=st;i<=en;i++){if(this.cellInfoHash[_59].options.dataType==="bigDecimal"){_5a=_._w(this.getCellData(i,_57));}else{_5a=this.getCellData(i,_57);_5a+="";}if(typeof _5a=="undefined"||_5a==""){_5a="0";}else{_58.push(_5a);}}return _58;};;WebSquare.uiplugin.subtotalDataController=_._a._V;_._a._R=function(_1){};_._a._R.prototype.initializeFooter=function(){try{if(!this.hasFooter){return;}var _2=this.getDomList("foot_tds","td",this.getElementById(this.id+"_foot_table"));for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("id");if(_5){td.setAttribute("footer_id",_5);td.setAttribute("id",this.id+"_"+_5);td.setAttribute("class",td.getAttribute("class")+" "+this.id+"_footer__column"+i);var _6=td.getAttribute("inputType");if(_6!="expression"){var _7="";var _8=td.getAttribute("localeRef");if(_8!=null){_7=this.getLocaleValue(_8);}else{_7=td.getAttribute("value");if(_7==null){_7="";}}td.innerHTML="<nobr>"+_7+"</nobr>";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.drawFooter=function(_9){if(!this.hasFooter||!this.drawFooterStatus){return;}if(this.footerDataObj==null){this.initFooterDataObj();}var _a=this.getElementById(this.id+"_foot_table");var _b=_a.getElementsByTagName("td");this.footerTempSum=[];if(_9){var _9=this.getColumnID(_9);for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _f=this.footerDataObj[_e];if(_f.inputType=="expression"){var _10=_f.expression.match(/footercol(sum|avg|max|min)\s*\([^\)]*/g);if(_10){for(var j=0;j<_10.length;j++){if(_10[j].indexOf(_9)>=0){_f.value=eval(_f.expression);_d.innerHTML="<nobr>"+_f.formatter.format(_f.value)+"</nobr>";}}}}}}}else{for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _f=this.footerDataObj[_e];if(_f.inputType=="expression"){try{_f.value=eval(_f.expression);}catch(e1){}}_d.innerHTML="<nobr>"+_f.formatter.format(_f.value)+"</nobr>";}}}};_._a._R.prototype.initFooterDataObj=function(){var _12=this.getElementById(this.id+"_foot_table");var _13=_12.getElementsByTagName("td");this.footerDataObj={};for(var j=0;j<_13.length;j++){var _15=_13[j];var obj={};obj.id=_15.getAttribute("footer_id");var str=_15.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");}var _18=_15.getAttribute("localeRef");if(_18!=null){obj.value=this.getLocaleValue(_18);}else{obj.value=_15.getAttribute("value")||"";}obj.inputType=_15.getAttribute("inputType");obj.dataType=_15.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_15.getAttribute("displayFormat")||"";obj.displayFormatter=_15.getAttribute("displayFormatter")||"";obj.formatter=_._g.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);this.footerDataObj[obj.id]=obj;}};_._a._R.prototype.footercolsum=function(_19){if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_19]){this.footerTempSum[_19]={};}if(this.footerTempSum[_19].sum===undefined){var _1a="";if(this.groupbyStatus.grouped){_1a=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"SUM('"+_19+"')");}else{var _1b=this.getColumnAllDataArray(_19);if(_1b.length>0&&this.cellInfoHash[_19].options.dataType=="bigDecimal"){var _1c=_._w("0");for(var i=0;i<_1b.length;i++){if(_1b[i].replace(/^\s+|\s+$/g,"")==""){_1b[i]="0";}}for(var j in _1b){_1b[j]=_._w(_1b[j]);_1c=_1c.plus(_1b[j]);}_1a=_1c.toString();}else{if(_1b.length>0){for(var i=0;i<_1b.length;i++){if(_1b[i].replace(/^\s+|\s+$/g,"")==""){_1b[i]="0";}}if(this.options.excludeDeletedRows){var _1f=this.getDeletedIndex();for(var i=0;i<_1f.length;i++){_1b[_1f[i]]="0";}}_1a=eval(_1b.join("+"));}}}this.footerTempSum[_19].sum=_1a;}return _._G.setPrecision(this.footerTempSum[_19].sum);};_._a._R.prototype.footercolavg=function(_20){var _21=this.getColumnAllDataArray(_20);if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_20]){this.footerTempSum[_20]={};}var _22="";if(this.groupbyStatus.grouped){_22=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"AVG('"+_20+"')");return _22;}else{if(this.footerTempSum[_20].sum===undefined){if(_21.length>0&&this.cellInfoHash[_20].options.dataType=="bigDecimal"){var _23=_._w("0");for(var i=0;i<_21.length;i++){if(_21[i].replace(/^\s+|\s+$/g,"")==""){_21[i]="0";}}for(var j in _21){_21[j]=_._w(_21[j]);_23=_23.plus(_21[j]);}return _23.divide(_._w(_21.length)).toString();}else{if(_21.length>0){for(var i=0;i<_21.length;i++){if(_21[i].replace(/^\s+|\s+$/g,"")==""){_21[i]="0";}}_22=eval(_21.join("+"));}}this.footerTempSum[_20].sum=_22;}if(this.footerTempSum[_20].sum==""){return "";}else{if(this.cellInfoHash[_20].options.dataType=="bigDecimal"){_22=_._w(this.footerTempSum[_20].sum).divide(_._w(_21.length)).toString();}else{_22=this.footerTempSum[_20].sum/_21.length;}return _22;}}};_._a._R.prototype.footercolmax=function(_26){if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_26]){this.footerTempSum[_26]={};}if(this.footerTempSum[_26].max===undefined){var max=null;if(this.groupbyStatus.grouped){max=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MAX('"+_26+"')");}else{var _28=this.getColumnAllDataArray(_26);if(_28.length>0&&this.cellInfoHash[_26].options.dataType=="bigDecimal"){var _29;for(var i=0;i<_28.length;i++){if(_28[i].replace(/^\s+|\s+$/g,"")==""){_28[i]="0";}}for(var j in _28){_28[j]=_._w(_28[j]);_29=(_29==null)?_28[j]:_29.compare(_28[j],false);}max=_29.toString();}else{for(var i=0;i<_28.length;i++){var _2c=parseFloat(_28[i]);if(!isNaN(_2c)){if(max==null||max<_2c){max=_2c;}}}max=(max==null)?"":max;max=_._G.setPrecision(max);}this.footerTempSum[_26].max=max;}}return this.footerTempSum[_26].max;};_._a._R.prototype.footercolmin=function(_2d){if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_2d]){this.footerTempSum[_2d]={};}if(this.footerTempSum[_2d].min===undefined){var min=null;if(this.groupbyStatus.grouped){min=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MIN('"+_2d+"')");}else{var _2f=this.getColumnAllDataArray(_2d);if(_2f.length>0&&this.cellInfoHash[_2d].options.dataType=="bigDecimal"){var _30;for(var i=0;i<_2f.length;i++){if(_2f[i].replace(/^\s+|\s+$/g,"")==""){_2f[i]="0";}}for(var j in _2f){_2f[j]=_._w(_2f[j]);_30=(_30==null)?_2f[j]:_30.compare(_2f[j],true);}min=_30.toString();}else{for(var i=0;i<_2f.length;i++){var _33=parseFloat(_2f[i]);if(!isNaN(_33)){if(min==null||min>_33){min=_33;}}}min=(min==null)?"":min;min=_._G.setPrecision(min);}this.footerTempSum[_2d].min=min;}}return this.footerTempSum[_2d].min;};_._a._R.prototype.getColumnAllDataArray=function(_34){var _35=[];for(var i=0;i<this.getDataLength();i++){var _37=this.getCellData(i,_34);_37+="";if((typeof _37=="undefined"||_37=="")){_37="0";}else{_35.push(_37);}}return _35;};_._a._R.prototype.getFooterData=function(_38,_39){var _3a=this.getElementById(this.id+"_foot_table");var _3b=_3a.getElementsByTagName("td");if(typeof _38=="number"){var _3c=_38+this.defaultColCnt;footerTd=_3b[_3c];var _38=footerTd.getAttribute("footer_id");var _3d=this.footerDataObj[_38];var _3e=_3d.value;if(_3d.inputType=="expression"){_3e=eval(_3d.expression);}if(_39!="displayData"){return _3e;}else{return _3d.formatter.format(_3e);}}else{for(var j=0;j<_3b.length;j++){var _40=_3b[j];if(_40.getAttribute("footer_id")==_38){var _3d=this.footerDataObj[_38];var _3e=_3d.value;if(_3d.inputType=="expression"){_3e=eval(_3d.expression);}if(_39!="displayData"){return _3e;}else{return _3d.formatter.format(_3e);}}}}};_._a._R.prototype.setFooterValue=function(_41,_42){this.setFooterData(_41,_42);};_._a._R.prototype.setFooterData=function(_43,_44){var _45=this.getElementById(this.id+"_foot_table");var _46=_45.getElementsByTagName("tbody")[0];var _47=_46.getElementsByTagName("td");if(typeof _43=="number"){var _48=_43+this.defaultColCnt;footerTd=_47[_48];_43=footerTd.getAttribute("footer_id");}for(var j=0;j<_47.length;j++){var _4a=_47[j];if(_4a.getAttribute("footer_id")==_43){var _4b=this.footerDataObj[_43];if(_4b.inputType=="text"){_4b.value=_44;_4a.innerHTML="<nobr>"+_4b.formatter.format(_4b.value)+"</nobr>";}}}};_._a._R.prototype.setFooterDisplayFormat=function(_4c,_4d){try{var _4e=this.getElementById(this.id+"_foot_table");var _4f=_4e.getElementsByTagName("td");if(typeof _4c=="number"){var _50=_4c+this.defaultColCnt;footerTd=_4f[_50];_4c=footerTd.getAttribute("footer_id");}for(var j=0;j<_4f.length;j++){var _52=_4f[j];if(_52.getAttribute("footer_id")==_4c){var _53=this.footerDataObj[_4c];_53.displayFormat=_4d;_53.formatter=_._g.createFormatter(_53.dataType,_53.displayFormat,_53.displayFormatter);if(_53.dataType=="number"){_52.innerHTML="<nobr>"+_53.formatter.format(_53.value)+"</nobr>";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.getFooterStyle=function(_54,_55){try{var _56=this.getElementById(this.id+"_foot_table");var _57=_56.getElementsByTagName("td");if(typeof _54=="number"){var _58=_54+this.defaultColCnt;footerTd=_57[_58];_54=footerTd.getAttribute("footer_id");}for(var j=0;j<_57.length;j++){var _5a=_57[j];if(_5a.getAttribute("footer_id")==_54){return _._v.getStyle(_5a,_55);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.setFooterStyle=function(_5b,_5c,_5d){try{var _5e=this.getElementById(this.id+"_foot_table");var _5f=_5e.getElementsByTagName("td");if(_5b.wq_trim().toLowerCase()=="$rownum"){_5b="_headerRowNumber";}else{if(_5b.wq_trim().toLowerCase()=="$rowstatus"){_5b="_headerRowStatus";}else{if(typeof _5b=="number"){var _60=_5b+this.defaultColCnt;footerTd=_5f[_60];_5b=footerTd.getAttribute("footer_id");}}}for(var j=0;j<_5f.length;j++){var _62=_5f[j];if(_62.getAttribute("footer_id")==_5b){_._v.setStyle(_62,_5c,_5d);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.getExcelAllFooterXML=function(_63){try{if(!_63){_63=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _64=[];_64.push("<array><![CDATA[");_64.push("[\"");var _65=this.getElementById(this.id+"_foot_table");var _66=_65.getElementsByTagName("tbody")[0];var _67=_66.getElementsByTagName("td");for(var j=0;j<_67.length;j++){var _69=_67[j];var _6a=_69.getAttribute("footer_id");if(_6a!="_headerRowNumber"&&_6a!="_headerRowStatus"){var _6b="";if(_69.getAttribute("inputType")!="expression"){childNode=_._G.first(_69);while(childNode!=null){_69=childNode;childNode=_._G.first(childNode);}_6b=_69.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _6c=this.footerDataObj[_6a];_6b=eval(_6c.expression);}_64.push(_6b);_64.push("\""+_63+"\"");}}_64[_64.length-1]="\"]";_64.push("]]></array>");return (_64.join(""));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.getExcelAllFooterXMLDisplay=function(_6d){try{if(!_6d){_6d=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _6e=[];_6e.push("<array><![CDATA[");_6e.push("[\"");var _6f=this.getElementById(this.id+"_foot_table");var _70=_6f.getElementsByTagName("tbody")[0];var _71=_70.getElementsByTagName("td");if(this.groupbyStatus.grouped){if(!this.footerDataObj){this.initFooterDataObj();}var _72=0;if(this.options.rowNumVisible){var _73=this.footerDataObj[_71[_72].getAttribute("footer_id")];var _74=_73.value||"";_6e.push(_74);_6e.push("\""+_6d+"\"");_72++;}if(this.options.rowStatusVisible){var _73=this.footerDataObj[_71[_72].getAttribute("footer_id")];var _74=_73.value||"";_6e.push(_74);_6e.push("\""+_6d+"\"");}}for(var j=0;j<_71.length;j++){var _76=_71[j];var _77=_76.getAttribute("footer_id");if(_77!="_headerRowNumber"&&_77!="_headerRowStatus"){var _74="";if(_76.getAttribute("inputType")!="expression"){childNode=_._G.first(_76);while(childNode!=null){_76=childNode;childNode=_._G.first(childNode);}_74=_76.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _73=this.footerDataObj[_77];_74=eval(_73.expression);_74=_73.formatter.format(_74);}_6e.push(_74);_6e.push("\""+_6d+"\"");}}_6e[_6e.length-1]="\"]";_6e.push("]]></array>");return (_6e.join(""));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.getExcelAllFooterXMLRaw=function(_78){try{if(!_78){_78=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _79=this.getElementById(this.id+"_foot_table");var _7a=_79.getElementsByTagName("tbody")[0];var _7b=_7a.getElementsByTagName("td");var _7c=[];for(var i=0;i<_7b.length;i++){var _7e=_7b[i];var _7f=_7e.getAttribute("footer_id");if(_7f!="_headerRowNumber"&&_7f!="_headerRowStatus"){childNode=_._G.first(_7e);while(childNode!=null){_7e=childNode;childNode=_._G.first(childNode);}_7c[_7c.length]=_7e.innerHTML;}}_7c[0]="<array><![CDATA[[\""+_7c[0];_7c[_7c.length-1]+="\"]]]></array>";return _7c.join("\""+_78+"\"");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._R.prototype.getExpressionValue=function(str){if(!this.hasFooter){this.footerTempSum=[];}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");var _81=eval(str);return _81;};;WebSquare.uiplugin.footerController=_._a._R;_._a._b=function(_1){};_._a._b.prototype.setStartRowNumber=function(_2){this.startRowNumber=_2;for(var i=0;i<=this.lastIndex;i++){this._drawRowNumData(i,i+this.rowIndex);}};_._a._b.prototype.setNoResultMessage=function(_4){this.options.noResultMessage=_4;this.displayNoResultMessage();};_._a._b.prototype.checkAll=function(_5,_6){var _7=this.getCellInfo(_5);if(_7.options.inputType!="checkbox"){$l("\uc120\ud0dd\ud558\uc2e0 \uceec\ub7fc\uc740 checkbox\uac00 \uc544\ub2d9\ub2c8\ub2e4.");return;}var _8=_7.options.trueValue;var _9=_7.options.falseValue;this.drawFooterStatus=false;for(var i=0;i<this.getDataLength();i++){data=this.getCellData(i,_5);if(_6==1||_6==true){if(data!=_8){this.setCellData(i,_5,_8);}}else{if(_6==0||_6==false){if(data!=_9){this.setCellData(i,_5,_9);}}else{var _b=(data==_8)?_9:_8;this.setCellData(i,_5,_b);}}}this.drawFooterStatus=true;this.drawFooter();this.drawHeader();};_._a._b.prototype.getColumnType=function(_c){var _d=this.getCellInfo(_c);return _d.options.inputType;};_._a._b.prototype.getDefaultStyle=function(){return this.options.style;};_._a._b.prototype.setCellChecked=function(_e,_f,_10){if(typeof _10!="boolean"){alert("\uc785\ub825\ub370\uc774\ud130\uac00 \uc633\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. true/false boolean \ud0c0\uc785\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694");return;}var _11=this.getCellInfo(_f);if(_11.options.inputType!="checkbox"&&_11.options.inputType!="radio"){alert("checkbox\ub098 radio\uac00 \uc544\ub2d9\ub2c8\ub2e4.");return;}if(_11.options.inputType=="radio"&&_10!=false){for(var i=0;i<this.getDataLength();i++){this.setCellData(i,_f,_11.options.falseValue);}this.drawColumnData(_f);}if(_10==true){_10=_11.options.trueValue;}else{_10=_11.options.falseValue;}this.setCellData(_e,_f,_10);};_._a._b.prototype.getGridHTML=function(){alert("\ud604\uc7ac \uad6c\ud604\uc911");};_._a._b.prototype.setColumnDefaultValue=function(_13,_14){try{var _15=this.getCellInfo(_13);_15.options.defaultValue=_14;this.drawColumnData(_13);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.redrawColumn=function(_16,_17){try{var _18=typeof _17=="undefined"?true:_17;this.drawColumnData(_16,_18);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.getDrawCount=function(){return this.getVisibleRowNum();};_._a._b.prototype.getVisibleRowNum=function(){return this.rowIndex>=0?this.lastIndex+1:0;};_._a._b.prototype.getTopRowIndex=function(){return this.rowIndex;};_._a._b.prototype.setTopRowIndex=function(_19){var _1a=this.getElementById(this.id+"_scrollY_div");(_19<=0)&&(_19=0);if(this.lastTopRowIndex!==null){(_19>this.lastTopRowIndex)&&(_19=parseInt(this.lastTopRowIndex+0.5,10));}else{if(_1a.offsetHeight<_1a.scrollHeight){if(this.rowIndex<_19){_19=(_19+this.lastIndex+1>this.getDataLength())?this.getDataLength()-this.lastIndex-1:_19;if(_19>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}}}else{_19=0;}}if(this.rowIndex!=_19){if(this.delayedDraw({rowIndex:_19})){return;}this.scrollEvent=false;this.checkScrollEnd=true;_1a.scrollTop=20*_19;this.drawData(_19);}};_._a._b.prototype.getBottomRowIndex=function(){return this.rowIndex>=0?this.rowIndex+this.lastIndex:-1;};_._a._b.prototype.setBottomRowIndex=function(_1b){this.drawBottomData(_1b);};_._a._b.prototype.getCellPosition=function(row,_1d,_1e){var _1d=this.getColumnIndex(_1d);var _1e=(_1e||"").toLowerCase();var td=this.data_td_list[_1d+row*this.oneRowDataLength];if(_1e=="top"){return td.offsetTop;}else{if(_1e=="left"){return td.offsetLeft;}}return null;};_._a._b.prototype.getCellSize=function(row,_21,_22){var _21=this.getColumnIndex(_21);var _22=(_22||"").toLowerCase();var td=this.data_td_list[_21+row*this.oneRowDataLength];if(_22=="width"){return td.clientWidth;}else{if(_22=="height"){return td.clientHeight;}}return null;};_._a._b.prototype.getHeaderPosition=function(_24,_25){var _25=(_25||"").toLowerCase();var td=this.getHeaderLayer(_24);if(_25=="top"){var top=td.offsetTop;if(this.options.groupbyZone){top+=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}return top;}else{if(_25=="left"){return td.offsetLeft;}}return null;};_._a._b.prototype.getHeaderSize=function(_28,_29){var _29=(_29||"").toLowerCase();var td=this.getHeaderLayer(_28);if(_29=="width"){return td.clientWidth;}else{if(_29=="height"){return td.clientHeight;}}return null;};_._a._b.prototype.setSummary=function(str){var _2c=this.getElementById(this.id+"_body_table");_2c.setAttribute("summary",str);};_._a._b.prototype.setCaption=function(_2d){var _2e=this.render.getElementsByTagName("caption")[0];if(_2e){_2e.innerHTML=_2d;}else{_2e=document.createElement("caption");_2e.innerHTML=_2d;var _2f=this.render.getElementsByTagName("colgroup")[0];_2f.parentNode.insertBefore(_2e,_2f);}};_._a._b.prototype.groupby=function(_30){var _31=((typeof _30.sortIndex=="string")?_30.sortIndex.split(" "):_30.sortIndex);var _32=((typeof _30.sortOrder=="string")?_30.sortOrder.split(" "):_30.sortOrder);var _33=_31.length;if(this.options.groupbyMaxCount!=-1){if(this.options.groupbyMaxCount<_33){_.logger.printLog("groupby max column count has been exceeded.");return;}}var _30=_30||{};this.removeFocusedCell();this.dataFilter.clear();this.clearHeaderSort();this._sortArr=[];if(_30.filter){for(var _34 in _30.filter){var _35;var _36=_30.filter[_34];if(_36.constructor==/a/.constructor){_35=_36;}else{if(typeof _36=="object"){_36=_36.length==0?"/^[a-z0-9_-]{3,16}$/":_36.join("|");_36=" "+_36.replaceAll("|"," | ")+" ";_35=new RegExp(_36,"gi");}}if(_35){this.setColumnFilter({type:"regExp",colIndex:_34,key:_35,condition:"and"});}}}if(_30.sortOrder&&_30.sortIndex){this.multisort(_30);}this.groupbyInfo={};this.statusArr=[];var _37=this.getTotalCol();var _38=this.filteredRowIndexArr;var _39=[];var _3a=[];var _3b=0;var _3c=[];var _3d=[];var _3e=[];this.groupbyStatus.groupbyRowIndexArr=this.filteredRowIndexArr.slice();this.groupbyStatus.groupbyDepthDelimiter="||";for(var i=0;i<_33;i++){var _40=parseInt(_31[i],10);_31[i]=isNaN(_40)?this.getColumnIndex(_31[i]):_40;_3e[i]=this.getCellData(_38[0],_31[i],3);}this.groupbyStatus.grouped=true;this.groupbyStatus.filter=_30.filter||{};this.groupbyStatus.sortIndexArr=_31;this.groupbyStatus.sortOrderArr=_32;this.groupbyStatus.headerValueObj={};this.groupbyStatus.footerValueObj={};if(!_30.keepDisplayOptions){this.groupbyDisplayOptions={};this.groupbyDisplayOptions.rowNumHeader=_30.rowNumHeader||{};this.groupbyDisplayOptions.rowStatusHeader=_30.rowStatusHeader||{};this.groupbyDisplayOptions.groupbyHeader=_30.groupbyHeader||[];this.groupbyDisplayOptions.rowNumFooter=_30.rowNumFooter||{};this.groupbyDisplayOptions.rowStatusFooter=_30.rowStatusFooter||{};this.groupbyDisplayOptions.groupbyFooter=_30.groupbyFooter||[];this.groupbyDisplayOptions.closeGroup=_30.closeGroup||false;this.groupbyDisplayOptions.hideHeader=_30.hideHeader||false;}for(var i=0;i<_38.length;i++){_3c=_3d;_3d=_3e;if(i>0){var _41=false;var _42=[];for(var j=0;j<_33;j++){var _44=_3c.slice(0,j+1).join(this.groupbyStatus.groupbyDepthDelimiter);if(_41||_3c[j]!=_3d[j]){_41=true;var _45={type:"footer",groupId:_44,depth:j,status:"open",index:""};this.groupbyInfo[_44]=this.groupbyInfo[_44]?this.groupbyInfo[_44]:{};this.groupbyInfo[_44].footer=_45;_42.push(_45);}}for(var j=_42.length-1;j>=0;j--){_42[j].index=_39.length;_39.push(_42[j]);_3a.push("footer");}}var _46=false;for(var j=0;j<_33;j++){var _44=_3d.slice(0,j+1).join(this.groupbyStatus.groupbyDepthDelimiter);if(_46||i==0||_3c[j]!=_3d[j]){_46=true;var _45={type:"header",groupId:_44,depth:j,status:"open",index:_39.length};this.groupbyInfo[_44]={header:_45};if(!this.groupbyDisplayOptions.hideHeader){_39.push(_45);_3a.push("header");}}}_39.push(_38[i]);_3a.push(_3b++);_3e=[];for(var j=0;j<_33;j++){_3e[j]=this.getCellData(_38[i+1],_31[j],3);}}if(_3a.length>0){for(var i=_33-1;i>=0;i--){var _44=_3d.slice(0,i+1).join(this.groupbyStatus.groupbyDepthDelimiter);var _45={type:"footer",groupId:_44,depth:i,status:"open",index:_39.length};this.groupbyInfo[_44]=this.groupbyInfo[_44]?this.groupbyInfo[_44]:{};this.groupbyInfo[_44].footer=_45;_39.push(_45);_3a.push("footer");}}this.filteredRowIndexArr=_39;this.rowNumArr=_3a;if(this.groupbyDisplayOptions.closeGroup&&_3a.length>0){for(var key in this.groupbyInfo){var _48=this.groupbyInfo[key].header;var _49=_48.groupId.split(this.groupbyStatus.groupbyDepthDelimiter);if(_33==_49.length){if(typeof _48!="number"&&this.filteredRowIndexArr[_48.index]==_48){this._foldRow(_48);}}}}this.lastTopRowIndex=null;this.rowIndex=0;this.setScrollYHeight();this.notifyDataChanged();this.drawFooter();this.drawHeader();if(this.options.groupbyZoneMessage){this.hideGroupbyZoneMessage();}if(this.options.groupbyZone){this.syncWithGroupbyZone();}var _4a=_31.length;if(!this.groupbyStatus.groupbyDepthInfoObj||_4a>this.groupbyStatus.beforeSortIndexLength){this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj||{};var _4b=this.getColumnID(_31[_4a-1]);this.groupbyStatus.groupbyDepthInfoObj[_4b]=this.createGroupbyDepthInfo(_4a-1);}this.groupbyStatus.beforeSortIndexLength=_4a;this.dataFilter.customFilterStatusObj={};if(_._G.isIE("8")){this.drawData(0,null,"async");}};_._a.an.prototype.clearGroupby=function(){try{this.clearFilter();this.clearHeaderSort();this.clearGroupbyZone();if(_._G.isIE("8")){this.drawData(0,null,"async");}if(this.options.groupbyZoneMessage){this.showGroupbyZoneMessage();}if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.hideGroupbyFilterList();}this.groupbyStatus={};this.groupbyZoneStatus.beforeOpenedColIndex=null;this.groupbyZoneStatus.beforeOpenedColTagName=null;this.groupbyZoneStatus.clickedHeaderInfo=null;this.groupbyDisplayOptions=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.toggleGroup=function(_4c){if(!this.groupbyInfo[_4c]){return;}var _4d=this.groupbyInfo[_4c].header;if(typeof _4d!="number"&&this.filteredRowIndexArr[_4d.index]==_4d){if(_4d.status=="open"){this._foldRow(_4d);}else{this._unfoldRow(_4d);}this.lastTopRowIndex=null;this.setScrollYHeight();if(_4d.status=="open"){this.notifyRowInserted(_4d.index);}else{this.notifyRowChanged(_4d.index);}this.removeFocusedCell();this.drawFooter();}};_._a._b.prototype._foldRow=function(_4e){if(_4e.status=="open"){_4e.status="closed";var _4f=this.groupbyInfo[_4e.groupId].footer;_4e.closedChildArr=this.filteredRowIndexArr.splice(_4e.index+1,_4f.index-_4e.index-1);var _50=[];for(var i=0;i<this.groupbyStatus.groupbyRowIndexArr.length;i++){var _52=false;for(var j=0;j<_4e.closedChildArr.length;j++){if(this.groupbyStatus.groupbyRowIndexArr[i]==_4e.closedChildArr[j]){_52=true;}}if(!_52){_50.push(this.groupbyStatus.groupbyRowIndexArr[i]);}}this.groupbyStatus.groupbyRowIndexArr=_50;len=this.filteredRowIndexArr.length;var _54=0;this.rowNumArr=[];for(var i=0;i<len;i++){if(typeof this.filteredRowIndexArr[i]=="number"){this.rowNumArr.push(_54++);}else{this.groupbyInfo[this.filteredRowIndexArr[i].groupId][this.filteredRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.filteredRowIndexArr[i].type);}}}};_._a._b.prototype._unfoldRow=function(_55){if(_55.status=="closed"){_55.status="open";_55.closedChildArr.unshift(_55.index+1,0);[].splice.apply(this.filteredRowIndexArr,_55.closedChildArr);_55.closedChildArr=[];var _56=0;this.rowNumArr=[];this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]=="number"){this.rowNumArr.push(_56++);this.groupbyStatus.groupbyRowIndexArr.push(this.filteredRowIndexArr[i]);}else{this.groupbyInfo[this.filteredRowIndexArr[i].groupId][this.filteredRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.filteredRowIndexArr[i].type);}}}};_._a._b.prototype.foldAll=function(){for(var _58 in this.groupbyInfo){var _59=this.groupbyInfo[_58].header;if(_59.status=="open"&&_59.depth==0){this._foldRow(_59);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};_._a._b.prototype.unfoldAll=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){var _5b=this.filteredRowIndexArr[i];if(typeof _5b!="number"&&_5b.type=="header"&&_5b.status=="closed"){this._unfoldRow(_5b);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};_._a._b.prototype.drawGroupData=function(td,_5d,_5e){var _5f=td;var _60=_5e*this.realRowDataLength;var _61=this.realRowDataLength;var _62;var _63;var _64;var _65;if(_5d.type=="header"){_63=this.groupbyDisplayOptions.rowNumHeader;_64=this.groupbyDisplayOptions.rowStatusHeader;_65=this.groupbyDisplayOptions.groupbyHeader;}else{if(_5d.type=="footer"){_63=this.groupbyDisplayOptions.rowNumFooter;_64=this.groupbyDisplayOptions.rowStatusFooter;_65=this.groupbyDisplayOptions.groupbyFooter;}else{td.innerHTML="";return;}}if(this.options.rowNumVisible){this._drawGroupData(_5f,_5d,_63);if(!_63.hidden){_61-=(_63.colSpan||1);}_60++;_5f=this.all_data_td_list[_60];}if(this.options.rowStatusVisible){this._drawGroupData(_5f,_5d,_64);if(!_64.hidden){_61-=(_64.colSpan||1);}_60++;_5f=this.all_data_td_list[_60];}for(var i=0;i<_61;i++){var _67;if(_65 instanceof Array){_67=_65[i]||{};}else{if(_65 instanceof Object&&typeof _65=="object"){_67=_65["depth_"+_5d.depth][i]||{};}}this._drawGroupData(_5f,_5d,_67);_60++;_5f=this.all_data_td_list[_60];}};_._a._b.prototype._drawGroupData=function(_68,_69,_6a){try{var _6b=_6a["className"]||"";var _6c="gridBodyDefault w2grid_groupby w2grid_groupby_depth_"+_69.depth+" "+_6b;_68.className=_6c;_68.innerHTML="";var _6d="&nbsp;&nbsp;";var _6e=_6a.colSpan||1;var _6f=_6a.value||"";var _70=_6a.inputType||"";var _71=_6a.depthVisible||false;var _72=_6a.align||"";var _73=_6a.expression||"";var _6e=_6a.colSpan||1;var _74=_6a.hidden?"none":"";var _75=_6a.displayFormatType||"text";var _76=_6a.displayFormat||"";var _77=_6a.displayFormatter||null;var _78;_68.setAttribute("colSpan",_6e);_68.style.align="";_68.style.textAlign="";_68.style.display=_74;_68.style.borderTopWidth="1px";_68.style.borderBottomWidth="1px";if(_70){if(_76||_77){_78=new _._g.createFormatter(_75,_76,_77);}switch(_70){case "toggleButton":var _79=_69.status=="open"?"w2grid_minus":"w2grid_plus";var _7a="<span class='"+_79+"' style='display:inline-block;"+(_72?"float:"+_72+";":"")+" margin-left:"+(_69.depth*20)+"px;'></span>";_68.innerHTML+=_7a;break;case "expression":if(_73){var _7b=this.groupbyInfo[_69.groupId].header;var _7c=0;if(_7b.status=="open"){var _7d;for(var i=_7b.index;i<this.filteredRowIndexArr.length;i++){var _7f=this.filteredRowIndexArr[i];if(_7f.type=="footer"&&_7f.depth==_7b.depth){_7d=_7f.index;break;}}_7c=this.groupExpression(this.filteredRowIndexArr,_7b.index,_7d,_73,_7b);}else{_7c=this.groupExpression(_7b.closedChildArr,0,_7b.closedChildArr.length-1,_73,_7b);}if(_78){_7c=_78.format(_7c);}var _80="<span style='display:inline-block;"+(_72?"float:"+_72+";":"")+"''>"+_7c+"</span>";_68.innerHTML+=_80;}default:break;}}if(_71){var _81="";if(_70!="toggleButton"){_81="margin-left: "+(_69.depth*20)+"px";}_68.innerHTML+="<span style='display:inline-block;"+(_72?"float:"+_72+";":"")+" "+(_81?_81:"")+"'>"+_69.groupId.replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ")+"</span>";}if(_6f){if(_78){_6f=_78.format(_6f);}_68.innerHTML+="<span style='display:inline-block;"+(_72?"float:"+_72+";":"")+"'>"+_6f+"</span>";}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.groupExpression=function(obfuscator_arr,obfuscator_startIndex,obfuscator_endIndex,obfuscator_expression,obfuscator_header){try{var str=obfuscator_expression;str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.groupbySum(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.groupbyAvg(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.groupbyMax(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.groupbyMin(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.groupbyCount(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex");str=str.replace(/[dD][eE][pP][tT][hH][\s]*[(]/g,"this.groupbyDepth(obfuscator_header");str=str.replace(/[tT][oO][gG][gG][lL][eE][\s]*[(]/g,"this.groupbyToggle(obfuscator_header");str=str.replace(/[dD][eE][pP][tT][hH][sS][tT][rR][\s]*[(]/g,"this.groupbyDepthStr(obfuscator_header");str=eval(str);return str;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.groupbySum=function(arr,_84,_85,_86){var _87=this.getColumnIndex(_86);var sum=0;for(var i=_84;i<=_85;i++){if(typeof arr[i]=="number"){sum+=parseInt(this.getCellData(arr[i],_87,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){sum+=this.groupbySum(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_86);}}}return sum;};_._a._b.prototype.groupbyAvg=function(arr,_8b,_8c,_8d){var _8e=this._groupbyAvg(arr,_8b,_8c,_8d);return _8e.sum/_8e.number;};_._a._b.prototype._groupbyAvg=function(arr,_90,_91,_92){var _93=this.getColumnIndex(_92);var _94={};_94.sum=0;_94.number=0;for(var i=_90;i<=_91;i++){if(typeof arr[i]=="number"){_94.sum+=parseInt(this.getCellData(arr[i],_93,3),10)||0;_94.number++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){var _96=this._groupbyAvg(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_92);_94.sum+=_96.sum;_94.number+=_96.number;}}}return _94;};_._a._b.prototype.groupbyMax=function(arr,_98,_99,_9a){var _9b=this.getColumnIndex(_9a);var tmp=0;var max=0;var _9e=false;for(var i=_98;i<=_99;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.getCellData(arr[i],_9b,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMax(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_9a);}}if(!_9e){max=_9e=tmp;}if(_9e&&max<tmp){max=tmp;}}return max;};_._a._b.prototype.groupbyMin=function(arr,_a1,_a2,_a3){var _a4=this.getColumnIndex(_a3);var tmp=0;var min;var _a7=false;for(var i=_a1;i<=_a2;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.getCellData(arr[i],_a4,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMin(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_a3);}}if(!_a7){min=_a7=tmp;}if(_a7&&min>tmp){min=tmp;}}return min;};_._a._b.prototype.groupbyToggle=function(_a9){var _aa=_a9.status=="open"?"w2grid_minus":"w2grid_plus";var _ab="<span class='"+_aa+"' style='display:inline-block; margin-left:"+(_a9.depth*20)+"px;'></span>";return _ab;};_._a._b.prototype.groupbyDepth=function(_ac){return _ac.depth;};_._a._b.prototype.groupbyDepthStr=function(_ad){return _ad.groupId.replaceAll(this.groupbyStatus.groupbyDepthDelimiter," - ");};_._a._b.prototype.groupbyCount=function(arr,_af,_b0){var _b1=0;for(var i=_af;i<=_b0;i++){if(typeof arr[i]=="number"){_b1++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){_b1+=this.groupbyCount(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1);}}}return _b1;};_._a._b.prototype.setCellOption=function(row,col,key,_b6){var _b7=this.getExtraDataObj("cell",row,col);switch(key){case "viewType":_b7.key=_b6;if(this.rowIndex>=0){this.drawCellData(row-this.rowIndex,row,col);}break;default:$l("["+this.id+"] "+key+"\uc5d0 \ub300\ud55c \ubcc0\uacbd\uc740 \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");break;}};_._a._b.prototype.getCellOption=function(row,col,key){var _bb=this.getExtraDataObj("cell",row,col);if(_bb.key==null){return this.getCellInfo(col).options[key];}else{return _bb.key;}};_._a._b.prototype.ungroupColumn=function(_bc){try{if(this.groupbyStatus.grouped){var _bd;if(typeof _bc=="string"){_bd=this.getColumnIndex(_bc);}else{if(typeof _bc=="number"){_bd=_bc;}}var _be=true;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_bd){this.groupbyStatus.sortIndexArr.splice(i,1);this.groupbyStatus.sortOrderArr.splice(i,1);delete this.groupbyStatus.groupbyDepthInfoObj[this.getColumnID(_bd)];delete this.groupbyStatus.filter[this.getColumnID(_bd)];_be=false;break;}}if(_be){return;}if(this.groupbyStatus.sortIndexArr.length==0){this.clearGroupby();}else{var _c0=this.groupbyDisplayOptions;_c0.filter=this.groupbyStatus.filter;_c0.sortIndex=this.groupbyStatus.sortIndexArr;_c0.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_c0);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.changeGroupDepth=function(_c1,_c2){try{if(this.groupbyStatus.grouped){var _c3;if(typeof _c1=="string"){_c3=this.getColumnIndex(_c1);}else{if(typeof _c1=="number"){_c3=_c1;}}var _c4;if(typeof _c2=="string"){_c4=this.getColumnIndex(_c2);}else{if(typeof _c2=="number"){_c4=_c2;}}var _c5;var _c6;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_c3){_c6=i;}if(this.groupbyStatus.sortIndexArr[i]==_c4){_c5=i;}}if(typeof _c6!="number"||typeof _c5!="number"||_c6==_c5){return;}this.groupbyStatus.sortIndexArr.splice(_c6,1);this.groupbyStatus.sortIndexArr.splice(_c5,0,_c3);var _c8=this.groupbyStatus.sortOrderArr.splice(_c6,1);this.groupbyStatus.sortOrderArr.splice(_c5,0,_c8);var _c9=this.groupbyDisplayOptions;_c9.filter=this.groupbyStatus.filter;_c9.sortIndex=this.groupbyStatus.sortIndexArr;_c9.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_c9);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.removeGroupbyFilterList=function(){try{if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.groupbyFilterList.remove();this.groupbyFilterScrollView.remove();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.createGroupbyDepthInfo=function(_ca){try{var _cb={};for(var key in this.groupbyInfo){var _cd=[key];var _ce=key.split(this.groupbyStatus.groupbyDepthDelimiter);var _cf=_ce.length-_cd.length;var _d0=_ce[_ce.length-1];if(!_cb[_cf]){_cb[_cf]=[];}if(_cb[_cf].length==0){_cb[_cf].push(_d0);}else{distinct=true;for(var i=0;i<_cb[_cf].length;i++){if(_d0==_cb[_cf][i]){distinct=false;break;}}if(distinct){_cb[_cf].push(_d0);_cb[_cf].sort();}}}return _cb[_ca];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.isEditing=function(){try{return !!this.editedCell;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._b.prototype.getFixedColumnLastIndex=function(){try{var _d2=this.options.fixedColumn+this.defaultColCnt;if(!this.options.fixedColumnWithHidden){var cnt=0;for(var i=0;i<this.hiddenList.length;i++){if(!this.hiddenList[i]){cnt++;}if(cnt==_d2){return (i+1);}}}return _d2;}catch(e){_.exception.printStackTrace(e,null,this);return (this.options.fixedColumn+this.defaultColCnt);}};;WebSquare.uiplugin.gridApiController=_._a._b;_._a._q=function(){};_._a._q.prototype.getColumnReadOnly=function(_1){var _2=this.getCellInfo(_1);if(_2.options.readOnly!=""){return _._G.getBoolean(_2.options.readOnly);}return "";};_._a._q.prototype.setColumnReadOnly=function(_3,_4){try{var _5=this.getCellInfo(_3);if(_4!=""){_4=_._G.getBoolean(_4);}_5.options.readOnly=_4;var _6=this.rollbackCommitFlag;if(this.editedCell!=null){var _7=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _8=(_7%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_8==_3){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.drawColumnData(_3);this.applyStyleOptions(this.lastIndex);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.getRowReadOnly=function(_9){try{var _a=this.filteredRowIndexArr[_9];var _b=this.rowReadOnlyArr[_a];if(_b!=true&&_b!=false){return "";}return _b;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.setRowReadOnly=function(_c,_d){try{var _e=this.filteredRowIndexArr[_c];if(_d!=""){_d=_._G.getBoolean(_d);}this.rowReadOnlyArr[_e]=_d;var _f=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_e){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}this.drawRowData(_c-this.rowIndex,_c);this.applyRowStyleOptions(_c);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.getCellReadOnly=function(_10,_11){try{var _11=this.getColumnIndex(_11);var _12=this.filteredRowIndexArr[_10];var _13=this.cellReadOnlyArr[_12*this.oneRowDataLength+_11];if(_13!=true&&_13!=false){return "";}return _13;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.setCellReadOnly=function(_14,_15,_16){try{if(_16!=""){_16=_._G.getBoolean(_16);}var _15=this.getColumnIndex(_15);var _17=this.filteredRowIndexArr[_14];this.cellReadOnlyArr[_17*this.oneRowDataLength+_15]=_16;var _18=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_17){var _19=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _1a=(_19%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_1a==_15){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.notifyCellChanged(_14,_15);this.rollbackCommitFlag=_18;this.applyCellStyleOptions(_14,_15);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.getColumnDisabled=function(_1b){var _1c=this.getCellInfo(_1b);return _._G.getBoolean(_1c.options.disabled);};_._a._q.prototype.setColumnDisabled=function(_1d,_1e){var _1f=this.getCellInfo(_1d);_1f.options.disabled=_._G.getBoolean(_1e);this.drawColumnData(_1d);this.applyColumnStyleOptions(_1d);};_._a._q.prototype.getRowDisabled=function(_20){try{var _21=this.filteredRowIndexArr[_20];var _22=_._G.getBoolean(this.rowDisabledArr[_21]);return _22;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.setRowDisabled=function(_23,_24){try{_24=_._G.getBoolean(_24);var _25=this.filteredRowIndexArr[_23];this.rowDisabledArr[_25]=_24;this.drawRowData(_23-this.rowIndex,_23);this.applyRowStyleOptions(_23);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.getCellDisabled=function(_26,_27){try{var _27=this.getColumnIndex(_27);var _28=this.filteredRowIndexArr[_26];var _29=this.cellDisabledArr[_28*this.oneRowDataLength+_27];if(_29!=true&&_29!=false){return "";}return _29;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.setCellDisabled=function(_2a,_2b,_2c){try{var _2b=this.getColumnIndex(_2b);var _2d=this.filteredRowIndexArr[_2a];this.cellDisabledArr[_2d*this.oneRowDataLength+_2b]=_._G.getBoolean(_2c);this.notifyCellChanged(_2a,_2b);this.applyCellStyleOptions(_2a,_2b);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.setTDStyle=function(_2e,_2f,_30,_31,_32){if(this.options.readOnlyBackgroundColor!=""&&this._getEditReadOnly(_2f,_30)){_32="background-color:"+this.options.readOnlyBackgroundColor+";"+_32;}if(this.getEditDisabled(_2f,_30)){_2e.disabled=true;if(this.options.disabledBackgroundColor!=""){_32+=";background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){_32+=";color:"+this.options.disabledFontColor;}}else{_2e.disabled=false;}_2e.style.cssText=styleStr+";"+columnStyleStr+";"+_31+";"+_32;};_._a._q.prototype.setRowBackgroundColor=function(_33,_34){this.setRowStyle(_33,"background-color",_34);};_._a._q.prototype.setRowColor=function(_35,_36){this.setRowStyle(_35,"color",_36);};_._a._q.prototype.setRowStyle=function(_37,_38,_39){var _3a=this.getRowStyleClassName(_37);if(_3a==null){this.rowStyleIndex++;_3a=this.id+"_rowstyle_"+this.rowStyleIndex+"_";this.setRowStyleClassName(_37,_3a);}var _3b=this.rowStyleValueObj[_3a];if(_3b==null){_3b=[];}_3b[_38]=_39;var _3c=[];for(var _38 in _3b){var _3d=_3b[_38];if(_38!="style"&&_3d!=""){_3c.push(_38+":"+_3d);}}_3b["style"]=_3c.join(";");this.rowStyleValueObj[_3a]=_3b;this.applyRowStyleOptions(_37);};_._a._q.prototype.getRowBackgroundColor=function(_3e){return this.getRowStyleValue(_3e,"background-color");};_._a._q.prototype.getRowColor=function(_3f){return this.getRowStyleValue(_3f,"color");};_._a._q.prototype.getRowStyleValue=function(_40,_41){var _42=this.getRowStyleClassName(_40);if(_42==null){return "";}return this.rowStyleValueObj[_42][_41]||"";};_._a._q.prototype._getRowStyleStr=function(_43){var _44=this.rowStyleValueObj[_43]["style"];return _44;};_._a._q.prototype.setColumnBackgroundColor=function(_45,_46){this.setColumnStyle(_45,"background-color",_46);};_._a._q.prototype.setColumnColor=function(_47,_48){this.setColumnStyle(_47,"color",_48);};_._a._q.prototype.setColumnStyle=function(_49,_4a,_4b){var _49=this.getColumnIndex(_49);var _4c=this.columnStyleValueObj[_49];if(_4c==null){_4c=[];}_4c[_4a]=_4b;var _4d=[];for(var _4a in _4c){var _4e=_4c[_4a];if(_4a!="style"&&_4e!=""){_4d.push(_4a+":"+_4e);}}_4c["style"]=_4d.join(";");this.columnStyleValueObj[_49]=_4c;this.applyColumnStyleOptions(_49);};_._a._q.prototype.getColumnBackgroundColor=function(_4f){return this.getColumnStyleValue(_4f,"background-color");};_._a._q.prototype.getColumnColor=function(_50){return this.getColumnStyleValue(_50,"color");};_._a._q.prototype.getColumnStyleValue=function(_51,_52){var _53=this.columnStyleValueObj[_51];if(_53==null){return "";}return _53[_52]||"";};_._a._q.prototype._getColumnStyleStr=function(_54){var _55=this.columnStyleValueObj[_54]["style"];return _55;};_._a._q.prototype.setCellBackgroundColor=function(_56,_57,_58){this.setCellStyle(_56,_57,"background-color",_58);};_._a._q.prototype.setCellColor=function(_59,_5a,_5b){this.setCellStyle(_59,_5a,"color",_5b);};_._a._q.prototype.setCellStyle=function(_5c,_5d,_5e,_5f){var _60=this.getCellStyleClassName(_5c,_5d);if(_60==null){this.cellStyleIndex++;_60=this.id+"_cellstyle_"+this.cellStyleIndex+"_";this.setCellStyleClassName(_5c,_5d,_60);}var _5d=this.getColumnIndex(_5d);var _61=this.cellStyleValueObj[_60];if(_61==null){_61={};}_61[_5e]=_5f;var _62=[];for(var _5e in _61){var _63=_61[_5e];if(_5e!="style"&&_63!=""){_62.push(_5e+":"+_63);}}_61["style"]=_62.join(";");this.cellStyleValueObj[_60]=_61;this.applyCellStyleOptions(_5c,_5d);};_._a._q.prototype.setDisabledCellStyle=function(_64,_65,_66,_67){var _65=this.getColumnIndex(_65);if(!this.getEditDisabled(_64,_65)){return;}if(!this.disabledCellStyleObj){this.disabledCellStyleObj={};}if(!this.disabledCellStyleObj[_64+"_"+_65]){this.disabledCellStyleObj[_64+"_"+_65]={};}var _68=this.disabledCellStyleObj[_64+"_"+_65];if(_68==null){_68={};}_68[_66]=_67;var _69=[];for(var _66 in _68){var _6a=_68[_66];if(_66!="style"&&_6a!=""){_69.push(_66+":"+_6a);}}_68["style"]=_69.join(";");this.disabledCellStyleObj[_64+"_"+_65]=_68;this.applyCellStyleOptions(_64,_65);};_._a._q.prototype.getCellBackgroundColor=function(_6b,_6c){return this.getCellStyleValue(_6b,_6c,"background-color");};_._a._q.prototype.getCellColor=function(_6d,_6e){return this.getCellStyleValue(_6d,_6e,"color");};_._a._q.prototype.getCellStyleValue=function(_6f,_70,_71){var _72=this.getCellStyleClassName(_6f,_70);if(_72==null){return "";}return this.cellStyleValueObj[_72][_71]||"";};_._a._q.prototype._getCellStyleStr=function(_73){var _74=this.cellStyleValueObj[_73]["style"];return _74;};_._a._q.prototype.setHeaderCellStyle=function(_75,_76,_77){var th=this.getHeaderLayer(_75);_._v.setStyle(th,_76,_77);};_._a._q.prototype.setHeaderBackgroundColor=function(_79,_7a){var th=this.getHeaderLayer(_79);_._v.setStyle(th,"background-color",_7a);};_._a._q.prototype.setHeaderColor=function(_7c,_7d){var th=this.getHeaderLayer(_7c);_._v.setStyle(th,"color",_7d);};_._a._q.prototype.getHeaderCellStyleValue=function(_7f,_80){try{var th=this.getHeaderLayer(_7f);return _._v.getStyle(th,_80);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._q.prototype.getHeaderBackgroundColor=function(_82){return this.getHeaderCellStyleValue(_82,"background-color");};_._a._q.prototype.getHeaderColor=function(_83){return this.getHeaderCellStyleValue(_83,"color");};;WebSquare.uiplugin.styleController=_._a._q;_._a._W=function(_1){this.mainGrid=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;this.firstOpenCustomFilter={};this.customFilterStatusObj={};};_._a._W.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};_._a._W.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};_._a._W.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};_._a._W.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){this.mainGrid.filteredRowIndexArr[i]=i;}}};_._a._W.prototype.executeFilter=function(_8,_9,_a,_b){try{if(_8.options.condition=="and"){if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.mainGrid.filteredRowIndexArr=this.mergeArray(this.mainGrid.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.mainGrid.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._W.prototype.addFilter=function(_d,_e,_f,_10,_11){try{this._setAllRowIndexArr(_f);var _12=null;if(_11.type=="row"){_12=new _.rowFilter(_d,_11);}else{if(_11.type=="user"){_12=new _.userFilter(_d,_11);}else{if(_11.type=="cell"){_12=new _.cellFilter(_d,_11);}else{if(_11.type=="sort"){_12=new _.sortFilter(_d,_11);this.deleteFilterById("sort^@",false);var _13=_11.sortIndex;if(typeof _13=="string"){var _13=_11.sortIndex.split(" ");}var _14=this.mainGrid.getColCnt();for(var i=0;i<_13.length;i++){var _16=this.mainGrid.getCellInfo(_13[i]);if(_16.options.inputType=="expression"){var _17=this.mainGrid.getColumnIndex(_16.options.id);for(var j=0;j<_f;j++){_e[_17+_14*j]=_16.getDisplayData(null,j);}}}}else{if(_11.type=="func"){_12=new _.funcFilter(_d,_11);}else{if(_11.type=="regExp"){_12=new _.regExpFilter(_d,_11);}}}}}}this.executeFilter(_12,_e,_f,_10);this.filterArr.push(_12);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._W.prototype.deleteFilter=function(_19,_1a,_1b,_1c,_1d,_1e){if(typeof _1e=="undefined"){_1e=true;}var _1f=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_19)==-1){_1f.push(this.filterArr[i]);}}this.filterArr=_1f;if(_1e==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_1a,_1b,_1c);}if(this.filterArr.length==0){var _1b=this.mainGrid.dataArr.length/this.mainGrid.oneRowDataLength;this.mainGrid.filteredRowIndexArr=[];for(var i=0;i<_1b;i++){this.mainGrid.filteredRowIndexArr.push(i);}}}};_._a._W.prototype.mergeArray=function(_21,_22){var _23=[];var _24=[];for(var i=0;i<_21.length;i++){_23[_21[i]]=1;}for(var i=0;i<_22.length;i++){_23[_22[i]]=1;}for(var i=0;i<_23.length;i++){if(_23[i]==1){_24.push(i);}}return _24;};_._a._W.prototype.deleteFilterById=function(_26,_27){if(typeof _27=="undefined"){_27=true;}var _28=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_26)==-1){_28.push(this.filterArr[i]);}}this.filterArr=_28;if(_27==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};_._a._W.prototype.getOriginalRowIndex=function(_2a){var _2b=this.filteredRowIndexArr[_2a];return _2b;};_._a._W.prototype.getDisplayRowIndex=function(_2c){if(this.mainGrid.filteredRowIndexArr.length!=0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_2c==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _2c;};_._a._W.prototype.makeCustomFilter=function(){try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new _._a.ax(this.mainGrid.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _2e=new _._a.ah(this.mainGrid.id+"_text1",{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:"\ucc3e\uc744 \uc870\uac74:"});this.customFilter.addControl(_2e);this.selectboxItemSet=["=","<>",">",">=","<","<=","\uc2dc\uc791\ubb38\uc790","\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790","\ub05d \ubb38\uc790","\uc81c\uc678\ud560 \ub05d \ubb38\uc790","\ud3ec\ud568","\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _2f=new _._a._z(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_2f);this.groupList.push(_2f);var _30=new _._a._J(_2f.id+"_selectbox",{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_2f.addControl(_30);var _31=new _._a._D(_2f.id+"_autocomplete",{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_2f.addControl(_31);for(var j=0;j<this.colDataList.length;j++){_31.addItem(this.colDataList[j],this.colDataList[j]);}var _33=this.mainGrid.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_33-1;i++){this.addCustomFilterItem();}var _35=new _._a.ah(this.mainGrid.id+"_text2",{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_35);var _36=new _._a.ah(this.mainGrid.id+"_text3",{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_36);var _37=new _._a._z(this.mainGrid.id+"_buttonGroup",{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_37);var _38=this;var _39=new _._a.ah(this.mainGrid.id+"_btnConform",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_38.setCustomFilterExpression();}}}]});_37.addControl(_39);_39.addEvent("onmousedown",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_39.addEvent("onmouseup",function(){_39.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_39.addEvent("onmouseout",function(){_39.toggleClass("w2grid_customFilter_button_selected");});var _3b=new _._a.ah(this.mainGrid.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_38.mainGrid.options.groupbyZone){if(_38.firstOpenCustomFilter[_38.headerID]){_38.firstOpenCustomFilter[_38.headerID]=false;}}_38.customFilter.hide();}}}]});_37.addControl(_3b);_3b.addEvent("onmousedown",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseup",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});_3b.addEvent("onmouseout",function(){_3b.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo(_.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_3b.render.style.left=_37.render.offsetWidth-_3b.render.offsetWidth-10+"px";_39.render.style.left=parseInt(_3b.render.style.left,10)-_39.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._W.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _3e=this.groupList[i];var _3f=_3e.getChildren();for(var j=0;j<_3f.length;j++){var _41=_3f[j];if(_41.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){_41.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _43=this.itemValueObj[this.targetColID]["select"+i];_41.setSelectedIndex(_43?_43:0);}else{if(_41.id.indexOf("_autocomplete")!=-1){var _44=this.itemValueObj[this.targetColID]["auto"+i];_41.setValue(_44?_44:"");}else{if(_41.id.indexOf("_radio")!=-1){_41.addItem("OR","OR","0");_41.addItem("AND","AND","0");var _45=this.itemValueObj[this.targetColID]["radio"+i];_41.setSelectedIndex(_45?_45:0);}}}}}};_._a._W.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]){arr.splice(i--,1);}}return arr;};_._a._W.prototype.setAutoCompleteItem=function(_48){var _49=this.mainGrid.getColData(_48);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_49.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_49);this.colDataList.sort();};_._a._W.prototype.showFilterOptions=function(_4a){if(this.mainGrid.options.useFilterList){if(this.mainGrid.customFilterList&&this.mainGrid.customFilterScrollView){this.mainGrid.toggleCustomFilterList(_4a);}else{this.mainGrid.createCustomFilterList(_4a);}}else{this.showCustomFilter(_4a);}};_._a._W.prototype.showCustomFilter=function(_4b){this.mainGrid.noevent=true;if(this.mainGrid.options.useFilterList&&!this.mainGrid.groupbyStatus.grouped){this.showFilterOptions(_4b);return;}this._showCustomFilter(_4b);};_._a._W.prototype._showCustomFilter=function(_4c){this.headerID=_4c;this.targetColID=this.mainGrid.getColIdByHeaderId(_4c);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _4d=this.mainGrid.render.offsetTop;var _4e=this.mainGrid.render.offsetLeft;var _4f=this.mainGrid.getHeaderPosition(_4c,"top");var _50=this.mainGrid.getHeaderPosition(_4c,"left");var _51=this.mainGrid.getHeaderSize(_4c,"width");var _52=this.mainGrid.getHeaderSize(_4c,"height");var _53=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_53=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_53=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_53=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _54=parseInt(_._G.getStyleProperty(this.customFilter.render,"width"),10);var _55=parseInt(_._G.getStyleProperty(this.customFilter.render,"height"),10);var _56=0;var _57=0;var top,left;if(_._G.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_4e+_50+_51+_54<=_53+left){_56=_4e+_50+_51;}else{_56=_4e+_50-_54;}if(_4d+_4f+_52+_55<=screenHeight+top){_57=_4d+_4f+_52;}else{_57=_4d+this.mainGrid.render.offsetHeight-_55;}if(_56<left){_56=(_53-_54)/2+left;_57=_4d+this.mainGrid.render.offsetHeight;if(_57+_55>screenHeight+top){_57=_4d-_55;}}if(_57<top){_57=(screenHeight-_55)/2+top;}this.customFilter.render.style.left=_56+"px";this.customFilter.render.style.top=_57+"px";this.customFilter.show();};_._a._W.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _59=new _._a._z(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_59);this.groupList.push(_59);var _5a=new _._a._H(_59.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_59.addControl(_5a);var _5b=new _._a._J(_59.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_59.addControl(_5b);var _5c=new _._a._D(_59.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_59.addControl(_5c);for(var j=0;j<this.colDataList.length;j++){_5c.addItem(this.colDataList[j],this.colDataList[j]);}};_._a._W.prototype.setChildrenPosition=function(){var _5e=this.customFilter.getChildren();for(var i=1;i<=_5e.length;i++){var _60=_._v.getStyle(_5e[i-1].render,"top");_60=_60==="auto"?"0":_60;if(i===_5e.length){break;}var _61=_._v.getStyle(_5e[i-1].render,"margin-bottom");_61=_61==="auto"?"0":_61;_5e[i].render.style.top=_5e[i-1].render.offsetHeight+5+parseInt(_60?_60:"0",10)+parseInt(_61?_61:"0",10)+"px";}var _62=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _63=_5e[i-1].render.offsetHeight+10+parseInt(_60?_60:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_62+_63+6);};_._a._W.prototype.replacechar=function(_64){if(_64=="^"||_64=="$"||_64=="."||_64=="["||_64=="]"||_64=="{"||_64=="}"||_64=="+"||_64=="("||_64==")"||_64=="|"){return "\\"+_64;}else{if(_64=="\\"){return "\\"+_64;}}};_._a._W.prototype.setCustomFilterExpression=function(){this.mainGrid.removeColumnFilter(this.targetColID);var _65=true;var _66=[];for(var i=0;i<this.groupList.length;i++){var _68={};var _69=this.groupList[i];var _6a=_69.getChildren();for(var j=0;j<_6a.length;j++){var _6c=_6a[j];if(_6c.id.indexOf("_selectbox")!=-1){_68["select"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=_6c.getSelectedIndex();_65=_65&&_6c.getSelectedIndex()==0;}else{if(_6c.id.indexOf("_autocomplete")!=-1){var _6d=this;var _6e=/[\^\$\.\[\]\{\}\+\(\)\|\\]/g;_68["auto"]=_6c.getValue()!=_6c.options.chooseOptionLabel?(_6c.getValue()+"").replace(_6e,function(m){return _6d.replacechar(m);}).replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=_6c.getValue();_65=_65&&_6c.getValue()==_6c.options.chooseOptionLabel;}else{if(_6c.id.indexOf("_radio")!=-1){_68["radio"]=_6c.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=_6c.getSelectedIndex();}}}}if(_68["select"]){_66.push(_68);}}this.customFilterStatusObj[this.headerID]=true;this.mainGrid.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_66});var _70=this.mainGrid.getElementById(this.mainGrid.id+"_"+this.headerID+"_filter");if(_65||_66.length==0){_._v.removeClass(_70,"w2grid_customFilter_filter");}else{_._v.addClass(_70,"w2grid_customFilter_filter");}this.customFilter.hide();};_._a._W.prototype.customFilterOperator=function(_71,_72){var _73=true;var _74=[];for(var i=0;i<_72.length;i++){var _76=true;var _77;switch(_72[i]["select"]){case 1:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71==_77.exec(_71)?true:false;break;case 2:_77=new RegExp(_72[i]["auto"],"g");_77.lastIndex=0;_76=_71!=_77.exec(_71)?true:false;break;case 3:_76=_71>_72[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 4:_76=_71>=_72[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 5:_76=_71<_72[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 6:_76=_71<=_72[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 7:_77=new RegExp("^("+_72[i]["auto"]+")","g");_76=_77.test(_71)?true:false;break;case 8:_77=new RegExp("^[^("+_72[i]["auto"]+")]","g");_76=_77.test(_71)?true:false;break;case 9:_77=new RegExp("("+_72[i]["auto"]+")$","g");_76=_77.test(_71)?true:false;break;case 10:_77=new RegExp("[^("+_72[i]["auto"]+")]$","g");_76=_77.test(_71)?true:false;break;case 11:_77=new RegExp(_72[i]["auto"],"g");_76=_77.test(_71)?true:false;break;case 12:_77=new RegExp("^(?!.*"+_72[i]["auto"]+").*","g");_76=_77.test(_71)?true:false;break;default:_76=_71==_72[i]["auto"]?true:false;break;}if(_72.length===1){_73=_76;break;}if(i===0){_73=_76;continue;}if(_72[i]["radio"]==0){_73=_73&&_76;}else{_73=_73||_76;}}return _73;};_.filter=function(id){this.id=id;};_.filter.prototype.execute=function(_79,_7a,_7b,_7c){alert("overriede 'executeFilter'");};_.rowFilter=function(id,_7e){_.filter.call(this,id);this.options=_.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_7e||{});};_.extend(_.rowFilter.prototype,_.filter.prototype);_.rowFilter.prototype.execute=function(_7f,_80,_81,_82){var _83=[];for(var i=0;i<_82.length;i++){var row=_82[i];var _86=_7f[row*_81+this.options.colIndex];if(_86==null){_86="";}if(this.options.exactMatch){if(_86==this.options.key){_83.push(row);}}else{if(_86.indexOf(this.options.key)>-1){_83.push(row);}}}return _83;};_.rowFilter.prototype.executeCondition=function(_87,_88,_89,_8a){var _8b=[];for(var i=0;i<_8a.length;i++){var row=_8a[i];var _8e;var _8f;if(this.options.columnDataType=="number"){_8e=parseFloat(_87[row*_89+this.options.colIndex])||0;_8f=parseFloat(this.options.key);}if(this.options.condition==">"){if(_8e>_8f){_8b.push(row);}}else{if(this.options.condition==">="){if(_8e>=_8f){_8b.push(row);}}else{if(this.options.condition=="<"){if(_8e<_8f){_8b.push(row);}}else{if(this.options.condition=="<="){if(_8e<=_8f){_8b.push(row);}}}}}}return _8b;};_.userFilter=function(id,_91){_.filter.call(this,id);this.options=_.extend({key:"",condition:"and"},_91||{});};_.extend(_.userFilter.prototype,_.filter.prototype);_.userFilter.prototype.getColumnData=function(_92,_93,_94,_95,_96){if(typeof _96=="string"){_96=this.options.bodyIdColIndexMap[_96];}var _97=_92[_95*_94+_96];return _97;};_.userFilter.prototype.execute=function(_98,_99,_9a,_9b){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(dataArr, totalRow, totalCol, row, ");var _9d=[];for(var i=0;i<_9b.length;i++){if(eval(exp)){_9d.push(_9b[i]);}}return _9d;};_.cellFilter=function(id,_a0){_.filter.call(this,id);this.options=_.extend({key:""},_a0||{});};_.extend(_.cellFilter.prototype,_.filter.prototype);_.cellFilter.prototype.execute=function(_a1,_a2,_a3,_a4){var _a5=[];for(var i=0;i<_a4.length;i++){var row=_a4[i];for(var col=0;col<_a3;col++){var _a9=_a1[row*_a3+col];if(_a9==null){_a9="";}if(_a9.indexOf(this.options.key)>-1){_a5.push(row);}}}return _a5;};_.sortFilter=function(id,_ab){_.filter.call(this,id);this.options=_.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[]},_ab||{});};_.extend(_.sortFilter.prototype,_.filter.prototype);_.sortFilter.prototype.execute=function(_ac,_ad,_ae,_af){var _b0=_af.slice(0);var _b1=this.options;var _b2=function(_b3,_b4){return function(a,b){if(_b3=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_b4;}else{if(a<b){return -1*_b4;}else{return 0;}}};};for(var i=0;i<_b1.sortIndexArr.length;i++){if(!_b1.sortFuncArr[i]){_b1.sortFuncArr[i]=_b2(_b1.dataTypeArr[i],_b1.sortOrderArr[i]);}}_b0.sort(function(lhs,rhs){for(var i=0;i<_b1.sortIndexArr.length;i++){var _bb=_b1.sortFuncArr[i](_ac[lhs*_ae+_b1.sortIndexArr[i]],_ac[rhs*_ae+_b1.sortIndexArr[i]],lhs,rhs);if(_bb!=0){return _bb;}}return 0;});return _b0;};_.funcFilter=function(id,_bd){_.filter.call(this,id);this.options=_.extend({colIndex:-1,key:"",condition:"and"},_bd||{});};_.extend(_.funcFilter.prototype,_.filter.prototype);_.funcFilter.prototype.execute=function(_be,_bf,_c0,_c1){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _c2=[];for(var i=0;i<_c1.length;i++){var row=_c1[i];if(this.options.key(_be[row*_c0+this.options.colIndex],this.options.param)){_c2.push(row);}}return _c2;};_.regExpFilter=function(id,_c6){_.filter.call(this,id);this.options=_.extend({colIndex:-1,key:"",condition:"and"},_c6||{});this.regExp=this.options.key;};_.extend(_.regExpFilter.prototype,_.filter.prototype);_.regExpFilter.prototype.execute=function(_c7,_c8,_c9,_ca){if(!_._G.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _cb=[];for(var i=0;i<_ca.length;i++){var row=_ca[i];var _ce=_c7[row*_c9+this.options.colIndex]+"";if(_ce==null){_ce="";}else{_ce=" "+_ce+" ";}if(_ce.match(this.regExp)){_cb.push(row);}}return _cb;};;WebSquare.uiplugin.dataFilter=_._a._W;_._a.aG=function(_1){this.statusArr=[];this.mainGrid=null;this.options=null;};_._a.aG.prototype.initialize=function(_2,_3){this.mainGrid=_2;_2.filteredRowIndexArr=[];this.statusArr=[];this.options=_.extend({showDepth:-1,depthColumn:-1},_3||{});var _4=this.options.depthColumn;for(var _5=0;_5<this.mainGrid.getTotalRow();_5++){this.statusArr[_5]=false;var _6=parseInt(this.mainGrid.dataArr[_5*this.mainGrid.getTotalCol()+_4],10)||0;if(_6<=parseInt(this.options.showDepth,10)){this.mainGrid.filteredRowIndexArr.push(_5);this.statusArr[_5]=true;}}};_._a.aG.prototype.getDepth=function(_7){var _8=this.mainGrid.filteredRowIndexArr[_7];var _9=parseInt(this.mainGrid.dataArr[_8*this.mainGrid.getTotalCol()+this.options.depthColumn]);return _9;};_._a.aG.prototype.isOpen=function(_a){var _b=this.mainGrid.filteredRowIndexArr[_a+1];var _c=this.getDepth(_a);var _d=this.getDepth(_a+1);if(!isNaN(_c)&&!isNaN(_d)){if(_c<_d){return true;}else{return false;}}else{return false;}var _e=this.statusArr[originalRowIndex];return _e;};_._a.aG.prototype.hasChild=function(_f){var _10=this.mainGrid.filteredRowIndexArr[_f];var _11=_10+1;var _12=this.mainGrid.getTotalCol();var _13=parseInt(this.mainGrid.dataArr[_10*_12+this.options.depthColumn]);var _14=parseInt(this.mainGrid.dataArr[_11*_12+this.options.depthColumn]);_14=(isNaN(_14))?0:_14;return (_13<_14);};_._a.aG.prototype.getOriginalRowIndex=function(_15){return this.openRowIndexArr[_15];};_._a.aG.prototype.getDisplayRowIndex=function(_16){if(this.mainGrid.filteredRowIndexArr){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_16==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _16;};_._a.aG.prototype.getChildRowArr=function(_18,_19){var _1a=this.mainGrid.filteredRowIndexArr[_18];var _1b=this.getDepth(_18);var _1c=this.mainGrid.getTotalCol();var _1d=[];for(var row=_1a+1;row<this.mainGrid.getTotalRow();row++){var col=this.options.depthColumn;if(this.mainGrid.dataArr[row*_1c+col]==(_1b+1)){_1d.push(row);}if(_19&&this.mainGrid.dataArr[row*_1c+col]>(_1b+1)){_1d.push(row);}if(this.mainGrid.dataArr[row*_1c+col]<=_1b){break;}}return _1d;};_._a.aG.prototype.getAllChildRowArr=function(_20){var _21=this.mainGrid.filteredRowIndexArr[_20];var _22=this.getDepth(_20);var _23=this.mainGrid.getTotalCol();var _24=[];for(var row=_21+1;row<this.mainGrid.getTotalRow();row++){var col=this.options.depthColumn;if(this.mainGrid.dataArr[row*_23+col]==(_22+1)){_24.push(row);}if(this.mainGrid.dataArr[row*_23+col]<=_22){break;}}return _24;};_._a.aG.prototype.getChildrenRowArr=function(_27){var _28=[];if(this.mainGrid){var _29=this.mainGrid.getTotalCol();var _2a=this.mainGrid.getTotalRow();var col=this.options.depthColumn;var row=_27+1;var _2d=parseInt(this.mainGrid.dataArr[_27*_29+col],10);if(row<_2a&&this.mainGrid.dataArr[row*_29+col]>(_2d)){_28.push(row);var _2e=parseInt(this.mainGrid.dataArr[row*_29+col],10);var _2f=true;}if(_2f){for(var row=_27+2;row<_2a;row++){if(this.mainGrid.dataArr[row*_29+col]<(_2d+1)){break;}if(this.mainGrid.dataArr[row*_29+col]<(_2e+1)){_28.push(row);_2e=this.mainGrid.dataArr[row*_29+col];}}}}return _28;};_._a.aG.prototype.getParentRowIndex=function(_30){var _31=-1;if(this.mainGrid){var _32=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _34=parseInt(this.mainGrid.dataArr[_30*_32+col]);for(var row=_30-1;row>=0;row--){if(this.mainGrid.dataArr[row*_32+col]<_34){return row;}}}return _31;};_._a.aG.prototype.makeOpenRowIndexArr=function(){this.mainGrid.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid.filteredRowIndexArr.push(row);}}};_._a.aG.prototype.toggle=function(_37){var _38=this.isOpen(_37);var _39=[];if(_38){_39=this.getChildRowArr(_37,true);}else{_37=this.mainGrid.filteredRowIndexArr[_37];_39=this.getChildrenRowArr(_37);}for(var row=0;row<_39.length;row++){this.statusArr[_39[row]]=(!_38);}this.makeOpenRowIndexArr();};_._a.aG.prototype.isLastChild=function(_3b){var _3c=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _3e=this.mainGrid.dataArr[_3b*_3c+col];for(var row=_3b+1;row<this.mainGrid.getTotalRow();row++){if(this.mainGrid.dataArr[row*_3c+col]==_3e){return false;}else{if(this.mainGrid.dataArr[row*_3c+col]<_3e){return true;}}}return true;};;WebSquare.uiplugin.drilldown=_._a.aG;requires("uiplugin/grid/layoutController.js");requires("uiplugin/grid/drawInitializer.js");requires("uiplugin/grid/eventController.js");requires("uiplugin/grid/keyEventController.js");requires("uiplugin/grid/dataController.js");requires("uiplugin/grid/mainDrawController.js");requires("uiplugin/grid/drawController.js");requires("uiplugin/grid/cellController.js");requires("uiplugin/grid/xmlDataController.js");requires("uiplugin/grid/headerController.js");requires("uiplugin/grid/focusController.js");requires("uiplugin/grid/subtotalDataController.js");requires("uiplugin/grid/footerController.js");requires("uiplugin/grid/gridApiController.js");requires("uiplugin/grid/styleController.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/itemsetControl.js");requires("uiplugin.inputCalendar");requires("uiplugin.selectbox");requires("uiplugin.input");requires("uiplugin.textarea");requires("uiplugin.checkcombobox");requires("uiplugin.autoComplete");requires("uiplugin.scrollView");requires("uiplugin.list");requires("uiplugin.floatingLayer");requires("uiplugin.textbox");requires("uiplugin.group");requires("uiplugin.radio");requires("engine/formatter.js");requires("uiplugin/grid/dataFilter.js");requires("uiplugin/grid/drilldown.js");_._a.al=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.al.prototype,_._q.prototype);_._a.al.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.grid",pluginName:"grid",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","ongroupby","onclick","onkeydown","onkeyup"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,fixedColumnWithHidden:true,resize:true,baseNode:"vector",repeatNode:"data/INFO",valueNode:"",focusMode:"cell",useShiftKey:false,selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,showSortableImage:false,sortedImagePosition:"",sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",noResultMessageVisible:false,noResultMessage:"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",noResultMessageClass:"",noResultMessageStyle:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",focusMultiRow:true,scrollMsg:"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4....",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,showLastRow:false,autoScope:false,autoResizeEmbeddedInput:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:false,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,scrollByColumn:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnOrder:"",copyAmount:"",groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"100",groupbyMaxCount:-1,plainText:false,excludeDeletedRows:false,initFixedHeightByRowNum:-1,moveKeyEditMode:false,keepBeforeDisplayData:false,touchScrollDelta:5,useFilterList:false,customFilterListVisibleRowNum:10,useFilterEmptyMsg:"",duplicateColumnId:false};_._a.al.prototype.initialize=function(_4){this.originalDataArr=[];this.dataArr=[];this.rowStatusArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.dataFilter=new _._a._W(this);this.drilldown=new _._a.aG();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.ignoreStatusColArr=[];this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=17;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr=[];this.subtotalObj=[];this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.headerInfoHash={};this.headerInfoHash2={};this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.passiveColSpanRelation={};this.colMoveBolockedHeaderObj={};this.columnOrder=[];this.isIE6=_._G.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=_._G.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=_._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||_.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||_.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||_.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||_.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||_.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||_.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||_.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||_.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||_.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||_.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};this.rowStatusColIDArr=[];};_._a.al.prototype.setPreAction=function(){try{this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};this.startedDisplayNone=this.resizeObj.width==0||this.resizeObj.height==0;if(this.startedDisplayNone){this.setRedrawStatus("stop");}var _5=this.getElementById(this.id+"_head_table");var _6=_5.getElementsByTagName("tr");var _7=_6[_6.length-1];var _8=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_8.offsetHeight-_7.offsetTop-_7.offsetHeight;this.setTableLayout();this._handleScrollX();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setAction=function(){try{this.initializeEvent();this.setCellInfo();for(var j=0;j<this.oneRowDataLength;j++){var _a=this.cellInfoHash2[this.tdIdList[j]];var _b=new _._a._h(_a,this);if(_b.options.inputType=="textarea"){this.isExistTextarea=true;}if(_b.options.colMerge){this.isColMerge=true;}_b.options.maxlength=_b.options.maxLength;this.cellInfoHash[_b.id]=_b;var _c=this.headerInfoHash2[this.thIdList[j]];if(_c){var _d=new _._a.headerInfo(_c,this);this.headerInfoHash[_d.id]=_d;}}if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _e=this.options.groupbyZoneHeight.match("%")!=null;var _f=(_e)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_f;if(_e){this.groupbyZoneStatus.groupbyZoneRender.style.height=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";}var _10=_._v.getStyle(this.groupbyZoneStatus.groupbyZoneRender,"border-left-width").replace("px","");this.groupbyZoneStatus.groupbyZoneBorder=_10*2;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.resizeObj.clientWidth-this.groupbyZoneStatus.groupbyZoneBorder)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";this.dom[this.id+"_scrollY_div"].style.top="0px";if(this.options.groupbyZoneMessage){var _11=document.createElement("div");_11.innerHTML+=this.options.groupbyZoneMessage;_11.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_11);_11.style.marginTop=-_11.offsetHeight/2+"px";_11.style.marginLeft=-_11.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_11;}}if(this.options.hideHeader){var _12=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_12[0].className;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.finalize=function(){try{var _13=self;var cnt=0;while(_13!=_13.parent&&cnt++<10){if(_13.parent["__WebSquare_gridArr__"]){for(var i=0;i<_13.parent["__WebSquare_gridArr__"].length;i++){if(_13.parent["__WebSquare_gridArr__"][i]===this){_13.parent["__WebSquare_gridArr__"][i]=null;}}}_13=_13.parent;}_13=null;this.tempDiv.innerHTML="";this.tempTr.innerHTML="";_._h.clearTimer(this.id+"_checkResize");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setFixedColumn=function(_16){_16=parseInt(_16,10);_16=isNaN(_16)?0:_16;this.options.fixedColumn=_16;this.arrangeOverflowXScroll();};_._a.al.prototype.setOverflowX=function(_17){};_._a.al.prototype.getOverflowX=function(){return this.options.overflowX;};_._a.al.prototype.getOverflowY=function(){return this.options.overflowY;};_._a.al.prototype.getColumnVisible=function(_18){var _18=this.getColumnIndex(_18);var _19=_._h.getConfiguration("/WebSquare/grid/getColumnVisible/@useRealColIndex");if(_._G.getBoolean(_19)){for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_18){_18=i;break;}}}return !this.hiddenList[this.defaultColCnt+_18];};_._a.al.prototype.setColumnWidth=function(_1b,_1c){_1b=this.getColumnIndex(_1b);if(this.options.autoFit&&!this.hiddenList[_1b]){this.autoFitColWidthList=null;this._setAutoFit({exceptCol:this.defaultColCnt+_1b,exceptWidth:_1c});}else{this._setColumnWidth(this.defaultColCnt+_1b,_1c);}};_._a.al.prototype.setRowNumColumnWidth=function(_1d){if(this.options.rowNumVisible){this._setColumnWidth(0,_1d);}};_._a.al.prototype.setRowStatusColumnWidth=function(_1e){var _1f=0;if(this.options.rowNumVisible){_1f=1;}if(this.options.rowStatusVisible){this._setColumnWidth(_1f,_1e);}};_._a.al.prototype.setGridHeight=function(_20){var _21=parseInt(_20);if(_21+""==_20){_20+="px";}this.setStyle("height",_20);this.handleResize();};_._a.al.prototype.setGridWidth=function(_22){var _23=parseInt(_22);if(_23+""==_22){_22+="px";}this.setStyle("width",_22);this.handlerResize_drawInitializer();};_._a.al.prototype.setGridSize=function(_24,_25){this.setGridWidth(_24);this.setGridHeight(_25);};_._a.al.prototype.setXML=function(_26,_27){if(_26==null){_.logger.printLog("[WebSquare.uiplugin.grid.setXML] XML is null");return;}var _28=this.xmlData2ArrData(_26);if(typeof _28=="undefined"){_.logger.printLog("[WebSquare.uiplugin.grid.setXML] DataArray which converted from XML is undefined.");return;}this.setData(_28,_27);};_._a.al.prototype.setJSON=function(_29,_2a){if(_29==null){_.logger.printLog("[WebSquare.uiplugin.grid.setJSON] data is null");return;}var _2b=this.jsonData2ArrData(_29);if(typeof _2b=="undefined"){_.logger.printLog("[WebSquare.uiplugin.grid.setJSON] DataArray which converted from JSON is undefined.");return;}this.setData(_2b,_2a);};_._a.al.prototype.setDataFile=function(arr,_2d){arr=this.toArray(arr);var _2e=0;var _2f=[];for(var i=0;i<this.oneRowDataLength;i++){var _31=this.getCellInfo(i);if(_31.options.inputType=="expression"){_2f.push(i);}}_2e=arr.length/(this.oneRowDataLength-_2f.length);for(var i=0;i<_2f.length;i++){for(var j=0;j<_2e;j++){var _33=j*this.oneRowDataLength+parseInt(_2f[i],10);arr.splice(_33,0,"");}}for(var i=0;i<this.oneRowDataLength;i++){var _31=this.getCellInfo(i);var _34=_31.id;var _35=_31.options.dataType;if(_31.options.inputType=="select"){var _36=[];for(var j=0;j<_31.itemArr.length;j++){var _37=_31.itemArr[j];_36[_37.label]=_37.value;}for(var j=0;j<_2e;j++){var _33=j*this.oneRowDataLength+i;arr[_33]=_36[arr[_33]];}}if(_31.options.displayFormat!=""){for(var j=0;j<_2e;j++){var _33=j*this.oneRowDataLength+i;var _38=arr[_33];var _39=_31.options.displayFormat;if(_35=="number"){retVal=_._B.unformatCurrency(_39,_38);}else{if(_35=="date"){retVal=_._B.unformatDate(_39,_38);}else{if(_35=="time"){retVal=_._B.unformatTime(_39,_38);}else{retVal=_._B.unformatText(_39,_38);}}}arr[_33]=retVal;}}}this.setData(arr,_2d);};_._a.al.prototype.setData=function(arr,_3b,_3c){if(!(arr instanceof Array)){arr=this.toArray(arr);}if(_3c){if(!(_3c instanceof Array)){_3c=this.toArray(_3c);}if(!_._G.isInteger(arr.length/_3c.length)){_.logger.printLog("[WebSquare.uiplugin.grid.setDataMapping] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+_3c.length+"].");return;}arr=this.setDataMapping(arr,_3c,_3b);}if(!_._G.isInteger(arr.length/this.oneRowDataLength)){_.logger.printLog("[WebSquare.uiplugin.grid.setData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+this.oneRowDataLength+"].");return;}if(this.groupbyStatus.grouped){this.clearGroupby();}this.loadCheck=[];this.setGridData(arr,_3b);if(!_3b){this.removeFocusedCell();}};_._a.al.prototype.setDataMapping=function(_3d,_3e,_3f){var _40={};var _41;var _42=0;var _43=this.tdIdList.length;var _44=_3e.length;var _45=_3d.length/_44;for(var i=0;i<_44;i++){_41=false;for(var j=0;j<_43;j++){if(_3e[i]===this.tdIdList[j]){_41=true;_40[j]=i;break;}}if(!_41){_42++;}}if(_42===_44){_.logger.printLog("[WebSquare.uiplugin.grid.setData] not exist all target column in "+this.id);return [];}var _48=new Array(_45*_43);var _49,dataIdx;for(var _4a=0;_4a<_45;_4a++){for(var _4b=0;_4b<_43;_4b++){dataIdx=_40[_4b];if(typeof dataIdx!="undefined"){_49=_3d[dataIdx+(_4a*_44)];_48[_4a*_43+_4b]=_49;}else{_48[_4a*_43+_4b]="";}}}_3d=null;return _48;};_._a.al.prototype.toArray=function(str){if(typeof str!="string"){if(str===null){_.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter is null.");}else{_.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter isn't string. ["+(typeof str)+"]");}return [];}var re=/^\[\s*\]$/g;if(str.match(re)!=null){return (new Array());}var _4e=str.split("\",\"");_4e[0]=_4e[0].substr(2);_4e[_4e.length-1]=_4e[_4e.length-1].substr(0,((_4e[_4e.length-1]).length-2));return _4e;};_._a.al.prototype.getRowCount=function(){return this.getDataLength();};_._a.al.prototype.setGridReadOnly=function(_4f){try{_4f=_._G.getBoolean(_4f);this.options.readOnly=_4f;this.notifyDataChanged();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.getGridReadOnly=function(){try{return this.options.readOnly;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.initGrid=function(){try{this.loadCheck=[];this.initFlag=true;this.skipScrollEndEvent=true;this.removeAllFinish=true;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();ret=this.removeAll();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.clearFilter();this.initColumns();return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setInitValue=function(){try{this.initGrid();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setDisplayFormat=function(_50,_51){try{var _52=this.getCellInfo(_50);_52.options.displayFormat=_51;_52.initFormatter();this.drawColumnData(_50);return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setDisplayFormatter=function(_53,_54){try{var _55=this.getCellInfo(_53);_55.options.displayFormatter=_54;_55.initFormatter();this.drawColumnData(_53);return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.setFormat=function(_56,_57){try{var _58=this.getCellInfo(_56);if(_57.ioFormat){var _59=_58.options.inputType||"text";var _5a=_58.mainGridId+_58.id;var _5b=this.dom[_5a];if(_5b){_5b.setFormat({ioFormat:_57.ioFormat,displayFormat:_57.ioFormat});}var _5c=_._g.createFormatter("date",_57.ioFormat,"",_58.options.ioFormat);for(var i=0;i<this.getDataLength();i++){var _5e=this.getCellData(i,_56);var _5f=_5c.format(_5e);this.setCellData(i,_56,_5f);}}_58.options.ioFormat=_57.ioFormat||_58.options.ioFormat;_58.options.displayFormat=_57.displayFormat||_58.options.displayFormat;_58.options.displayFormatter=_57.displayFormatter||_58.options.displayFormatter;_58.initFormatter();this.drawColumnData(_56);return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.spanAll=function(_60){try{if(typeof _60=="number"){this.showDepth=_60+"";}else{_60=_._G.getBoolean(_60);if(_60==true){this.showDepth="9999";}else{this.showDepth="1";}}this.initDrilldown();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.drawData(0,0);this.setScrollYHeight({noDraw:true});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.readExcelFile=function(_61,_62,_63,_64,_65,_66,_67,_68){this.readFile(_61,_62,_63,_64,_65,"excel",null,_66,_67,_68);};_._a.al.prototype.readFile=function(_69,_6a,_6b,_6c,_6d,_6e,_6f,_70,_71,_72){if(typeof _6c=="undefined"||typeof _6c!="string"){_6c=this.options.excelUploadPopupURL;}else{_6c=_._h.getURL(_6c);}if(typeof _6d=="undefined"||typeof _6d!="string"){_6d="top=280,height=80,left=160,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_69=parseInt(_69,10);_6a=parseInt(_6a,10);_6b=parseInt(_6b,10);if(_69==1){_6c+="?header=true";}else{_6c+="?header=false";}if(_6a==1){_6c+="&append=true";}else{_6c+="&append=false";}if(_70==1){_6c+="&fillHidden=true";}else{_6c+="&fillHidden=false";}if(_6b==1){_6c+="&hidden=true";}else{_6c+="&hidden=false";}_72=_72||0;if(_72==1){_6c+="&type=true";}else{_6c+="&type=false";}if(_6f){_6c+="&"+_6f;}if(_6e=="excel"){_6c+="&action="+this.options.excelUploadURL;}else{_6c+="&action="+this.options.excelUploadURL;}_6c+="&gridID="+this.id;var _73=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_73.push(i-this.defaultColCnt);}}_6c+="&columnNum="+this.getTotalCol();_6c+="&expressionColumns="+this.getExpressionColumnArr().join(",");_6c+="&hiddenColumns="+_73.join(",");_6c+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_71){_6c+="&gridStartRow="+_71;}else{_6c+="&gridStartRow=1";}if(_.domain){_6c+="&domain="+_._B.URLEncoder(_.domain);}var _75=window.open(_6c,"fileupWindow",_6d);};_._a.al.prototype.getExpressionColumnArr=function(){var _76=[];for(var i=0;i<this.getTotalCol();i++){if(this.getCellInfo(i).options.inputType=="expression"){_76.push("true");}else{_76.push("false");}}return _76;};_._a.al.prototype.saveExcelFile=function(_78,_79,_7a,_7b,_7c,_7d,_7e){var _7f={};_7f.fileName=_78;_7f.hidden=_79;_7f.checkButton=_7a;_7f.type=_7b;_7f.hiddenExpand=_7c;_7f.saveList=_7d;_7f.useEuroLocale=_7e;this.saveExcel(_7f);};_._a.al.prototype.saveExcel=function(_80){var _81=_80.processMsg;if(_81&&_81.length>0){_.layer.showProcessMessage(_81);}else{_.layer.showProcessMessage("download...");}var _82=_80.fileName||"default";var _83=_80.hidden||0;var _84=_80.checkButton||0;var _85=_80.type+""||"0";var _86=_80.hiddenExpand||0;var _87=_80.saveList||[];var _88=_80.useEuroLocale||"false";var _89=_80.password||"";var _8a=new _._s.Hashtable();var _8b=_._t.getElementsByTagName(this.element,"w2:header");var _8c=_8b[0];var _8d=_._t.getElementsByTagName(_8c,"w2:column");for(var i=0;i<_8d.length;i++){var col=_8d[i];var _90=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_90));}_8a.put("style",_._t.serialize(this.element));if(_85=="0"||_85==""){_8a.put("data",this.getExcelAllXML());_8a.put("footer_data",this.getExcelAllFooterXML());}else{if(_85=="2"){var _91=this.getExcelAllXMLRaw();_8a.put("data",_91);_8a.put("footer_data",this.getExcelAllFooterXMLRaw());}else{var _91=this.getExcelAllXMLDisplay();_8a.put("data",_91);_8a.put("footer_data",this.getExcelAllFooterXMLDisplay());}}var _92=[];for(var i=0;i<this.getTotalCol();i++){var _93=this.getCellInfo(i).options.inputType;if(_93=="checkbox"||_93=="radio"||_93=="button"){_92.push("\""+i+"\"");}}_8a.put("hiddenArr",this.getHiddenColumnArr());_8a.put("fileName",_82);_8a.put("hidden",_83);_8a.put("checkButton",_84);_8a.put("type",_85);_8a.put("rowNumVisible",this.options.rowNumVisible+"");_8a.put("rowNumHeaderValue",this.options.rowNumHeaderValue);_8a.put("hiddenExpand",_86);_8a.put("checkButtonArr","<array><![CDATA[["+_92.join(",")+"]]]></array>");if(typeof _87!="undefined"&&_87){_8a.put("saveList","<array><![CDATA[[\""+_87.join("\",\"")+"\"]]]></array>");}_8a.put("useEuroLocale",_88);_8a.put("password",_89);_._h.excelDownload(this.options.excelDownloadURL,_8a.toString(),"post");};_._a.al.prototype.saveExcelFile2=function(_94,_95,_96,_97,_98,_99){var _9a={};_9a.fileName=_94;_9a.type=_97;if(_95+""=="0"){var _9b=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_9b.push(i-this.defaultColCnt);}}_9a.removeColumns=_9b.join(",");}var _9d=[];if(_96+""=="0"){for(var i=0;i<this.getTotalCol();i++){var _9e=this.getCellInfo(i).options.inputType;if(_9e=="checkbox"||_9e=="radio"||_9e=="button"){_9d.push(this.getCellInfo(i).options.colIndex-this.defaultColCnt);}}}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(_95+""=="1"&&_98+""=="0"&&this.hiddenList[i]==true){_9d.push(i-this.defaultColCnt);}}_9a.foldColumns=_9d.join(",");this.advancedExcelDownload(_9a);};_._a.al.prototype.getHiddenColumnArr=function(){var _9f=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){_9f.push(this.hiddenList[i]);}return "<array><![CDATA[[\""+_9f.join("\",\"")+"\"]]]></array>";};_._a.al.prototype.fireFileReadEnd=function(_a1){var _a2=this;setTimeout(function(){_._F.fireEvent(_a2,"onfilereadend",_a1);},10);};_._a.al.prototype.readCSV=function(_a3){var _a4=_a3.type||"1";var _a5=_a3.delim||",";var _a6=_a3.escapeChar||"";var _a7=_a3.header||"1";var _a8=_a3.footer||"1";var _a9=_a3.startRowIndex||"0";var _aa=_a3.startColumnIndex||"0";var _ab=_a3.append||"0";var _ac=_a3.hidden||"0";var _ad=_a3.fillHidden||"0";var _ae=_a3.skipSpace||"0";var _af=_a3.removeColumns||"";var _b0=_a3.optionParam||"";var _b1=_a3.popupUrl||this.options.csvUploadPopupURL;var _b2=_a3.processMsg||"";if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=127,left=160,width=445,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_a7=parseInt(_a7,10);_ab=parseInt(_ab,10);_ac=parseInt(_ac,10);_a4=_a4||0;if(_a4==1){_b1+="?type=true";}else{_b1+="?type=false";}_b1+="&delim="+_a5;_b1+="&escapeChar="+_a6;if(_a7==1){_b1+="&header=true";}else{_b1+="&header=false";}if(_a8==1){_b1+="&footer=true";}else{_b1+="&footer=false";}if(_ab==1){_b1+="&append=true";}else{_b1+="&append=false";}if(_ac==1){_b1+="&hidden=true";}else{_b1+="&hidden=false";}if(_ad==1){_b1+="&fillHidden=true";}else{_b1+="&fillHidden=false";}if(_ae==1){_b1+="&skipSpace=true";}else{_b1+="&skipSpace=false";}_b1+="&removeColumns="+_af;if(_b0){_b1+="&"+_b0;}_b1+="&gridID="+this.id;var _b3=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_b3.push(i-this.defaultColCnt);}}_b1+="&columnNum="+this.getTotalCol();_b1+="&expressionColumns="+this.getExpressionColumnArr().join(",");_b1+="&hiddenColumns="+_b3.join(",");_b1+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_a9){_b1+="&gridStartRow="+_a9;}else{_b1+="&gridStartRow=1";}if(_aa){_b1+="&gridStartCol="+_aa;}else{_b1+="&gridStartCol=1";}if(_.domain){_b1+="&domain="+_._B.URLEncoder(_.domain);}_b1+="&action="+this.options.csvUploadURL;_b1+="&processMsg="+_._B.BASE64URLEncoder(_b2);var _b5=window.open(_b1,"csvupWindow",sFeatures);};_._a.al.prototype.saveCSVFile=function(_b6,_b7,_b8,_b9,_ba,_bb,_bc,_bd,_be){_.layer.showProcessMessage("download...");_bc+="";var _bf=new _._s.Hashtable();_bf.put("style",_._t.serialize(this.element));if(_bc=="0"||_bc==""){_bf.put("data",this.getExcelAllXML());_bf.put("footer_data",this.getExcelAllFooterXML());}else{_bf.put("data",this.getExcelAllXMLDisplay());_bf.put("footer_data",this.getExcelAllFooterXMLDisplay());}var _c0=[];for(var i=0;i<this.getTotalCol();i++){var _c2=this.getCellInfo(i).options.inputType;if(_c2=="checkbox"||_c2=="radio"||_c2=="button"){_c0.push("\""+i+"\"");}}var _c3=_be||"";_c3="\""+_c3.wq_replaceAll(",","\",\"")+"\"";_bf.put("hiddenArr",this.getHiddenColumnArr());_bf.put("fileName",_b6);_bf.put("hidden",_b9);_bf.put("checkButton","1");_bf.put("type",_bc);_bf.put("rowNumVisible",this.options.rowNumVisible);_bf.put("rowNumHeaderValue",this.options.rowNumHeaderValue);_bf.put("removeQuotation",_bb);_bf.put("delim",_b7);_bf.put("header",_b8);_bf.put("checkButtonArr","<array><![CDATA[["+_c0.join(",")+"]]]></array>");if(typeof _bd!="undefined"&&_bd){_bf.put("saveList","<array><![CDATA[[\""+_bd.join("\",\"")+"\"]]]></array>");}_bf.put("removeColumns","<array><![CDATA[["+_c3+"]]]></array>");_._h.excelDownload(this.options.csvDownloadURL,_bf.toString(),"post");};_._a.al.prototype.advancedExcelUpload=function(_c4){var _c5=_c4.fileName||"";var _c6=_c4.type||"0";var _c7="excel";var _c8=_c4.removeColumns||"";var _c9=_c4.foldColumns||"";var _ca=_c4.startRowIndex||"0";var _cb=_c4.startColumnIndex||"0";var _cc=_c4.endColumnIndex||"-1";var _cd=_c4.sheetNo||"0";var _ce=_c4.headerExist||"0";if(_c4.footerExist===0){_c4.footerExist="0";}var _cf=_c4.footerExist||"1";var _d0=_c4.append||"0";var _d1=_c4.hidden||"0";var _d2=_c4.fillHidden||"0";var _d3=_c4.popupUrl||this.options.advancedExcelUploadPopupURL;var _d4=_c4.optionParam||"";var _d5=_c4.skipSpace||"0";var _d6=_c4.insertColumns||[];var _d7=_c4.processMsg||"";var _d8="";var sep="";for(var i=0;i<_d6.length;i++){var _db=_d6[i];var _dc=_db.columnIndex+""||"";var _dd=_db.columnValue+""||"";if(_dc!=""&&_dd!=""){_d8=_d8+sep+_dc+","+_dd;sep="|";}}if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=127,left=160,width=445,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_ce=parseInt(_ce,10);_d0=parseInt(_d0,10);_d1=parseInt(_d1,10);_cf=parseInt(_cf,10);if(_ce==1){_d3+="?header=true";}else{_d3+="?header=false";}if(_cf==1){_d3+="&footer=true";}else{_d3+="&footer=false";}if(_d0==1){_d3+="&append=true";}else{_d3+="&append=false";}_d3+="&removeColumns="+_c8;if(_d2==1){_d3+="&fillHidden=true";}else{_d3+="&fillHidden=false";}if(_d1==1){_d3+="&hidden=true";}else{_d3+="&hidden=false";}_c6=_c6||0;if(_c6==1){_d3+="&type=true";}else{_d3+="&type=false";}if(_d5==1){_d3+="&skipSpace=true";}else{_d3+="&skipSpace=false";}_d3+="&insertColumns="+_d8;if(_d4){_d3+="&"+_d4;}if(_c7=="excel"){_d3+="&action="+this.options.advancedExcelUploadURL;}else{_d3+="&action="+this.options.advancedExcelUploadURL;}_d3+="&gridID="+this.id;var _de=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_de.push(i-this.defaultColCnt);}}_d3+="&columnNum="+this.getTotalCol();_d3+="&expressionColumns="+this.getExpressionColumnArr().join(",");_d3+="&hiddenColumns="+_de.join(",");_d3+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_ca){_d3+="&gridStartRow="+_ca;}else{_d3+="&gridStartRow=1";}if(_cb){_d3+="&gridStartCol="+_cb;}else{_d3+="&gridStartCol=1";}_d3+="&gridEndCol="+_cc;if(_cd){_d3+="&gridSheetNo="+_cd;}else{_d3+="&gridSheetNo=0";}if(_.domain){_d3+="&domain="+_._B.URLEncoder(_.domain);}_d3+="&processMsg="+_._B.BASE64URLEncoder(_d7);var _df=window.open(_d3,"fileupWindow",sFeatures);};_._a.al.prototype.advancedExcelDownload=function(_e0,_e1){try{var _e2=100;var _e3=parseInt(_e0.rowsByN);_e0.rowsByN=_e3>_e2?_e3:_e2;_e0.dataLength=this.getDataLength();_e0.multiexcel=false;_e0.dataProvider=_e0.dataProvider||"";switch(_e0.type+""){case "":case "0":_e0.type=0;break;case "2":_e0.type=2;break;default:_e0.type=1;}if(_e0.type===0||_e0.type===1){if(_e0.showProcess===false){_.getBody().showModal("w2modal_gridDownload");}else{if(_e0.showConfirm===true){_e0.massStorage=true;window["downloadGridId"]=this.id;_.getBody().showModal();this.showSendExcelLayer();}else{_.layer.showProcessMessage("composing excel data...");}}_e0.cellInfo=[];_e0.isPlainDataCol=[];_e0.isSelectCol=[];_e0.isBasicCol=[];_e0.isExpCol=[];var _e4=this.oneRowDataLength;for(var i=0;i<_e4;i++){var _e6=this.getCellInfo(i);var _e7=_e6.options.inputType;_e0.cellInfo[i]=_e6;_e0.isPlainDataCol[i]=_e7==="checkbox"||_e7==="image"||_e7==="radio"||_e7==="autofinder";_e0.isSelectCol[i]=_e7==="select";_e0.isExpCol[i]=_e7==="expression";_e0.isBasicCol[i]=!_e0.isPlainDataCol[i]&&!_e0.isSelectCol[i]&&!_e0.isExpCol[i];}}var _e8=this;var _e9=0;var _ea=[];if(_e0.multiexcel=false){this.makeExcelData(_e9,_ea,_e0,_e1);}else{var _eb=this.makeExcelData(_e9,_ea,_e0,_e1);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.showSendExcelLayer=function(){if(typeof window["gridExceldownloadIframe"]!="undefined"){window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].style.display="block";var _ec=_.document.documentElement.scrollTop+_.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _ed=_.document.documentElement.scrollLeft+_.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_ed+"px";window["gridExceldownloadIframe"].style.top=_ec+"px";window["gridExceldownloadIframe"].style.visibility="visible";window["gridExceldownloadIframe"].contentWindow.initialize();}else{window["gridExceldownloadIframe"]=_.document.createElement("iframe");window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].setAttribute("id","gridDownLoadLayer");window["gridExceldownloadIframe"].setAttribute("src",this.options.advancedExcelDownloadPopupURL);window["gridExceldownloadIframe"].setAttribute("frameBorder","0");window["gridExceldownloadIframe"].className="w2grid_downloadIframe";_.document.body.appendChild(window["gridExceldownloadIframe"]);var _ec=_.document.documentElement.scrollTop+_.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _ed=_.document.documentElement.scrollLeft+_.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_ed+"px";window["gridExceldownloadIframe"].style.top=_ec+"px";window["gridExceldownloadIframe"].style.position="absolute";window["gridExceldownloadIframe"].style.visibility="visible";}};_._a.an.prototype.checkUpload=function(){var _ee=this;setTimeout(function(){if(_ee.downloadInit==true){window["gridExceldownloadIframe"].contentWindow.checkUpload("end");}else{_ee.checkUpload();}},10);};_._a.al.prototype.sendExcelData=function(_ef,_f0,_f1){if(_ef.showProcess===false){}else{_.layer.showProcessMessage("download...");}var _f2=_ef.fileName||"excel";var _f3=_ef.sheetName||"sheet";var _f4=_ef.type||"0";var _f5=_ef.removeColumns||"";var _f6=_ef.removeHeaderRows||"";var _f7=_ef.foldColumns||"";var _f8=_ef.startRowIndex||"0";var _f9=_ef.startColumnIndex||"0";var _fa=_ef.headerColor||"";var _fb=_ef.headerFontName||"";var _fc=_ef.headerFontSize||"";var _fd=_ef.headerFontColor||"";var _fe=_ef.bodyColor||"";var _ff=_ef.bodyFontName||"";var _100=_ef.bodyFontSize||"";var _101=_ef.bodyFontColor||"";var _102=_ef.footerColor||"";var _103=_ef.footerFontName||"";var _104=_ef.footerFontSize||"";var _105=_ef.footerFontColor||"";var _106=_ef.subTotalColor||"";var _107=_ef.subTotalFontName||"";var _108=_ef.subTotalFontSize||"";var _109=_ef.subTotalFontColor||"";var _10a=_ef.dataProvider||"";var _10b=_ef.providerRequestXml||"";var _10c=_ef.userDataXml||"";var _10d=_ef.bodyWordwrap||"";var _10e=_ef.useEuroLocale||"false";var _10f=_ef.useHeader||"true";var _110=_ef.useSubTotal||"false";var _111=_ef.useFooter||"true";_ef.printSet=_ef.printSet||{};var _112=_ef.printSet.fitToPage||"false";var _113=_ef.printSet.landScape||"false";var _114=_ef.printSet.fitWidth||"1";var _115=_ef.printSet.fitHeight||"1";var _116=_ef.printSet.scale||"100";var _117=_ef.printSet.pageSize||"A4";var _118=_ef.separator||",";var _119=_ef.subTotalScale||-1;var _11a=_ef.subTotalRoundingMode||"";var _11b=((_ef.useStyle+"")=="true")?true:false;var _11c=_ef.freezePane||"";var _11d=_ef.autoSizeColumn||"false";var _11e=_ef.displayGridlines||"";var _11f=_ef.colMerge||"false";var _120=_ef.useDataFormat||"false";var _121=((_ef.useSubTotalData+"")=="true")?true:false;var _122=((_ef.columnMove+"")=="true")?true:false;var _123="";if(_122){_123=this.getColumnOrder()||"";}var _124=[];if(_f5!=""){_f5=_f5+"";var _125=_f5.split(",");if(_122){for(var i=0;i<_125.length;i++){for(var j=0;j<_123.length;j++){if(_125[i]==_123[j]){_124.push(j);}}}}else{_124=_125;}_124.sort(function(a,b){return ((a*1)-(b*1));});_f5=_124.join(",");}var hash=new _._s.Hashtable();var _12b=this.element;var _12c=_._t.getElementsByTagName(this.element,"w2:header");var _12d=_12c[0];var _12e=_._t.getElementsByTagName(_12d,"w2:column");for(var i=0;i<_12e.length;i++){var col=_12e[i];var _130=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_130));}hash.put("style",_._t.serialize(this.element));hash.put("data",_f1);if(this.resizeObj.width==0||this.resizeObj.height==0){this.drawFooter();}hash.put("groupby",this.groupbyStatus.grouped);if(_ef.groupby&&this.groupbyStatus.grouped){hash.key.push("groupbyStyle");hash.data.push(this.getExcelGroupbyStyle());hash.dataType.push("Document");hash.put("groupbyHeaderValue",this.getExcelGroupbyHeaderValue());hash.put("groupbyFooterValue",this.getExcelGroupbyFooterValue());hash.put("groupbyStatusValue",this.getExcelGroupbyStatusValue());hash.put("groupbyStyleData",this.getExcelGroupbyStyleData());hash.put("rowNumVisible",this.options.rowNumVisible);hash.put("rowStatusVisible",this.options.rowStatusVisible);}if(_f4==0){hash.put("footer_data",this.getExcelAllFooterXML(_118));}else{if(_f4==1){hash.put("footer_data",this.getExcelAllFooterXMLDisplay(_118));}else{hash.put("footer_data",this.getExcelAllFooterXMLRaw(_118));}}hash.put("fileName",_f2);hash.put("sheetName",_f3);hash.put("stRowIndex",_f8);hash.put("stColIndex",_f9);hash.put("removeColumns",_f5);hash.put("removeHeaderRows",_f6);hash.put("foldColumns",_f7);hash.put("headerColor",_fa);hash.put("headerFontName",_fb);hash.put("headerFontSize",_fc);hash.put("headerFontColor",_fd);hash.put("bodyColor",_fe);hash.put("bodyFontName",_ff);hash.put("bodyFontSize",_100);hash.put("bodyFontColor",_101);hash.put("footerColor",_102);hash.put("footerFontName",_103);hash.put("footerFontSize",_104);hash.put("footerFontColor",_105);hash.put("subTotalColor",_106);hash.put("subTotalFontName",_107);hash.put("subTotalFontSize",_108);hash.put("subTotalFontColor",_109);hash.put("dataProvider",_10a);hash.put("providerRequestXml",_10b);hash.put("userDataXml",_10c);hash.put("bodyWordwrap",_10d);hash.put("useEuroLocale",_10e);hash.put("useHeader",_10f);hash.put("useSubTotal",_110);hash.put("useFooter",_111);hash.put("fitToPage",_112);hash.put("landScape",_113);hash.put("fitWidth",_114);hash.put("fitHeight",_115);hash.put("scale",_116);hash.put("pageSize",_117);hash.put("separator",_118);hash.put("subTotalScale",_119);hash.put("subTotalRoundingMode",_11a);hash.put("useStyle",_11b);hash.put("freezePane",_11c);hash.put("autoSizeColumn",_11d);hash.put("displayGridlines",_11e);hash.put("colMerge",_11f);hash.put("useDataFormat",_120);hash.put("useSubTotalData",_121);hash.put("columnMove",_122);hash.put("columnOrder",_123);if(_11b){hash.put("styleData","<array><![CDATA[["+this._getExcelStyle()+"]]]></array>");}if(_121){hash.put("subtotalData","<array><![CDATA[["+this._getExcelSubtotalData(_118)+"]]]></array>");}var _131=new _._s.Vector();if(_f0==null||typeof _f0=="undefined"){_f0=[];}for(var i=0;i<_f0.length;i++){var obj=_f0[i];var _133=new _._s.Hashtable();for(var prop in obj){_133.put(prop,obj[prop]);}_131.addElement(_133);}hash.put("information",_131);if(_ef.multiexcel==false){var _135=new _._s.Vector();_135.addElement(hash);_._h.excelDownload(this.options.advancedExcelDownloadURL,_135.toString(),"post");this.xmlData=null;if(_ef.showProcess===false){_.getBody().hideModal();}else{if(_ef.showConfirm===true){this.hideDownloadLayer();}}}else{return hash;}};_._a.al.prototype.cancleDownload=function(){clearTimeout(this.excelTime);this.hideDownloadLayer();};_._a.al.prototype.hideDownloadLayer=function(){window["gridExceldownloadIframe"].style.display="none";this.excelOptions=null;this.excelInfoArr=null;this.excelFinalStr=null;window["downloadGridId"]=null;_.getBody().hideModal();};_._a.al.prototype.saveBigExcelFile=function(_136,_137,_138){if(_138){_136.rowsByN=_138;}_136.massStorage=true;this.advancedExcelDownload(_136,_137);};_._a.al.prototype._getExcelStyle=function(){var _139={};var _13a={};var _13b={};var _13c={};var _13d={};for(var i in this.columnStyleValueObj){var _13f={};for(var j in this.columnStyleValueObj[i]){if(j!="style"){_13f[j]=this.columnStyleValueObj[i][j];}}var _141=this.getCellInfo(parseInt(i,10));if(_141&&_141.options.textAlign){_13f["text-align"]=_141.options.textAlign;}_139[i]=_13f;}for(var i=0;i<this.rowStyleArr.length;i++){if(this.rowStyleArr[i]){var _13f={};for(var j in this.rowStyleValueObj[this.rowStyleArr[i]]){if(j!="style"){_13f[j]=this.rowStyleValueObj[this.rowStyleArr[i]][j];}}_13a[i]=_13f;}}for(var i=0;i<this.cellStyleArr.length;i++){if(this.cellStyleArr[i]){var _13f={};var _142=parseInt(i/this.oneRowDataLength,10);var _143=i%this.oneRowDataLength;for(var j in this.cellStyleValueObj[this.cellStyleArr[i]]){if(j!="style"){_13f[j]=this.cellStyleValueObj[this.cellStyleArr[i]][j];}}_13b[_142+","+_143]=_13f;}}var _144=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=this.defaultColCnt;i<_144.length;i++){var _145="";_145+=("color:"+_._v.getStyle(_144[i],"color")+";");_145+=("background-color:"+_._v.getStyle(_144[i],"background-color")+";");_145+=("font-weight:"+_._v.getStyle(_144[i],"font-weight")+";");_145+=("font-family:"+_._v.getStyle(_144[i],"font-family")+";");_145+=("text-align:"+_._v.getStyle(_144[i],"text-align")+";");_13c[_144[i].getAttribute("header_id")]=_145;}if(this.hasFooter){var _146=this.getDomList("foot_tds","th",this.getElementById(this.id+"_foot_table"));for(var i=this.defaultColCnt;i<_146.length;i++){var _145="";_145+=("color:"+_._v.getStyle(_146[i],"color")+";");_145+=("background-color:"+_._v.getStyle(_146[i],"background-color")+";");_145+=("font-weight:"+_._v.getStyle(_146[i],"font-weight")+";");_145+=("font-family:"+_._v.getStyle(_146[i],"font-family")+";");_145+=("text-align:"+_._v.getStyle(_146[i],"text-align")+";");_13d[_146[i].getAttribute("footer_id")]=_145;}}var _147=JSON.stringify({row:_13a,col:_139,cell:_13b,header:_13c,footer:_13d});return _147;};_._a.al.prototype._getExcelSubtotalData=function(_148){if(!_148){_148=",";}var _149=[];_149.push("\"");var len=this.getDataLength();for(var i=0;i<this.filteredRowIndexArr.length;i++){var _14c=i;var _14d=this.filteredRowIndexArr[_14c];if(typeof _14d=="number"){for(var _14e in this.subtotalTableList){var _14f=this.getCellData(_14c,_14e);var _150=_14f+"_12";if(_14c<len-1){var _150=this.getCellData(_14c+1,_14e);}if(_14f!=_150){var _151=this.subtotalTableList[_14e];var _152=this.subtotalDataArr[_14e+"_"+_14f];if(_152==null){_152=this.getSubtotalData(_151,_14e,_14f,_14c);}var _153="";var _154=_151.getElementsByTagName("td");for(var j=0;j<_154.length;j++){var _156=_154[j];var _157=_156.getAttribute("id");if(_157!="_headerRowNumber"&&_157!="_headerRowStatus"){if(_152[_157]!=null){_153=_152[_157];}else{if(_156.getAttribute("colMerge")=="true"){_153="";}else{var _153=_156.getAttribute("value");_153=_153!=null?_153:"";}}_149.push(_153);_149.push("\""+_148+"\"");}}}}}}_149[_149.length-1]="\"";return _149.join("");};_._a.al.prototype.getExcelGroupbyStyle=function(){try{if(this.groupbyStatus.grouped){var _158={"rowNumHeader":{type:"H",index:2},"rowNumFooter":{type:"F",index:2},"rowStatusHeader":{type:"H",index:3},"rowStatusFooter":{type:"F",index:3},"groupbyHeader":{type:"H",index:-1},"groupbyFooter":{type:"F",index:-1}};var _159=4;var _15a=4;var _15b=false;var _15c=false;var _15d=[];var _15e=[];var _15f=[];var _160={};_15d.push("<w2:groupby>");_15e.push("<w2:groupbyHeader>");_15f.push("<w2:groupbyFooter>");_15e.push("<w2:row>");_15f.push("<w2:row>");var _161=this.defaultColCnt+this.getColCnt();var _162=0;var _163=0;if(this.options.rowNumVisible){if(this.groupbyDisplayOptions.rowNumHeader){if(!this.groupbyDisplayOptions.rowNumHeader.hidden){_163+=parseInt(this.groupbyDisplayOptions.rowNumHeader.colSpan,10)||1;if(_163<=_161){_160.rowNumHeader=this.groupbyDisplayOptions.rowNumHeader;}}}if(this.groupbyDisplayOptions.rowNumFooter){if(!this.groupbyDisplayOptions.rowNumFooter.hidden){_162+=parseInt(this.groupbyDisplayOptions.rowNumFooter.colSpan,10)||1;if(_162<=_161){_160.rowNumFooter=this.groupbyDisplayOptions.rowNumFooter;}}}}if(this.options.rowStatusVisible){if(this.groupbyDisplayOptions.rowStatusHeader){if(!this.groupbyDisplayOptions.rowStatusHeader.hidden){_163+=parseInt(this.groupbyDisplayOptions.rowStatusHeader.colSpan,10)||1;if(_163<=_161){_160.rowStatusHeader=this.groupbyDisplayOptions.rowStatusHeader;}}}if(this.groupbyDisplayOptions.rowStatusFooter){if(!this.groupbyDisplayOptions.rowStatusFooter.hidden){_162+=parseInt(this.groupbyDisplayOptions.rowStatusFooter.colSpan,10)||1;if(_162<=_161){_160.rowStatusFooter=this.groupbyDisplayOptions.rowStatusFooter;}}}}_160.groupbyHeader=[];_160.groupbyFooter=[];var _164=this.groupbyDisplayOptions.groupbyHeader;for(var i=0;i<_164.length;i++){if(!_164[i].hidden){_163+=parseInt(_164[i].colSpan,10)||1;if(_163<=_161){_160.groupbyHeader[i]=_164[i];}else{break;}}}var _166=this.groupbyDisplayOptions.groupbyFooter;for(var i=0;i<_166.length;i++){if(!_166[i].hidden){_162+=parseInt(_166[i].colSpan,10)||1;if(_162<=_161){_160.groupbyFooter[i]=_166[i];}else{break;}}}if(_159<_161){var _167=_161-_163;for(var i=0;i<_167;i++){_160.groupbyHeader.push({temp:true});}}if(_15a<_161){var _167=_161-_162;for(var i=0;i<_167;i++){_160.groupbyFooter.push({temp:true});}}this.groupbyStatus.excelDisplayOptions=_160;for(var key in _160){var info;var _16a=[];switch(key){case "rowNumHeader":case "rowNumFooter":case "rowStatusHeader":case "rowStatusFooter":_16a.push("<w2:column");var _16b=_160[key];var _16c=false;for(var _16d in _16b){if(_16d!="align"&&_16d!="hidden"&&_16d!="colSpan"){continue;}if(_16d=="hidden"){_16c=true;break;}_16a.push(" "+_16d+"=\""+_16b[_16d]+"\"");if(key=="rowNumHeader"||key=="rowNumFooter"){if(_16d.toLowerCase()=="colspan"){if(_16b[_16d]>=this.defaultColCnt+this.getColCnt()){if(key=="rowNumHeader"){_15b=true;}else{_15c=true;}}}}}if(_16c){break;}if(key=="rowStatusHeader"&&_15b){break;}else{if(key=="rowStatusFooter"&&_15c){break;}}if(key.match("rowNum")){_16a.push(" type=\"rowNum\"");}else{if(key.match("rowStatus")){_16a.push(" type=\"rowStatus\"");}}_16a.push("/>");info=_158[key];break;case "groupbyHeader":case "groupbyFooter":var _16c=false;var _16e=[];var _16f=_160[key];if(_16f.length>0){for(var i=0;i<_16f.length;i++){var _170=[];_170.push("<w2:column");for(var _16d in _16f[i]){if(_16d!="align"&&_16d!="hidden"&&_16d!="colSpan"){continue;}if(_16d=="hidden"){_170.pop();break;}_170.push(" "+_16d+"=\""+_16f[i][_16d]+"\"");}_170.push("/>");_16a.push(_170.join(""));}}info=_158[key];break;}if(info){if(info.type=="H"){if(info.index==-1){_15e[_159]=_16a.join("");_159++;}else{_15e[info.index]=_16a.join("");}}else{if(info.type=="F"){if(info.index==-1){_15f[_15a]=_16a.join("");_15a++;}else{_15f[info.index]=_16a.join("");}}}}info=null;}_15e.push("</w2:row>");_15f.push("</w2:row>");_15e.push("</w2:groupbyHeader>");_15f.push("</w2:groupbyFooter>");_15d.push(_15e.join(""));_15d.push(_15f.join(""));_15d.push("</w2:groupby>");return _15d.join("");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.al.prototype.getExcelGroupbyHeaderValue=function(){this.groupbyStatus.headerValueObj={};this.getAllGroupbyHeaderValueObj();var _171=[];_171.push("<array><![CDATA[");_171.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var _173=this.filteredRowIndexArr[i];if(_173.type=="header"){var _174=this.groupbyStatus.headerValueObj[_173.groupId];for(var j=0;j<_174.length;j++){if(_174[j]!=undefined){_171.push("\""+_174[j]+"\"");if(j<_174.length-1){_171.push(",");}}}if(_174.length>0){_171.push(",");}}}_171.pop();_171.push("]");_171.push("]]></array>");return _171.join("");};_._a.al.prototype.getExcelGroupbyFooterValue=function(){this.groupbyStatus.footerValueObj={};this.getAllGroupbyFooterValueObj();var _176=[];_176.push("<array><![CDATA[");_176.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var _178=this.filteredRowIndexArr[i];if(_178.type=="footer"){var _179=this.groupbyStatus.footerValueObj[_178.groupId];for(var j=0;j<_179.length;j++){if(_179[j]!=undefined){_176.push("\""+_179[j]+"\"");if(j<_179.length-1){_176.push(",");}}}if(_179.length>0){_176.push(",");}}}_176.pop();_176.push("]");_176.push("]]></array>");return _176.join("");};_._a.al.prototype.getExcelGroupbyStatusValue=function(){var _17b=[];_17b.push("<array><![CDATA[");_17b.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var row=this.filteredRowIndexArr[i];if(typeof row=="number"){_17b.push("\"0B\"");}else{switch(row.type){case "header":var _17e="\""+row.depth+"H\"";break;case "footer":var _17e="\""+row.depth+"F\"";break;default:break;}_17b.push(_17e);}if(i<this.filteredRowIndexArr.length-1){_17b.push(",");}}_17b.push("]");_17b.push("]]></array>");return _17b.join("");};_._a.al.prototype.getExcelGroupbyStyleData=function(){var _17f=this.getElementById(this.id+"_body_tbody").childNodes;var _180=[];_180.push("<array><![CDATA[");_180.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var row=this.filteredRowIndexArr[i];if(typeof row!="number"){var _183=_17f[row.index];if(!_180[row.depth+2]){var _184="\"";if(i!=0){_184=",\"";}var _185;for(var key in this.groupbyStatus.excelDisplayOptions){var _187=false;switch(key){case "rowNumHeader":_187=true;_185=0;break;case "rowStatusHeader":_187=true;_185=this.defaultColCnt-1;break;case "groupbyHeader":_187=true;_185=this.defaultColCnt;break;}if(_187){break;}}var _188=_183.getElementsByTagName("TD")[_185];_184+="background-color:"+_._v.getStyle(_188,"background-color")+";";_184+="font-size:"+_._v.getStyle(_188,"font-size")+";";_184+="color:"+_._v.getStyle(_188,"color")+";";_184+="font-weight:"+_._v.getStyle(_188,"font-weight")+";";_184+="font-family:"+_._v.getStyle(_188,"font-family")+";";_184+="\"";_180[row.depth+2]=_184;}}}_180.push("]");_180.push("]]></array>");return _180.join("");};_._a.al.prototype.getAllGroupbyHeaderValueObj=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]!="number"){var _18a=this.filteredRowIndexArr[i];var _18b=0;if(this.options.rowNumVisible){this.setGroupbyData(_18a,_18b,this.groupbyStatus.excelDisplayOptions.rowNumHeader);_18b++;}if(this.options.rowStatusVisible){this.setGroupbyData(_18a,_18b,this.groupbyStatus.excelDisplayOptions.rowStatusHeader);_18b++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_18a,_18b,this.groupbyStatus.excelDisplayOptions.groupbyHeader[j]);_18b++;}}}};_._a.al.prototype.getAllGroupbyFooterValueObj=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]!="number"){var _18e=this.filteredRowIndexArr[i];var _18f=0;if(this.options.rowNumVisible){this.setGroupbyData(_18e,_18f,this.groupbyStatus.excelDisplayOptions.rowNumFooter);_18f++;}if(this.options.rowStatusVisible){this.setGroupbyData(_18e,_18f,this.groupbyStatus.excelDisplayOptions.rowStatusFooter);_18f++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_18e,_18f,this.groupbyStatus.excelDisplayOptions.groupbyFooter[j]);_18f++;}}}};_._a.al.prototype.setGroupbyData=function(_191,_192,_193){_193=_193||{};var _194=_193.value||"";var _195=_193.inputType||"";var _196=_193.depthVisible||false;var _197=_193.align||"";var _198=_193.expression||"";var _199=_193.colSpan||1;var _19a=_193.hidden?"none":"";var _19b=_193.displayFormatType||"text";var _19c=_193.displayFormat||"";var _19d=_193.displayFormatter||null;var _19e;var _19f;if(_195){if(_19c||_19d){_19e=new _._g.createFormatter(_19b,_19c,_19d);}switch(_195){case "toggleButton":_19f=_191.status=="open"?"-":"+";break;case "expression":if(_198){var _1a0=this.groupbyInfo[_191.groupId].header;var _1a1=0;if(_1a0.status=="open"){var _1a2;for(var i=_1a0.index;i<this.filteredRowIndexArr.length;i++){var _1a4=this.filteredRowIndexArr[i];if(_1a4.type=="footer"&&_1a4.depth==_1a0.depth){_1a2=_1a4.index;break;}}_1a1=this.groupExpression(this.filteredRowIndexArr,_1a0.index,_1a2,_198,_1a0);}else{_1a1=this.groupExpression(_1a0.closedChildArr,0,_1a0.closedChildArr.length-1,_198,_1a0);}if(_19e){_1a1=_19e.format(_1a1);}_19f=_1a1;if(typeof _19f=="string"&&(_19f.match("w2grid_minus")||_19f.match("w2grid_plus"))){var _1a5=_19f.lastIndexOf("</span>");if(_1a5>-1){_1a5+=7;_19f=_19f.slice(_1a5);if(_191.status=="open"){_19f="-||"+_19f;}else{if(_191.status=="closed"){_19f="+||"+_19f;}}}}}default:break;}}if(_196){_19f=_191.groupId;}if(_194){if(_19e){_194=_19e.format(_194);}_19f=_194;}if(!_19f){_19f="";var i=0;for(var key in _193){i++;}if(i==0){_19a="none";}}if(_19a!="none"){if(_191.type=="header"){if(!this.groupbyStatus.headerValueObj[_191.groupId]){this.groupbyStatus.headerValueObj[_191.groupId]=[];}this.groupbyStatus.headerValueObj[_191.groupId][_192]=_19f;}else{if(_191.type=="footer"){if(!this.groupbyStatus.footerValueObj[_191.groupId]){this.groupbyStatus.footerValueObj[_191.groupId]=[];}this.groupbyStatus.footerValueObj[_191.groupId][_192]=_19f;}}}};_.extend(_._a.al.prototype,_._a._f.prototype);_.extend(_._a.al.prototype,_._a.az.prototype);_.extend(_._a.al.prototype,_._a._B.prototype);_.extend(_._a.al.prototype,_._a._x.prototype);_.extend(_._a.al.prototype,_._a.an.prototype);_.extend(_._a.al.prototype,_._a._v.prototype);_.extend(_._a.al.prototype,_._a.am.prototype);_.extend(_._a.al.prototype,_._a.av.prototype);_.extend(_._a.al.prototype,_._a.aJ.prototype);_.extend(_._a.al.prototype,_._a._k.prototype);_.extend(_._a.al.prototype,_._a.aB.prototype);_.extend(_._a.al.prototype,_._a._V.prototype);_.extend(_._a.al.prototype,_._a._R.prototype);_.extend(_._a.al.prototype,_._a._b.prototype);_.extend(_._a.al.prototype,_._a._q.prototype);;WebSquare.uiplugin.grid=_._a.al;_._a._P=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._P.prototype,_._q.prototype);_._a._P.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator"};_._a._P.prototype.initialize=function(_4){this.idCounter=0;this.dynamicCreateHash=_._G.isIE()?{"tbody":true,"thead":true,"tfoot":true,"tr":true}:{};this.passHash={"script":true,"label":true,"value":true,"choices":true,"item":true,"itemset":true,"attributes":true};if(_4.nodeType==1){this.id=_4.getAttribute("id");}this.tagName=this.element.getAttribute("tagname")||"div";};_._a._P.prototype.toHTML=function(){try{var _5=[];var _6=this.element.attributes;_5.push("<"+this.tagName);if(_6){for(var i=0;i<_6.length;i++){if(_6[i].name!="tagname"){var _8=(_6[i].nodeValue=="")?"":" "+_6[i].name+"='"+_6[i].nodeValue+"'";_5.push(_8);}}}_5.push(">");_5.push("</"+this.tagName+">");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._P.prototype.setAction=function(){try{this.itemCnt=0;this.generatedIndexSet=[];this.generatedElementSet=[];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._P.prototype.setChildElement=function(_9,_a,_b){try{if(_9.nodeType==1){var _c=_9.nodeName.split(":");var _d=_c[_c.length-1];if(!this.passHash[_d]){var _e=this.id+"_"+_a+"_";var id=_9.getAttribute("id")||"";var ref=_9.getAttribute("ref");_9.setAttribute("g_index",_a);if(_9.tagName=="w2:tag"&&id==""){id="w2generator_"+this.idCounter++;}if(id){_9.setAttribute("original_id",id);if(_9.tagName!="w2:listColumn"){_9.setAttribute("id",_e+id);}}if(_b&&ref){_9.setAttribute("original_ref",ref);_9.setAttribute("ref",_b+"/"+ref);}if(_9.tagName=="w2:generator"){var _11=_9.getAttribute("nodeset");if(_b&&_11){_9.setAttribute("original_nodeset",_11);_9.setAttribute("nodeset",_b+"/"+_11);}}else{for(var i=0;i<_9.childNodes.length;i++){this.setChildElement(_9.childNodes[i],_a,_b);}}}}}catch(e){_.exception.printStackTrace(e);}};_._a._P.prototype.restoreChildElement=function(_13){try{if(_13.nodeType==1){var _14=_13.nodeName.split(":");var _15=_14[_14.length-1];if(!this.passHash[_15]){var _16=_13.getAttribute("original_id");var _17=_13.getAttribute("original_ref");_13.removeAttribute("g_index");if(_16){_13.setAttribute("id",_16);_13.removeAttribute("original_id");}if(_17){_13.setAttribute("ref",_17);_13.removeAttribute("original_ref");}if(_13.tagName=="w2:generator"){var _18=_13.getAttribute("original_nodeset");if(_18){_13.setAttribute("nodeset",_18);_13.removeAttribute("original_nodeset");}}else{for(var i=0;i<_13.childNodes.length;i++){this.restoreChildElement(_13.childNodes[i]);}}}}}catch(e){_.exception.printStackTrace(e);}};_._a._P.prototype.getLength=function(){return this.generatedIndexSet.length;};_._a._P.prototype.getChild=function(_1a,id){var _1c=this.generatedIndexSet[_1a];var _1d=this.id+"_"+_1c+"_"+id;return window[_1d]||document.getElementById(_1d);};_._a._P.prototype.insertChild=function(_1e){return this.insert(_1e);};_._a._P.prototype.insert=function(_1f){try{if(typeof _1f=="number"&&this.generatedElementSet[_1f]!=null){var _20=0;for(var i=0;i<_1f;i++){_20+=this.generatedElementSet[i].length;}this.targetNode=this.render.childNodes[_20];}var _22=[];for(var i=0;i<this.element.childNodes.length;i++){var _23=this.element.childNodes[i];this.setChildElement(_23,this.itemCnt);var _24=_.controlFactory.create(null,null,_23);if(_24){this.addControl(_24);if(this.dynamicCreateHash[this.tagName]){this.dynamicAppend(this.render,_24,_1f);}else{if(_23.nodeType==3){_24.render=document.createTextNode(_23.nodeValue);(this.targetNode)?this.render.insertBefore(_24.render,this.targetNode):this.render.appendChild(_24.render);}else{_._q.prototype.writeTo.call(_24,this,_1f);_24.activate();}}}this.restoreChildElement(_23);if(_24){_22.push(_24);}}(typeof _1f=="number")?this.generatedIndexSet.splice(_1f,0,this.itemCnt):this.generatedIndexSet.push(this.itemCnt);(typeof _1f=="number")?this.generatedElementSet.splice(_1f,0,_22):this.generatedElementSet.push(_22);this.targetNode=null;var _25=this.itemCnt;this.itemCnt++;return _25;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._P.prototype.dynamicAppend=function(_26,_27,_28){try{var _29=_27.toHTML();var _2a=_29.match(/(<)([^ >\/]*)/);var _2b=(_2a&&_2a[2])?_2a[2]:null;if(_2b){var _2c=document.createElement(_2b);var _2d=_._t.parse(_29);var _2e=_.WebSquareparser.parseAttribute(_2d.documentElement);try{for(var _2f in _2e){if(_2f=="style"){_2c.style.cssText=_2e[_2f];}else{if(_2f=="className"){_2c.className=_2e[_2f];}else{_2c.setAttribute(_2f,_2e[_2f]);}}}}catch(e){_.exception.printStackTrace(e,null,this);}if(typeof _28=="number"&&this.targetNode){_26.insertBefore(_2c,this.targetNode);_27.activate();}else{_26.appendChild(_2c);_27.activate();}if(_27.childControlList.length==0){for(var i=0;i<_2d.documentElement.childNodes.length;i++){var _31=_2d.documentElement.childNodes[i];var _32=_.controlFactory.create(null,null,_31);if(_32){_27.addControl(_32);}}}for(var i=0;i<_27.childControlList.length;i++){var _32=_27.childControlList[i];if(_32.element.nodeType==3){_2c.appendChild(document.createTextNode(_32.element.data));}else{if(this.dynamicCreateHash[_2b]){this.dynamicAppend(_2c,_32);}else{_._q.prototype.writeTo.call(_32,_2c);_32.activate();}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._P.prototype.removeChild=function(_33){if(_33==null){_33=this.generatedElementSet.length-1;}return this.remove(_33);};_._a._P.prototype.remove=function(_34){if(_34==null){_._q.prototype.remove.call(this);return;}else{if(typeof _34!="number"||!this.generatedElementSet[_34]){return;}}for(var i=0;i<this.generatedElementSet[_34].length;i++){var _36=this.generatedElementSet[_34][i];if(_36.remove){_36.remove();}}var _37=this.generatedIndexSet.splice(_34,1);this.generatedElementSet.splice(_34,1);return _37;};_._a._P.prototype.removeAll=function(){for(var i=this.childControlList.length-1;i>=0;i--){if(this.childControlList[i].remove){this.childControlList[i].remove();}}_.removeChildren(this.render);this.generatedIndexSet=[];this.generatedElementSet=[];this.itemCnt=0;};_._a._P.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0);};;WebSquare.uiplugin.generator=_._a._P;requires("uiplugin/control/cssCustomizer.js");_._a._l=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._l.prototype,_._q.prototype);_.extend(_._a._l.prototype,_.cssCustomizer.prototype);_._a._l.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.scrollView",pluginName:"scrollView",userEvents:["onscroll","onscrollbottom"],parseChild:true,verticalScroll:true,horizontalScroll:false,bounce:true,paging:false,showVerticalScroll:true,showHorizontalScroll:true,slideDuration:1200,resilienceDuration:500,pagingDuration:300,slidePeriod:15,scrollTop:0,scrollLeft:0,scrollType:"mobile",resizeAutoScroll:false,css3d:false,fadeOutScrollBar:true,eventSmoothing:true,overScrollGlow:false,dragScrollSize:50,slideThreshold:5};_._a._l.prototype.initialize=function(_4){this.isMobile=_._G.isMobile();this.isAndroid=/android/.test(navigator.userAgent.toLowerCase());this.transformArr=["-webkit-transform",":","translate3d(",,"px, ",,"px, 0px) scale(1)"];this.support3D="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix();this.fingerTop=0;this.fingerLeft=0;this.scrollLock=false;this.measureDrawTime=false;};_._a._l.prototype.toHTML=function(){try{var _5=[];var _6=this.getChildren();var _7=this.options.className;var _8="";var _9=(!this.options.style)?"":"style='"+this.options.style+"'";if(!this.isMobile&&this.options.scrollType=="auto"){_7+=" nativeScroll";}else{_8=" style='width: 100%;height: 100%;overflow: hidden'";}_5.push("<div id='"+this.id+"' "+_9+" class='w2scrollView "+_7+"'>");_5.push("<div id='"+this.id+"_container' class='w2scrollView_container'"+_8+">");for(var i=0;i<_6.length;i++){_5.push(_6[i].toHTML());}_5.push("</div>");_5.push("<div id='"+this.id+"_iScrollX' class='w2scrollView_iScrollX' style='visibility:hidden;left:0px;'></div>");_5.push("<div id='"+this.id+"_iScrollY' class='w2scrollView_iScrollY' style='visibility:hidden;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollTop' class='w2scrollView_overScrollTop' style='display:none;top:0px;'></div>");_5.push("<div id='"+this.id+"_overScrollBottom' class='w2scrollView_overScrollBottom' style='display:none;bottom:0px;'></div>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.setAction=function(){this.dom.container=this.getElementById(this.id+"_container");this.dom.iScrollX=this.getElementById(this.id+"_iScrollX");this.dom.iScrollY=this.getElementById(this.id+"_iScrollY");this.dom.overScrollTop=this.getElementById(this.id+"_overScrollTop");this.dom.overScrollBottom=this.getElementById(this.id+"_overScrollBottom");this.iScroll={prevTouches:[]};if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.scrollType!="auto"){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(document.documentElement,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){_._F.preventDefault(e);}));}}this.iScrollXHeight=parseInt(1.5*this.dom.iScrollX.offsetHeight,10);this.iScrollYWidth=parseInt(1.5*this.dom.iScrollY.offsetWidth,10);this.checkResize();this._scrollTo(this.options.scrollLeft,this.options.scrollTop);this.measureDrawTime=true;};_._a._l.prototype.setIScroll=function(){try{if(this.options.verticalScroll&&this.options.showVerticalScroll){var _c=this.render.clientHeight;var _d=this.dom.container.scrollHeight;if(_d>_c){if(this.options.horizontalScroll){_c-=this.iScrollXHeight;}var _e=this.getMaxScrollTop();var _f=parseInt(_c*_c/_d,10);_f=_f<30?30:_f;var _10=parseInt(this.getScrollTop()*(_c-_f)/_e,10);if(_10<0){_f+=_10;_10=0;}else{if(_10+_f>=_c){_f=_c-_10;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=0;this.transformArr[5]=_10;this.dom.iScrollY.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollY.style.top=_10+"px";}this.dom.iScrollY.style.height=_f+"px";this.dom.iScrollY.style.visibility="visible";}else{this.dom.iScrollY.style.visibility="hidden";}}if(this.options.horizontalScroll&&this.options.showHorizontalScroll){var _11=this.render.clientWidth;var _12=this.dom.container.scrollWidth;if(_12>_11){if(this.options.verticalScroll){_11-=this.iScrollYWidth;}var _13=this.getMaxScrollLeft();var _14=parseInt(_11*_11/_12,10);_14=_14<30?30:_14;var _15=parseInt(this.getScrollLeft()*(_11-_14)/_13,10);if(_15<0){_14+=_15;_15=0;}else{if(_15+_14>=_11){_14=_11-_15;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=_15;this.transformArr[5]=0;this.dom.iScrollX.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollX.style.left=_15+"px";}this.dom.iScrollX.style.width=_14+"px";this.dom.iScrollX.style.visibility="visible";}else{this.dom.iScrollX.style.visibility="hidden";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.checkResize=function(){try{var _16=this.render.clientHeight;var _17=this.render.clientWidth;var _18=this.dom.container.scrollHeight;var _19=this.dom.container.scrollWidth;if(!this.sizeBackup||this.sizeBackup.renderWidth!=_17||this.sizeBackup.renderHeight!=_16||this.sizeBackup.scrollWidth!=_19||this.sizeBackup.scrollHeight!=_18){this.sizeBackup={renderWidth:_17,renderHeight:_16,scrollWidth:_19,scrollHeight:_18};var _1a=parseInt(this.dom.container.style.top||0,10);if(this.isSliding&&_1a){this.stopSlide();this._scrollTo(null,this.dom.container.scrollTop-_1a);}var _1b=this.getScrollLeft();var _1c=this.getScrollTop();var _1d=this.getMaxScrollLeft();var _1e=this.getMaxScrollTop();if(this.options.resizeAutoScroll&&this.sizeBackup){var el=document.activeElement;var _20=el;while(_20=_20.parentNode){if(_20==this.render){break;}}if(_20){var _21=_._v.getAbsoluteTop(el);var _22=_._v.getAbsoluteTop(this.render);var _23=_1c;if(_21<_22){_23-=_22-_21;}else{if(_21+el.offsetHeight>_22+_16){_23+=(_21+el.offsetHeight)-(_22+_16);}}if(_23!==_1c&&_23>=0&&_23<=_1e){this._scrollTo(null,_23);}}}if(_1b>_1d||_1c>_1e){this.stopSlide();this._scrollTo(_1b<_1d?_1b:_1d,_1c<_1e?_1c:_1e);}this.setIScroll();}_._h.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:100});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.iScrollAddMoveClass=function(){if(this.options.fadeOutScrollBar){_._h.clearTimer(this.id+"_iScrollRemoveClass");_._v.setStyle(this.dom.iScrollX,"opacity","1");_._v.setStyle(this.dom.iScrollY,"opacity","1");}this.__addClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__addClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");};_._a._l.prototype.iScrollRemoveMoveClass=function(){if(this.options.fadeOutScrollBar){_._v.animate([this.dom.iScrollX,this.dom.iScrollY],{opacity:0},{key:this.id+"_iScrollRemoveClass",duration:500,easing:"ease-out",caller:this,complete:function(){this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}});}else{this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}};_._a._l.prototype.scrollTo=function(_24,_25,_26){this.stopSlide();var _26=_26||{};_26.duration=(_26.duration==undefined)?500:_26.duration;_26.timingFunction=_26.timingFunction||"ease";if(this.options.horizontalScroll&&typeof _24=="number"){_26.initX=this.getScrollLeft();_26.finishX=_24;}if(this.options.verticalScroll&&typeof _25=="number"){_26.initY=this.getScrollTop();_26.finishY=_25;}this.iScroll.prevTouches=[];this.isSliding=true;this.setIScroll();this.iScrollAddMoveClass();var _27=_26.delay||0;if(_27<=0){this.slide(_26);}else{_._h.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_27,args:[_26]});}};_._a._l.prototype._scrollTo=function(_28,_29){if(this.measureDrawTime){_._h.measureTime(function(_2a){this.options.slidePeriod=parseInt(_2a.aver,10);},{key:this.id+"_measureDrawTime",caller:this});}var _28=parseInt(_28,10);var _29=parseInt(_29,10);var _2b=this.getScrollLeft();var _2c=this.getScrollTop();var _2d=this.getMaxScrollLeft();var _2e=this.getMaxScrollTop();_28=!isNaN(_28)?_28:_2b;_29=!isNaN(_29)?_29:_2c;if(_28!=_2b||_29!=_2c){_.getBody().getLayerListener().hideAll();if(this.options.css3d&&this.support3D){this.transformArr[3]=-_28;this.transformArr[5]=-_29;this.dom.container.style.cssText=this.transformArr.join("");}else{var _2f=_28;var _30=0;var _31=_29;var _32=0;if(_28<0){_2f=0;_30=-_28;}else{if(_2d<_28){_2f=_2d;_30=-(_28-_2d);}}if(_29<0){_31=0;_32=-_29;}else{if(_2e<_29){_31=_2e;_32=-(_29-_2e);}}this.dom.container.scrollLeft=_2f;this.dom.container.scrollTop=_31;this.dom.container.style.left=_30+"px";this.dom.container.style.top=_32+"px";}this.options.scrollLeft=_28;this.options.scrollTop=_29;this.setIScroll();_._F.fireEvent(this,"onscroll",_28,_29);if(!this.scrollBottom&&_29>=_2e){this.scrollBottom=true;_._F.fireEvent(this,"onscrollbottom");}}};_._a._l.prototype.scrollBy=function(_33,_34,_35){this.stopSlide(true);var _33=_33||0;var _34=_34||0;var _36=this.getScrollLeft();var _37=this.getScrollTop();this.scrollTo(_36+_33,_37+_34,_35);};_._a._l.prototype.resetScrollBottom=function(){this.scrollBottom=false;};_._a._l.prototype.slide=function(_38){try{_._h.clearTimer(this.id+"_iScroll_slide");var _39=this.render.clientWidth;var _3a=this.render.clientHeight;var _3b=this.dom.container.scrollWidth;var _3c=this.dom.container.scrollHeight;var _3d=this.getScrollTop();var _3e=this.getScrollLeft();var _3f=this.getMaxScrollTop();var _40=this.getMaxScrollLeft();(_38.endTime==undefined)&&(_38.endTime=new Date().getTime()+_38.duration);(_38.slidePeriod==undefined)&&(_38.slidePeriod=this.options.slidePeriod);var _41=_38.initX==null?_3e:_38.initX;var _42=_38.initY==null?_3d:_38.initY;var _43=_38.finishX==null?_3e:_38.finishX;var _44=_38.finishY==null?_3d:_38.finishY;var _45=_38.duration;var t=new Date().getTime()-(_38.endTime-_45);if(this.forceToStopSlide){t=_45;}(_41<0&&2*_41<_43&&_43<0)&&(_43=0);(_42<0&&2*_42<_44&&_44<0)&&(_44=0);(_41>_40&&_40<_43&&_43<2*_41-_40)&&(_43=_40);(_42>_3f&&_3f<_44&&_44<2*_42-_3f)&&(_44=_3f);var _47=_._v.cubicBezierAtTime(t/_45,_38.timingFunction,_45/1000);var x=_41+(_43-_41)*_47;var y=_42+(_44-_42)*_47;if(this.options.bounce){if(!_38.xResilience&&((x<0&&_43<0)||(_40<x&&_40<_43))){_38.xResilience=true;(x<-_39/2)&&(x=-_39/2);(x>_40+_39/2)&&(x=_40+_39/2);if(_43<-_39){_41=x;_43=-_39;}else{if(_43>_40+_39){_41=x;_43=_40+_39;}}if(_43<0){_38.turningPointX=_43/2;}else{if(_43>_40){_38.turningPointX=_40+(_43-_40)/2;}}}if(!_38.yResilience&&((y<0&&_44<0)||(_3f<y&&_3f<_44))){_38.yResilience=true;(y<-_3a/2)&&(y=-_3a/2);(y>_3f+_3a/2)&&(y=_3f+_3a/2);if(_44<-_3a){_42=y;_44=-_3a;}else{if(_44>_3f+_3a){_42=y;_44=_3f+_39;}}if(_44<0){_38.turningPointY=_44/2;}else{_38.turningPointY=_3f+(_44-_3f)/2;}}if(_38.xResilience){if((x<_38.turningPointX&&_43<0)||(x>_38.turningPointX&&_43>0)){x=-x+2*_38.turningPointX;}}if(_38.yResilience){if((y<_38.turningPointY&&_44<0)||(y>_38.turningPointY&&_44>0)){y=-y+2*_38.turningPointY;}}}else{(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);var _4a=(_43==x)||(_43<=0&&x<=0)||(_43>=_40&&x>=_40);var _4b=(_44==y)||(_44<=0&&y<=0)||(_44>=_3f&&y>=_3f);var _4c=this.options.horizontalScroll;var _4d=this.options.verticalScroll;if(_4c&&_4d&&_4a&&_4b){t=_45;}else{if(_4c&&!_4d&&_4a){t=_45;}else{if(!_4c&&_4d&&_4b){t=_45;}}}}_38.initX=_41;_38.initY=_42;_38.finishX=_43;_38.finishY=_44;if(t>=_45){x=_38.finishX;y=_38.finishY;(x<0)&&(x=0);(x>_40)&&(x=_40);(y<0)&&(y=0);(y>_3f)&&(y=_3f);this._scrollTo(x,y);this.stopSlide();var _4e=true;if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){_4e=false;}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){_4e=false;}}this.hideOverScrollGlow(_4e);}else{this._scrollTo(x,y);_._h.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_38.slidePeriod,args:[_38]});}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.stopSlide=function(_4f){try{if(this.isSliding){this.isSliding=false;this.forceToStopSlide=_4f;_._h.clearTimer(this.id+"_iScroll_slide",_4f);this.forceToStopSlide=null;this.iScrollRemoveMoveClass();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.getSlideFactor=function(_50,_51){var c=this.isMobile?0.3:1;return parseInt(c*_50/100*_51,10);};_._a._l.prototype.hideOverScrollGlow=function(_53){if(!this.options.bounce&&this.options.overScrollGlow){var _54=this;var _55=this.getScrollTop();if(_53){if(_55==0){_._v.show(this.dom.overScrollTop);_._v.setStyle(this.dom.overScrollTop,"top",-this.dom.overScrollTop.offsetHeight+"px");_._v.animate(this.dom.overScrollTop,{top:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}else{if(_55==this.getMaxScrollTop()){_._v.show(this.dom.overScrollBottom);_._v.setStyle(this.dom.overScrollBottom,"bottom",-this.dom.overScrollBottom.offsetHeight+"px");_._v.animate(this.dom.overScrollBottom,{bottom:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_54.hideOverScrollGlow();}});}}}else{if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){_._v.animate(this.dom.overScrollTop,{top:-this.dom.overScrollTop.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){_._v.hide(_54.dom.overScrollTop);}});}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){_._v.animate(this.dom.overScrollBottom,{bottom:-this.dom.overScrollBottom.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){_._v.hide(_54.dom.overScrollBottom);}});}}}}};_._a._l.prototype.setScrollLock=function(_56){this.scrollLock=!!_56;};_._a._l.prototype.getContentSize=function(_57){try{var _58=this.dom.container.scrollWidth;var _59=this.dom.container.scrollHeight;if(_57){_57=_57.toLowerCase();if(_57=="height"){return _59;}else{if(_57=="width"){return _58;}}}else{return {width:_58,height:_59};}$l("getContentSize : wrong sizeName["+_57+"]");}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype.getMaxScrollTop=function(){var _5a=this.dom.container.scrollHeight-this.render.clientHeight;return _5a>=0?_5a:0;};_._a._l.prototype.getMaxScrollLeft=function(){var _5b=this.dom.container.scrollWidth-this.render.clientWidth;return _5b>=0?_5b:0;};_._a._l.prototype.getScrollTop=function(){try{if(this.options.css3d&&this.support3D){return this.options.scrollTop;}else{var _5c=this.dom.container.scrollTop;if(_5c==0||_5c==this.getMaxScrollTop()){_5c-=parseInt(this.dom.container.style.top||0,10);}this.options.scrollTop=_5c;return _5c;}}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype.getScrollLeft=function(){try{if(this.options.css3d&&this.support3D){return this.options.scrollLeft;}else{var _5d=this.dom.container.scrollLeft;if(_5d==0||_5d==this.getMaxScrollLeft()){_5d-=parseInt(this.dom.container.style.left||0,10);}this.options.scrollLeft=_5d;return _5d;}}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype.handleTouchStart=function(e){try{this.isTouched=true;_._F.stopPropagation(e);this.stopSlide();if(!e.touches||e.touches.length==1){this.setIScroll();this.iScrollAddMoveClass();this.iScroll.prevTouches=[{x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY}];this.iScroll.direction="";if(this.options.horizontalScroll&&!this.options.verticalScroll){this.iScroll.direction="horizontal";}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){this.iScroll.direction="vertical";}}this.fingerLeft=this.getScrollLeft();this.fingerTop=this.getScrollTop();}}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype.handleTouchMove=function(e){try{if(!e.touches||e.touches.length==1){if(this.options.eventSmoothing){_._h.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:1,max:1});}else{this._handleTouchMove(e);}_._F.stopEvent(e);}}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype._handleTouchMove=function(e){try{if(this.scrollLock||this.iScroll.prevTouches.length<=0){return;}this.iScroll.prevTouches.push({x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY});var len=this.iScroll.prevTouches.length;this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _62=this.iScroll.prevTouches;var _63=this.options.horizontalScroll?_62[0].x-_62[1].x:0;var _64=this.options.verticalScroll?_62[0].y-_62[1].y:0;var _65=this.render.clientWidth;var _66=this.render.clientHeight;var _67=this.dom.container.scrollWidth;var _68=this.dom.container.scrollHeight;var _69=this.getScrollTop();var _6a=this.getScrollLeft();var _6b=this.getMaxScrollTop();var _6c=this.getMaxScrollLeft();if(this.options.horizontalScroll&&this.options.verticalScroll&&!this.iScroll.direction){var _6d=Math.abs(_64/_63);if((_63==0||_64==0)&&Math.abs(_63+_64)<=2){this.iScroll.direction="";}else{if(_63==0||_6d>2.747){this.iScroll.direction="vertical";}else{if(_6d<0.364){this.iScroll.direction="horizontal";}else{this.iScroll.direction="both";}}}}if(this.iScroll.direction=="vertical"){_63=0;if(_6a<0){this._scrollTo(0,null);_6a=this.fingerLeft=0;}else{if(_6a>_6c){this._scrollTo(_6c,null);_6a=this.fingerLeft=_6c;}}}else{if(this.iScroll.direction=="horizontal"){_64=0;if(_69<0){this._scrollTo(null,0);_69=this.fingerTop=0;}else{if(_69>_6b){this._scrollTo(null,_6b);_69=this.fingerTop=_6b;}}}}if(!this.options.bounce&&!this.options.overScrollGlow){(0<=_6a&&_6a<=_6c)&&(this.fingerLeft=_6a);(0<=_69&&_69<=_6b)&&(this.fingerTop=_69);}_6a=this.fingerLeft+=_63;_69=this.fingerTop+=_64;if(this.options.bounce){if(_6a<0){_6a=_6a/2;(_6a<-_65/2)&&(_6a=-_65/2);}else{if(_6a>_6c){_6a=_6c+(_6a-_6c)/2;(_6a>_6c+_65/2)&&(_6a=_6c+_65/2);}}if(_69<0){_69=_69/2;(_69<-_66/2)&&(_69=-_66/2);}else{if(_69>_6b){_69=_6b+(_69-_6b)/2;(_69>_6b+_66/2)&&(_69=_6b+_66/2);}}}else{(_6a<0)&&(_6a=0);(_6a>_6c)&&(_6a=_6c);(_69<0)&&(_69=0);(_69>_6b)&&(_69=_6b);if(this.options.overScrollGlow){if(this.fingerTop<0){_._v.show(this.dom.overScrollTop);var _6e=this.dom.overScrollTop.offsetHeight;var top=-2*_6e/_66*this.fingerTop-_6e;(top>0)&&(top=0);_._v.setStyle(this.dom.overScrollTop,"top",top+"px");}else{_._v.hide(this.dom.overScrollTop);}if(this.fingerTop>_6b){_._v.show(this.dom.overScrollBottom);var _6e=this.dom.overScrollBottom.offsetHeight;var _70=-2*_6e/_66*(_6b-this.fingerTop)-_6e;(_70>0)&&(_70=0);_._v.setStyle(this.dom.overScrollBottom,"bottom",_70+"px");}else{_._v.hide(this.dom.overScrollBottom);}}}this._scrollTo(_6a,_69);}catch(e){_.exception.printStackTrace(e);}};_._a._l.prototype.handleTouchEnd=function(e){try{this.isTouched=false;var len=this.iScroll.prevTouches.length;_._F.stopPropagation(e);if(len==0){return;}var _73=this.render.clientWidth;var _74=this.render.clientHeight;var _75=this.dom.container.scrollWidth;var _76=this.dom.container.scrollHeight;var _77=this.getMaxScrollLeft();var _78=this.getMaxScrollTop();var _79=this.getScrollLeft();var _7a=this.getScrollTop();var _7b=null;var _7c=null;var _7d=null;var _7e=null;if(len>=2){this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _7f=this.iScroll.prevTouches;var _80=_7f[0].x-_7f[1].x;var _81=_7f[0].y-_7f[1].y;(this.iScroll.direction=="vertical")&&(_80=0);(this.iScroll.direction=="horizontal")&&(_81=0);if(_80*_80+_81*_81>this.options.slideThreshold*this.options.slideThreshold){this.iScroll.prevTouches=[];this.isSliding=true;if(this.options.paging){if(this.options.horizontalScroll){var _82=parseInt(_79/_73,10)+(_80>0?1:0);_7b=_82*_73;(_7b<0)&&(_7b=0);(_7b>_77)&&(_7b=_77);}if(this.options.verticalScroll){var _82=parseInt(_7a/_74,10)+(_81>0?1:0);_7c=_82*_74;(_7c<0)&&(_7c=0);(_7c>_78)&&(_7c=_78);}_7d=this.options.pagingDuration;_7e="ease";}else{_7b=_79+this.getSlideFactor(_80,_75);_7c=_7a+this.getSlideFactor(_81,_76);_7d=this.options.slideDuration;_7e="deceleration";}this.slide({initX:_79,initY:_7a,finishX:this.options.horizontalScroll?_7b:null,finishY:this.options.verticalScroll?_7c:null,duration:_7d,timingFunction:_7e});if(!this.options.bounce&&this.options.overScrollGlow){if((_7a==0&&_7c>0)||(_7a==_78&&_7c<_78)){this.hideOverScrollGlow();}}return;}}if(this.options.paging){if(this.options.horizontalScroll&&!this.options.verticalScroll){var _82=parseInt((_79+_73/2)/_73,10);_7b=_82*_73;}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){var _82=parseInt((_7a+_74/2)/_74,10);_7c=_82*_74;}}_7d=this.options.pagingDuration;}else{_7d=this.options.resilienceDuration;}if(_79<0){_7b=0;}else{if(_77<_79){_7b=_77;}}if(_7a<0){_7c=0;}else{if(_78<_7a){_7c=_78;}}if(_7b!=null||_7c!=null){this.iScroll.prevTouches=[];this.isSliding=true;this.slide({initX:_79,initY:_7a,finishX:_7b,finishY:_7c,xResilience:_7b!=null,yResilience:_7c!=null,duration:_7d,timingFunction:"deceleration"});}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];}this.hideOverScrollGlow();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._l.prototype.handleMouseOut=function(e){if(_._F.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};;WebSquare.uiplugin.scrollView=_._a._l;requires("uiplugin/control/itemsetControl.js");_._a.ad=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ad.prototype,_._q.prototype);_.extend(_._a.ad.prototype,_.itemsetControl.prototype);_._a.ad.prototype.defaultOptions={pluginType:"uiplugin.list",pluginName:"list",userEvents:["onclick","onmouseover","onmouseout","onmousedown","onrowclick"],tagName:"div",sortable:false};_._a.ad.prototype.initialize=function(_4){this.uniqueIdSequence=0;this.listRowInfo=_._t.getChildren(_4.parentNode,"w2:list")[0];this.listColumnInfo=_._t.getChildren(_4,"w2:listRow");if(this.options.nodeset){this.modelDataXMLArr=_._C.findInstanceNodes(this.options.nodeset);this.modelControl.itemsetObj={nodeset:this.options.nodeset,label:"",value:""};}this.listRowObjArr=[];};_._a.ad.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<"+this.options.tagName+" id='"+this.id+"' "+_6+" class='w2list w2noselect "+this.options.className+"'>");if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _8=(this.listRowInfo.style=="")?"":"style='"+this.listRowInfo.style+"'";_5.push("<"+this.listRowInfo.tagName+" "+_8+" class='w2list_listRow "+this.listRowInfo["class"]+"' >");var _9;for(var j=0;j<this.listColumnInfo.length;j++){var _b=this.listColumnInfo[j];var _c=_b.value;var _d=_._t.getValue(this.modelDataXMLArr[i],_b.ref);if(_d!=""){_c=_d;}switch(_b.inputType){case "checkbox":var _e=_._G.getBoolean(_c)?"checked=\"checked\"":"";var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<input type='checkbox' "+_e);_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_checkbox "+_b["class"]+"' >");_5.push("</input>");break;case "text":var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<span ");_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_text "+_b["class"]+"' >");_5.push(_c);_5.push("</span>");break;case "button":var _f=(_b.style=="")?"":" style='"+_b.style+"' ";_5.push("<input type='button'");_5.push(" value='"+_c+"' ");_5.push(_f);_5.push(" class='w2list_listColumn w2list_listColumn_button "+_b["class"]+"' >");_5.push("</input>");break;default:break;}}_5.push("</"+this.listRowInfo.tagName+">");}}_5.push("</"+this.options.tagName+">");return _5.join("");};_._a.ad.prototype.setAction=function(){this.initializeListInfo();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}};_._a.ad.prototype.setLayout=function(){};_._a.ad.prototype.initializeListInfo=function(){try{if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _11=this.id+"_"+this.uniqueIdSequence;_._t.setAttribute(this.modelDataXMLArr[i],"unique_id",_11);this.render.childNodes[i].setAttribute("unique_id",_11);var _12;var _13;var _14;var _15={};for(var j=0;j<this.listColumnInfo.length;j++){_12=this.listColumnInfo[j];_13=_12.value;_14=_._t.getValue(this.modelDataXMLArr[i],_12.ref);if(_14!=""){_13=_14;}_15[_12.id]=_13;}_15["unique_id"]=_11;this.listRowObjArr.push(_15);this.uniqueIdSequence++;this.listRowObjArr[i].render=this.render.childNodes[i];}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _17=_._C.findInstanceNodes(this.options.nodeset);this.modelDataXMLArr=_17;var _18=this.listRowObjArr;this.listRowObjArr=[];for(var i=0;i<this.modelDataXMLArr.length;i++){this.listRowObjArr[i]=this.createObjByXML(this.modelDataXMLArr[i]);}for(var i=0;i<_18.length;i++){for(var j=0;j<this.listRowObjArr.length;j++){if(_18[i]["unique_id"]==this.listRowObjArr[j]["unique_id"]){_18[i].exist=true;break;}}}for(var i=0;i<_18.length;i++){if(_18[i].exist!=true){var _1b=this.getRenderByUniqueId(_18[i]["unique_id"]);_1b.parentNode.removeChild(_1b);}}for(var i=0;i<this.listRowObjArr.length;i++){var _1c=this.listRowObjArr[i];var _1d=this.getRenderByUniqueId(_1c["unique_id"]);if(_1d){for(var j=0;j<_18.length;j++){var _1e=_18[j];if(_1e["unique_id"]==_1c["unique_id"]){for(var k=0;k<this.listColumnInfo.length;k++){var _20=_1c[this.listColumnInfo[k].id];if(_1e[this.listColumnInfo[k].id]!=_20){switch(this.listColumnInfo[k].inputType){case "checkbox":_1d.childNodes[k].checked=_._G.getBoolean(_20);break;case "text":_1d.childNodes[k].innerHTML=_20;break;case "button":_1d.childNodes[k].value=_20;break;default:break;}}}}}var _21;for(var j=0;j<this.getLength();j++){var _22=this.render.childNodes[j];if(_1d.getAttribute("unique_id")==_22.getAttribute("unique_id")){_21=j;}}this.moveRowRender(_21,i);}else{this.insertRowRender(i,this.listRowObjArr[i]);}}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.refresh=function(){};_._a.ad.prototype.insertInModel=function(_23,_24,_25){try{switch(_25){case "append":var _26=this.options.nodeset.split("/");_26.splice(_26.length-1,1);var _27=_26;_27=_27.join("/");_._C.setInstanceNode(_24,_27,null,"append");break;case "insertBeforeSibling":_._C.setInstanceNode(_24,this.options.nodeset+"["+(_23+1)+"]",null,"insertBeforeSibling");break;case "appendSibling":_._C.setInstanceNode(_24,this.options.nodeset+"["+(_23)+"]",null,"appendSibling");break;default:return;}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.removeFromModel=function(_28){try{_._C.removeInstanceNode(this.options.nodeset+"["+(_28+1)+"]");}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.insertRow=function(idx,_2a){try{var _2b=this.getChildNodes();var _2c=_2b.length;if(idx<0){return;}else{if(idx>_2c){idx=_2c;}}if(this.options.nodeset){var _2d=this.createXMLByObj(_2a);if(_2b.length==0){this.insertInModel(idx,_2d,"append");}else{if(_2b.length>idx&&idx>=0){this.insertInModel(idx,_2d,"insertBeforeSibling");}else{this.insertInModel(idx,_2d,"appendSibling");}}}else{this.insertRowNM(idx,_2a);}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.insertRowNM=function(idx,_2f){try{var _30=this.getLength();_2f["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;if(_30>idx&&idx>=0){this.listRowObjArr.splice(idx,0,_2f);}else{this.listRowObjArr.push(_2f);}this.insertRowRender(idx,_2f);}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.insertRowRender=function(idx,_32){try{var _33=this.getChildNodes();var _34=_33.length;if(idx<0){return;}else{if(idx>_34){idx=_34;}}var _35=this.createRenderByObj(_32);if(_33.length>idx&&idx>=0){this.render.insertBefore(_35,_33[idx]);}else{this.render.appendChild(_35);}for(var i=0;i<this.listRowObjArr.length;i++){var _37=this.listRowObjArr[i];if(_32["unique_id"]==_37["unique_id"]){_37["render"]=_35;break;}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.removeRow=function(idx){try{var _39=this.getChildNodes();if(_39.length>idx&&idx>=0){if(this.options.nodeset){this.removeFromModel(idx);}else{this.removeRowNM(idx);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.removeRowNM=function(idx){try{this.removeRowRender(idx);this.listRowObjArr.splice(idx,1);}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.removeRowRender=function(idx){try{var _3c=this.getChildNodes();if(_3c.length>idx&&idx>=0){this.render.removeChild(_3c[idx]);}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.removeAll=function(){try{if(this.options.nodeset){_._C.removeInstanceNodes(this.options.nodeset);}else{this.listRowObjArr=[];var _3d=this.getChildNodes();var _3e=this.getLength();for(var i=0;i<_3e;i++){this.render.removeChild(_3d[0]);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.moveRow=function(_40,_41){try{var _42=this.getChildNodes();var _43=_42.length;if(_40>_43||_41>_43){return;}if(_40>=0&&_41>=0){if(this.options.nodeset){var _44=this.modelDataXMLArr[_40];if(_42.length-1>_41&&_41>=0){this.removeFromModel(_40);this.insertInModel(_41,_44,"insertBeforeSibling");}else{this.removeFromModel(_40);this.insertInModel(_41,_44,"appendSibling");}}else{this.moveRowNM(_40,_41);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.moveRowNM=function(_45,_46){try{this.moveRowRender(_45,_46);var _47=this.listRowObjArr.splice(_45,1)[0];this.listRowObjArr.splice(_46,0,_47);}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.moveRowRender=function(_48,_49){try{var _4a=this.getChildNodes();var _4b=_4a.length;var _4c=this.listRowObjArr[_48];if(_48>_4b||_49>_4b){return;}if(_48>=0&&_49>=0){var _4d=_4a[_48];if(_4a.length-1>_49&&_49>=0){var _4e=(_49>_48)?_49+1:_49;this.render.insertBefore(_4d,_4a[_4e]);}else{this.render.appendChild(_4d);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getLength=function(){try{return this.getChildNodes().length;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getChildNodes=function(){try{if(this.options.tagName=="dl"){var _4f=[];for(var i=0;i<this.render.childNodes.length;i++){var _51=this.render.childNodes[i];if(_51.nodeType!="3"){_4f.push(_51);}}return _4f;}else{return this.render.getElementsByTagName(this.listRowInfo.tagName);}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getRenderByUniqueId=function(_52){try{for(var i=0;i<this.getLength();i++){var _54=this.render.childNodes[i];if(_54.getAttribute("unique_id")==_52){return _54;}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getCellData=function(_55,_56){try{var _57=this.getLength();if(typeof _55=="string"||!((_57>_55&&_55>=0))){return;}var _58;if(typeof _56=="string"){_58=_56;}else{if(typeof _56=="number"){_58=this.listColumnInfo[_56].id;}}var _59=this.listRowObjArr[_55];var _5a=_59?_59[_58]:"";return _5a;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.setCellData=function(_5b,_5c,_5d){try{var _5e=this.getLength();if(typeof _5b=="string"||!(_5e>_5b&&_5b>=0)){return;}var _5f;var _60;if(typeof _5c=="string"){_5f=_5c;for(var i=0;i<this.listColumnInfo.length;i++){if(_5f==this.listColumnInfo[i].id){_60=i;break;}}_60;}else{if(typeof _5c=="number"){_60=_5c;_5f=this.listColumnInfo[_5c].id;}}var _62;_62=this.getCellData(_5b,_5f);if(this.options.nodeset){var _63;var _64;for(var i=0;i<this.listColumnInfo.length;i++){_64=this.listColumnInfo[i];if(_5f==_64.id){_63=_64.ref;break;}}if(_63){var _65=_._C.setInstanceValue(this.options.nodeset+"["+(_5b+1)+"]/"+_63,_5d);if(_62!==_5d){this.fireOnchange();}}else{return;}}else{var _66=this.getChildNodes();var _67=_66[_5b];var _68=this.listColumnInfo[_60].inputType;var _69=_67.childNodes[_60];switch(_68){case "checkbox":_69.checked=_._G.getBoolean(_5d);break;case "text":_69.innerHTML=_5d;break;case "button":_69.value=_5d;break;default:break;}this.listRowObjArr[_5b][_5f]=_5d;}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getRowData=function(_6a){try{var _6b=this.getLength();if(typeof _6a=="string"||!(_6b>_6a&&_6a>=0)){return;}var _6c={};var _6d=this.listRowObjArr[_6a];for(key in _6d){if(key!="unique_id"&&key!="render"){_6c[key]=_6d[key];}}return _6c;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.setRowData=function(_6e,_6f,_70){try{var _71=this.getLength();if(typeof _6e=="string"||!(_71>=_6e&&_6e>=0)||(typeof _6f!="object")){return;}if(!_70){if(this.options.nodeset){this.insertRow(_71,_6f);}else{this.insertRowNM(_71,_6f);}return;}if(_6f){if(this.options.nodeset){this.removeRow(_6e);this.insertRow(_6e,_6f);}else{this.removeRowNM(_6e);this.insertRowNM(_6e,_6f);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.setXML=function(_72,_73){if(_72==null){_.logger.printLog("[WebSquare.uiplugin.list.setXML] XML is null");return;}return;};_._a.ad.prototype.setJSON=function(_74,_75){try{if(_74==null){_.logger.printLog("[WebSquare.uiplugin.list.setJSON] data is null");return;}if(!_75){this.removeAll();}var _76;for(var i=0;i<_74.length;i++){if(_75){_76=this.getLength+i;}else{_76=i;}if(this.options.nodeset){this.insertRow(_76,_74[i]);}else{this.insertRowNM(_76,_74[i]);}}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.toggleCheckbox=function(_78,_79){try{var _7a=this.getLength();if(typeof _78=="string"||typeof _79=="number"){return;}if(_7a>_78&&_78>=0){var _7b=_._G.getBoolean(this.getCellData(_78,_79));this.setCellData(_78,_79,!_7b);}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.createItemNode=function(_7c,_7d){try{if(_7c){var _7e;switch(_7c.inputType){case "checkbox":_7e=document.createElement("input");_7e.setAttribute("type","checkbox");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_checkbox "+_7c["class"]);_7d=_._G.getBoolean(_7d);if(_7d){_7e.setAttribute("checked","checked");}break;case "text":_7e=document.createElement("span");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_text "+_7c["class"]);if(_7d){_7e.innerHTML=_7d;}break;case "button":_7e=document.createElement("input");_7e.setAttribute("type","button");_7e.setAttribute("class","w2list_listColumn w2list_listColumn_button "+_7c["class"]);if(_7d){_7e.setAttribute("value",_7d);}break;default:break;}_7e.setAttribute("style",_7c.style);return _7e;}}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.getAllData=function(){try{var _7f=[];var _80=this.getLength();for(var i=0;i<_80;i++){var _82=this.getRowData(i);_7f.push(_82);}return _7f;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.createXMLByObj=function(_83){try{var _84=this.options.nodeset.split("/");var _85=_84[_84.length-1];var _86=_._t.parse("<"+_85+" />").documentElement;if(_83["unique_id"]){_._t.setAttribute(_86,"unique_id",_83["unique_id"]);}else{_._t.setAttribute(_86,"unique_id",this.id+"_"+this.uniqueIdSequence);this.uniqueIdSequence++;}for(var i=0;i<this.listColumnInfo.length;i++){var _88=this.listColumnInfo[i].ref;var _89=_88.lastIndexOf("/");if(_89>0){var _8a=_88.substring(0,_89);var _8b=_88.substring(_89+1);var _8c=_8b.match(/[@'"()=]/i).length>0;if(_8c){var _8d=_._t.createNode(_86,_8a,false);var _8e=_83[this.listColumnInfo[i].id];if(!_8e){_8e=this.listColumnInfo[i].value;}_8b=_8b.replace(/[@'"()=]/i,"");_._t.setAttribute(_8d,_8b,_8e);}else{_._t.createNode(_86,_88,false);}}else{var _8f=this.listColumnInfo[i].ref.replace(/[@'"()=]/i,"");var _8e=_83[this.listColumnInfo[i].id];if(!_8e){_8e=this.listColumnInfo[i].value;}_._t.setAttribute(_86,_8f,_8e);}}return _86;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.createRenderByObj=function(_90){try{var _91=document.createElement(this.listRowInfo.tagName);_91.setAttribute("class","w2list_listRow "+this.listRowInfo["class"]);_91.setAttribute("style",this.listRowInfo.style);_91.setAttribute("unique_id",_90["unique_id"]);if(_90){var _92;var _93;var _94;var _95=[];for(var i=0;i<this.listColumnInfo.length;i++){var id=this.listColumnInfo[i].id;if(_90[id]!=undefined||_90[id]!=null){_92=_90[id];}else{_92=this.listColumnInfo[i].value;_90[this.listColumnInfo[i].id]=this.listColumnInfo[i].value;}_94=this.listColumnInfo[i];_93=this.createItemNode(_94,_92);_95[i]=_93;}if(_95.length!=0){for(var i=0;i<_95.length;i++){if(_95[i]){_91.appendChild(_95[i]);}}}}return _91;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.createObjByXML=function(_98){try{var _99;var _9a;var _9b;var _9c={};for(var j=0;j<this.listColumnInfo.length;j++){_99=this.listColumnInfo[j];_9a=_99.value;_9b=_._t.getValue(_98,_99.ref);if(_9b!=""){_9a=_9b;}_9c[_99.id]=_9a;}_9c["unique_id"]=_98.getAttribute("unique_id");_9c["render"]=this.getRenderByUniqueId(_9c["unique_id"]);return _9c;}catch(e){_.exception.printStackTrace(e);}};_._a.ad.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){var _a0;var _a1=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){if(this.listRowObjArr[i].render==_a1){_a0=i;_._F.fireEvent(this,"onrowclick",_a0);return;}}}if(it.match("w2list_listColumn_checkbox")){var _a0;var _a3;var _a1=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){for(var j=0;j<this.listColumnInfo.length;j++){if(this.listRowObjArr[i].render.childNodes[j]==_a1){_a0=i;itemId=this.listColumnInfo[j].id;this.toggleCheckbox(_a0,itemId);return;}}}}if(it.match("w2list_listColumn_text")){}if(it.match("w2list_listColumn_button")){}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ad.prototype.fireOnchange=function(){try{_._F.fireEvent(this,"onchange");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ad.prototype.handleMouseoverEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.addClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ad.prototype.handleMouseoutEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.removeClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ad.prototype.handleDragEvent=function(e){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2list_listRow")){if(!this.options.sortable){return;}it.getElement().style.cursor="pointer";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}var _ab=this.id;var _ac;var _ad=it.getElement();var _ae=this.getChildNodes();for(var i=0;i<_ae.length;i++){if(_ae[i]==_ad){_ac=i;break;}}var _b0=this;_._A.gDragManager.activate(e,_ad,{id:this.id+"_drag",className:"w2list w2list_listRow w2list_drag",contents:this.options.detachMessage||" detached item ",delay:15,detachIdx:_ac,detachListId:_ab,applyMousePosition:true,onDrop:function(_b1,_b2,x,y,dx,dy,e){var _b8=false;var _b9;var _ba;var _bb;var _bc;var _bd=this.detachIdx;var _be=this.detachListId;var _bf=_b0;var _c0=null;if(this.isMobile){_c0=new _.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_c0=_b0.event.getTargetIterator(e);}while(_c0.next()){if(_c0.match("w2list_listRow")){_b8=true;_bc=_c0.getElement();var _c1=_bc.parentNode.childNodes;for(var i=0;i<_c1.length;i++){if(_c1[i]==_bc){_bb=i;break;}}}if(_c0.match("w2list")){_b8=true;var _c3=_c0.getElement();_ba=_c3.id;_b9=window[_ba];break;}if(_c0.match(null,null,"body")){return;}}if(_b8){var _c4=false;if(typeof _bc!="object"||typeof _bb!="number"){_c4=true;_bc=_b1;_bb=(_b9.getLength()==0)?0:_b9.getLength();}if(_be==_ba){_bb=_c4?_bb-1:_bb;if(_bd!=_bb){if(_bf.options.nodeset){_bf.moveRow(_bd,_bb);}else{_bf.moveRowNM(_bd,_bb);}}}else{var _c5=_bf.listRowObjArr[_bd];var _c6=_c5;if(_bf.options.nodeset){_bf.removeRow(_bd);}else{_bf.removeRowNM(_bd);}delete _c6["unique_id"];if(_b9.options.nodeset){_b9.insertRow(_bb,_c6);}else{_b9.insertRowNM(_bb,_c6);}}}}});return;}}};;WebSquare.uiplugin.list=_._a.ad;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");requires("uiplugin/helper/korHelper.js");_._a._D=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._D.prototype,_._q.prototype);_.extend(_._a._D.prototype,_.itemsetControl.prototype);_.extend(_._a._D.prototype,_.IValidate.prototype);_._a._D.prototype.defaultOptions={pluginType:"uiplugin.autoComplete",pluginName:"autoComplete",userEvents:["onchange","oneditend"],useConfig:true,useOtherComponentId:"",value:"",chooseOption:false,chooseOptionLabel:"-\uc120\ud0dd-",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",defaultStyle:"",activeStyle:"",defaultClass:"w2inputSelectDefault",activeClass:"w2inputSelectActive",useLocale:false,submenuSize:"fixed",direction:"auto",dynamicDraw:true,editable:true,search:"start",editmode:false,dataurl:"",interactionMode:false,interactionKey:"default",submission:"",submissionFunc:"",keyInputRef:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,interactionMinByteLength:0,title:"",noResult:"previous",escape:false,displayFormatter:"",useMousewheel:true,editModeEvent:"onclick",allowEmptySubmission:"false",searchTarget:"label",caseSensitive:true,editType:"select",useKeywordHighlight:false,returnValueType:"null",noEndTab:false,noHandleTab:false,handleOtherClick:true};_._a._D.prototype.initialize=function(_4){try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.noResult=(this.options.noResult==="previous"||this.options.noResult==="clear"||this.options.noResult==="noEnd"||this.options.noResult==="useData"||this.options.noResult==="first")?this.options.noResult:"previous";this.editable=this.options.editable;this.search=this.options.search;this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};this.myhelper=new _.korHelper();this.viewArr=[];this.itemArr=[];this.mytime=null;this.hideTime=null;this.editmode=this.options.editmode;this.findkeymode=false;this.mozTrickBuffer="";this.trickBuffer="";this.findStop=false;this.skipMatch=false;this.defaultAllOptionLabel=_._z.getMessage("SelectBox_all");switch(this.options.displayMode){case "0":case "1":case "2":case "3":this.displayMode=this.options.displayMode;break;case "value delim label":this.displayMode="1";break;case "label delim value":this.displayMode="2";break;case "value":this.displayMode="3";break;default:this.displayMode="0";}this.dataurl=this.options.dataurl;this.interactionMode=this.options.interactionMode;this.dataurl=this.options.dataurl;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;if(_4){var _5=_._t.findNode(_4,"w2:choices");if(_5){var _6=_._t.findNode(_5,"w2:gridItemset");if(_6&&_6.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{this.initializeItemArr(_4);}this.autoFinder=_4.nodeName=="w2:autoFinder"?true:false;if(this.autoFinder){this.display_path=this.options.display_path;if(typeof this.display_path!="undefined"){this.display_path=this.display_path.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var _7=this.display_path.split(" ");var _8=_7[0];var _9=_7[1];var _a=_7[2];this.setItemSet(_8,_9,_a);this.buildItemArr();}}else{if(this.itemTableMode!="grid"){this.itemsetObj=_.WebSquareparser.parseItemset(_4);}}}this.setSelectItemArr();this.validator=new _._e.validateInvoker(this.id,this.options);this.displayFormatter=null;if(!this.options.handleOtherClick){this.options.noEndTab=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.toHTML=function(){try{var _b=[];var _c=(!this.options.title)?"":"title='"+this.options.title+"'";var _d=(!this.options.style)?"":"style='"+this.options.style+"'";var _e=(!this.options.defaultStyle)?"":"style='"+this.options.defaultStyle+"'";_b.push("<div id='"+this.id+"' "+_d+" class='w2autoComplete "+this.options.className+"' tabIndex='0' "+_c+" role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='inline' >");_b.push("<table class='w2autoComplete_table_main'  cellpadding='0' cellspacing='0'>");_b.push("<tbody id='"+this.id+"_main_tbody'>");_b.push("<tr class='w2autoComplete_row w2autoComplete_row_main'>");_b.push("<td class='w2autoComplete_col_label' "+_e+">");_b.push("<div class='w2autoComplete_label'>");_b.push("<span id='"+this.id+"_label' class='w2autoComplete_label'></span>");_b.push("<input id='"+this.id+"_input' class='w2autoComplete_input' style='border-width:0px; width:100%; padding:0px; display:none;' type='text' "+_c+" />");_b.push("</div></td>");_b.push("<td class='w2autoComplete_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_b.push("</tr></tbody>");_b.push("</table>");_b.push("</div>");return _b.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.input=this.getElementById(this.id+"_input");if(this.options.tabIndex!=""){this.dom.input.tabIndex=this.options.tabIndex;}this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleblurEventInput));if(_._G.isMobile()){_.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"ontouchstart":this.handleClickEventDocument}});this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}else{if(this.options.useOtherComponentId){_._h.setTimer(function(){this.otherComponent=window[this.options.useOtherComponentId];_.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;_.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,event:{"onmousedown":this.handleClickEventDocument}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){_._F.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){_.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";_.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{_.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"onmousedown":this.handleClickEventDocument}});}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _12=this.modelControl.getData();this.setValueNM(_12);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();if(this.itemTableMode=="grid"){this.refreshGridItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridData();}if(this.modelControl.isBinded()){this.refresh();}else{this.setSelectedIndexNM(0);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _14=this.getValue();var _15=this.modelControl.getData();if(this.setValueNM(_15)==true){if(_14!=this.getValue()){_._F.fireEvent(this,"onchange");}if(this.getValue()!=null&&_15!=this.getValue()){this.modelControl.setData(this.getValue());}}else{if(this.noResult==="clear"){this.setSelectedIndex(-1,true);}else{if(this.noResult==="previous"){this.setSelectedIndex(0);}else{if(this.noResult==="noEnd"){return;}else{if(this.noResult==="useData"){return;}else{if(this.noResult==="first"){return;}}}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.componentRedraw=function(){try{this.setSelectItemArr();this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?_._t._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}this.showEditMode(false);this.setValueNM("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSubLayer=function(){try{if(this.itemTable==null){var _16=this;if(this.itemTableMode=="grid"){this.itemTable=new _._a.gridItemTable(this.id+"_gridItemTable",{style:"position : absolute; width : "+this.itemsetObj.width+"; height : "+this.itemsetObj.height+";",itemsetObj:this.itemsetObj,className:this.options.className});this.itemTable.writeTo(_.getBody());this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_16.focus();row=this.getRealRowIndex(row);_16.setSelectedIndex1(_16.viewArr[row].index);});this.itemTable.grid.addEvent("onrowindexchange",function(row,_1a){row=this.getRealRowIndex(row);_16.dom.input.value=(_16.options.searchTarget=="label"||_16.options.searchTarget=="both")?_16.viewArr[row].orgLabel:_16.viewArr[row].value;var _1b=_16.viewArr[row].label;var _1c=(_16.options.escape)?_._t._encode(_1b):_1b;_1c=_16.getFormattedValue(row,_1c);_16.dom.label.innerHTML=_1c;});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _1e=(e.charCode)?e.charCode:e.keyCode;if(_1e==13){_16.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_16.setSelectedIndex1(_16.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{this.itemTable=new _._a._a(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"",defaultStyle:this.options.defaultStyle,className:"w2input_table "+this.options.className,w2table:"w2input_table_sb",w2table_main:"w2input_table_sb_main",w2table_row:"w2input_table_sb_row",w2table_col:"w2input_table_sb_col",w2table_col_over:"w2input_table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo(_.getBody());this.itemTable.activate();this.itemTable.addClickEventListener(function(_20){_16.findStop=true;if(_16.editmode||_16.findkeymode){_16.mozTrickBuffer="";var _21=_16.viewArr[_20].label;if(_16.options.useKeywordHighlight){_21=_21.replaceAll("<span class='w2autoComplete_keyword'>","").replaceAll("</span>","");}_16.dom.input.value=_21;_16.selectedItem={text:_21,value:_16.viewArr[_20].value,orgLabel:_16.viewArr[_20].orgLabel};var _22=_16.selectedItem.orgLabel+"|"+_16.selectedItem.value;var idx=_16.findinItemArr(_22,"all");_16.setSelectedIndex(idx);_16.focus();_16.closeTable();}else{var _21=_16.viewArr[_20].label;if(_16.options.useKeywordHighlight){_21=_21.replaceAll("<span class='w2autoComplete_keyword'>","").replaceAll("</span>","");}_16.dom.input.value=_21;_16.selectedItem={text:_21,value:_16.viewArr[_20].value,orgLabel:_16.viewArr[_20].orgLabel};_16.setSelectedIndex1(_20);_16.focus();_16.closeTable();}});this.itemTable.addKeyDownEventListener(function(e){if(_._F.getTarget(e)!==this.render){return;}var _25=(e.charCode)?e.charCode:e.keyCode;if(_16.interactionMode==true||_16.editmode||_16.findkeymode){var _26=0;var _27=_16.selectedItem.orgLabel+"|"+_16.selectedItem.value;for(var i=0;i<_16.viewArr.length;i++){if(_27==_16.viewArr[i].orgLabel+"|"+_16.viewArr[i].value){_26=i;break;}}if(_25==13){if(_16.viewArr.lenght==0){return;}}else{if((_25==38)||(_25==9&&e.shiftKey)){if(_26==0){return;}_26=_26-1;}else{if((_25==40)||(_25==9)){if((_26+1)==_16.viewArr.length){return;}_26=_26+1;}else{if(_25==35){_26=_16.viewArr.length-1;}else{if(_25==36){_26=0;}else{if(_25==33){_26=_26-_16.viewArr.length;if(_26<0){_26=0;}}else{if(_25==34){_26=_26+_16.viewArr.length;if(_26>=_16.viewArr.length){_26=_16.viewArr.length-1;}}}}}}}}if(_16.viewArr.length>_26){var _29=_16.viewArr[_26].label;if(_16.options.useKeywordHighlight){_29=_29.replaceAll("<span class='w2autoComplete_keyword'>","").replaceAll("</span>","");}_16.dom.input.value=_29;_16.selectedItem={text:_29,value:_16.viewArr[_26].value,orgLabel:_16.viewArr[_26].orgLabel};_16.itemTable.setSelectedIndex(_26);}}else{var _2a=-1;_2a=_16.getSelectedIndex();if((_25==38)||(_25==9&&e.shiftKey)){if(_2a>0){_2a=_2a-1;}}else{if((_25==40)||(_25==9)){if(_2a+1<_16.getItemCount()){_2a=_2a+1;}}else{if(_25==35){_2a=_16.getItemCount()-1;}else{if(_25==36){_2a=0;}else{if(_25==33){_2a=_2a-_16.itemTable.rowCount;if(_2a<0){_2a=0;}}else{if(_25==34){_2a=_2a+_16.itemTable.rowCount;if(_2a>=_16.itemTable.getItemCount()){_2a=_16.itemTable.getItemCount()-1;}}else{}}}}}}_16.setSelectedIndex(_2a);_16.itemTable.setSelectedIndex(_2a);}});if(this.editmode&&this.viewArr.length>0){this.setItemTable();this.itemTable.setSelectedIndex(0);}else{if(this.itemArr!=null&&this.itemArr.length>0){this.setItemTable();}else{this.itemTable.hide();if(this.itemTable.mainTable!=null&&this.itemTable.render.firstChild){this.setItemTable();}else{$l("this.itemTable.mainTable\uc774 null\uc785\ub2c8\ub2e4.");}}}}this.isOpen=true;this.closeSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSelectOptions=function(){try{if(this.itemTable!=null){if(this.editmode){if(this.viewArr.length==0){}else{this.itemTable.setItemArr(this.viewArr);this.itemTable.setSelectedIndex(0);}}else{if(this.itemTableMode!="grid"&&this.itemArr!=null&&this.itemArr.length!=0){this.itemTable.setItemArr(this.itemArr);}else{this.itemTable.hide();}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setItemTable=function(){try{this.itemTable.setItemArr(this.viewArr);var _2b=this.render.offsetWidth;var _2c=this.render.offsetHeight;var _2d=_._v.getAbsoluteLeft(this.render);var top=0;var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _30=tds[0].offsetHeight;var _31=Math.min(tds.length,this.options.visibleRowNum);this.itemTable.setStyle("height",(_31*_30)+"px");}if(this.options.submenuSize=="fixed"||parseInt(_2b)>parseInt(this.itemTable.render.offsetWidth)){this.itemTable.setStyle("width",(_2b-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_2b)+"px";}else{this.itemTable.render.firstChild.style.width=(_2b-17)+"px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}else{this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth)+"px");}}var _32=this.options.direction;if(_32=="auto"){var _33=document.body.scrollTop;if(_33<document.documentElement.scrollTop){_33=document.documentElement.scrollTop;}var _34=_._v.getAbsoluteTop(this.render)-_33;var _35=document.documentElement.clientHeight-(_34+this.render.offsetHeight);var _36=this.itemTable.render.offsetHeight;if(_35<_36&&_34>_36){_32="up";}}if(_32=="up"){top=_._v.getAbsoluteTop(this.render)-this.itemTable.render.offsetHeight;}else{top=_._v.getAbsoluteTop(this.render)+this.render.offsetHeight;}this.itemTable.setPosition(_2d,top);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.buildItemArr=function(){try{this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.itemArr=[];this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSelectItemArr=function(){try{if(this.options.sortOption!=""){var _37=[];var _38=null;if(this.options.sortOption=="label"){_38=function(){return this.label;};}else{if(this.options.sortOption=="value"){_38=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _3a=this.itemArr[i];_3a.toString=_38;_37.push(_3a);}_37.sort();if(this.options.sortMethod=="descending"){_37.reverse();}this.itemArr=_37;}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel}].concat(this.itemArr);}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getViewItemText=function(idx){try{var _3c="";if(idx>-1&&idx<this.viewArr.length){_3c=this.viewArr[idx].label;switch(this.displayMode){case "0":break;case "1":_3c=this.viewArr[idx].value+this.options.delimiter+_3c;break;case "2":_3c=_3c+this.options.delimiter+this.viewArr[idx].value;break;case "3":_3c=this.viewArr[idx].value;break;default:}}return _3c;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getItemText=function(idx){try{if(idx>-1&&idx<this.getItemCount()){var _3e="";if(this.itemArr[idx].value=="all"){_3e=this.itemArr[idx].label;}if(this.displayMode=="0"){_3e=this.itemArr[idx].label;}else{if(this.displayMode=="1"){_3e=this.itemArr[idx].value+this.options.delimiter+this.itemArr[idx].label;}else{if(this.displayMode=="2"){_3e=this.itemArr[idx].label+this.options.delimiter+this.itemArr[idx].value;}else{if(this.displayMode=="3"){_3e=this.itemArr[idx].value;}else{if(this.displayMode=="label"){_3e=this.itemArr[idx].label;}else{if(this.displayMode=="value"){_3e=this.itemArr[idx].value;}}}}}}return _3e;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.parseLabel=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _40=this.itemsetObj.label.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _41=_40[0].split("/");var _42=_41[_41.length-2];var _43=_._t.getElementsByTagName(this.itemArr[idx].xml,_42);var myv=_.WebSquareparser.getAttribute(_43[0],_40[1]);return myv;}else{var myv=_.WebSquareparser.getAttribute(this.itemArr[idx].xml,_40[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _41=this.itemsetObj.label.split("/");var _42=_41[_41.length-2];var _43=_._t.getElementsByTagName(this.itemArr[idx].xml,_42);var myv=_.WebSquareparser.getAttribute(_43[0],_40[1]);return myv;}else{var _43=_._t.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _43[0].firstChild.nodeValue;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.parseValue=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _46=this.itemsetObj.value.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _47=_46[0].split("/");var _48=_47[_47.length-2];var _49=_._t.getElementsByTagName(this.itemArr[idx].xml,_48);var myv=_.WebSquareparser.getAttribute(_49[0],_46[1]);return myv;}else{var myv=_.WebSquareparser.getAttribute(this.itemArr[idx].xml,_46[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _47=this.itemsetObj.label.split("/");var _48=_47[_47.length-2];var _49=_._t.getElementsByTagName(this.itemArr[idx].xml,_48);var myv=_.WebSquareparser.getAttribute(_49[0],_46[1]);return myv;}else{var _49=_._t.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _49[0].firstChild.nodeValue;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setItemSet=function(_4b,_4c,_4d){try{if(typeof this.itemsetObj=="undefined"){this.itemsetObj={};}var _4e=false;if(_4c!=this.itemsetObj.label||_4d!=this.itemsetObj.value){_4e=true;}this.itemsetObj.nodeset=_4b;if(_4e){this.itemsetObj.label=_4c;this.itemsetObj.value=_4d;}if(this.itemTableMode=="grid"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);if(_4e){for(var i=0;i<this.itemsetObj.items.length;i++){if(this.itemsetObj.items[i].id==this.itemsetObj.labelId){this.itemsetObj.items[i].ref=_4c;}if(this.itemsetObj.items[i].id==this.itemsetObj.valueId){this.itemsetObj.items[i].ref=_4d;}}}this.refreshGridItemArr();}else{this.buildItemArr();}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.interactionMode){_._h.clearTimer(this.id+"_showEditMode",true);if(this.interactionMode){this.selectedIndex=-1;}if(this.options.allOption==true&&this.itemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);if(this.itemTableMode=="grid"){var _50=-1;var _51={};for(var j=0;j<this.itemsetObj.items.length;j++){if(_50==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_50=j;}_51[this.itemsetObj.items[j].id]="";}_51[this.itemsetObj.items[_50==-1?0:_50].id]=this.defaultAllOptionLabel;this.gridRowItemArr.unshift(_51);}}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){var _53=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _54=_53.indexOf(this.mozTrickBuffer);if(_54>=0){_53=_53.substring(0,_54)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_53.substring(_54+this.mozTrickBuffer.length,_53.length);}}this.viewArr.push({label:_53,orgLabel:this.itemArr[i].orgLabel,value:this.itemArr[i].value,index:i});}}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){this.setSubLayer();this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _55=[];var _50=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_50==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_50=j;}_55.push("");}_55[_50==-1?0:_50]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_55,false);}var _56=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _58=this.itemTable.grid.getCellInfo(col).options.dataType;var _59=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_56[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_58=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_59;}else{if(a<b){return -1*_59;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_56});}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.updateTable=function(){};_._a._D.prototype.openTable=function(){try{this.showTable();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.toggle=function(){try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.openSubLayer=function(obj){try{_.getBody().getLayerListener().show(this.id,obj);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype._openSubLayer=function(obj){try{if(!obj){obj={};}var _60=(obj.select===undefined)?true:obj.select;this.setSubLayer();if(!this.isOpen){if(this.itemArr.length==0){return;}this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){_.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}if(this.selectedIndex!=-1&&_60){this.itemTable.setSelectedIndex(this.selectedIndex);}if(this.editmode){if(typeof this.dom.input!="undefined"&&this.dom.input!=null){this.setfFocus();}}else{}this.isOpen=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype._openOtherLayer=function(obj){try{if(!this.isOpen){if(this.itemArr.length==0){return;}var _62=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();this.setGridData();if(this.itemsetObj.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.grid.render.style.height;}_62=this.itemTable;_62.grid.removeFocusedCell();_62.show();_62.grid.handleResize();}else{_62.show();}var _63=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var _65=this.options.direction;if(_65=="auto"||_65=="fit"){var _66=document.body.scrollTop;if(_66<document.documentElement.scrollTop){_66=document.documentElement.scrollTop;}var _67=top-_66;var _68=document.documentElement.clientHeight-(_67+this.render.offsetHeight);var _69=_62.render.offsetHeight;if(_68<_69&&_67>_69){_65="up";}}if(_65=="up"){top=top-_62.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(_65!="fit"&&document.documentElement.clientWidth<(_63+_62.render.offsetWidth)){_63=_63+this.render.offsetWidth-_62.render.offsetWidth;}if(_63<0){_63=0;}if(this.options.direction=="fit"){if(this.itemTableMode=="grid"){this.itemTable.render.firstChild.style.width="100%";}_63=_._v.getAbsoluteLeft(this.render);_62.setPosition(_63,top);var _6a=document.documentElement.clientWidth-_63;_62.setSize(_6a,_62.render.offsetHeight);}_62.setPosition(_63,top);this.isOpen=true;}else{this.setGridData();}if(this.selectedIndex!=-1){for(var i=0;i<this.viewArr.length;i++){if(this.viewArr[i].index==this.selectedIndex){this.itemTable.setSelectedIndex(i,obj&&obj.noFocus);break;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.closeSubLayer=function(){try{_.getBody().getLayerListener().hide(this.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype._closeSubLayer=function(){try{if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","false");if(this.options.wmode==true){_.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype._closeOtherLayer=function(_6c){try{var _6c=_6c||{};var _6d=_6c.documentClick;var _6e=this.otherComponent;if(this.itemTableMode=="grid"){_6e=this.itemTable;}if(this.isOpen&&_6e!=null){_6e.hide();if(this.itemTableMode=="grid"){_6e.grid.handleResize();}this.isOpen=false;if(_6d===true){_._F.fireEvent(this,"onclose",true);}else{_._F.fireEvent(this,"onclose",false);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSelectedIndex=function(idx,_70){try{if(_._G.isNull(idx)){return;}if(isNaN(idx)||idx>=this.getItemCount()){return;}if(idx<0&&!_70){return;}idx=parseInt(idx);var _71="";if(idx>-1){_71=this.itemArr[idx].value;}this.modelControl.setData(_71);var _72=this.getSelectedIndex();this.setSelectedIndexNM(idx,_70);if(_72!=this.getSelectedIndex()){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSelectedIndexNM=function(idx,_74){try{this.dummyData=null;idx=parseInt(idx);if(isNaN(idx)||idx>=this.getItemCount()){return false;}if(idx<0&&!_74){return false;}this.selectedIndex=idx;if(idx>-1){if(this.itemTableMode=="grid"){this.selectedGridRowObj=this.gridRowItemArr[idx];}var _75=this.itemArr[idx].label;var _76=(this.options.escape)?_._t._encode(_75):_75;_76=this.getFormattedValue(idx,_76);this.dom.label.innerHTML=_76;this.dom.input.value=_75;this.selectedItem={text:_75,value:this.itemArr[idx].value,orgLabel:this.itemArr[idx].orgLabel};if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}}else{this.dom.label.innerHTML="";this.dom.input.value="";}this.showEditMode(false);return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setValue=function(_77){try{if(_._G.isNull(_77)){return;}var _78=this.getValue();if(this.setValueNM(_77)==true){this.modelControl.setData(_77);if(_78!=this.getValue()){_._F.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setValueNM=function(_79){try{if(_._G.isNull(_79)){return;}_79=_79.toString();var _7a=this.getItemCount();for(var i=0;i<_7a;i++){if(this.itemArr[i].value==_79){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getValue=function(){try{if(this.dummyData){return this.dummyData.value;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{if(this.options.returnValueType=="empty"){return "";}else{return null;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setText=function(_7c){try{var _7d=this.getItemCount();var _7e="";for(var i=0;i<_7d;i++){if(this.itemArr[i].label==_7c){_7e=this.itemArr[i].value;}}this.setValue(_7e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getText=function(){try{if(this.dummyData){return this.dummyData.label;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].label;}else{return null;}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setItem=function(_80,_81,_82,_83){try{if(!this.itemArr){return;}if(this.itemArr.length<=_83){return;}this.itemArr[_83].label=_80;this.itemArr[_83].value=_81;this.itemArr[_83].label=this.getItemText(_83);this.itemArr[_83].orgLabel=_80;this.itemArr[_83].xml=_82;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.addItem=function(_84,_85,_86,_87){try{if(this.itemTableMode=="grid"){return;}var _88;if(_86==null){var _89="<DATA><label>"+_._t.encode(_84)+"</label><value>"+_._t.encode(_85)+"</value></DATA>";_88=_._t.parse(_89);}var _8a={label:_84,value:_85,orgLabel:_84,xml:_88};if(_87===undefined){this.itemArr.push(_8a);}else{this.itemArr.splice(_87,0,_8a);if(_87<=this.selectedIndex){this.setSelectedIndexNM(_87+1);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getItem=function(_8b){try{if(_8b===undefined){return;}if(_8b>=this.itemArr.length||_8b<0){return;}if(this.itemTable&&this.itemsetObj.sortIndex&&this.gridItemArr.length>0){return this.itemArr[this.itemTable.grid.getRealRowIndex(_8b)];}else{return this.itemArr[_8b];}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getSearchedItems=function(){try{return this.viewArr;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.getSelectedRow=function(){try{if(this.itemTableMode=="grid"){return this.selectedGridRowObj;}else{var _8c={};_8c["label"]=this.selectedItem.orgLabel;_8c["value"]=this.selectedItem.value;return _8c;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.onPropertyChange=function(_8d,_8e){try{switch(_8d){case "disabled":var _8f=this.dom.button;if(_8e==true){this.closeSubLayer();this.addClass("w2autoComplete_disabled");if(_8f!=null){this.addClass(_8f,"w2autoComplete_button_disabled");}}else{this.removeClass("w2autoComplete_disabled");if(_8f!=null){this.removeClass(_8f,"w2autoComplete_disabled");}}var _90=this.getElementById(this.id+"_input");_90.disabled=_8e;break;case "readOnly":if(_8e==true){this.addClass("w2autoComplete_readonly");}else{this.removeClass("w2autoComplete_readonly");}var _90=this.getElementById(this.id+"_input");_90.readOnly=_8e;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setSelectedIndex1=function(idx){try{this.setSelectedIndex(idx);this.closeSubLayer();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.validate=function(){try{var _92=this.validator.validate(this.getValue());if(!_92){this.focus();}return _92;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleClickEvent=function(e){try{if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete_input")){if(this.isOpen){return;}}if(it.match("w2autoComplete_col_label")){if(this.isOpen){this.closeSubLayer();}this.changeMode();return;}}this.mozTrickBuffer="";this.editmode=false;if(!this.options.interactionMode){this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(!this.options.useOtherComponentId){var _96=this.isOpen;this.setSubLayer();if(_96==this.isOpen){if(this.options.useKeywordHighlight){if(this.selectedIndex>=0&&this.viewArr[this.selectedIndex]!=undefined){this.viewArr[this.selectedIndex].label=this.itemArr[this.selectedIndex].label;}}this.toggle();}}else{this.toggle();}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleClickEventDocument=function(e){try{if(!this.event.isMe(e,this.render)&&this.options.handleOtherClick){if(this.itemTable!=null&&this.itemTable.inputBlurInside){_._h.setTimer(this.endEdit,{key:this.id+"_handleClickEventDocument",caller:this,delay:1});this.itemTable.inputBlurInside=false;}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}if(this.itemTable!=null&&this.findkeymode==false){if(_.getBody().getLayerListener().isShow(this.id)){this.closeSubLayer();}}else{if(this.itemTable!=null&&this.findkeymode==true){this.findkeymode=true;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.endEdit=function(){try{var _98=this.dom.input.value;var ret=_._F.fireEvent(this,"oneditend",_98);if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}var idx=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(idx!=undefined){this.setSelectedIndex(idx);}else{if(this.noResult==="useData"){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);this.setSelectedIndex(idx);}}var _9b="";if(this.dom.input!=null&&this.itemArr!=null&&this.selectedIndex!=-1){if(this.selectedItem.text==this.dom.input.value&&this.dom.input.value!=""){_9b=(this.options.escape)?_._t._encode(this.selectedItem.text):this.selectedItem.text;_9b=this.getFormattedValue(this.selectedIndex,_9b);this.dom.label.innerHTML=_9b;}else{if(this.itemArr&&this.itemArr[this.selectedIndex]){_9b=(this.options.escape)?_._t._encode(this.itemArr[this.selectedIndex].label):this.itemArr[this.selectedIndex].label;_9b=this.getFormattedValue(this.selectedIndex,_9b);this.dom.label.innerHTML=_9b;}else{this.dom.label.innerHTML="";}}}this.showEditMode(false);this.mozTrickBuffer="";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleblurEventInput=function(){if(this.dom.input.style.display!="none"&&this.options.handleOtherClick){if(this.itemTable==null||(this.itemTable!=null&&!this.itemTable.inputBlurInside)){this.endEdit();if(this.isOpen){this.closeSubLayer();}}}};_._a._D.prototype.handleKeypressEvent=function(e){try{var _9d=this.dom.input.value;if(!this.validator.validateKeyPress(this.dom.input,_9d,e)){_._F.stopEvent(e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleKeydownEvent=function(e){try{if(this.event.isMe(e,this.dom.input)){this.editmode=true;this.inputKeyDown(e,false);return;}else{var _9f=(e.charCode)?e.charCode:e.keyCode;if(_._h.browserCheck.opera){if((_9f==18)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_9f==13&&!this.isOpen){this.changeMode();return;}}}else{if((_9f==40||_9f==38)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_9f==13&&!this.isOpen){this.changeMode();return;}}}if(this.itemTable!=null&&this.viewArr.length>0){if(this.isOpen==true&&this.itemTableMode!="grid"){this.itemTable.handleKeydownEvent(e);}this.editmode=false;}else{if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}}}if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.find=function(){try{var _a0=this.dom.input.value;if(_a0==""){this.mozTrickBuffer=_a0;if(this.itemTable!=null){this.closeSubLayer();}return;}if(this.mozTrickBuffer==_a0){this.mozTrickBuffer=_a0;return;}else{this.mozTrickBuffer=_a0;}if(this.isOpen){this.closeSubLayer();}this.viewArr=[];if(!this.options.caseSensitive){_a0=_a0.toLowerCase();}for(var i=0;i<this.itemArr.length;i++){var _a2=false;if(!this.itemArr[i].orgLabel){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(!_a2&&(this.options.searchTarget=="label"||this.options.searchTarget=="both")){var _a3=(this.options.caseSensitive)?this.itemArr[i].orgLabel:this.itemArr[i].orgLabel.toLowerCase();if(this.search=="contain"){_a2=this.myhelper.containWith(_a3,_a0);}else{if(this.search=="start"){_a2=this.myhelper.startWith(_a3,_a0);}else{if(this.search=="none"){if(_a3==_a0){_a2=true;}else{_a2=false;}}}}}if(!_a2&&(this.options.searchTarget=="value"||this.options.searchTarget=="both")){var _a4=(this.options.caseSensitive)?this.itemArr[i].value:this.itemArr[i].value.toLowerCase();if(this.search=="contain"){_a2=this.myhelper.containWith(_a4,_a0);}else{if(this.search=="start"){_a2=this.myhelper.startWith(_a4,_a0);}else{if(this.search=="none"){if(_a4==_a0){_a2=true;}else{_a2=false;}}}}}var _a5=this.itemArr[i].label;if(this.options.useKeywordHighlight){var _a6=_a5.indexOf(this.mozTrickBuffer);if(_a6>=0){_a5=_a5.substring(0,_a6)+"<span class='w2autoComplete_keyword'>"+this.mozTrickBuffer+"</span>"+_a5.substring(_a6+this.mozTrickBuffer.length,_a5.length);}}if(_a2){this.viewArr.push({value:this.itemArr[i].value,label:_a5,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(this.options.disabled){return false;}if(this.viewArr.length>0){if(!this.isOpen){if(this.options.allOption==true){this.viewArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel,index:0}].concat(this.viewArr);}if(this.itemTableMode=="grid"){this.openSubLayer({noFocus:true});}else{this.openSubLayer({select:false});}}}else{this.closeSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.runSubmission=function(_a7){try{var _a8=true;var _a9=this.dom.input.value;var _aa=_._G.getStringByteSize(_a9);if(this.options.interactionMinByteLength>0&&this.options.interactionMinByteLength>_aa){_a8=false;}if(this.options.allowEmptySubmission!="false"&&_a9==""){}else{if(this.options.interactionKey=="default"){if(this.mozTrickBuffer==_a9){_a8=false;}}}if(_a8){this.mozTrickBuffer=_a9;if(this.options.submissionFunc.wq_trim()!=""){eval(this.options.submissionFunc+"('"+_a9+"', "+_a7+")");}else{if(this.options.submission.wq_trim()!=""){var _ab="<key>"+_._t.encode(_a9)+"</key>";_.WebSquaredoc.models[0].rebuild(_._t.parse(_ab),this.options.keyInputRef);_.WebSquaredoc.models[0].refresh();_._C.executeSubmission(this.options.submission);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.inputKeyDown=function(e,_ad){try{if(_ad==false){var _ae=(e.charCode)?e.charCode:e.keyCode;}if(this.interactionMode){this.editmode=false;if(_ad==false){if(this.options.interactionKey=="default"||this.isOpen){if(_ae==40&&!this.isOpen){}else{if(_ae==38||_ae==33||_ae==40||_ae==34||_ae==35||_ae==36){if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._G.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(_._h.browserCheck.moz||_._h.browserCheck.opera){this.findStop=true;}}if(this.itemTableMode!="grid"){this.arrowHandle(e);}if(_.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}return;}else{if(_ae==13){this.enterHandle(e);return;}else{if(_ae==9){if(this.options.noHandleTab){return;}if(this.dom.input.value==""||this.viewArr.length==0){if(this.options.noResult=="noEnd"&&this.options.noEndTab){this.enterHandle(e);}else{this.endEdit();}return;}if(this.itemTableMode!="grid"){this.arrowHandle(e);}if(_.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.setFocusedCell(0,0);}else{this.itemTable.focus();}}if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._G.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(_._h.browserCheck.moz||_._h.browserCheck.opera){this.findStop=true;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}return;}}}}}else{if(this.options.interactionKey=="all"){}}}var _af=this;this.mytime=setTimeout(function(){_af.runSubmission(_ae);},100);return;}else{if(_ad==false){if(_ae==40&&!this.isOpen){if(this.dom.input.value.wq_trim()==""){this.render.click();return;}}else{if(_ae==38||_ae==33||_ae==40||_ae==34||_ae==35||_ae==36){if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._G.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(_._h.browserCheck.moz||_._h.browserCheck.opera){this.findStop=true;}}this.arrowHandle(e);if(_.getBody().getLayerListener().isShow(this.id)&&this.itemTableMode!="grid"){this.itemTable.focus();}return;}else{if(_ae==13){this.enterHandle(e);return;}else{if(_ae==9){if(this.options.noHandleTab){return;}if(this.dom.input.value==""||this.viewArr.length==0){if(this.options.noResult=="noEnd"&&this.options.noEndTab){this.enterHandle(e);}else{this.endEdit();}return;}this.arrowHandle(e);if(_.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}if(_._h.browserCheck.chrome||_._h.browserCheck.safari||_._G.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(_._h.browserCheck.moz||_._h.browserCheck.opera){this.findStop=true;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}return;}}}}}this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};if(!_._h.browserCheck.moz||!_._h.browserCheck.opera){if(this.itemArr.length>0){var _af=this;this.mytime=setTimeout(function(){_af.find();},100);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.arrowHandle=function(e){try{var _b1=(e.charCode)?e.charCode:e.keyCode;if(this.itemTable==null){return;}if(this.editmode||this.findkeymode){if(this.dom.input.value==""||this.viewArr.length==0){_._F.stopEvent(e);return;}}var _b2=0;for(var i=0;i<this.viewArr.length;i++){if(this.selectedItem.orgLabel==this.viewArr[i].orgLabel){_b2=i;break;}}if(_b1==9||(_b1==9&&e.shiftKey)){}else{if(this.itemTableMode!="grid"){this.itemTable.handleKeydownEvent(e);}}if(this.viewArr.length>0){var _b4=this.viewArr[_b2].label;if(this.options.useKeywordHighlight){_b4=_b4.replaceAll("<span class='w2autoComplete_keyword'>","").replaceAll("</span>","");}this.dom.input.value=_b4;this.selectedItem={text:_b4,value:this.viewArr[_b2].value,orgLabel:this.viewArr[_b2].orgLabel};this.itemTable.setSelectedIndex(_b2);}this.mozTrickBuffer="";return;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.enterHandle=function(e){try{var _b6=this.dom.input.value;var ret=_._F.fireEvent(this,"oneditend",_b6);if(this.itemTable==null||this.itemTable.selectedCell==null){if(this.itemTable==null&&!this.options.useOtherComponentId){this.setSubLayer();}if(this.itemTable.selectedCell==null){var idx=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){if(idx===undefined){idx=-1;}this.setSelectedIndex(idx,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(idx===undefined){idx=-1;}}this.setSelectedIndex(idx,true);}else{if(this.noResult==="noEnd"){if(idx===undefined){return;}else{this.setSelectedIndex(idx);}}else{if(this.noResult==="useData"){if(idx===undefined){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);}this.setSelectedIndex(idx);}else{if(this.noResult==="first"){if(this.viewArr.length>0){index=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex(index);}}}}}}}}if(_._h.browserCheck.opera){_._F.stopEvent(e);}this.mozTrickBuffer="";if(this.itemTable.selectedCell!=null){var _b9=this.findinItemArr(this.dom.input.value,this.options.searchTarget);if(this.noResult==="clear"){if(_b9===undefined){_b9=-1;}this.setSelectedIndex(_b9,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(_b9===undefined){_b9=-1;}this.setSelectedIndex(_b9,true);}else{if(_b9===undefined){_b9=this.itemTable.selectedCell.index;if(typeof _b9=="undefined"){_b9=this.itemTable.selectedCell.getAttribute("index");}}this.setSelectedIndex(_b9);}}else{if(this.noResult==="noEnd"){if(_b9===undefined){return;}this.setSelectedIndex(_b9);}else{if(this.noResult==="useData"){if(_b9===undefined){_b9=0;this.addItem(this.dom.input.value,this.dom.input.value,null,_b9);}this.setSelectedIndex(_b9);}else{if(this.noResult==="first"){if(this.viewArr.length>0){_b9=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex(_b9);}}}}}}}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}this.showEditMode(false);this.focus();this.closeTable();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.findinItemArr=function(str,_bb){try{var _bc=_bb||"label";for(var i=0;i<this.itemArr.length;i++){if(_bc==="value"){if(str==this.itemArr[i].value){return i;}}else{if(_bc==="label"){if(str==this.itemArr[i].orgLabel){return i;}}else{if(_bc==="all"){if(str==this.itemArr[i].orgLabel+"|"+this.itemArr[i].value){return i;}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.closeTable=function(){try{this.closeSubLayer();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.showTable=function(){try{this.openSubLayer({select:false});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleMousewheelEvent=function(e){try{_._F.stopEvent(e);if(!this.options.useMousewheel){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2autoComplete_selected")){if(!this.isOpen){var _c0=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex(_c0-1);}else{this.setSelectedIndex(_c0+1);}}else{var _c0=this.itemTable.selectedCell.index;if(typeof _c0=="undefined"){_c0=this.itemTable.selectedCell.getAttribute("index");this.dom.input.value=this.viewArr[_c0].label;}if(e.wheelDelta>0||e.detail<0){this.itemTable.setSelectedIndex(_c0);}else{this.itemTable.setSelectedIndex(_c0);}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleFocusEvent=function(e){try{_._F.stopEvent(e);if(!this.isOpen){var _c2=document.getElementById(this.id+"_main_tbody");this.addClass(_c2,"w2autoComplete_selected");if(this.options.editModeEvent=="onfocus"){this.changeMode();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleBlurEvent=function(e){try{_._F.stopEvent(e);if(!this.isOpen){var _c4=document.getElementById(this.id+"_main_tbody");this.removeClass(_c4,"w2autoComplete_selected");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);if(!_._G.isIE(6)){if(!this.isOpen){var _c6=document.getElementById(this.id+"_main_tbody");this.addClass(_c6,"w2autoComplete_selected");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);if(!this.isOpen){var _c8=document.getElementById(this.id+"_main_tbody");this.removeClass(_c8,"w2autoComplete_selected");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.changeMode=function(){try{this.editmode=true;this.findStop=false;if(this.dom.input.style.display!="block"){var _c9="";if(this.options.searchTarget=="value"){_c9=this.selectedItem.value;}else{if(this.options.searchTarget=="label"||this.options.searchTarget=="both"){_c9=this.selectedItem.orgLabel;}else{_c9=this.selectedItem.orgLabel;}}if(this.options.editType=="focus"){this.showEditMode(true);if(document.activeElement!=this.dom.input){this.setfFocus();}var _ca=_._t.decode(_c9);this.dom.input.value=_ca;if(_._G.isOpera()||_._G.isFF()){this.dom.input.setSelectionRange(_ca.length,_ca.length);}}else{this.dom.input.value=_._t.decode(_c9);this.showEditMode(true);this.dom.input.select();this.setfFocus();}}if(_._h.browserCheck.moz||_._h.browserCheck.opera){this.mozTrickCompare();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.showEditMode=function(_cb){if(_cb){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{_._h.setTimer(function(){this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";},{key:this.id+"_showEditMode",caller:this,delay:1});}};_._a._D.prototype.setfFocus=function(){try{this.dom.input.focus();if(this.itemTable!=null){this.itemTable.inputBlurInside=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.mozTrickCompare=function(){try{var _cc=this;if(this.dom.input.value!=this.trickBuffer){this.trickBuffer=this.dom.input.value;if(this.findStop==false){_cc.inputKeyDown({},true);}}setTimeout(function(){_cc.mozTrickCompare();},10);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setInputFocus=function(){try{this.changeMode();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setItemTableFocus=function(){try{if(_.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.setEditMode=function(){try{this.setInputFocus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.removeAll=function(_cd){try{this.selectedItem={text:"",value:"",orgLabel:""};this.itemArr=new Array();if(_cd){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?_._t._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}if(this.itemTableMode=="grid"){this.viewArr=[];this.gridItemArr=[];this.gridRowItemArr=[];this.selectedGridRowObj={};if(this.itemTable){this.itemTable.grid.removeAll();}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.initAutoComplete=function(){try{this.removeAll();this.selectedIndex=-1;this.selectedItem={text:"",value:"",orgLabel:""};this.dom.input.value="";this.dummyData=null;if(this.isOpen){this.closeSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._D.prototype.hide=function(){try{this.closeSubLayer();_._r.prototype.hide.call(this);}catch(e){_.exception.printStackTrace(e);}};_._a._D.prototype.getFormattedValue=function(_ce,_cf){try{var ret=_cf;if(this.options.displayFormatter){if(!this.displayFormatter){this.fixedIndex=-1;if(this.options.allOption==true){this.fixedIndex++;}if(this.options.chooseOption==true){this.fixedIndex++;}try{this.displayFormatter=(this.options.displayFormatter)?eval(this.options.displayFormatter):null;}catch(e){}}if(this.displayFormatter&&_ce>this.fixedIndex){ret=this.displayFormatter(_cf);}}return ret;}catch(e){_.exception.printStackTrace(e);}};_._a._D.prototype.setRef=function(ref){["WebSquare.uiplugin.autoComplete.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._D.prototype.setGridData=function(){this.itemTable.grid.clearFilter();this.itemTable.grid.setTopRowIndex(0);var _d2=this.itemsetObj.labelId;var _d3=this.itemsetObj.valueId;if(!this.options.interactionMode){this.gridItemArr=[];for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.gridRowItemArr.length;j++){if(this.viewArr[i].orgLabel===this.gridRowItemArr[j][_d2]&&this.viewArr[i].value===this.gridRowItemArr[j][_d3]){for(var key in this.gridRowItemArr[j]){this.gridItemArr.push(this.gridRowItemArr[j][key]);}break;}}}}this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _d7=[];var _d8=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_d8==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_d8=j;}_d7.push("");}_d7[_d8==-1?0:_d8]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_d7,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _d9=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _db=this.itemTable.grid.getCellInfo(col).options.dataType;var _dc=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_d9[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_db=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_dc;}else{if(a<b){return -1*_dc;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_d9});}else{this.itemTable.grid.notifyDataChanged({keepTop:true});}};_._a._D.prototype.setDummyData=function(_e1,_e2){this.dummyData={value:_e1,label:_e2};this.selectedIndex=-1;this.showEditMode(false);this.selectedItem={text:_e2,value:_e1,orgLabel:_e2};var _e3=(this.options.escape)?_._t._encode(_e2):_e2;this.dom.label.innerHTML=_e3;this.dom.input.value=_e2;};;WebSquare.uiplugin.autoComplete=_._a._D;requires("uiplugin.input");_._a.aC=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aC.prototype,_._q.prototype);_._a.aC.prototype.defaultOptions={pluginType:"uiplugin.spinner",pluginName:"spinner",userEvents:["onDownButtonClick","onUpButtonClick"],buttonPosition:"horizon",buttonSize:30,spinnerClass:"type1",maxValue:10,minValue:1,dataType:"number",increment:1,dateIncrementType:"day",defalutValue:0,inputReadOnly:false,ioFormat:"yyyyMMdd",ioFormatter:"",displayFormat:"",displayFormatter:"",dateMask:"yyyy/MM/dd",timeMask:"HH:mm",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};_._a.aC.prototype.initialize=function(_4){var _5=this.options.style;var _6=this.options.readOnly;this.options.style="position:absolute;width:0px;height:100%";this.options.readOnly=this.options.inputReadOnly;if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.input=new _._a.ap(this.id+"___input",this.options,_4);this.options.style=_5;this.options.readOnly=_6;this.addControl(this.input);this.modelControl.ref="";this.input.modelControl.id=this.id;if(this.options.skin&&this.options.skin!=""){this.options.spinnerClass=this.options.skin;}if(this.options.max&&this.options.max!=""){this.options.maxValue=this.options.max;}if(this.options.min&&this.options.min!=""){this.options.minValue=this.options.min;}var _7=this;};_._a.aC.prototype.toHTML=function(){try{var _8=[];var _9="";var _a=(!this.options.style)?"":"style='"+this.options.style+"'";if(this.options.buttonPosition=="vertical"){_9="w2_vertical ";}else{_9="w2_horizon ";}_9+=this.options.spinnerClass+" ";_8.push("<div id='"+this.id+"' "+_a+" class='w2spinner "+_9+this.options.className+"'>");_8.push("<div id='"+this.id+"_upButton' class='w2spinner_up'>");_8.push("<div class='w2spinner_up_start'></div>");_8.push("<div class='w2spinner_up_center'></div>");_8.push("<div class='w2spinner_up_end'></div>");_8.push("<div id='"+this.id+"_upButton_image' class='w2spinner_up_image'></div>");_8.push("</div>");_8.push("<div id='"+this.id+"_downButton' class='w2spinner_down'>");_8.push("<div class='w2spinner_down_start'></div>");_8.push("<div class='w2spinner_down_center'></div>");_8.push("<div class='w2spinner_down_end'></div>");_8.push("<div id='"+this.id+"_downButton_image' class='w2spinner_down_image'></div>");_8.push("</div>");_8.push(this.getChild(this.id+"___input").toHTML());_8.push("</div>");return _8.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aC.prototype.setAction=function(){try{if(this.options.dataType=="date"){this.dateValidator=null;this.input.validator.addCommand(new _._e.dateCommand());this.input.validator.addCommand(new _._e.ignoreCharCommand(" -/:-~"));var _b=0;_b=this.options.ioFormat.length;this.input.validator.addCommand(new _._e.maxLengthCommand(_b));this.input.validator.addCommand(new _._e.minLengthCommand(_b));this.validMesssage=_._z.getMessage("IC_invalidCalendarSelect");if(this.validMesssage==null||this.validMesssage==""){this.validMesssage="\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.setInputStyle();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aC.prototype.setSize=function(_c,_d){try{_._r.prototype.setSize.call(this,_c,_d);this.setInputStyle();}catch(e){_.exception.printStackTrace(e);}};_._a.aC.prototype.refreshItemset=function(){};_._a.aC.prototype.refresh=function(){};_._a.aC.prototype.setInputStyle=function(_e,_f,_10,_11){this.input.originalStyleObj={paddingTop:parseInt(this.input.getStyle("padding-top"))||0,paddingBottom:parseInt(this.input.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.input.getStyle("padding-left"))||0,paddingRight:parseInt(this.input.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.input.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.input.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.input.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.input.getStyle("border-right-width"))||0};var _12=this.input.originalStyleObj.paddingLeft+this.input.originalStyleObj.paddingRight+this.input.originalStyleObj.borderLeftWidth+this.input.originalStyleObj.borderRightWidth;var _13=this.input.originalStyleObj.paddingTop+this.input.originalStyleObj.paddingBottom+this.input.originalStyleObj.borderTopWidth+this.input.originalStyleObj.borderBottomWidth;if(this.options.buttonPosition=="vertical"){this.input.setStyle("width",this.render.clientWidth+"px");this.input.setStyle("height",this.render.clientHeight-_13-this.options.buttonSize+"px");}else{this.input.setStyle("width",this.render.clientWidth-_12-this.options.buttonSize+"px");this.input.setStyle("height",this.render.offsetHeight+"px");}this.input.setVerticalAlign();};_._a.aC.prototype.handleClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2spinner_up")){this.upButtonClick();break;}else{if(it.match("w2spinner_down")){this.downButtonClick();break;}}}it=null;};_._a.aC.prototype.handleMousewheelEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2spinner")){if(e.wheelDelta>0||e.detail<0){this.upButtonClick();break;}else{_._F.fireEvent(this,"onDownButtonClick");this.downButtonClick();break;}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aC.prototype.upButtonClick=function(){if(false!=_._F.fireEvent(this,"onUpButtonClick")){if(this.options.dataType=="number"){var _18=Number(this.getValue())+Number(this.options.increment);if(_18<=Number(this.options.maxValue)){this.setValue(_18);}else{this.setValue(this.options.maxValue);}}else{var _18="";if(this.options.ioFormat.length==8){_18=this.calcurateDate(this.getValue(),this.options.increment,"day");}else{_18=this.calcurateDate(this.getValue(),this.options.increment,"month");}this.setValue(_18);}}};_._a.aC.prototype.downButtonClick=function(){if(false!=_._F.fireEvent(this,"onDownButtonClick")){if(this.options.dataType=="number"){var _19=Number(this.getValue())-Number(this.options.increment);if(_19>=Number(this.options.minValue)){this.setValue(_19);}else{this.setValue(this.options.minValue);}}else{var _19="";if(this.options.ioFormat.length==8){_19=this.calcurateDate(this.getValue(),this.options.increment*(-1),"day");}else{_19=this.calcurateDate(this.getValue(),this.options.increment*(-1),"month");}this.setValue(_19);}}};_._a.aC.prototype.calcurateDate=function(_1a,_1b,_1c){var y1=parseInt(_1a.substring(0,4),10);var m1=parseInt(_1a.substring(4,6),10);var d1="";_1b=parseInt(_1b,10);if(_1a.length==8){d1=parseInt(_1a.substring(6,8),10);}if(_1c=="day"){_1a=_._u.dateAdd(_1a,_1b);return _1a;}else{m1=m1+_1b;if(m1>12){y1=y1+parseInt(m1/12);m1=parseInt(m1%12);}else{if(m1<0){y1=y1-(parseInt(m1*(-1)/12)+1);m1=12-(parseInt(m1*(-1)%12));}else{if(m1==0){y1=y1-1;m1=12;}}}if(m1<10){m1="0"+m1;}if(d1){if(d1<10){d1="0"+d1;}return y1+""+m1+""+d1;}else{return y1+""+m1;}}};_._a.aC.prototype.setDisabled=function(_20){try{_20=_._q.prototype.setDisabled.call(this,_20);this.input.setDisabled(_20);}catch(e){_.exception.printStackTrace(e);}return _20;};_._a.aC.apiExtend=function(){var _21=_._a.ap.prototype;var _22=_._a.aC.prototype;for(prop in _21){if(!_22[prop]){_22[prop]=(function(_23){return function(){return this.input[_23].apply(this.input,arguments);};})(prop);}}_22["refresh"]=(function(_24){return function(){return this.input[_24].apply(this.input,arguments);};})("refresh");};_._a.aC.apiExtend();;WebSquare.uiplugin.spinner=_._a.aC;requires("uiplugin/control/itemsetControl.js");requires("uiplugin.scrollView");_._a._A=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._A.prototype,_._q.prototype);_._a._A.prototype.defaultOptions={pluginType:"uiplugin.spinPicker",pluginName:"spinPicker",userEvents:["onchange"],delimiter:" ",scrollDuration:-1};_._a._A.prototype.getNewItem=function(_4,_5){var id=this.id+"_item_"+_4;var _7=function(id,_9,_a){_._a._l.call(this,id,_9,_a);};_.extend(_7.prototype,_._a._l.prototype);_.extend(_7.prototype,_.itemsetControl.prototype);var _5=_.extendKeepingType({verticalScroll:true,horizontalScroll:false,verticalPaging:false,horizontalPaging:false,bounce:true,showVerticalScroll:false,showHorizontalScroll:false,ref:_5.choices?_5.choices.getAttribute("ref"):""},_5);_7.prototype.getSlideFactor=function(_b,_c){var _d=_._a._l.prototype.getSlideFactor.call(_7,_b,_c);var _e=this.getScrollTop()+_d;var _f=this.getItemHeight();var _10=parseInt((_e+_f/2)/_f,10);_e=_10*_f;return _e-this.getScrollTop();};_7.prototype.handleTouchEnd=function(e){_._a._l.prototype.handleTouchEnd.call(this,e);if(this.isSliding){return;}var _12=this.getItemHeight();var _13=parseInt((this.getScrollTop()+_12/2)/_12,10);if(0<=_13&&_13<this.itemArr.length&&this.getScrollTop()!=_13*_12){this.scrollTo(null,_13*_12,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}};_7.prototype.componentRedraw=function(){var _14=[];var _15=this.dom.container;if(!_15){return;}_14.push("<div class='w2spinPicker_topPadding'></div>");_14.push("<div class='w2spinPicker_itembox'>");for(var i=0;i<this.itemArr.length;i++){_14.push("<div class='w2spinPicker_item'>"+this.itemArr[i].label+"</div>");}_14.push("</div>");_14.push("<div class='w2spinPicker_bottomPadding'></div>");_15.innerHTML=_14.join("");this.dom.topPadding=_15.childNodes[0];this.dom.itembox=_15.childNodes[1];this.dom.bottomPadding=_15.childNodes[2];var _17=this.getItemHeight();var _18=parseInt((this.render.offsetHeight-_17)/2,10);var _19=this.render.offsetHeight-_18-_17;this.dom.topPadding.style.height=_18+"px";this.dom.bottomPadding.style.height=_19+"px";this._scrollTo(null,_17*this.selectedIndex);};_7.prototype.refreshItemset=function(){if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}};_7.prototype.addItem=function(_1a,_1b,idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length;}else{if(idx<0||idx>=this.itemArr.length){idx=this.itemArr.length;}}this.itemArr.splice(idx,0,{value:_1a,label:_1b});this.componentRedraw();return idx;};_7.prototype.deleteItem=function(idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length-1;}var _1e=null;if(idx>=0&&idx<this.itemArr.length){_1e=(this.itemArr.splice(idx,1))[0];}this.componentRedraw();var _1f=this.getItemHeight();if(idx<this.selectedIndex||(idx==this.selectedIndex&&idx==this.itemArr.length)){this.selectedIndex--;this.scrollTo(null,_1f*this.selectedIndex,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}return _1e;};_7.prototype.getItemHeight=function(){var _20=this.dom.itembox.firstChild;return _20?_20.offsetHeight:0;};var _21=new _7(id,_5);_21.stopSlide=(function(_22,_23){return function(_24){if(this.isSliding){_._a._l.prototype.stopSlide.call(this,_24);if(!this.isTouched){var _25=false;var _26=[];var _27=this.getItemHeight();for(var i=0;i<_22.childControlList.length;i++){if(_22.childControlList[i].isSliding){_25=true;break;}_26[i]=parseInt((_22.childControlList[i].getScrollTop()+1)/_27,10);}if(!_25){var _29=_22.getSelectedIndex();var _2a=_26.join(_22.options.delimiter);if(_29!=_2a){_22.setSelectedIndex(_2a);}}}}};})(this,_4);return _21;};_._a._A.prototype.initialize=function(_2b){if(_2b.getElementsByTagNameNS){var _2c=_2b.getElementsByTagNameNS("*","choices");}else{var _2c=_2b.getElementsByTagName("w2:choices");}for(var i=0;i<_2c.length;i++){var _2e=this.getNewItem(i,_2c[i]);window[id]=_2e.id;_2e.initializeItemArr(_2c[i]);_2e.selectedIndex=0;this.addControl(_2e);}};_._a._A.prototype.toHTML=function(){try{var _2f=[];var _30=(!this.options.style)?"":"style='"+this.options.style+"'";_2f.push("<div id='"+this.id+"' "+_30+" class='w2spinPicker "+this.options.className+"'>");_2f.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");_2f.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_2f.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");for(var i=0;i<this.childControlList.length;i++){_2f.push(this.childControlList[i].toHTML());}_2f.push("</div>");return _2f.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setAction=function(){this.setLayout();if(this.modelControl.isBinded()){var _32=this.modelControl.getData();this.setValueNM(_32);}};_._a._A.prototype.setLayout=function(){for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].componentRedraw();}};_._a._A.prototype.refresh=function(){if(this.modelControl.isBinded()){var _34=this.getValue();var _35=this.modelControl.getData();if(this.setValueNM(_35)==true){if(_34!=this.getValue()){_._F.fireEvent(this,"onchange");}if(this.getValue()!=null&&_35!=this.getValue()){this.modelControl.setData(this.getValue());}}}};_._a._A.prototype.getValue=function(_36){try{var _36=_36||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _39=this.childControlList[i];ret.push(_39.itemArr[_39.selectedIndex].value);}return ret.join(_36).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setValueNM=function(_3a){try{if(_._G.isNull(_3a)){return false;}var _3b=_3a.split(this.options.delimiter);var _3c=[];for(var i=0;i<this.childControlList.length;i++){var _3e=this.childControlList[i];for(var j=0;j<_3e.itemArr.length;j++){if(_3b[i]==_3e.itemArr[j].value){_3c[i]=j;break;}}if(_3c[i]==undefined){_3c=null;break;}}if(_3c){this.setSelectedIndexNM(_3c.join(this.options.delimiter));return true;}return false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setValue=function(_40){try{if(_._G.isNull(_40)){return;}var _41=this.getValue();if(this.setValueNM(_40)==true){this.modelControl.setData(_40);if(_41!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.getText=function(_42){try{var _42=_42||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _45=this.childControlList[i];ret.push(_45.itemArr[_45.selectedIndex].label);}return ret.join(_42).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setText=function(_46){try{if(_._G.isNull(_46)){return;}var _47=_46.split(this.options.delimiter);var _48=[];for(var i=0;i<this.childControlList.length;i++){var _4a=this.childControlList[i];for(var j=0;j<_4a.itemArr.length;j++){if(_47[i]==_4a.itemArr[j].label){_48[i]=_4a.itemArr[j].value;break;}}}this.setValue(_48.join(this.options.delimiter));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.getSelectedIndex=function(){try{var _4c=[];for(var i=0;i<this.childControlList.length;i++){_4c.push(this.childControlList[i].selectedIndex);}return _4c.join(this.options.delimiter);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setSelectedIndexNM=function(_4e){try{var _4f=_4e.split(this.options.delimiter);for(var i=0;i<this.childControlList.length;i++){if(isNaN(_4f[i])||_4f[i]<0||_4f[i]>=this.childControlList[i].itemArr.length){return false;}}for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].selectedIndex=parseInt(_4f[i],10);var _51=this.childControlList[i].getItemHeight();if(this.childControlList[i].getScrollTop()!=_4f[i]*_51){this.childControlList[i].scrollTo(null,_4f[i]*_51,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}}return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setSelectedIndex=function(_52){try{var _53=this.getSelectedIndex();this.setSelectedIndexNM(_52);this.modelControl.setData(this.getValue());if(_53!=_52){_._F.fireEvent(this,"onchange");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._A.prototype.setRef=function(ref){["WebSquare.uiplugin.spinPicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.spinPicker=_._a._A;requires("uiplugin.spinPicker");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");_._a.aE=function(id,_2,_3){_._a._A.call(this,id,_2,_3);};_.extend(_._a.aE.prototype,_._a._A.prototype);_._a.aE.prototype.defaultOptions={pluginType:"uiplugin.datePicker",pluginName:"datePicker",userEvents:["onchange"],useConfig:true,delimiter:" ",monthNames:"&nbsp;1\uc6d4,&nbsp;2\uc6d4,&nbsp;3\uc6d4,&nbsp;4\uc6d4,&nbsp;5\uc6d4,&nbsp;6\uc6d4,&nbsp;7\uc6d4,&nbsp;8\uc6d4,&nbsp;9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",dateSuffix:"\uc77c",ampm:"\uc624\uc804,\uc624\ud6c4",minuteInterval:1,calendarValueType:"yearMonthDate",support24Hour:false,minYear:1978,maxYear:2030,useLocale:false};_._a.aE.prototype.initialize=function(_4){if(this.options.useLocale){_.extendKeepingType(this.options,{yearSuffix:this.getLocaleValue("DatePicker_yearSuffix"),monthNames:this.getLocaleValue("DatePicker_monthNames"),dateSuffix:this.getLocaleValue("DatePicker_dateSuffix"),ampm:this.getLocaleValue("DatePicker_ampm")});}if(parseInt(60/this.options.minuteInterval,10)*this.options.minuteInterval!=60){this.options.minuteInterval=1;}var _5=new Date();var _6={"year":_5.getFullYear()-this.options.minYear,"month":_5.getMonth(),"date":_5.getDate()-1,"ampm":_5.getHours()<12?0:1,"hour":this.options.support24Hour?_5.getHours():_5.getHours()%12,"minute":parseInt(_5.getMinutes()/this.options.minuteInterval,10),"second":_5.getSeconds()};var _7=[];var _8={};var _9=[];var _a=this.options.calendarValueType.toLowerCase();if(_a.indexOf("time")){_a=_a.replace("time","hourminute");}var _b=["year","month","date","hour","minute","second"];for(var i=0;i<_b.length;i++){if(_a.indexOf(_b[i])>=0){if(_b[i]=="hour"&&!this.options.support24Hour){_8["ampm"]=_7.length;_7.push("ampm");_9.push(_6["ampm"]);}_8[_b[i]]=_7.length;_7.push(_b[i]);_9.push(_6[_b[i]]);}}this.colTypeArr=_7;this.colTypeObj=_8;var _d=this.options.monthNames.split(",");var _e=this.options.ampm.split(",");for(var i=0;i<_7.length;i++){var id=this.id+"_item_"+i;var _10=this.options.calendarValueType+"_"+_7[i];var _11=this.getNewItem(id,{className:_10});window[id]=_11;_11.itemArr=[];_11.selectedIndex=_9[i];switch(_7[i]){case "year":for(var j=this.options.minYear;j<=this.options.maxYear;j++){_11.addItem(j,j+this.options.yearSuffix);}break;case "month":for(var j=0;j<12;j++){_11.addItem(j+1,_d[j]);}break;case "date":for(var j=1;j<=31;j++){_11.addItem(j,j+this.options.dateSuffix);}break;case "ampm":_11.addItem("AM",_e[0]);_11.addItem("PM",_e[1]);break;case "hour":for(var j=0;j<(this.options.support24Hour?24:12);j++){_11.addItem(j,(!this.options.support24Hour&&j==0)?12:j);}break;case "minute":for(var j=0;j<60;j+=this.options.minuteInterval){_11.addItem(j,j);}break;}this.addControl(_11);}this.selectedDateHelper=new _._a.ag(this.options.serverSync);};_._a.aE.prototype.toHTML=function(){var _13=[];var _14=(!this.options.style)?"":"style='"+this.options.style+"'";_13.push("<div id='"+this.id+"' "+_14+" class='w2datePicker w2spinPicker "+this.options.className+"'>");_13.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_13.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");_13.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");for(var i=0;i<this.childControlList.length;i++){_13.push(this.childControlList[i].toHTML());}_13.push("</div>");return _13.join("");};_._a.aE.prototype.setAction=function(){_._a._A.prototype.setAction.call(this);};_._a.aE.prototype.getDateString=function(_16){var _17="";var _18=["year","month","date","hour","minute","second"];for(var i=0;i<_18.length;i++){var _1a=_18[i];if(this.colTypeObj[_1a]!=null){var _1b=_16[this.colTypeObj[_1a]];if(!this.options.support24Hour&&_1a=="hour"&&_16[this.colTypeObj["ampm"]]=="PM"){_1b+=12;}(_1b<10)&&(_1b="0"+_1b);_17+=_1b;}}return _17;};_._a.aE.prototype.getDateArray=function(str){var _1d=[];var _1e=["year","month","date","hour","minute","second"];for(var i=0;i<_1e.length;i++){var _20=_1e[i];if(this.colTypeObj[_20]!=null){var len=_20=="year"?4:2;var _22=parseInt(str.substr(0,len),10);if(!this.options.support24Hour&&_20=="hour"){_1d.push(_22<12?"AM":"PM");_22%=12;}_1d.push(_22);str=str.slice(len);}}return _1d;};_._a.aE.prototype.refresh=function(){if(this.modelControl.isBinded()){var _23=this.getValue();var _24=this.modelControl.getData();var _25=this.getDateArray(_24);if(this.setValueNM(_25.join(this.options.delimiter))==true){if(_23!=this.getValue()){_._F.fireEvent(this,"onchange");}if(this.getValue()!=null&&_24!=this.getValue()){this.modelControl.setData(this.getValue());}}}};_._a.aE.prototype.getItemValue=function(key){try{var _27=null;var _28=this.colTypeObj[key];if(_28!=null){var _29=this.childControlList[_28];_27=_29.itemArr[_29.selectedIndex].value;if(key=="hour"){var _2a=this.colTypeObj["ampm"];var _2b=this.childControlList[_2a];if(_2b&&_2b.itemArr[_2b.selectedIndex].value=="PM"){_27+=12;}}}else{return "";}return _27;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aE.prototype.setItemValue=function(key,_2d){try{if(_._G.isNull(key)||_._G.isNull(_2d)){return;}var _2e=this.getValue();var _2f=this.getDateArray(_2e);if(this.colTypeObj[key]==null){return;}_2f[this.colTypeObj[key]]=_2d;if(key=="hour"&&this.colTypeObj["ampm"]!=null){_2f[this.colTypeObj["ampm"]]=(_2d<12)?"AM":"PM";_2f[this.colTypeObj[key]]=(_2d<12)?_2d:_2d-12;}if(this.setValueNM(_2f.join(this.options.delimiter))==true){var _30=this.getValue();this.modelControl.setData(_30);if(_2e!=_30){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aE.prototype.getValue=function(){try{var _31=[];for(var i=0;i<this.childControlList.length;i++){var _33=this.childControlList[i];_31.push(_33.itemArr[_33.selectedIndex].value);}return this.getDateString(_31);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aE.prototype.setValue=function(_34){try{if(_._G.isNull(_34)){return;}var _35=this.getDateArray(_34);var _36=this.getValue();if(this.setValueNM(_35.join(this.options.delimiter))==true){this.modelControl.setData(_34);if(_36!=this.getValue()){_._F.fireEvent(this,"onchange");}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aE.prototype.setDisabled=function(_37){var ret=_._q.prototype.setDisabled.call(this,_37);for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].setDisabled(_37);}return ret;};_._a.aE.prototype.setSelectedIndexNM=function(_3a){_._a._A.prototype.setSelectedIndexNM.call(this,_3a);if(this.colTypeObj["year"]!=null&&this.colTypeObj["month"]!=null&&this.colTypeObj["date"]!=null){this.selectedDateHelper.setDateAllByString(this.getValue().substr(0,6)+"01");var _3b=this.selectedDateHelper.getMonthCount(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth());var _3c=this.childControlList[this.colTypeObj["date"]];var _3d=_3c.itemArr.length;if(_3b<_3d){for(var i=_3b;i<_3d;i++){_3c.deleteItem();}}else{if(_3b>_3d){for(var i=_3d+1;i<=_3b;i++){_3c.addItem(i,i+this.options.dateSuffix);}}}}};_._a.aE.prototype.setRef=function(ref){["WebSquare.uiplugin.datePicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};;WebSquare.uiplugin.datePicker=_._a.aE;requires("uiplugin.group");_._a._i=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._i.prototype,_._q.prototype);_._a._i.prototype.defaultOptions={pluginType:"uiplugin.slider",pluginName:"slider",userEvents:["onthumbmove","onmovedone"],minValue:0,maxValue:100,increment:1,vertical:false,showScale:false,moveBack:false,animationDuration:0.5,value:0,animationMathOption:"round",tooltipShow:false,tooltipDisplay:false,tooltipTime:0.1,tooltipClass:"",tooltipAlways:false,tooltipFormatter:null,bothSideValue:6,setBackground:false,changeDirection:false,title:""};_._a._i.prototype.initialize=function(_4){try{this.thumbList=[];this.areaValue=[];this.positionValue=[];this.bothSideValue=this.options.bothSideValue;if(this.options.vertical==true){this.areaValue[0]="Height";this.positionValue[0]="Top";this.areaValue[1]="Width";this.positionValue[1]="Left";}else{this.areaValue[0]="Width";this.positionValue[0]="Left";this.areaValue[1]="Height";this.positionValue[1]="Top";}if(this.options.value){if(parseInt(this.options.value,10)>this.options.maxValue){this.options.value=this.options.maxValue+"";}else{if(parseInt(this.options.value,10)<this.options.minValue){this.options.value=this.options.minValue+"";}}}if(this.options.tooltipDisplay==true){this.options.tooltipShow=this.options.tooltipDisplay;}if(_4){var _5="w2:";var _6=_._t.findNodes(_4,_5+"thumb");if(_6.length==0){var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new _._a.thumb(_7);}else{for(var i=0;i<_6.length;i++){var _7=_.WebSquareparser.parseAttribute(_6[i]);_7.parentId=this.id;_7.index=i;this.thumbList[i]=new _._a.thumb(_7);}}}else{var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new _._a.thumb(_7);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.toHTML=function(){try{var _9=[];var _a="";this.scaleCnt=0;var _b=(!this.options.style)?"":"style='"+this.options.style+"'";var _c=(!this.options.title)?"":"title='"+this.options.title+"'";var _d=(!this.options.minValue)?"":"aria-valuemin='"+this.options.minValue+"'";var _e=(!this.options.maxValue)?"":"aria-valuemax='"+this.options.maxValue+"'";var _f=(!this.options.value)?"":"aria-valuenow='"+this.options.value+"'";var _10=(!this.options.value)?"":"aria-labele='"+this.options.value+"'";if(this.options.maxValue>=this.options.minValue&&this.options.maxValue>=this.options.increment){this.scaleCnt=(this.options.maxValue-this.options.minValue)/this.options.increment-1;}if(this.options.vertical==true){_a="w2slider_vertical";}else{_a="w2slider_horizon";}_9.push("<div id='"+this.id+"' "+_b+" class='w2slider "+_a+" "+this.options.className+"' ");_9.push("role='slider' "+_d+" "+_e+" "+_f+" "+_10+">");_9.push("<div id='"+this.id+"_startLayer"+"' class='w2slider_startLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_centerLayer"+"' class='w2slider_centerLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_endLayer"+"' class='w2slider_endLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_bgLayer"+"' class='w2slider_bgLayer'>");_9.push("</div>");if(this.options.showScale){_9.push("<div id='"+this.id+"_scale_start_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_start_1"+"' class='w2slider_scale_L"+"'></div>");for(var i=0;i<this.scaleCnt;i++){_9.push("<div id='"+this.id+"_scale_0_"+i+"' class='w2slider_scale'></div>");_9.push("<div id='"+this.id+"_scale_1_"+i+"' class='w2slider_scale'></div>");}_9.push("<div id='"+this.id+"_scale_end_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_end_1"+"' class='w2slider_scale_L"+"'></div>");}_9.push("</div>");return _9.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.setAction=function(){try{this.drawTumb();if(this.modelControl.isBinded()){var _12=this.modelControl.getData();this.setThumbValueNM(_12,0);}if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydown));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){_._F.preventDefault(e);}));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.drawTumb=function(){try{this.dom.start=_.document.getElementById(this.id+"_startLayer");this.dom.center=_.document.getElementById(this.id+"_centerLayer");this.dom.end=_.document.getElementById(this.id+"_endLayer");this.dom.bg=_.document.getElementById(this.id+"_bgLayer");this.dom.start.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.center.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.end.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.bg.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.bothSideValue=this.dom.start["offset"+this.areaValue[0]];this.dom.center.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";this.dom.center.style[this.areaValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-(this.bothSideValue*2)+4+"px";this.dom.bg.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";for(var i=0;i<this.thumbList.length;i++){this.render.appendChild(this.thumbList[i].getThumbRender());this.thumbList[i].inputRender.setAttribute("title",this.options.title);this.render.appendChild(this.thumbList[i].inputRender);this.event.addListener(this.thumbList[i].inputRender,"onblur",this.event.bindAsEventListener(this,this.handleInputBlur));}this.thumbArea=parseInt(this.thumbList[0].render["offset"+this.areaValue[0]],10);this.thumbPosition=(this.render["offset"+this.areaValue[1]]-this.thumbList[0].render["offset"+this.areaValue[1]])/2;for(var i=0;i<this.thumbList.length;i++){this.thumbList[i].render.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+"px";}this.minPosition=_._v["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.bgStValue=this.options.minValue;if(this.options.showScale){var _15=_.document.getElementById(this.id+"_scale_start_0");var _16=_.document.getElementById(this.id+"_scale_start_1");_15.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_16.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_15.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_16.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _17=_.document.getElementById(this.id+"_scale_end_0");var _18=_.document.getElementById(this.id+"_scale_end_1");_17.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_18.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_17.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_15["offset"+this.areaValue[1]]-3+"px";_18.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _19=this.options.increment/(this.options.maxValue-this.options.minValue)*100;var _1a=this.render["offset"+this.areaValue[0]]-this.thumbArea;for(var i=0;i<this.scaleCnt;i++){var _1b=_.document.getElementById(this.id+"_scale_0_"+i);var _1c=_.document.getElementById(this.id+"_scale_1_"+i);_1b.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1c.style[this.positionValue[0].toLowerCase()]=_1a/100*_19*(i+1)+this.thumbArea/2+"px";_1b.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_1b["offset"+this.areaValue[1]]-3+"px";_1c.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";}}this.initThumbPosition();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _1d=this.modelControl.getData();this.setThumbValueNM(_1d,0);_._F.fireEvent(this,"onthumbmove",this.thumbList[0].value,this.thumbList[0].id);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.initThumbPosition=function(){try{for(var i=0;i<this.thumbList.length;i++){if(!this.thumbList[i].render){this.thumbList[i].render=document.getElementById(this.id+"_"+this.thumbList[i].id);}this.thumbList[i].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(this.thumbList[i].value)+"px";this.setBackGroundImage(this.thumbList[i].value);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.getCurrentThumbElement=function(){try{return this.thumbList[this.movedIndex].render;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.getCurrentThumb=function(){try{return this.thumbList[this.movedIndex];}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.getThumbValue=function(_1f){if(!_1f){_1f=0;}return parseFloat(this.thumbList[_1f].value,10);};_._a._i.prototype.getValue=function(){return this.getThumbValue(0);};_._a._i.prototype.setThumbValue=function(_20,_21){try{if(!_21){_21=0;}this.moveThumb(_21,_20);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.setValue=function(_22){this.setThumbValue(_22,0);};_._a._i.prototype.setThumbValueNM=function(_23,_24){this.thumbList[_24].value=_23;this.thumbList[_24].inputRender.value=_23;if(this.options.moveBack!=true){this.thumbList[_24].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_23)+"px";}this.setBackGroundImage(_23);this.render.setAttribute("aria-valuenow",_23);};_._a._i.prototype.positionToValue=function(_25){try{var _26=(this.options.maxValue-this.options.minValue)*(_25-this.minPosition)/this.maxPosition+this.options.minValue;_26=this.options.changeDirection?this.options.maxValue-_26:_26;return _26;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.valueToPosition=function(_27){try{if(this.options.maxValue-this.options.minValue===0){if(this.options.minValue===0){return 0;}else{return this.maxPosition;}}if(_27>this.options.maxValue){_27=this.options.maxValue;}else{if(_27<this.options.minValue){_27=this.options.minValue;}}var _28=(_27-this.options.minValue)*this.maxPosition/(this.options.maxValue-this.options.minValue);_28=this.options.changeDirection?this.maxPosition-_28:_28;_28=Math.ceil(_28);return _28;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.setBackGroundImage=function(_29){var _2a=this.valueToPosition(_29);var _2b=false;if(_2a===this.maxPosition){_2b=true;}if(this.options.setBackground==true){if(this.options.changeDirection==true){this.dom.bg.style[this.positionValue[0].toLowerCase()]=_2a+"px";if(this.bgStValue<_29||_2b){this.addClass(this.dom.end,"w2slider_endLayerBg");}else{this.removeClass(this.dom.end,"w2slider_endLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=parseInt(this.render["offset"+this.areaValue[0]],10)-_2a-this.bothSideValue+2+"px";}else{if(this.bgStValue<_29||_2b){this.addClass(this.dom.start,"w2slider_startLayerBg");}else{this.removeClass(this.dom.start,"w2slider_startLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=_2a+"px";}}};_._a._i.prototype.moveThumb=function(_2c,_2d){try{var _2e=false;var _2f="";if(_2d<=this.options.minValue){_2d=this.options.minValue;}else{if(_2d>=this.options.maxValue){_2d=this.options.maxValue;}}if(this.options.moveBack==false){var _30={};if(_2d>this.thumbList[_2c].value){_30=Math.floor;}else{_30=Math.ceil;}if(_2d===this.options.maxValue){_2f=_2d;}else{_2d-=this.options.minValue;_2f=_30(_2d/this.options.increment)*this.options.increment;_2f+=this.options.minValue;if(_2f>this.options.maxValue){_2f=this.options.maxValue;}}}else{this.thumbList[_2c].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_2d)+"px";this.lastThumbPosition=this.valueToPosition(_2d);_2f=Math[this.options.animationMathOption](_2d/this.options.increment)*this.options.increment;}if(_2f!=this.thumbList[_2c].value){this.modelControl.setData(_2f);this.setThumbValueNM(_2f,_2c);_._F.fireEvent(this,"onthumbmove",this.thumbList[_2c].value,this.thumbList[_2c].id);return true;}else{return false;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.slideAnimation=function(_31,_32,_33){try{var _34=this.options.animationDuration*1000;var _35=10;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_3b){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_40){return 1/(200*_40);}function solve(x,_42){return sampleCurveY(solveCurveX(x,_42));}function solveCurveX(x,_44){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_44){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_44){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_3b));}var t=new Date().getTime()-(_33-_34);var cp=[0.25,0.1,0.25,1];var _49="ease";switch(_49){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _4a=CubicBezierAtTime(t/_34,cp[0],cp[1],cp[2],cp[3],_34/1000);this.thumbList[_31].render.style[this.positionValue[0].toLowerCase()]=this.lastThumbPosition+(this.valueToPosition(_32)-this.lastThumbPosition)*_4a+"px";if(t>=_34){this.stopSlideAnimation();return;}_._h.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_35,args:[_31,_32,_33]});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.stopSlideAnimation=function(){try{_._h.clearTimer(this.id+"_slider_slide");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.getThumbMaxValue=function(_4b){return "";};_._a._i.prototype.getThumbMinValue=function(_4c){return "";};_._a._i.prototype.getPosition=function(e){try{var _4e=0;if(this.options.vertical==true){_4e=_._F.getMouseY(e);}else{_4e=_._F.getMouseX(e);}return _4e-this.thumbArea/2;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.getNearThumbIndex=function(_4f){try{var _50=0;var _51=this.options.maxValue-this.options.minValue+1;for(var i=0;i<this.thumbList.length;i++){if(Math.abs(this.thumbList[i].value-_4f)<_51){_50=i;_51=Math.abs(this.thumbList[i].value-_4f);}}return _50;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.setRef=function(ref){["WebSquare.uiplugin.slider.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._i.prototype.handleTouchStart=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2thumb_input")){break;}if(it.match(null,this.id)){var _56=this.getPosition(e);var _57=this.positionToValue(_56);this.movedIndex=this.getNearThumbIndex(_57);var _58=this.thumbList[this.movedIndex];this.moveStart=true;var _59=this.moveThumb(this.movedIndex,_57);this.addClass(_58.render,"w2thumb_over");this.showTooltip(this.movedIndex,_58.value);_._F.stopEvent(e);this.render.focus();break;}if(it.match("w2thumb")){this.minPosition=_._I["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.movedIndex=it.getElement().getAttribute("thumbIndex");var _58=this.thumbList[this.movedIndex];this.addClass(_58.render,"w2thumb_over");_._F.stopEvent(e);this.showTooltip(this.movedIndex,_58.value);this.moveStart=true;this.render.focus();break;}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.handleTouchMove=function(e){try{if(this.moveStart==true){var _5b=this.getCurrentThumb();var _5c=this.getThumbMaxValue(this.movedIndex);var _5d=this.getThumbMinValue(this.movedIndex);var _5e=this.getPosition(e);var _5f=this.positionToValue(_5e);var _60=this.moveThumb(_5b.index,_5f);if(_60==true){this.addClass(_5b.render,"w2thumb_over");this.setTooltipLabel(_5b.value);this.setTooltipPosition(_5b.index);}}_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.handleTouchEnd=function(e){try{if(this.moveStart==true){if(this.options.moveBack==true){var _62=new Date().getTime()+this.options.animationDuration;this.slideAnimation(this.movedIndex,this.thumbList[this.movedIndex].value,_62);}this.removeClass(this.thumbList[this.movedIndex].render,"w2thumb_over");this.hideTooltip();this.moveStart=false;_._F.fireEvent(this,"onmovedone",this.thumbList[this.movedIndex].value,this.thumbList[this.movedIndex].id);}_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.handleInputBlur=function(e){try{var elm=e.srcElement;var _65=elm.getAttribute("thumbIndex");var _66=parseFloat(elm.value)||0;if(_66<this.options.minValue||_66>this.options.maxValue){alert(this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+" \uc0ac\uc774\uc758 \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.");elm.focus();}else{if((_66-this.options.minValue)%this.options.increment>0){alert(this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+"\uae4c\uc9c0\uc758 \uac12\ub4e4 \uc911 "+this.options.increment+"\uc529 \uc99d\uac00\ud55c \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.");elm.focus();}else{this.setThumbValue(elm.value,_65);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.handleKeydown=function(e){try{var _68=this.movedIndex||0;var _69=this.getThumbValue(_68);if(e.srcElement.nodeName.toLowerCase()=="input"){return;}switch(e.keyCode){case 37:if(this.options.vertical==false){if(this.options.changeDirection==false){this.setThumbValue(_69-this.options.increment,_68);}else{this.setThumbValue(_69+this.options.increment,_68);}}else{this.setThumbValue(_69-this.options.increment,_68);}_._F.stopEvent(e);break;case 39:if(this.options.vertical==false){if(this.options.changeDirection==true){this.setThumbValue(_69-this.options.increment,_68);}else{this.setThumbValue(_69+this.options.increment,_68);}}else{this.setThumbValue(_69+this.options.increment,_68);}_._F.stopEvent(e);break;case 38:if(this.options.vertical==true){if(this.options.changeDirection==false){this.setThumbValue(_69-this.options.increment,_68);}else{this.setThumbValue(_69+this.options.increment,_68);}}else{this.setThumbValue(_69+this.options.increment,_68);}_._F.stopEvent(e);break;case 40:if(this.options.vertical==true){if(this.options.changeDirection==true){this.setThumbValue(_69-this.options.increment,_68);}else{this.setThumbValue(_69+this.options.increment,_68);}}else{this.setThumbValue(_69-this.options.increment,_68);}_._F.stopEvent(e);break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.showTooltip=function(_6a,_6b){try{if(this.options.tooltipShow==true){if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new _._a._z(this.id+"_tooltip",{className:"w2slider_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(_.getBody());this.tooltip.activate();}if(this.options.vertical==true){this.tooltip.setStyle("left",_._v.getAbsoluteLeft(this.render)+this.thumbPosition+25+"px");}else{this.tooltip.setStyle("top",_._v.getAbsoluteTop(this.render)+this.thumbPosition-25+"px");}this.tooltip.setStyle("display","block");this.setTooltipLabel(_6b);this.setTooltipPosition(_6a);}),this.options.tooltipTime*1000);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._i.prototype.setTooltipPosition=function(_6c){if(this.tooltip){var _6d=this.valueToPosition(this.thumbList[_6c].value);_6d=this.minPosition+_6d-this.tooltip.render["offset"+this.areaValue[0]]/2+this.thumbArea/2;this.tooltip.setStyle(this.positionValue[0].toLowerCase(),_6d+"px");}};_._a._i.prototype.setSize=function(_6e,_6f){try{_._r.prototype.setSize.call(this,_6e,_6f);this.drawTumb();}catch(e){_.exception.printStackTrace(e);}};_._a._i.prototype.setTooltipLabel=function(_70){if(this.tooltip){if(this.options.tooltipFormatter){try{_70=eval(this.options.tooltipFormatter+"("+_70+")");}catch(e){}}this.tooltip.render.innerHTML=_70;}};_._a._i.prototype.hideTooltip=function(){try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.thumb=function(_71){this.id=_71.id||"thumb";this.value=_71.value||0;this.index=_71.index;this.options=_71;};_._a.thumb.prototype.getThumbRender=function(){if(!this.render){this.render=document.createElement("div");this.render.setAttribute("id",this.options.parentId+"_"+this.id);this.render.setAttribute("className","w2thumb");this.render.setAttribute("class","w2thumb");this.render.setAttribute("thumbIndex",this.index);this.inputRender=document.createElement("input");this.inputRender.setAttribute("className","w2thumb_input");this.inputRender.setAttribute("class","w2thumb_input");}return this.render;};;WebSquare.uiplugin.slider=_._a._i;_._a.aZ=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.aZ.prototype,_._q.prototype);_.extend(_._a.aZ.prototype,_._r.prototype);_._a.aZ.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onclick","onbeforeselect","onbeforetabclose","onbeforehide","onbeforeshow"],useConfig:true,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",alwaysDraw:true,useTabKeyOnly:false,useBackbridge:false,useConfirmMessage:false,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"[#title]\ud0ed\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ud0ed\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ud0ed\uc744 \uc0dd\uc131\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",tabScroll:false,visibleRowNum:5,closable:false,useBridgeHelper:true};_._a.aZ.prototype.defaultTabContentOptions={alwaysDraw:true,src:"",style:"",frameMode:"",name:"",title:""};_._a.aZ.prototype.initialize=function(_4){try{this.selectedIndex=0;this.tabArr=[];this.contentsArr=[];this.tabContentOptions=this.defaultTabContentOptions;this.focusedIndex=-1;this.activeFirstTime=false;this.increaseKey=0;this.visibleTabIndex=0;this.itemTable=null;this.isOpen=false;this.itemTableTdMargin=null;this.senseReaderMode=true;this.bridgeIdArr=[];this.backbridgeIdArr=[];this.lastEventType="";if(_4==null){return;}this.tabArr=this.makeTabArray(_4,this.options);this.contentsArr=this.makeTabContentsArray(_4,this.tabContentOptions,this.tabArr);this.initAllContents();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.initContents=function(_5){try{var _6;if(_5.frameMode=="iframe"||_5.frameMode=="wframe"){if(_5.frameMode=="iframe"){requires("uiplugin.iframe");_6=new _._a._O(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:_5.name});}else{requires("uiplugin.wframe");_6=new _._a.aI(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper"});}}else{_6=_.controlFactory.create(_5.contentsID+"_body",{className:"w2tabcontrol_contents_wrapper"},_5.xml);}return _6;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.initAllContents=function(){try{var _7,comp;for(var i=0;i<this.contentsArr.length;i++){_7=this.contentsArr[i];comp=this.initContents(_7);this.addControl(comp);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeTabContentsArray=function(_9,_a,_b){try{if(_b==null||_b.length<1){return [];}var _c=[];var _d={};var _e=_._t.findNodes(_9,"w2:content");for(var i=0;i<_b.length;i++){var elm=i<_e.length?_e[i]:null;if(elm==null||elm.nodeType!=1||elm.nodeName!="w2:content"){elm=null;_d={};}else{_d=_.WebSquareparser.parseAttribute(elm);}var id=(elm==null||elm.getAttribute("id")==null)?this.id+"_contents_"+i:this.id+"_contents_"+elm.getAttribute("id");_b[i].contentsID=id;if(_d.alwaysDraw){_d.alwaysDraw=_._G.getBoolean(_d.alwaysDraw);}else{if(_d.alwaysDraw==false){}else{_d.alwaysDraw=this.options.alwaysDraw;}}var _12=_.extend({contentsID:id,contentsClass:_d.contentsClass||this.options.contentsClass,src:_d.src||_a.src,frameMode:_d.src!=null&&_d.src!=""?(_d.frameMode||_a.frameMode):"",alwaysDraw:_d.alwaysDraw,render:null,xml:elm,name:_d.name||"",title:_d.title},_d||{});if(_12.src!=null&&_12.src!=""&&_12.frameMode==""){_12.frameMode="wframe";}_c.push(_12);}return _c;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeTabArray=function(_13,_14){try{if(_13==null){return [];}var _15=[];var _16=false;for(var i=0;i<_13.childNodes.length;i++){var elm=_13.childNodes[i];if(elm.nodeType!=1||elm.nodeName!="w2:tabs"){continue;}var _19=elm.getAttribute("id");var id=this.id+"_tab_"+(_19==null?i:_19);var _1b=_.WebSquareparser.parseAttribute(elm);if(typeof _1b.label=="undefined"){_1b.label="";}if(this.options.closable==true){_16=true;}var tab={tabID:id,userTabID:_19,contentsID:"",tabLabel:_1b.label,disabled:_1b.disabled=="true"?true:false,render:null,tabWidth:parseInt(_1b.tabWidth,10)>0?parseInt(_1b.tabWidth,10):this.options.tabWidth,tabGap:parseInt(_1b.tabGap,10)>0?parseInt(_1b.tabGap,10):this.options.tabGap,tabHeight:parseInt(_1b.tabHeight,10)>0?parseInt(_1b.tabHeight,10):this.options.tabHeight,tabClass:_1b["className"]||this.options.tabClass,tabStyle:_1b.style||this.options.tabStyle,activeTabClass:_1b.activeTabClass||this.options.activeTabClass,disabledTabClass:_1b.disabledTabClass||this.options.disabledTabClass,selectedImage:_1b.selectedImage?"url("+_1b.selectedImage+")":"",defaultImage:_1b.defaultImage?"url("+_1b.defaultImage+")":"",hoverImage:_1b.hoverImage?"url("+_1b.hoverImage+")":"",tabType:_1b.tabType=="image"?"image":"text",selectedClass:_1b.selectedClass||"",defaultClass:_1b.defaultClass||"",hoverClass:_1b.hoverClass||"",closable:_._G.getBoolean(_1b.closable)==true?true:_16,closeBtn:null,label:_1b.label,value:id,title:_1b.title||_1b.label};_15.push(tab);}return _15;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.toHTML=function(){try{var _1d=[];var _1e=(!this.options.style)?"":"style='"+this.options.style+"'";_1d.push("<div id='"+this.id+"' "+_1e+" class='w2tabcontrol "+this.options.className+"'>");if(this.options.tabScroll){_1d.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>");_1d.push("<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' tabindex='-1'></div>");_1d.push("<div id='"+this.id+"_mask' class='w2tabcontrol_control mask'>");_1d.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>");}_1d.push(this.makeAllTabHTML());if(this.options.tabScroll){_1d.push("</div>");_1d.push("</div>");_1d.push("<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' tabindex='-1'></div>");_1d.push("<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' tabindex='-1'></div>");_1d.push("</div>");}_1d.push(this.makeAllContentsHTML());_1d.push("</div>");return _1d.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeTextTabHTML=function(tab,idx){try{var _21=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' ",null," index='",null,"' ><div class='w2tabcontrol_tab_center' ><a role='tab' aria-controls='",null,"' href='#",null,"' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left'></div><div class='w2tabcontrol_tab_right' >","<div id='",null,"' class='w2tabcontrol_tab_close' title='\ub2eb\uae30'></div></div></li>"];var _22=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_21[1]=tab.tabID;_21[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(idx===this.options.selectedIndex+1){_21[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");}else{_21[3]+=(tab.defaultClass?" "+tab.defaultClass:"");}_21[5]=_22==""?"":"style=\""+_22+"\"";_21[7]=idx;_21[9]=tab.contentsID;_21[11]=tab.contentsID+"_bridge";_21[13]=tab.title==""?"":"title=\""+tab.title+"\"";_21[15]=tab.tabLabel;_21[18]=tab.tabID+"_close";return _21.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeImageTabHTML=function(tab,idx){try{var _25=["<li id='",null,"' class='w2tabcontrol_li ",null,"' ",null," index='",null,"'><div class='w2tabcontrol_tab_center2' ",null,"' ",null," role='tab' ",null," "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' title='\ub2eb\uae30'></div>","</div></li>"];var _26=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_25[1]=tab.tabID;_25[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(idx===this.options.selectedIndex+1){_25[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");_25[9]=tab.selectedImage?"style='background-image:"+tab.selectedImage+";":"";}else{_25[3]+=(tab.defaultClass?" "+tab.defaultClass:"");_25[9]=tab.defaultImage?"style='background-image:"+tab.defaultImage+";":"";}_25[5]=_26==""?"":"style=\""+_26+"\"";_25[7]=idx;_25[11]=tab.title==""?"":"title=\""+tab.title+"\"";_25[13]=tab.contentsID==""?"":"aria-controls=\""+tab.contentsID+"\"";_25[16]=tab.tabID+"_close";return _25.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeAllTabHTML=function(){try{var _27=[];_27.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+"' role='tablist' >");for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];var _2a="make"+tab.tabType.capitalize()+"TabHTML";_27.push(this[_2a](tab,i+1));}_27.push("</ul>");return _27.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeContentsHTML=function(_2b,_2c){try{var _2d=["<div id='",null,"' class='",null,"' role='tabpanel' aria-labeledby='",null,null,null,"</div>"];var _2e=this.getChild(_2b.contentsID+"_body");var _2f="";if(this.contentsArr[this.options.selectedIndex]!==_2b){_2f="' aria-hidden='true' style='display:none';>";}else{_2f="' aria-hidden='false'>";}var _30="";var _31="";if(this.options.useTabKeyOnly){var _32=_2b.title||_2c;var _33=this.options.useBridgeHelper?"<h3 id='"+_2b.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;'>"+_32+"</h3>":"";_30="<a id='"+_2b.contentsID+"_bridge' class='w2tabcontrol_bridge' href='#'>"+_33+"</a>";this.bridgeIdArr.push(_2b.contentsID+"_bridge");}if(this.options.useBackbridge){_31="<a id='"+_2b.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>";this.backbridgeIdArr.push(_2b.contentsID+"_backbridge");}_2d[1]=_2b.contentsID;_2d[3]=_2b.contentsClass;_2d[5]=_2c;_2d[6]=_2f;_2d[7]=_30;_2d[7]+=_2b.alwaysDraw==true?_2e.toHTML():"";_2d[7]+=_31;return _2d.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.makeAllContentsHTML=function(){try{var _34=[];_34.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var i=0;i<this.contentsArr.length;i++){var _36=this.contentsArr[i];var tab=this.tabArr[i];_34.push(this.makeContentsHTML(_36,tab.tabLabel));}_34.push("</div>");return _34.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setAction=function(){try{var _38=this.getTabHostAndContainer();var _39=this;for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;if(this.contentsArr[i].alwaysDraw==true&&(this.contentsArr[i].frameMode=="iframe"||this.contentsArr[i].frameMode=="wframe")){var _3c=this.getChild(tab.contentsID+"_body");_3c.setSrc(this.contentsArr[i].src);}}if(this.options.tabScroll){_.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(_._G.isIE(6)){this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));}if(!this.options.useTabKeyOnly){this.event.addListener(_38.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.event.addListener(_38.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));}else{this.event.addListener(_38.tabhost,"onfocusin",function(e){_39.lastEventType=e.type;});this.event.addListener(_38.tabhost,"onkeydown",function(e){var _3f=e.charCode||e.keyCode;if(_3f===9||_3f===13){_39.lastEventType=e.type;}});this.event.addListener(_38.tabhost,"onmousedown",function(e){_39.senseReaderMode=false;});}if(this.options.useBackbridge){for(var i=0;i<this.backbridgeIdArr.length;i++){var _41=this.getElementById(this.backbridgeIdArr[i]);if(_41){var _42=function(idx){_._F.addListener(_41,"onkeydown",function(e){var _45=e.charCode||e.keyCode;if(_45===13){_39.setFocusedTab(idx);}});};_42(i);}}}this.setActiveTab(this.options.selectedIndex);this.adjustContentsHeight();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.addRoundedCornerForIE=function(){try{for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(tab.render.firstChild.nodeName.toLowerCase()=="img"){continue;}var img=document.createElement("img");img.src="uiplugin/tabControl/images/right-top.png";img.className="w2tabcontrol_righttop";img.setAttribute("alt","\uc624\ub978\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0");tab.render.insertBefore(img,tab.render.firstChild);img=document.createElement("img");img.src="uiplugin/tabControl/images/left-top.png";img.className="w2tabcontrol_lefttop";img.setAttribute("alt","\uc67c\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0");tab.render.insertBefore(img,tab.render.firstChild);img=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getTabHostAndContainer=function(){try{var _49=document.getElementById(this.id+"_tabhost");var _4a=document.getElementById(this.id+"_container");return {"container":_4a,"tabhost":_49};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.adjustContentsHeight=function(){try{var _4b=this.getTabHostAndContainer();var _4c=_4b.container;var _4d=_4b.tabhost;var _4e=_._G.getStyleProperty(this.render,"height");if(_4e==null||_4e==""||_4e=="auto"||_4e=="0px"){return;}if((_4e+"").charAt(((_4e+"").length)-1)=="%"){return;}var _4f=(parseInt(_4e,10)||0)-(parseInt(_._G.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt(_._G.getStyleProperty(this.render,"padding-bottom"),10)||0);var _50=(parseInt(_._G.getStyleProperty(_4d,"height"),10)||0)+(parseInt(_._G.getStyleProperty(_4d,"border-top-width"),10)||0)+(parseInt(_._G.getStyleProperty(_4d,"border-bottom-width"),10)||0)+(parseInt(_._G.getStyleProperty(_4d,"margin-top"),10)||0)+(parseInt(_._G.getStyleProperty(_4d,"margin-bottom"),10)||0);_4c.style.height=(_4f-_50)+"px";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setClosable=function(idx,_52){try{idx=parseInt(idx,10);_52=_52||false;if(idx<0||idx>=this.tabArr.length){return false;}this.tabArr[idx].closable=_52;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setActiveTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}if(this.tabArr[idx].disabled||this.tabArr[idx].hidden){return false;}for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);if(i!=idx){this.removeClass(tab.render,tab.activeTabClass);if(tab.selectedClass){this.removeClass(tab.render,tab.selectedClass);}if(tab.defaultClass){this.addClass(tab.render,tab.defaultClass);}tab.contentsRender.style.display="none";tab.contentsRender.style.visibility="hidden";tab.contentsRender.setAttribute("aria-hidden","true");this.addClass(tab.contentsRender," ");if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=tab.defaultImage||img.style[_._v.camelize("background-image")];}}if(this.options.useTabKeyOnly==false){var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(i!=idx){(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","-1"):elm.setAttribute("tabIndex","-1");}else{(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","0"):elm.setAttribute("tabIndex","0");}}else{}}var tab=this.tabArr[idx];var _58=this.contentsArr[idx];this.addClass(tab.render,tab.activeTabClass);if(tab.defaultClass){this.removeClass(tab.render,tab.defaultClass);}if(tab.selectedClass){this.addClass(tab.render,tab.selectedClass);}if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=tab.selectedImage||img.style[_._v.camelize("background-image")];}_58.render.style.display="block";_58.render.style.visibility="visible";_58.render.setAttribute("aria-hidden","false");this.addClass(_58.render," ");var _59=this.getChild(tab.contentsID+"_body");if(_58.alwaysDraw==false){if(!_59.render){if(this.options.useTabKeyOnly){var _5a=document.getElementById(this.bridgeIdArr[idx]);_58.render.innerHTML=_5a.outerHTML+_59.toHTML();}else{_58.render.innerHTML=_59.toHTML();}_59.activate();if(_58.frameMode=="wframe"){_59.setSrc(_58.src);}}}if(_58.frameMode=="iframe"&&"src" in _58&&_58.src!=""){var _5b=_59.render.getAttribute("src");if(_5b=="about:blank"||_._l.isSSLBlankPage(_5b)){_59.setSrc(_58.src);}}var _5c=this.selectedIndex;this.selectedIndex=idx;this.focusedIndex=idx;if(_5c!=idx){_._F.fireEvent(this,"onchange",tab.tabID,idx,tab.userTabID);}if(this.options.useTabKeyOnly){var _5a=document.getElementById(this.bridgeIdArr[idx]);if(_5a&&this.activeFirstTime){_5a.focus();}}if(this.activeFirstTime!=true){this.activeFirstTime=true;}if(this.options.tabScroll){if(this.visibleTabIndex>this.selectedIndex){this.scrollTab(this.selectedIndex);}else{var _5d=this.getVisibleTab();if(!_5d[this.selectedIndex]){this.scrollTab(this.selectedIndex,"right");}}}return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.scrollTab=function(idx,_5f){try{if(!this.options.tabScroll||idx>=this.tabArr.length||idx<0){return;}_5f=(typeof _5f=="undefined")?"left":_5f;idx=parseInt(idx,10);if(_5f=="right"){var _60=document.getElementById(this.id+"_mask");var _61=_._v.getSize(_60,"innerWidth");var _62=_._v.getSize(this.tabArr[idx].render,"outerMarginWidth");do{var _63=idx-1;if(_63<0){break;}_62+=_._v.getSize(this.tabArr[_63].render,"outerMarginWidth");if(_62>_61){break;}}while(idx-->0);}var _64=document.getElementById(this.id+"_scroll");var _65=0;for(var i=0;i<idx;i++){_65-=_._v.getSize(this.tabArr[i].render,"outerMarginWidth");}_._v.setStyle(_64,"left",_65+"px");this.visibleTabIndex=idx;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getVisibleTab=function(){try{var _67={};if(this.options.tabScroll){var _68=document.getElementById(this.id+"_mask");var _69=_._v.getSize(_68,"innerWidth");var _6a=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_6a+=_._v.getSize(this.tabArr[i].render,"outerMarginWidth");if(_6a<=_69){_67[i]=true;}}}return _67;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setFocusedTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}var tab=this.tabArr[idx];if(tab.disabled){return false;}tab.render=document.getElementById(tab.tabID);var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.handleTabClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);var elm;var _72;var _73="none";while(it.next()){var _74=it.getElement();if(this.__hasClass(_74,"w2tabcontrol_tab_close")||this.__hasClass(_74,"w2tabcontrol_tab_close2")){_73="ontabclose";elm=_74.parentNode.parentNode.getElementsByTagName("a").length>0?_74.parentNode.parentNode.getElementsByTagName("a")[0]:_74.parentNode.parentNode.getElementsByTagName("div")[0];_72=elm.getAttribute("aria-controls");break;}else{if(it.match("w2tabcontrol_li")){_73="ontabclick";elm=_74.getElementsByTagName("a").length>0?_74.getElementsByTagName("a")[0]:_74.getElementsByTagName("div")[0];_72=elm.getAttribute("aria-controls");break;}else{if(it.match("btn_scrollLeft")){this.scrollTab(this.visibleTabIndex-1);break;}else{if(it.match("btn_scrollRight")){var _75=document.getElementById(this.id+"_mask");var _76=_._v.getSize(_75,"outerMarginWidth");var _77=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_77+=_._v.getSize(this.tabArr[i].render,"outerMarginWidth");}if(_77>_76){this.scrollTab(this.visibleTabIndex+1);break;}}else{if(it.match("btn_submenu")){this.toggle();break;}}}}}}it=null;if(_73=="none"){return;}var _79=this.senseReaderMode&&this.lastEventType==="focusin";if(!_79){_._F.stopEvent(e);}var idx=-1,tab;for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];if(tab.contentsID==_72){idx=i;break;}}if(_73=="ontabclick"){if((idx>=0&&this.selectedIndex!=idx)||(this.options.useTabKeyOnly==true&&idx>=0)){this.setSelectedTabIndex(idx);}_._F.fireEvent(this,_73,tab.tabID,idx);}else{this.deleteTab(idx);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.handleMouseoverEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);var img;while(it.next()){if(it.match("w2tabcontrol_li")){var elm=it.getElement();for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render!=elm){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[_._v.camelize("background-image")];}}else{if(this.tabArr[i].disabled){continue;}this.addClass(elm,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.addClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}if(this.tabArr[i].closable){this.tabArr[i].closeBtn.style.display="block";}if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=this.tabArr[i].hoverImage||this.tabArr[i].selectedImage||img.style[_._v.camelize("background-image")];}}}return;}else{if(it.match("btn_scrollLeft")){this.addClass(it.getElement(),"btn_scrollLeft_over");}else{if(it.match("btn_scrollRight")){this.addClass(it.getElement(),"btn_scrollRight_over");}else{if(it.match("btn_submenu")){this.addClass(it.getElement(),"btn_submenu_over");}}}}}for(var i=0;i<this.tabArr.length;i++){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[_._v.camelize("background-image")];}}it=null;_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabcontrol_li")){var _82=it.getElement();var _83=-1;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render===_82){_83=i;break;}}if(this.tabArr[_83]==undefined){break;}this.removeClass(this.tabArr[_83].render,this.options.overTabClass);if(this.tabArr[_83].hoverClass){this.removeClass(this.tabArr[_83].render,this.tabArr[_83].hoverClass);}this.tabArr[_83].closeBtn.style.display="none";if(this.tabArr[_83].tabType=="image"){var img=this.tabArr[_83].render.getElementsByTagName("div")[0];img.style[_._v.camelize("background-image")]=(this.selectedIndex==_83?this.tabArr[_83].selectedImage:this.tabArr[_83].defaultImage)||img.style[_._v.camelize("background-image")];}break;}else{if(it.match("btn_scrollLeft")){this.removeClass(it.getElement(),"btn_scrollLeft_over");break;}else{if(it.match("btn_scrollRight")){this.removeClass(it.getElement(),"btn_scrollRight_over");break;}else{if(it.match("btn_submenu")){this.removeClass(it.getElement(),"btn_submenu_over");break;}}}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.handleResizeEvent=function(e){try{if(this.options.tabScroll){var _87=document.getElementById(this.id+"_control");var _88=document.getElementById(this.id+"_mask");var _89=document.getElementById(this.id+"_btn_scrollLeft");var _8a=document.getElementById(this.id+"_btn_scrollRight");var _8b=document.getElementById(this.id+"_btn_submenu");var _8c=_._v.getSize(_87,"innerWidth")-_._v.getSize(_89,"outerMarginWidth")-_._v.getSize(_8a,"outerMarginWidth")-_._v.getSize(_8b,"outerMarginWidth");var _8d=parseInt(_._v.getStyleProperty(_88,"padding-left"))+parseInt(_._v.getStyleProperty(_88,"margin-left"))+parseInt(_._v.getStyleProperty(_88,"padding-right"))+parseInt(_._v.getStyleProperty(_88,"margin-right"));_._v.setStyle(_88,"width",(_8c-_8d)+"px");}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.handleKeyEvent=function(e){try{var _8f=(e.charCode)?e.charCode:e.keyCode;var _90=this.getTabHostAndContainer();var it=this.event.getTargetIterator(e,this.render);var elm;if(!(_8f==13||_8f==37||_8f==38||_8f==39||_8f==40||_8f==46)){return;}if(_8f==46&&e.altKey){this.deleteTab(this.getSelectedTabIndex());return;}while(it.next()){elm=it.getElement();if(elm==_90.container){if((_8f==37||_8f==38)&&e.ctrlKey){var tab=this.tabArr[this.selectedIndex];elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(elm.nodeType==1){elm.focus();_._F.stopEvent(e);return;}}return;}}switch(_8f){case 13:this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);return;case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;default:break;}it=null;_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getWindow=function(idx){try{var _95;var _96=(typeof idx!="undefined")?idx:this.selectedIndex;if(_96<0){return _95;}for(var i=0;i<this.contentsArr.length;i++){var _98=this.getChild(this.contentsArr[i].contentsID+"_body");if(i==_96){if(_98.getPluginName()=="iframe"){_95=_98.getWindow();}else{_95=window;}break;}}return _95;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setContentsHeight=function(_99){try{var _9a=this.getTabHostAndContainer();var _9b=_9a.container;var _9c=_9a.tabhost;_99=parseInt(_99,10);_9b.style.height=(_99)+"px";var _9d=(parseInt(_._G.getStyleProperty(_9c,"height"),10)||0)+(parseInt(_._G.getStyleProperty(_9c,"border-top-width"),10)||0)+(parseInt(_._G.getStyleProperty(_9c,"border-bottom-width"),10)||0)+(parseInt(_._G.getStyleProperty(_9c,"margin-top"),10)||0)+(parseInt(_._G.getStyleProperty(_9c,"margin-bottom"),10)||0);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getSelectedTabID=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getSelectedTabIndex=function(){try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getTabIndex=function(id){var _9f=null;try{for(var i=0;i<this.tabArr.length;i++){if(id==this.tabArr[i].userTabID){_9f=i;break;}}return _9f;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setSelectedTabIndex=function(idx){try{var ret=_._F.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),idx);if(ret==false){return;}this.setActiveTab(idx);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getTabCount=function(){try{return this.tabArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.deleteTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _a5=tab.tabID;if(_._F.fireEvent(this,"onbeforetabclose",_a5,idx)===false){return;}if(this.selectedIndex==idx){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(this.selectedIndex>idx){this.selectedIndex--;}}var _a7=this.contentsArr[idx];var _a8=this.getChild(this.tabArr[idx].contentsID+"_body");if(_a8){_a8.remove();}_a8=null;var _a9=tab.render.parentNode;var _aa=_a7.render.parentNode;_a9.removeChild(tab.render);_aa.removeChild(_a7.render);for(var j in this.tabArr[idx]){this.tabArr[idx][j]=null;}for(var j in this.contentsArr[idx]){this.contentsArr[idx][j]=null;}tab=null;_a7=null;this.tabArr.splice(idx,1);this.contentsArr.splice(idx,1);this.bridgeIdArr.splice(idx,1);this.backbridgeIdArr.splice(idx,1);var n,n2;for(var i=idx;i<this.tabArr.length;i++){var tab=this.tabArr[i];n=i+2;n2=i+1;this.__removeClass(tab.render,"w2tabcontrol_li_"+n);this.__addClass(tab.render,"w2tabcontrol_li_"+n2);}if(idx<this.selectedIndex){this.setActiveTab(this.selectedIndex-1);}else{if(idx==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setActiveTab(this.selectedIndex);}else{this.setActiveTab(this.selectedIndex-1);}}else{if(idx>this.selectedIndex){this.setActiveTab(this.selectedIndex);}}}_._F.fireEvent(this,"ontabclose",_a5,idx);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.addTab=function(id,_ae,_af){try{var _b0=id||"";if(typeof _ae=="undefined"){return;}var _b1=false;for(var i=0;i<this.tabArr.length;i++){if(_b0==""||this.tabArr[i].userTabID==_b0){_b1=true;break;}}var _b3=_ae.openAction;if(_b1){if(!_b3){if(this.options.useConfirmMessage){var _b4=this.options.confirmMessage;if(_b4.indexOf("#title")>-1){_b4=_b4.replace("#title",_ae.label);}var _b5=true;_b5=confirm(_b4);if(_b5){_b3=this.options.confirmTrueAction;}else{_b3=this.options.confirmFalseAction;}}}if(_b3==="exist"){var idx=this.getTabIndex(_b0);var _b7=this.contentsArr[idx];var _b8=this.getChild(this.tabArr[idx].contentsID+"_body");if(_b8.activeStatus!="active"){_b7.src=_af.src||"about:blank";}else{_b8.setSrc(_af.src||"about:blank");}this.setSelectedTabIndex(idx);return _b0;}else{if(_b3==="new"){_b0=_b0+"_"+this.increaseKey++;}else{if(_b3==="select"){this.setSelectedTabIndex(this.getTabIndex(_b0));return _b0;}else{return _b0;}}}}var _b9=this.id+"_tab_"+_b0;var tab={tabID:_b9,userTabID:_b0,contentsID:"",tabLabel:_ae.label||"",disabled:_ae.disabled||false,render:null,tabWidth:parseInt(_ae.tabWidth,10)>0?parseInt(_ae.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(_ae.tabHeight,10)>0?parseInt(_ae.tabHeight,10):this.options.tabHeight,tabClass:_ae["class"]||this.options.tabClass,tabStyle:_ae.style||this.options.tabStyle,activeTabClass:_ae.activeTabClass||this.options.activeTabClass,disabledTabClass:_ae.disabledTabClass||this.options.disabledTabClass,selectedImage:_ae.selectedImage?"url("+_ae.selectedImage+")":"",defaultImage:_ae.defaultImage?"url("+_ae.defaultImage+")":"",hoverImage:_ae.hoverImage?"url("+_ae.hoverImage+")":"",tabType:_ae.tabType=="image"?"image":"text",selectedClass:_ae.selectedClass||"",defaultClass:_ae.defaultClass||"",hoverClass:_ae.hoverClass||"",closable:_._G.getBoolean(_ae.closable),closeBtn:null,label:_ae.label||"",value:_b9,title:_ae.title||""};var _bb=_.extendKeepingType({},this.defaultTabContentOptions);var _bc=_.extendKeepingType(_bb,_af);var _bd=this.id+"_contents_"+_b0;tab.contentsID=_bd;_bc.frameMode="iframe";var _b7=_.extend({contentsID:_bd,contentsClass:_af.contentsClass||this.options.contentsClass,frameMode:_bc.frameMode,render:null,xml:null,name:_bc.name||""},_bc||{});this.tabArr.push(tab);this.contentsArr.push(_b7);var _be=this.getTabHostAndContainer();var _bf=_be.container;var _c0=_be.tabhost;var _b8=this.initContents(_b7);this.addControl(_b8);var _c1="make"+tab.tabType.capitalize()+"TabHTML";_c0.innerHTML+=this[_c1](tab,this.tabArr.length);var div=document.createElement("div");div.innerHTML=this.makeContentsHTML(_b7,tab.tabLabel);var _c3=div.removeChild(div.firstChild);_bf.appendChild(_c3);div=null;if(_b7.alwaysDraw){_b8.activate();_b8.setSrc(_b7.src);}for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;}tab=this.tabArr[i-1];tab.contentsRender.style.display="none";if(this.tabArr.length==1){this.setActiveTab(0);}return _b0;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.disableTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _c6=this.contentsArr[idx];this.removeClass(tab.render,tab.activeTabClass);this.addClass(tab.render,tab.disabledTabClass);if(_._G.isIE(8)){tab.render.style.zIndex=0;}tab.disabled=true;var _c7=this.getChild(_c6.contentsID+"_body");if(_c7.activeStatus!="stop"){_c7.setDisabled(true);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.enableTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _ca=this.contentsArr[idx];this.removeClass(tab.render,tab.disabledTabClass);tab.disabled=false;if(_._G.isIE(8)){tab.render.style.zIndex="";}var _cb=this.getChild(_ca.contentsID+"_body");if(_cb.activeStatus!="stop"){_cb.setDisabled(false);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.hideTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=_._F.fireEvent(this,"onbeforehide",this.getSelectedTabIndex(),idx);if(ret==false){return;}if(idx==this.selectedIndex){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(idx==this.selectedIndex){this.selectedIndex=-1;}}var tab=this.tabArr[idx];var _d0=this.contentsArr[idx];if(_._G.isIE(8)){tab.render.style.zIndex=0;}tab.render.style.visibility="hidden";tab.render.style.display="none";tab.hidden=true;_d0.render.style.display="none";_d0.render.style.visibility="hidden";_d0.render.setAttribute("aria-hidden","true");var _d1=this.getChild(_d0.contentsID+"_body");if(_d1.activeStatus!="stop"){_d1.setDisabled(true);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.showTab=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var ret=_._F.fireEvent(this,"onbeforeshow",this.getSelectedTabIndex(),idx);if(ret==false){return;}var tab=this.tabArr[idx];var _d5=this.contentsArr[idx];tab.render.style.visibility="visible";tab.render.style.display="";tab.hidden=false;if(this.selectedIndex==-1){this.setActiveTab(idx);}if(_._G.isIE(8)){tab.render.style.zIndex="";}var _d6=this.getChild(_d5.contentsID+"_body");if(_d6.activeStatus!="stop"){_d6.setDisabled(false);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.getLabelText=function(idx){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return null;}var tab=this.tabArr[idx];return tab.tabLabel;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setLabelText=function(idx,_da){try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}if(this.options.tabScroll==true){this.tabArr[idx].label=_da;}var tab=this.tabArr[idx];var elm;for(var i=0;i<tab.render.childNodes.length;i++){elm=tab.render.childNodes[i];if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="div"){for(var j=0;j<elm.childNodes.length;j++){var _df=elm.childNodes[j];if(_df.nodeType==1&&_df.nodeName.toLowerCase()=="a"){tab.tabLabel=_da;_df.innerHTML=_da;return;}else{if(_df.nodeType==1&&_df.nodeName.toLowerCase()=="div"){tab.tabLabel=_da;_df.setAttribute("title",_da);return;}}}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.onPropertyChange=function(_e0,_e1){try{switch(_e0){case "disabled":for(var i=0;i<this.tabArr.length;i++){_e1?this.disableTab(i):this.enableTab(i);}break;case "readOnly":break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setSize=function(_e3,_e4){try{_._r.prototype.setSize.call(this,_e3,_e4);}catch(e){_.exception.printStackTrace(e);}};_._a.aZ.prototype.setSubLayer=function(){try{if(this.itemTable==null){requires("uiplugin/table/itemTable.js");this.itemTable=new _._a._a(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:true});this.itemTable.writeTo(_.getBody());this.itemTable.activate();var _e5=this;this.itemTable.addClickEventListener(function(_e6){_e5.setSelectedTabIndex(_e6);_e5.closeSubLayer();});this.itemTable.addKeyDownEventListener(function(e){var _e8=(e.charCode)?e.charCode:e.keyCode;if(_e8==13||_e8==32){_e5.setSelectedTabIndex(this.getSelectedIndex());_e5.focus();_e5.closeSubLayer();}else{if(_e8==27){_e5.focus();_e5.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setSelectOptions=function(){try{if(this.itemTable!=null){this.itemTable.setItemArr(this.tabArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.setItemTable=function(){try{var _e9=document.getElementById(this.id+"_btn_submenu");var _ea=_e9.offsetWidth;var _eb=_e9.offsetHeight;var _ec=_._v.getAbsoluteLeft(this.render)+this.render.offsetWidth;var top=_._v.getAbsoluteTop(_e9)+_._v.getSize(_e9,"outerMarginHeight");var _ee=0;for(var i=0;i<this.tabArr.length;i++){var _f0=_._v.getSize(this.tabArr[i].render,"outerMarginWidth");if(_f0>_ee){_ee=_f0;}}if(this.itemTableTdMargin===null){var _f1=document.getElementById(this.id+"_itemTable_0");if(_f1){this.itemTableTdMargin=parseInt(_._v.getStyleProperty(_f1,"margin-left"),10)||0+parseInt(_._v.getStyleProperty(_f1,"padding-left"),10)||0+parseInt(_._v.getStyleProperty(_f1,"padding-right"),10)||0+parseInt(_._v.getStyleProperty(_f1,"margin-right"),10)||0;}else{this.itemTableTdMargin=0;}}_ee+=this.itemTableTdMargin;var _f2=document.getElementById(this.itemTable.id+"_main");_._v.setStyle(_f2,"width",_ee+"px");_._v.setStyle(this.itemTable.render,"width",_ee+"px");_ec=_ec-_ee;this.itemTable.setPosition(_ec,top);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.toggle=function(){try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.openSubLayer=function(){try{_.getBody().getLayerListener().show(this.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype._openSubLayer=function(){try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setSelectOptions();this.setItemTable();this.itemTable.focus();this.isOpen=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype.closeSubLayer=function(_f3){try{var _f4={"documentClick":_f3};_.getBody().getLayerListener().hide(this.id,_f4);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.aZ.prototype._closeSubLayer=function(_f5){try{var _f5=_f5||{};var _f6=_f5.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");this.isOpen=false;}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.tabControl=_._a.aZ;requires("uiplugin.input");_._a._Q=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._Q.prototype,_._q.prototype);_._a._Q.prototype.defaultOptions={pluginType:"uiplugin.searchbox",pluginName:"searchbox",paddingRight:20};_._a._Q.prototype.initialize=function(_4){var _5=this.options.style;this.options.style="position:relative;width:100%;height:100%;";this.options.parentEvent=this;this.input=new _._a.ap(this.id+"___input",this.options,_4);this.options.parentEvent="";this.input.options.userEvents=this.input.defaultOptions.userEvents;var _6=-1;if(this.options.xmlEvents){for(var i=0;i<this.options.xmlEvents.length;i++){if(this.options.xmlEvents[i].name=="onclick"){_6=i;}}}if(_6!=-1){this.options.xmlEvents=this.options.xmlEvents.splice(_6,1);}else{this.options.xmlEvents=null;}this.options.style=_5;this.addControl(this.input);var _8=this;var _9={name:"onkeyup",action:"script",param:{handler:function(e){_8.setLayout();}}};if(this.input.options.xmlEvents){if(_6!=-1){this.input.options.xmlEvents.splice(_6,1);}this.input.options.xmlEvents.push(_9);}else{this.input.options.xmlEvents=[_9];}this.modelControl.ref="";this.input.modelControl.id=this.id;};_._a._Q.prototype.toHTML=function(){var _b=[];var _c=(!this.options.style)?"":"style='"+this.options.style+"'";_b.push("<div id='"+this.id+"' "+_c+" class='w2searchbox "+this.options.className+"'>");_b.push(this.getChild(this.id+"___input").toHTML());_b.push("<div id='"+this.id+"___reset' class='w2searchbox_reset'></div>");_b.push("</div>");return _b.join("");};_._a._Q.prototype.setAction=function(){try{this.event.addUserEvents(this,this.input.userEventList);this.dom.reset=this.getElementById(this.id+"___reset");this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseover));var _d=parseInt(this.options.paddingRight,10);var _e=parseInt(this.getStyle("width"),10)-_d+parseInt(this.input.getStyle("padding-right"),10);var _f=this.getStyle("height");this.input.setSize(_e,_f);this.input.setStyle("padding-right",_d+"px");this.input.setVerticalAlign();this.setLayout();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._Q.prototype.setLayout=function(){try{if(this.input.render){if(this.input.render.value==""){this.dom.reset.style.display="none";}else{this.dom.reset.style.display="block";var _10=this.dom.reset.offsetHeight;var _11=this.getSize("height");this.dom.reset.style.top=parseInt((_11-_10)/2,10)+"px";}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._Q.prototype.focus=function(){try{if(this.input.render){this.input.render.focus();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._Q.prototype.refresh=function(){this.input.refresh();this.setLayout();};_._a._Q.prototype.handleMousedown=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){_._F.stopEvent(e);this.dom.reset.style.display="none";this.setValue("");this.focus();}}it=null;};_._a._Q.prototype.handleMouseover=function(e){var _15=_._F.getRelatedTarget(e);if(this.hasClass(_15,"w2searchbox_reset")){this.removeClass(this.dom.reset,"w2searchbox_reset_on");return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){this.addClass(this.dom.reset,"w2searchbox_reset_on");}}it=null;};_._a._Q.apiExtend=function(){var _17=_._a.ap.prototype;var _18=_._a._Q.prototype;for(prop in _17){if(!_18[prop]){_18[prop]=(function(_19){return function(){return this.input[_19].apply(this.input,arguments);};})(prop);}}};_._a._Q.apiExtend();;WebSquare.uiplugin.searchbox=_._a._Q;_._a._e=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._e.prototype,_._q.prototype);_._a._e.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",escape:false};_._a._e.prototype.initialize=function(_4){try{this.selectedIndex=0;this.onLabel="On";this.onValue="on";this.offLabel="Off";this.offValue="off";var _5="w2";var _6=_._t.findNodes(_4,_5+":on");var _7=_._t.findNodes(_4,_5+":off");if(_6[0]){this.onLabel=_._t.getAttribute(_6[0],"label");this.onValue=_._t.getAttribute(_6[0],"value");this.onLocaleRef=_._t.getAttribute(_6[0],"localeRef");}if(_7[0]){this.offLabel=_._t.getAttribute(_7[0],"label");this.offValue=_._t.getAttribute(_7[0],"value");this.offLocaleRef=_._t.getAttribute(_7[0],"localeRef");}if(this.offLocaleRef&&this.onLocaleRef){this.offLabel=this.getLocaleValue(this.offLocaleRef);this.onLabel=this.getLocaleValue(this.onLocaleRef);}this.leftPosition;this.startEventLayer={};this.lastEventLayer={};}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.toHTML=function(){var _8=[];var _9=(!this.options.style)?"":"style='"+this.options.style+"'";_8.push("<div id='"+this.id+"' "+_9+" class='w2fliptoggle "+this.options.className+"'>");_8.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>");_8.push(this.options.label);_8.push("</label>");_8.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' tabindex='0'>");_8.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>");_8.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>");_8.push("</select>");_8.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask'>");_8.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>");_8.push("</span>");_8.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;'>");_8.push(this.onLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>");_8.push("</span>");_8.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label'>");_8.push(this.offLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>");_8.push("</span>");_8.push("</div>");_8.push("</div>");return _8.join("");};_._a._e.prototype.setAction=function(){try{this.isMobile=_._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.mask=document.getElementById(this.id+"_mask");this.dom.left=document.getElementById(this.id+"_left");this.dom.button=document.getElementById(this.id+"_button");this.dom.right=document.getElementById(this.id+"_right");this.dom.left_label=document.getElementById(this.id+"_left_label");this.dom.right_label=document.getElementById(this.id+"_right_label");this.dom.select=document.getElementById(this.id+"_select");this.setVerticalAlign(this.dom.left_label);this.setVerticalAlign(this.dom.right_label);this.leftPosition=_._v.getAbsoluteLeft(this.render);if(_._G.isIE(6)){this.__addClass(this.dom.button," ");}if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){_._F.preventDefault(e);}));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var _b=this.getLocaleValue(this.offLocaleRef);var _c=this.getLocaleValue(this.onLocaleRef);this.setLabel(_c,_b);}};_._a._e.prototype.setLabel=function(_d,_e){try{var _f=document.getElementById(this.id+"_left_label");var _10=document.getElementById(this.id+"_right_label");var _11=document.getElementById(this.id+"_select");var _12=this.options.escape?_._t._encode(_d+""):_d;var _13=this.options.escape?_._t._encode(_e+""):_e;_f.innerHTML=_12;_10.innerHTML=_13;_11.options[0].innerHTML=_13;_11.options[1].innerHTML=_12;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.refreshItemset=function(){};_._a._e.prototype.refresh=function(){};_._a._e.prototype.getElementWidth=function(_14){var _15;if(_14){_15=_14.offsetWidth;var _16=parseInt(_._G.getStyleProperty(_14,"border-left-width"),10)||0;var _17=parseInt(_._G.getStyleProperty(_14,"border-right-width"),10)||0;var _18=parseInt(_._G.getStyleProperty(_14,"padding-left"),10)||0;var _19=parseInt(_._G.getStyleProperty(_14,"padding-right"),10)||0;_15=_15-_16-_17-_18-_19;}return _15;};_._a._e.prototype.setElementWidth=function(_1a,_1b){var _1b;if(_1a){var _1c=parseInt(_._G.getStyleProperty(_1a,"border-left-width"),10)||0;var _1d=parseInt(_._G.getStyleProperty(_1a,"border-right-width"),10)||0;_1a.style.width=(_1b-_1c-_1d)+"px";}};_._a._e.prototype.setButtonPosition=function(_1e){try{if(typeof _1e!="number"){return;}var _1f=this.getElementWidth(this.dom.left);var _20=this.getElementWidth(this.dom.right);var _21=this.dom.right.offsetLeft;var _22=this.getElementWidth(this.dom.button);var _23=this.getElementWidth(this.dom.mask);var _24=this.dom.mask.offsetLeft;if(_1e<0){_1e=0;}if(_1e>_24+_23-_22){_1e=_24+_23-_22;}var gap=_1e-this.dom.button.offsetLeft;if(_1e==0){this.dom.left_label.style.visibility="hidden";this.dom.right_label.style.visibility="visible";this.selectedIndex=0;this.dom.select.selectedIndex=0;}else{if(_1e==_24+_23-_22){this.dom.left_label.style.visibility="visible";this.dom.right_label.style.visibility="hidden";this.selectedIndex=1;this.dom.select.selectedIndex=1;}}this.dom.right.style.width=parseInt(_20-gap,10)+"px";this.dom.left.style.width=parseInt(_1f+gap,10)+"px";this.dom.button.style.left=parseInt(_1e,10)+"px";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.setVerticalAlign=function(_26){try{var _27=_._G.getStyleProperty(_26,"vertical-align")||"middle";if(_27=="top"){}else{var _28=_26.offsetHeight||parseInt(this.getStyle("height"),10);if(_28>0){var _29=parseInt(_._G.getStyleProperty(_26,"padding-top"),10)||0;var _2a=parseInt(_._G.getStyleProperty(_26,"font-size"),10)||0;var _2b=0;if(_27=="middle"){_2b=Math.floor((_28-_2a)/2);}else{if(_27=="bottom"){_2b=Math.floor(_28-_2a);}}if((_2b+_29)>0&&(_28-_2b)>0){_26.style["paddingTop"]=_2b+_29+"px";_26.style["height"]=(_28-_2b)+"px";}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.getValue=function(){try{if(this.dom.select[this.selectedIndex]){return this.dom.select[this.selectedIndex].value;}else{return null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.toggle=function(_2c){try{var _2d=this.selectedIndex;if(typeof _2c=="undefined"){_2c=this.selectedIndex==0?1:0;}if(_2c==0){this.setButtonPosition(0);}else{this.setButtonPosition(this.getElementWidth(this.dom.mask));}if(_2d!=this.selectedIndex){_._F.fireEvent(this,"ontogglechange");}return this.getValue();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.setValue=function(_2e){try{if(_._G.isNull(_2e)){return;}for(var i=0;i<this.dom.select.length;i++){if(_2e==this.dom.select[i].value){return this.toggle(i);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.handleClickEvent=function(e){try{if(!this.isSliding){this.toggle();}_._F.stopPropagation(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.handleChangeEvent=function(e){try{}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.handleTouchStart=function(e){_._F.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);this.startEventLayer.x=_._F.getMouseX(e);this.startEventLayer.y=_._F.getMouseY(e);this.lastEventLayer.x=_._F.getMouseX(e);this.lastEventLayer.y=_._F.getMouseY(e);while(it.next()){if(it.match("w2fliptoggle_button")){this.isSliding=true;}}};_._a._e.prototype.handleTouchEnd=function(e,_35){try{this.isSliding=false;var _36=this.getElementWidth(this.dom.mask);var _37=this.getElementWidth(this.dom.left);var _38=this.getElementWidth(this.dom.button);if(this.startEventLayer.x-this.lastEventLayer.x===0&&this.startEventLayer.y-this.lastEventLayer.y===0){if(_._G.getBoolean(this.options.useClickToggle)){this.toggle();}}else{if(_37<_36*0.7){this.toggle(0);}else{var _39=this.dom.mask.offsetLeft;this.toggle(1);}}_._F.stopPropagation(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._e.prototype.handleTouchMove=function(e){this.lastEventLayer.x=_._F.getMouseX(e);this.lastEventLayer.y=_._F.getMouseY(e);if(!this.isSliding){return;}eventLayerX=this.lastEventLayer.x-(this.leftPosition||0);var _3b=0;var _3c=this.dom.button.offsetLeft;var _3d=this.getElementWidth(this.dom.button);var _3e=this.dom.button.offsetLeft;var _3f=this.getElementWidth(this.dom.mask);var _40=this.dom.mask.offsetLeft;var _41=this.getElementWidth(this.dom.left);var _42=this.getElementWidth(this.dom.right);var _43=_3d/2;_3b=eventLayerX-_43;_41=_3b+_43;if(_41>_3f-_43){_41=_3f-_43;}else{if(_41<_43){_41=_43-1;}}this.setElementWidth(this.dom.left,_41);_42=_3f-_41-1;this.setElementWidth(this.dom.right,_42);if(_3b<0){_3b=0;}else{if(_3b>_3f-_3d){_3b=_3f-_3d;}}this.dom.button.style.left=_3b+"px";if(_._G.isIE(6)){this.dom.left.style.height=this.render.offsetHeight+"px";this.dom.right.style.height=this.render.offsetHeight+"px";this.dom.button.style.height=this.render.offsetHeight+"px";}if(this.isMobile){_._F.preventDefault(e);}};_._a._e.prototype.handleMouseOut=function(e){if(this.isSliding){if(!_._F.getRelatedTarget(e)){return;}if(_._F.getRelatedTarget(e).getAttribute("id")){if(_._F.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!_._F.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}};;WebSquare.uiplugin.fliptoggle=_._a._e;_._a.ac=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a.ac.prototype,_._q.prototype);_._a.ac.prototype.defaultOptions={pluginType:"uiplugin.pageControl",pluginName:"pageControl",userEvents:["onchange"],pagingType:"1",rotation:"false",detectionRange:10,pageCount:10};_._a.ac.prototype.initialize=function(_4){try{this.pageCount=this.options.pageCount;this.displayIndex=1;this.selectedIndex=1;this.moveEventLayerX=null;this.startEventLayerX=null;this.isSliding=false;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2pageControl "+this.options.className+"'>");_5.push("<span id='"+this.id+"_left' class='w2pageControl_left'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_left_button' class='w2pageControl_left_button w2pageControl_button_background' tabindex='0' title='\uc774\uc804 \ud398\uc774\uc9c0'>");_5.push("<span id='"+this.id+"_left_icon' class='w2pageControl_left_icon'>");_5.push("\uc774\uc804");_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("<span id='"+this.id+"_center' class='w2pageControl_center'>");_5.push("<table id='"+this.id+"_center_table' class='w2pageControl_center_table'>");_5.push("<tr style='height:100%;'>");_5.push("<td id='"+this.id+"_center_td' class='w2pageControl_center_td");if(this.options.pagingType!="1"){_5.push(" w2pageControl_center_image'>");}else{_5.push("'>");_5.push(this.displayIndex+"/"+this.pageCount);}_5.push("</td>");_5.push("</tr>");_5.push("</table>");_5.push("</span>");_5.push("<span id='"+this.id+"_right' class='w2pageControl_right'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_right_button' class='w2pageControl_right_button w2pageControl_button_background' tabindex='0' title='\ub2e4\uc74c \ud398\uc774\uc9c0'>");_5.push("<span id='"+this.id+"_right_icon' class='w2pageControl_right_icon'>");_5.push("\ub2e4\uc74c");_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("</div>");return _5.join("");};_._a.ac.prototype.setAction=function(){this.isMobile=_._G.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.pagingType!="1"){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}}else{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){_._F.preventDefault(e);}));};_._a.ac.prototype.refreshItemset=function(){};_._a.ac.prototype.refresh=function(){};_._a.ac.prototype.setCount=function(_8){try{this.pageCount=_8;this.redraw();this.setSelectedIndex(1);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.setSelectedIndex=function(_9,_a){try{if(this.pageCount==0){return;}if(_._G.isNull(_9)){return;}_9=_9.toString();if(_9<1||_9>this.pageCount){$l("range exception for "+this.id);return;}var _b=this.selectedIndex;this.setDisplayIndex(_9);this.selectedIndex=parseInt(_9);if(this.options.pagingType!="1"){var _c=document.getElementById(this.id+"_center_td");this.removeClass(_c,"w2pageControl_center_image");this.removeClass(_c,"w2pageControl_center_image_prev");this.removeClass(_c,"w2pageControl_center_image_next");if(_a==="previous"){this.addClass(_c,"w2pageControl_center_image_prev");}else{if(_a==="next"){this.addClass(_c,"w2pageControl_center_image_next");}else{if(_b>this.selectedIndex){this.addClass(_c,"w2pageControl_center_image_prev");}else{this.addClass(_c,"w2pageControl_center_image_next");}}}this.pageImage=setTimeout(this.event.bindAsEventListener(this,function(){this.removeClass(_c,"w2pageControl_center_image");this.removeClass(_c,"w2pageControl_center_image_prev");this.removeClass(_c,"w2pageControl_center_image_next");this.addClass(_c,"w2pageControl_center_image");}),500);}var _d=null;if(this.selectedIndex>_b){_d="next";}else{if(this.selectedIndex<_b){_d="previous";}}if(_._G.getBoolean(this.options.rotation)){if(this.selectedIndex===1&&_b===this.pageCount){_d="next";}else{if(this.selectedIndex===this.pageCount&&_b===1){_d="previous";}}}if(_b!=-1&&_b!=this.selectedIndex){_._F.fireEvent(this,"onchange",this.selectedIndex,_b,_d);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.getSelectedIndex=function(){try{return this.selectedIndex;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.moveToLeft=function(_e){try{if(_._G.getBoolean(this.options.rotation)){if(this.selectedIndex<=1){this.setSelectedIndex(this.pageCount,_e);}else{this.setSelectedIndex(this.selectedIndex-1,_e);}}else{this.setSelectedIndex(this.selectedIndex-1,_e);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.moveToRight=function(_f){try{if(_._G.getBoolean(this.options.rotation)){if(this.selectedIndex>=this.pageCount){this.setSelectedIndex(1,_f);}else{this.setSelectedIndex(this.selectedIndex+1,_f);}}else{this.setSelectedIndex(this.selectedIndex+1,_f);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.setDisplayIndex=function(idx){try{if(this.pageCount==0){return;}idx=parseInt(idx);var _11=idx;if(_11<1){_11=1;}if(_11>this.pageCount){_11=this.pageCount;}if(this.displayIndex==_11){return;}else{this.displayIndex=_11;if(this.options.pagingType=="1"){var _12=document.getElementById(this.id+"_center_td");if(_12){_12.innerHTML=this.displayIndex+"/"+this.pageCount;}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.handleClickEvent=function(e){try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageControl_left_button")){this.moveToLeft("previous");}else{if(it.match("w2pageControl_right_button")){this.moveToRight("next");}}}it=null;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.handleTouchStart=function(e){this.isSliding=true;this.startEventLayerX=_._F.getMouseX(e);_._F.stopEvent(e);};_._a.ac.prototype.handleTouchEnd=function(e){try{if(this.startEventLayerX==null||this.moveEventLayerX==null){return;}var _17=this.moveEventLayerX-this.startEventLayerX;if(_17<(this.options.detectionRange*-1)){this.moveToRight("next");}else{if(_17>this.options.detectionRange){this.moveToLeft("previous");}}this.isSliding=false;this.moveEventLayerX=null;this.startEventLayerX=null;_._F.stopEvent(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a.ac.prototype.handleTouchMove=function(e){if(!this.isSliding){return;}this.moveEventLayerX=_._F.getMouseX(e);if(this.isMobile){_._F.preventDefault(e);}};_._a.ac.prototype.handleMouseOut=function(e){try{if(!_._F.getRelatedTarget(e)){return;}if(this.isSliding){if(_._F.getRelatedTarget(e).getAttribute("id")){if(_._F.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!_._F.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.pageControl=_._a.ac;requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");_._a._U=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._U.prototype,_._q.prototype);_.extend(_._a._U.prototype,_.itemsetControl.prototype);_.extend(_._a._U.prototype,_.IValidate.prototype);_._a._U.prototype.defaultOptions={pluginType:"uiplugin.checkcombobox",pluginName:"checkcombobox",renderType:"component",userEvents:["onchange","onclose"],useConfig:true,separator:" ",value:"",sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",chooseOption:false,chooseOptionLabel:"",allOption:false,tooltipMode:"none",defaultStyle:"",activeStyle:"",defaultClass:"w2checkcombobox_default",activeClass:"w2checkcombobox_active",useLocale:false,submenuSize:"auto",direction:"auto",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false};_._a._U.prototype.initialize=function(_4){try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.separator=this.options.separator=this.options.separator||" ";this.selectedInfo={};this.defaultAllOptionLabel=_._z.getMessage("CheckCombobox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=_._z.getMessage("CheckCombobox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_4);this.setSelectItemArr();this.validator=new _._e.validateInvoker(this.id,this.options);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.finalize=function(){try{if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.toHTML=function(){try{var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";var _7=(!this.options.title)?"":"title='"+this.options.title+"'";var _8=(!this.options.defaultStyle)?"":"style='"+this.options.defaultStyle+"\"";var _9=(!this.options.textAlign)?"":"style= 'text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'";_5.push("<div id='"+this.id+"' role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' "+_6+" class='w2checkcombobox "+this.options.className+"' tabIndex='0' "+_7+">");_5.push("<table class='w2checkcombobox_table_main' cellpadding='0' cellspacing='0'>");_5.push("<tbody id='"+this.id+"_main_tbody'>");_5.push("<tr class='w2checkcombobox_row w2checkcombobox_row_main'>");_5.push("<td class='w2checkcombobox_col_label' "+_8+"><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2checkcombobox_label' "+_9+"></div></td>");_5.push("<td class='w2checkcombobox_col_button' id='"+this.id+"_button' aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable'></td>");_5.push("</tr></tbody>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setAction=function(){try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");_.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(_._G.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){_._F.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _c=this.modelControl.getData();this.setValueNM(_c);}if(this.options.chooseOption==true){var _d=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_d=_._t.decode(_d).replace("&nbsp;"," ");this.dom.label.innerHTML=_d;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();if(this.modelControl.isBinded()){this.refresh();}else{var _e=[];for(var i=0;i<this.itemArr.length;i++){_e.push({index:i,checked:false});}this.setSelectedInfoNM(_e);}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.refresh=function(){try{if(this.modelControl.isBinded()){var _10=this.getValue();var _11=this.modelControl.getData();if(this.setValueNM(_11)==true){if(_10!=this.getValue()){_._F.fireEvent(this,"onchange");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.componentRedraw=function(){try{this.setSelectItemArr();if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}this.setSelectOptions();this.setValueNM("");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setLabelWidthByItemLength=function(){try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _12=0;for(var i=0;i<this.itemArr.length;i++){var _14=document.getElementById("checkcombobox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_12){_12=this.labelRuler.offsetWidth;}}var _15=document.getElementById(this.id+"_button");this.render.style.width=_12+_15.offsetWidth+10+"px";}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setSubLayer=function(){try{if(this.itemTable==null){this.itemTable=new _._a._a(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_ccb",w2table_main:"w2table_ccb_main",w2table_row:"w2table_ccb_row",w2table_col:"w2table_ccb_col",w2table_col_over:"w2table_ccb_col_over",w2table_col_checkbox:"w2table_ccb_col_checkbox",w2table_col_label:"w2table_ccb_col_label",checkbox:true,escape:this.options.escape});this.itemTable.writeTo(_.getBody());this.itemTable.activate();var _16=this;this.itemTable.addClickEventListener(function(_17){var _18=document.getElementById(_16.id+"_itemTable_"+_17+"_checkbox");if(_18&&_18.value=="all"){var _19=_._G.getBoolean(_18.checked);for(var i=1;i<_16.itemArr.length;i++){var _1b=document.getElementById(_16.id+"_itemTable_"+i+"_checkbox");if(_1b&&_1b.checked!=_19){_1b.checked=_19;}_16.addSelectedInfo({index:i,checked:_19});}}else{_16.addSelectedInfo({index:_17,checked:_18.checked});}if(_16.options.allOption){if(_17>0){var _1c=true;if(_18.checked){for(var i=1;i<_16.itemArr.length;i++){var _1d=document.getElementById(_16.id+"_itemTable_"+i+"_checkbox");if(!_1d.checked){_1c=false;break;}}}else{_1c=false;}var _1e=document.getElementById(_16.id+"_itemTable_0_checkbox");_1e.checked=_1c;}}});this.itemTable.addKeyDownEventListener(function(e){var _20=(e.charCode)?e.charCode:e.keyCode;if(_20==13){_16.focus();_16.closeSubLayer();}else{if(_20==27){_16.focus();_16.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();for(var i=0;i<this.getItemCount();i++){if(this.itemArr[i].checked){var _22=document.getElementById(this.id+"_itemTable_"+i+"_checkbox");_22.checked=true;this.addSelectedInfo({index:i,checked:_22.checked});}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setSelectOptions=function(){try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setItemTable=function(){try{var _23=this.render.offsetWidth;var _24=this.render.offsetHeight;var _25=_._v.getAbsoluteLeft(this.render);var top=_._v.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _28=0;var _29=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_29;i++){_28+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_28+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_23-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_23)+"px";}else{this.itemTable.render.firstChild.style.width=(_23-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _2b=this.render.offsetWidth;var _2c=this.itemTable.render.clientWidth;if(_2c<_2b-2){_2c=_2b-2;}this.itemTable.setStyle("width",_2c+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_2c+"px";}else{this.itemTable.render.firstChild.style.width=(_2c-17)+"px";var _2d=this.itemTable.render.firstChild.offsetWidth;if(_2d>_2c-17){this.itemTable.render.firstChild.style.width=_2d+"px";this.itemTable.setStyle("width",(_2d+17)+"px");}}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _2e=this.options.direction;if(_2e=="auto"){var _2f=document.body.scrollTop;if(_2f<document.documentElement.scrollTop){_2f=document.documentElement.scrollTop;}var _30=top-_2f;var _31=document.documentElement.clientHeight-(_30+this.render.offsetHeight);var _32=this.itemTable.render.offsetHeight;if(_31<_32&&_30>_32){_2e="up";}}if(_2e=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_25+this.itemTable.render.offsetWidth)){_25=_25+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTable.setPosition(_25,top);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setSelectItemArr=function(){try{if(this.options.sortOption!=""){var _33=[];var _34=null;if(this.options.sortOption=="label"){_34=function(){return this.label;};}else{if(this.options.sortOption=="value"){_34=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _36=this.itemArr[i];_36.toString=_34;_33.push(_36);}_33.sort();if(this.options.sortMethod=="descending"){_33.reverse();}this.itemArr=_33;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getItemText=function(idx){try{var _38="";if(idx>-1&&idx<this.getItemCount()){_38=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_38=this.itemArr[idx].value+this.options.delimiter+_38;break;case "2":_38=_38+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _38;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.toggle=function(){try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.openSubLayer=function(){try{_.getBody().getLayerListener().show(this.id);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype._openSubLayer=function(){try{this.oldValue=this.getValue();this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){_.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();this.isOpen=true;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.closeSubLayer=function(_39){try{var _3a={"documentClick":_39};_.getBody().getLayerListener().hide(this.id,_3a);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype._closeSubLayer=function(_3b){try{var _3b=_3b||{};var _3c=_3b.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){_.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}var _3d=this.convertInfoHash2Array(this.selectedInfo);if(_3d.length>0){this.setSelectedInfo(_3d);}this.isOpen=false;if(_3c===true){_._F.fireEvent(this,"onclose",true);}else{_._F.fireEvent(this,"onclose",false);}this.selectedInfo={};}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getItemCount=function(){try{return this.itemArr.length;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setSelectedInfo=function(_3e){try{if(this.modelControl.isBinded()){this.modelControl.setData(this.getInfoValue(_3e));}else{var _3f=this.getValue();if(this.setSelectedInfoNM(_3e)){if(_3f!=this.getValue()){_._F.fireEvent(this,"onchange");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getInfoValue=function(_40){try{for(var i=0;i<this.itemArr.length;i++){var _42=this.itemArr[i].checked;if(_42){var _43=null;for(var j=0;j<_40.length;j++){if(i==parseInt(_40[j].index,10)){_43=_40[j];break;}}if(!_43){_40.push({index:i,checked:_42});}}}var ret=[];var _46=this.convertInfoArray2Hash(_40);for(var i=0;i<this.itemArr.length;i++){var _43=_46[i];if(_43&&_43.checked){ret.push(this.itemArr[i].value);}}return ret.join(this.separator);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.convertInfoArray2Hash=function(_47){try{var ret={};for(var i=0;i<_47.length;i++){ret[_47[i].index]=_47[i];}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.convertInfoHash2Array=function(_4a){try{var ret=[];for(var key in _4a){if(_4a.hasOwnProperty(key)){ret.push(_4a[key]);}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.addSelectedInfo=function(_4d){try{if(!_4d||typeof _4d.index=="undefined"){return false;}this.selectedInfo[_4d.index]=_4d;return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setSelectedInfoNM=function(_4e){try{if(!_._G.isArray(_4e)){return false;}for(var i=0;i<_4e.length;i++){var _50=_4e[i].index;var _51=_._G.getBoolean(_4e[i].checked);_50=parseInt(_50);var _52=document.getElementById(this.id+"_itemTable_"+_50+"_checkbox");if(_52){_52.checked=_51;}this.itemArr[_50].checked=_51;}var _53=this.getText();if(this.options.escape){_53=_._t._encode(_53);}this.dom.label.innerHTML=_53;if(_53==""&&this.options.chooseOption==true){_53=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_53=_._t.decode(_53).replace("&nbsp;"," ");this.dom.label.innerHTML=_53;}if(this.options.tooltipMode=="title"){document.getElementById(this.id).title=_53;}return true;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getSelectedInfo=function(){try{var _54=this.getItemCount();var ret=[];for(var i=0;i<_54;i++){if(this.itemArr[i].checked){ret.push({index:i,label:this.itemArr[i].label,value:this.itemArr[i].value,checked:true});}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getInfo=function(_57){try{var _58;if(this.itemArr.length>_57){_58={};_58.index=_57;_58.label=this.itemArr[_57].label;_58.value=this.itemArr[_57].value;_58.checked=_._G.getBoolean(this.itemArr[_57].checked);}return _58;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getInfoArray=function(){try{var _59=[];for(var i=0;i<this.itemArr.length;i++){var _5b={};_5b.index=i;_5b.label=this.itemArr[i].label;_5b.value=this.itemArr[i].value;_5b.checked=_._G.getBoolean(this.itemArr[i].checked);_59.push(_5b);}return _59;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setValue=function(_5c){try{if(_._G.isNull(_5c)){return;}var _5d=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_5c);}else{if(this.setValueNM(_5c)==true){if(_5d!=this.getValue()){_._F.fireEvent(this,"onchange");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setValueNM=function(_5e){try{if(!_._G.isArray(_5e)){if(_._G.isNull(_5e)){return;}var _5f=_5e.toString();_5e=_5f.split(this.separator);}var _60=[];var _61=this.getItemCount();for(var i=0;i<_61;i++){if(this.itemArr[i].value=="all"){continue;}var _63={};_63.index=i;_63.checked=false;for(var j=0;j<_5e.length;j++){if(_5e[j]==this.itemArr[i].value){_63.checked=true;break;}}_60.push(_63);}return this.setSelectedInfoNM(_60);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getValue=function(_65){try{if(!_65){_65=this.separator;}var _66=this.getItemCount();var ret=[];for(var i=0;i<_66;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_65).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getValueArray=function(){try{var _69=this.getItemCount();var ret=[];for(var i=0;i<_69;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setText=function(_6c){try{var _6d=this.getItemCount();var _6e=[];var _6f=_6c.split(this.separator);for(var i=0;i<_6d;i++){for(var j=0;j<_6f.length;j++){if(this.itemArr[i].label==_6f[j]){_6e.push(this.itemArr[i].value);break;}}}this.setValue(_6e.join(this.separator));}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getText=function(_72){try{if(!_72){_72=this.separator;}var _73=this.getItemCount();var ret=[];for(var i=0;i<_73;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_72).wq_trim();}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.getTextArray=function(){try{var _76=this.getItemCount();var ret=[];for(var i=0;i<_76;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.addItemArr=function(_79,_7a){try{this.itemArr.push({label:_79,value:_7a});}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.addItem=function(_7b,_7c,idx){try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _7e={value:_7b,label:_7c};this.itemArr.splice(idx,0,_7e);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return idx;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.deleteItem=function(idx){try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _80=null;if(idx>=0&&idx<this.getItemCount()){_80=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return _80;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.removeAll=function(_81){try{var _82=this.getValue();this.itemArr=new Array();if(_81){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.options.setDataRemoveAll){if(this.modelControl.isBinded()){this.modelControl.setData("");}else{if(_82!=this.getValue()){_._F.fireEvent(this,"onchange");}}}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.onPropertyChange=function(_83,_84){try{switch(_83){case "disabled":if(this.options.renderType=="component"){if(_84){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_84){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}var _85=this.dom.button;if(_84==true){this.addClass(this.render,"w2checkcombobox_disabled");if(_85!=null){this.addClass(_85,"w2checkcombobox_button_disabled");}}else{this.removeClass(this.render,"w2checkcombobox_disabled");if(_85!=null){this.removeClass(_85,"w2checkcombobox_button_disabled");}}break;}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.validate=function(){try{var _86=this.validator.validate(this.getValue());if(!_86){this.focus();}return _86;}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.hide=function(){try{this.closeSubLayer();_._r.prototype.hide.call(this);}catch(e){_.exception.printStackTrace(e);}};_._a._U.prototype.checkAll=function(_87){try{if(typeof _87=="undefined"){_87=true;}var _88=[];for(var i=0;i<this.itemArr.length;i++){_88.push({index:i,checked:_87});}return this.setSelectedInfo(_88);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.setRef=function(ref){["WebSquare.uiplugin.checkcombobox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){_.exception.printStackTrace(e);}};_._a._U.prototype.handleClickEvent=function(e){try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.handleKeydownEvent=function(e){try{var _8d=(e.charCode)?e.charCode:e.keyCode;if(_8d==13||_8d==40){this.handleClickEvent(e);return;}if(this.isOpen){return;}_._F.stopPropagation(e);}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.handleFocusEvent=function(e){try{_._F.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.handleBlurEvent=function(e){try{_._F.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.handleMouseoverEvent=function(e){try{_._F.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){_.exception.printStackTrace(e,null,this);}};_._a._U.prototype.handleMouseoutEvent=function(e){try{_._F.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){_.exception.printStackTrace(e,null,this);}};;WebSquare.uiplugin.checkcombobox=_._a._U;_._f=(function(_1){var _2="websquare_localStorage_keyList";var _3=";";if("localStorage" in _1&&_1["localStorage"]!==null){var _4=_1.localStorage;var _5={};_5.length=_4.length;_5.key=function(_6){var _6=Number(_6);if(isNaN(_6)||_6>=this.length||_6<0){return null;}return _4.key(_6);};_5.getItem=function(_7){return _4.getItem(_7);};_5.setItem=function(_8,_9){var ch=_8.charAt(0);var _b=/[a-zA-Z]/;if(_b.exec(ch)){if(_8===_2){$l(_2+": This key is reserved.");return null;}if(_8.search(_3)>=0){$l(_3+": The key name must not contain colon(;).");return null;}_4.setItem(_8,_9);this.length=_4.length;}else{$l("The key name must start with [a-zA-Z]");return null;}};_5.removeItem=function(_c){_4.removeItem(_c);this.length=_4.length;};_5.clear=function(){_4.clear();this.length=_4.length;};_5.getAllItem=function(){var r={};for(var _e in _4){r[_e]=_4[_e];}return r;};return _5;}else{var _f="websquare_localStorage";var _10="div";var _5={};var _11=false;var _12="";var _13={};var _14=function(){if(_11){return;}_13=document.createElement(_10);_13.id=_f+"_"+_10;_13.style.display="none";_13.style.position="absolute";_13.style.top="-999999px";_13.style.behavior="url(\"#default#userData\")";document.body.appendChild(_13);_13.load(_2);_12=_13.getAttribute(_2)||"";_5.length=_12.split(_3).length-1;_11=true;};_5.length=0;_5.key=function(_15){_14();var _15=Number(_15);if(isNaN(_15)||_15>=this.length||_15<0){return null;}var _16=_12.split(_3);var ret=_16[_15];return ret;};_5.getItem=function(key){_14();return _13.getAttribute(key);};_5.setItem=function(key,_1a){_14();var ch=key.charAt(0);var exp=/[a-zA-Z]/;if(exp.exec(ch)){if(key===_2){$l(_2+": This key is reserved.");return null;}if(key.search(_3)>=0){$l(_3+": The key name must not contain colon(;).");return null;}_13.setAttribute(key,_1a);if(_12.search(key)<0){_12+=key+_3;this.length++;}_13.setAttribute(_2,_12);try{_13.save(_f);}catch(e){$l(e.name+" : localstorage overflowed");}}else{$l("The key name must start with [a-zA-Z]");return null;}};_5.removeItem=function(key){_14();_13.removeAttribute(key);var _1e=_12;_12=_1e.replace(key+_3,"");if(_1e!==_12){this.length--;}_13.setAttribute(_2,_12);_13.save(_f);};_5.clear=function(){_14();var _1f=_12.split(_3);for(var i=0;i<_1f.length-1;i++){_13.removeAttribute(_1f[i]);}_13.removeAttribute(_2);_12="";this.length=0;_13.save(_f);};_5.getAllItem=function(){_14();var r={};var _22=_12.split(_3);for(var i=0;i<_22.length-1;i++){var key=_22[i];r[key]=_13.getAttribute(key);}return r;};return _5;}})(window);;WebSquare.localStorage=_._f;requires("uiplugin.wframe");_._a._G=function(id,_2,_3){_._q.call(this,id,_2,_3);};_.extend(_._a._G.prototype,_._q.prototype);_.extend(_._a._G.prototype,_._r.prototype);_._a._G.prototype.defaultOptions={pluginType:"uiplugin.panelContainer",pluginName:"panelContainer",useConfig:true,cols:1,colWidth:0,panelMove:true};_._a._G.prototype.initialize=function(_4){this.panelIdCount=0;this.colArr=[];};_._a._G.prototype.toHTML=function(){var _5=[];var _6=(!this.options.style)?"":"style='"+this.options.style+"'";_5.push("<div id='"+this.id+"' "+_6+" class='w2panelContainer "+this.options.className+"'>");for(var i=0;i<this.options.cols;i++){_5.push("<div id='"+this.id+"_col_"+i+"' class='w2panelContainer_col'></div>");}_5.push("</div>");return _5.join("");};_._a._G.prototype.setAction=function(){var _8=0;var _9=[];if(this.options.colWidth==0){var _a=0;for(var i=0;i<this.options.cols;i++){_9[i]=parseInt(100/this.options.cols,10)+(i<100%this.options.cols?1:0);}}for(var i=0;i<this.render.childNodes.length;i++){this.colArr.push(this.render.childNodes[i]);if(this.options.colWidth==0){this.colArr[i].style.width=_9[i]+"%";this.colArr[i].style.left=_8+"%";_8+=_9[i];}else{this.colArr[i].style.width=this.options.colWidth+"px";this.colArr[i].style.left=(i*this.options.colWidth)+"px";}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));};_._a._G.prototype.addPanel=function(_c){var _d=_c.col||0;if(!_c.id){_c.id=this.id+"_panel"+this.panelIdCount++;}var _e=new _._a.panel(_c.id,_c);var _f=this;_e.options.xmlEvents=[{name:"onpanelopen",action:"script",param:{handler:function(e){var _11=_f.getPanelInfoById(this.id);_._F.fireEvent(_f,"onpanelopen",_11);}}},{name:"onpanelclose",action:"script",param:{handler:function(e){var _13=_f.getPanelInfoById(this.id);_._F.fireEvent(_f,"onpanelclose",_13);}}}];this.addControl(_e);_e.appendTo(this.colArr[_d]);_e.activate();return _e;};_._a._G.prototype.removePanel=function(_14,_15){_14=parseInt(_14,10);_15=parseInt(_15,10);if(_15>=this.render.childNodes.length||_14>=this.render.childNodes[_15].childNodes.length){return;}var _16=this.render.childNodes[_15];var _17=_16.childNodes[_14];var id=_17.id;this.removeControl(this.getPanelById(id));window[id+"_content"].remove();window[id]=null;_16.removeChild(_17);return id;};_._a._G.prototype.getPanelById=function(id){for(var i=0;i<this.childControlList.length;i++){var _1b=this.childControlList[i];if(_1b.id==id){return _1b;}}};_._a._G.prototype.getPanelInfo=function(){var _1c=[];for(var i=0;i<this.options.cols;i++){var _1e=this.render.childNodes[i];var col=[];for(var j=0;j<_1e.childNodes.length;j++){var _21=_1e.childNodes[j];for(var k=0;k<this.childControlList.length;k++){var _23=this.childControlList[k];if(_23.render==_21){col.push({id:_23.id,style:_23.options.style,title:_23.options.title,src:_23.options.src,scope:_23.options.scope,col:i,row:j,isOpen:_._v.getStyle(this.getElementById(_23.id+"_content"),"height")!="0px"});break;}}}_1c.push(col);}return _1c;};_._a._G.prototype.getPanelInfoById=function(id){var _25=this.getPanelInfo();for(var i=0;i<_25.length;i++){var _27=_25[i];for(var j=0;j<_27.length;j++){var _29=_27[j];if(id==_29.id){return _29;}}}};_._a._G.prototype.setPanelTitle=function(id,_2b){var _2c=this.getPanelById(id);if(_2c){_2c.options.title=_2b;_2c.render.childNodes[0].childNodes[1].innerHTML=_2b;}};_._a._G.prototype.openPanel=function(id){var _2e=this.getPanelById(id);var _2f=_2e.getElementById(_2e.id+"_content");var _30=_2f.offsetHeight==0;if(_30){_._v.animate(_2f,{height:_2f.scrollHeight},{key:_2e.id+"_toggle",easing:"linear",duration:300,caller:_2e,complete:function(){_._v.setStyle(_2f,"height","");_2e.removeClass("w2panel_closed");_._F.fireEvent(_2e,"onpanelopen");}});}};_._a._G.prototype.closePanel=function(id){var _32=this.getPanelById(id);var _33=_32.getElementById(_32.id+"_content");var _34=_33.offsetHeight==0;if(!_34){_._v.setStyle(_33,"height",_33.scrollHeight+"px");_._v.animate(_33,{height:0},{key:_32.id+"_toggle",easing:"linear",duration:300,caller:_32,complete:function(){_32.addClass("w2panel_closed");_._F.fireEvent(_32,"onpanelclose");}});}};_._a._G.prototype.handleMousedownEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(this.options.panelMove&&it.next()){if(it.match("w2panel_title")){this.dragDropElem=it.getElement().parentNode;this.render.style.cursor="pointer";this.addClass("w2noselect");_._F.stopEvent(e);return;}}this.dragDropElem=null;};_._a._G.prototype.handleMousemoveEvent=function(e){if(this.dragDropElem){if(!this.ghost){this.ghost=document.createElement("div");this.ghost.innerHTML=this.dragDropElem.childNodes[0].childNodes[1].innerHTML;this.ghost.className="w2panelContainer_ghost";_.getBody().appendChild(this.ghost);}this.ghost.style.left=(_._F.getMouseX(e)+10)+"px";this.ghost.style.top=(_._F.getMouseY(e)+10)+"px";_._F.preventDefault(e);}};_._a._G.prototype.handleMouseupEvent=function(e){if(this.dragDropElem){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2panel_title")&&it.getElement().parentNode==this.dragDropElem){break;}else{if(it.match(null,this.id)){var x=_._F.getMouseX(e)-_._v.getAbsoluteLeft(this.render);var y=_._F.getMouseY(e)-_._v.getAbsoluteTop(this.render);var _3c=null;for(var col=0;col<this.render.childNodes.length;col++){var _3c=this.render.childNodes[col];if(x<_3c.offsetLeft+_3c.offsetWidth){break;}}var _3e=this.render.childNodes[col].childNodes;for(var row=0;row<_3e.length;row++){var _40=_3e[row];if(y<_40.offsetTop+_40.offsetHeight){break;}}this.dragDropElem.parentNode.removeChild(this.dragDropElem);if(row<_3e.length){_3c.insertBefore(this.dragDropElem,_3e[row]);}else{row=_3e.length;_3c.appendChild(this.dragDropElem);}_._F.fireEvent(this,"onpanelmove",row,col);}}}this.render.style.cursor="";this.removeClass("w2noselect");}this.dragDropElem=null;if(this.ghost){this.ghost.parentNode.removeChild(this.ghost);this.ghost=null;}};_._a.panel=function(id,_42,_43){_._q.call(this,id,_42,_43);};_.extend(_._a.panel.prototype,_._q.prototype);_._a.panel.prototype.defaultOptions={pluginType:"uiplugin.panel",pluginName:"panel",title:"",src:"",scope:false,isOpen:true};_._a.panel.prototype.toHTML=function(){var _44=[];var _45=(!this.options.style)?"":"style='"+this.options.style+"'";_44.push("<div id='"+this.id+"' "+_45+" class='w2panel "+this.options.className+"'>");_44.push("<div id='"+this.id+"_title' class='w2panel_title'>");_44.push("<div id='"+this.id+"_title_image' class='w2panel_title_image'></div>");_44.push("<span id='"+this.id+"_title_text' class='w2panel_title_text'>"+this.options.title+"</span>");_44.push("</div>");_44.push("</div>");return _44.join("");};_._a.panel.prototype.setAction=function(){var _46=new _._a.aI(this.id+"_content",{className:"w2panel_content",src:this.options.src,scope:this.options.scope,style:this.options.isOpen?"":"height:0"});_46.appendTo(this);_46.activate();window[_46.id]=_46;this.contentRender=_46.render;this.event.addListener(this.getElementById(this.id+"_title"),"onclick",this.event.bindAsEventListener(this,this.handleTitleClick));if(!this.options.isOpen){this.addClass("w2panel_closed");}};_._a.panel.prototype.handleTitleClick=function(e){var _48=this.getElementById(this.id+"_content");var _49=_48.offsetHeight==0;if(_49){this.parentControl.openPanel(this.id);}else{this.parentControl.closePanel(this.id);}};;WebSquare.uiplugin.panelContainer=_._a._G;_._w=(function(_1){function _push(_2,_3){_2[_2.length]=_3;}function _pop(_4){var _5=_4[_4.length-1];delete _4[_4.length-1];_4.length--;return (_5);}function isOperation(_6){return ((!isOperator(_6)&&(_6!="(")&&(_6!=")"))?true:false);}function isOperator(_7){return ((_7=="+"||_7=="-"||_7=="*"||_7=="/"||_7=="^"||_7=="%")?true:false);}function topStack(_8){return (_8[_8.length-1]);}function isEmpty(_9){return ((_9.length==0)?true:false);}function isCalculation(_a){if(_a=="^"){return (5);}if((_a=="*")||(_a=="/")||(_a=="%")){return (4);}if((_a=="+")||(_a=="-")){return (3);}if(_a=="("){return (2);}if(_a==")"){return (1);}}function InfixToPostfix(_b,_c,_d){var _c=new Array();var _e=new Array();var _f=0;_b=Tokens(_b);for(var i=0;i<_b.length;i++){if(isOperation(_b[i])){_c[_f]=_b[i];_f++;}if(isOperator(_b[i])){if(_b[i]!="^"){while((!isEmpty(_e))&&(isCalculation(_b[i])<=isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}else{while((!isEmpty(_e))&&(isCalculation(_b[i])<isCalculation(topStack(_e)))){_c[_f]=topStack(_e);_pop(_e);_f++;}}_push(_e,_b[i]);}if(_b[i]=="("){_push(_e,_b[i]);}if(_b[i]==")"){while(topStack(_e)!="("){_c[_f]=_pop(_e);_f++;}_pop(_e);}}while(!isEmpty(_e)){if(topStack(_e)=="("){_pop(_e);}else{_c[_c.length]=_pop(_e);}}var _11="";for(var i=0;i<_c.length;i++){_11+=_c[i];}if(_d==0){return (_11);}else{return (_c);}}function PostfixToInfix(_12){var _13=new Array();_12=_12.split("");for(var i=0;i<_12.length;i++){if(isOperation(_12[i])){_push(_13,_12[i]);}else{var _15=topStack(_13);_pop(_13);var _16="("+topStack(_13)+_12[i]+_15+")";_pop(_13);_push(_13,_16);}}return (topStack(_13));}function Tokens(str){var _18=str.split("");var _19=new String("");var _1a=new Array();var _1b=0;for(var i=0;i<_18.length;i++){if(isOperation(_18[i])&&_18[i].match(/\s/)==null){_19+=_18[i];}if(isOperator(_18[i])||_18[i]==")"||_18[i]=="("){if(_19!=""){_1a[_1b]=_19;_1b++;}_19="";_1a[_1b]=_18[i];_1b++;}if(i==_18.length-1){if(_19!=""){_1a[_1b]=_19;}}}return (_1a);}function Calculation(_1d,_1e,sym){var _20;try{if(sym=="+"){_20=_1d.plus(_1e);}if(sym=="-"){_20=_1d.minus(_1e);}if(sym=="*"){_20=_1d.times(_1e);}if(sym=="/"){_20=_1d.divide(_1e);}if(sym=="^"){_20=_1d.pow(_1e);}if(sym=="%"){_20=_1d.mod(_1e);}return (_20);}catch(e){_.exception.printStackTrace(e);}}function PostfixEval(_21,_22){var _23=new Array();var _24;var _25;for(var i=0;i<_21.length;i++){if(isOperation(_21[i])){_push(_23,_21[i]);}else{if(!!_22&&!!(_22[topStack(_23)])){_24=_22[topStack(_23)];}else{_24=eval(topStack(_23));}if(_24.constructor!=_.bigDecimalObj){_24=_._w(_24);}_pop(_23);if(!!_22&&!!(_22[topStack(_23)])){_25=_22[topStack(_23)];}else{_25=eval(topStack(_23));}if(_25.constructor!=_.bigDecimalObj){_25=_._w(_25);}var _27=Calculation(_25,_24,_21[i]);_pop(_23);_push(_23,_27);}}return (topStack(_23));}var ret=function(_29){return new _.bigDecimalObj(_29);};ret.calc=function(str,_2b){var _2c=InfixToPostfix(str);return _._w(PostfixEval(_2c,_2b));};return ret;})(window);_.bigDecimalObj=function(_2d){try{this.big=Big(_2d);}catch(e){_.exception.printStackTrace(e);this.big=NaN;}};_.bigDecimalObj.prototype.plus=function(_2e){try{return _._w(this.big.plus(_2e));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.minus=function(_2f){try{return _._w(this.big.minus(_2f));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.divide=function(_30){try{return _._w(this.big.div(_30));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.times=function(_31){try{return _._w(this.big.times(_31));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.pow=function(_32){try{return _._w(this.big.pow(parseInt(_32.toString(),10)));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.mod=function(_33){try{return _._w(this.big.mod(_33));}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};_.bigDecimalObj.prototype.toString=function(){return isNaN(this.big)?NaN:this.big.toFixed();};_.bigDecimalObj.prototype.compare=function(_34,_35){try{if(_35){var _36=this.big.lt(_34)==true?this:_34;}else{var _36=this.big.gt(_34)==true?this:_34;}return _36;}catch(e){_.exception.printStackTrace(e);return _._w(NaN);}};;WebSquare.bigDecimal=_._w;if( document.title == "WebSquare" || document.title == "NEW RENDERING" ) {document.title = "WebSquare ver:" + WebSquare.version;}WebSquare.BootLoader.performanceCheck.mid1 = new Date();WebSquare.BootLoader.printLog("[STEP2] Runtime Engine Load complete. Time:" + (WebSquare.BootLoader.performanceCheck.mid1.getTime() - WebSquare.BootLoader.performanceCheck.start.getTime()) + "ms" );